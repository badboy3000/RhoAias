(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{499:function(e,t,s){},524:function(e,t,s){"use strict";var n=s(499);s.n(n).a},527:function(e,t,s){"use strict";s(29),s(13),s(45);var n={name:"TabContainer",props:{headers:{required:!0,type:Array},defIndex:{type:[Number,String],default:"0"},router:{type:Boolean,default:!1}},data:function(){return{focusIndex:this.router?this.headers.map(function(e){return e.route}).indexOf(this.$route.name):+this.defIndex}},watch:{$route:function(e){this.focusIndex=this.headers.map(function(e){return e.route}).indexOf(e.name)},headers:function(e){this.focusIndex=e.map(function(e){return e.route}).indexOf(this.$route.name)}},methods:{computeItemText:function(e){return"string"==typeof e?e:e.label||e.name||e.text},computeItemIcon:function(e){return!("string"==typeof e||!e.icon)&&"iconfont ic-".concat(e.replace("ic-",""))},handleTabSwitch:function(e){this.focusIndex!==e&&(this.router&&this.$router.push({name:this.headers[e].route,params:this.$route.params}),this.focusIndex=e,this.$emit("change",e))}}},r=(s(524),s(1)),i=Object(r.a)(n,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"tab-container"},[s("header",e._l(e.headers,function(t,n){return s("div",{key:n,class:{"is-active":n===e.focusIndex},style:{width:100/e.headers.length+"%"},on:{click:function(t){e.handleTabSwitch(n)}}},[e.computeItemIcon(t)?s("i",{class:e.computeItemIcon(t)}):e._e(),e._v(" "),s("span",{domProps:{textContent:e._s(e.computeItemText(t))}})])}),0),e._v(" "),e.router?e._e():s("main",e._l(e.headers,function(t,n){return s("div",{directives:[{name:"show",rawName:"v-show",value:n===e.focusIndex,expression:"index === focusIndex"}],key:n},[e._t(n)],2)}),0)])},[],!1,null,null,null);i.options.__file="TabContainer.vue";t.a=i.exports},644:function(e,t,s){},812:function(e,t,s){},813:function(e,t,s){"use strict";var n=s(644);s.n(n).a},961:function(e,t,s){"use strict";s.r(t);s(12);var n=s(2),r=s.n(n),i=(s(812),s(3),s(265)),a=s.n(i),o=s(231),u=s(527),c=s(9),l={name:"UserShow",asyncData:function(e){var t=e.app,s=e.params,n=e.error;return Object(c.d)(t,{zone:s.zone}).then(function(e){return{user:e}}).catch(n)},head:function(){var e=this.user;if(e)return{title:e.nickname,meta:[{hid:"description",name:"description",content:e.signature},{hid:"keywords",name:"keywords",content:"calibur,用户,天下漫友是一家,".concat(e.zone,",").concat(e.nickname)}]}},components:{TabContainer:u.a,UserSex:o.a,"el-progress":a.a},props:{zone:{type:String,required:!0}},data:function(){return{user:null,signDayLoading:!1,doSign:!1,showExpTips:!1}},computed:{headers:function(){var e=[{label:"番剧",route:"user-zone-bangumi"},{label:"帖子",route:"user-zone-post"},{label:"相册",route:"user-zone-pins"},{label:"漫评",route:"user-zone-review"},{label:"偶像",route:"user-zone-role"},{label:"问答",route:"user-zone-qaq"}];return this.isMe&&e.push({label:"收藏",route:"user-zone-mark"}),e},isMe:function(){return!!this.self&&this.self.zone===this.zone},self:function(){return this.$store.state.user},daySigned:function(){return!!this.self&&this.self.daySign},coinCount:function(){return this.self?this.self.coin:0},exp:function(){return this.self?this.self.exp:{}},expPercent:function(){return this.isMe?parseInt(this.exp.have_exp/this.exp.next_level_exp*100,10):0}},methods:{handleDaySign:function(){var e=r()(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.daySigned&&!this.signDayLoading){e.next=3;break}return this.$toast.info("今天已签过到"),e.abrupt("return");case 3:return this.signDayLoading=!0,e.prev=4,e.next=7,this.$store.dispatch("users/daySign");case 7:t=e.sent,this.$store.commit("UPDATE_USER_INFO",{key:"daySign",value:!0}),this.$store.commit("UPDATE_USER_INFO",{key:"coin",value:this.coinCount+1}),this.doSign=!0,this.$toast.success(t.message),this.$store.commit("UPDATE_USER_EXP",t.exp);case 13:return e.prev=13,this.signDayLoading=!1,e.finish(13);case 16:case"end":return e.stop()}},e,this,[[4,,13,16]])}));return function(){return e.apply(this,arguments)}}()}},_=(s(813),s(1)),v=Object(_.a)(l,function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.user?s("div",{attrs:{id:"user-show"}},[s("div",{staticClass:"user-banner"},[s("div",{staticClass:"img bg",style:{backgroundImage:"url("+e.$resize(e.user.banner,{height:240,mode:2})+")"}})]),e._v(" "),s("div",{staticClass:"user-panel container"},[s("v-img",{staticClass:"avatar",attrs:{src:e.user.avatar,avatar:!0,share:!0,width:"80"}}),e._v(" "),s("div",{staticClass:"info"},[e.isMe?s("button",{on:{click:e.handleDaySign}},[e._v(e._s(e.daySigned?"已签到":"签到"))]):e._e(),e._v(" "),s("div",{staticClass:"nickname oneline"},[e._v("\n        "+e._s(e.user.nickname)+"\n        "),e.isMe?s("user-sex",{attrs:{sex:e.user.sex,secret:e.user.sexSecret}}):[s("user-sex",{attrs:{sex:e.user.sex,secret:e.user.sexSecret}}),e._v(" "),s("span",{staticClass:"level"},[e._v("Lv"+e._s(e.user.level))])]],2)]),e._v(" "),s("div",{staticClass:"signature"},[e.isMe?[s("div",{staticClass:"exp-container",on:{click:function(t){e.showExpTips=!e.showExpTips}}},[s("strong",{staticClass:"title"},[e._v("等级：")]),e._v(" "),s("span",{staticClass:"level"},[e._v("Lv"+e._s(e.exp.level))]),e._v(" "),s("i",{class:e.showExpTips?"el-icon-arrow-down":"el-icon-arrow-right"}),e._v(" "),s("span",{staticClass:"detail"},[e._v(e._s(e.exp.have_exp)+" / "+e._s(e.exp.next_level_exp))]),e._v(" "),s("el-progress",{attrs:{"show-text":!1,"stroke-width":14,percentage:e.expPercent,color:"#f25d8e"}})],1),e._v(" "),e.showExpTips?s("div",{staticClass:"exp-detail"},[e._m(0),e._v(" "),e._m(1),e._v(" "),e._m(2),e._v(" "),e._m(3)]):e._e()]:e._e(),e._v(" "),s("p",{staticStyle:{"margin-bottom":"10px"}},[s("strong",[e._v("签名：")]),e._v("\n        "+e._s(e.user.signature||"这个人还很神秘...")+"\n      ")]),e._v(" "),s("p",[s("strong",[e._v("战斗力：")]),e._v("\n        "+e._s(e.user.power)+"\n         - \n        "),s("strong",[e._v("团子")]),e._v("\n        "+e._s(e.user.banlance.coin_count)+"\n         - \n        "),s("strong",[e._v("光玉")]),e._v("\n        "+e._s(e.user.banlance.light_count)+"\n      ")])],2),e._v(" "),e.user.faker?s("div",{staticClass:"faker-tips"},[s("span",[e._v("重要提醒")]),e._v(" "),s("p",[e._v("这是一个运营号，并非本人，该账号下所有信息都是搬运而来")]),e._v(" "),s("p",[e._v("如果你就是该账号本人，可以联系网站工作人员拿回该账号，该账号通过搬运资源获得的团子也将归你所有")]),e._v(" "),s("p",[e._v("当然，你也有权要求我们删除所有你的内容")])]):e._e(),e._v(" "),e.user.banned_to?s("div",{staticClass:"faker-tips"},[s("span",[e._v("该用户已被禁言，禁言至："+e._s(e.user.banned_to)+"，可能是由于以下原因：")]),e._v(" "),s("p",[e._v("1. 破坏社区环境，包括但不限于：无脑刷屏、复制他人内容来发表")]),e._v(" "),s("p",[e._v("2. 恶意带节奏")]),e._v(" "),s("p",[e._v("3. 发表于二次元无关的内容")]),e._v(" "),s("p",[e._v("4. 其它原因还没想好，希望大家引以为戒")])]):e._e()],1),e._v(" "),s("div",{staticClass:"user-tabs"},[s("tab-container",{attrs:{headers:e.headers,router:!0}})],1),e._v(" "),s("nuxt-child",{staticClass:"user-main-view"})],1):e._e()},[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ul",[s("li",[e._v("每日签到：+2")]),e._v(" "),s("li",[e._v("发帖子：+4")]),e._v(" "),s("li",[e._v("写漫评：+5")]),e._v(" "),s("li",[e._v("写回答：+4")]),e._v(" "),s("li",[e._v("传图片（限图片区）：+3")]),e._v(" "),s("li",[e._v("提问题（限问答区）：+3")]),e._v(" "),s("li",[e._v("写评论（包括跟帖）：+2")]),e._v(" "),s("li",[e._v("回复评论：+1")]),e._v(" "),s("li",[e._v("获得喜欢：+2")]),e._v(" "),s("li",[e._v("获得收藏：+2")]),e._v(" "),s("li",[e._v("获得团子：+3")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("评论/回复自己的内容不会获得经验")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("少于15字的内容，是没有经验的")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("如果内容被删除，会掉经验和等级")])])}],!1,null,null,null);v.options.__file="_zone.vue";t.default=v.exports}}]);
//# sourceMappingURL=_zone.chunk.ee478472.js.map