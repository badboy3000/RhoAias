(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{495:function(t,e,n){},496:function(t,e,n){"use strict";var o=n(495);n.n(o).a},497:function(t,e,n){"use strict";var o=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"state-error"},[e("span",[this._v("出错了，点击重试")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"state-nothing"},[e("img",{attrs:{src:n(259),alt:"no-content"}}),this._v(" "),e("span",[this._v("这里什么都没有")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"state-loading"},[e("i"),this._v(" "),e("span",[this._v("加载中…")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"state-fetch-btn-text"},[e("span",[this._v("点击加载更多")])])}],r=n(5),s={name:"FlowState",props:{auto:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},noMore:{type:Boolean,default:!1},nothing:{type:Boolean,default:!1},error:{type:Boolean,default:!1},fetch:{type:Function,required:!0},displayNoMore:{type:Boolean,default:!0}},mounted:function(){this.auto&&this.onScroll()},methods:{getTarget:function(){for(var t=this.$el;"HTML"!==t.tagName&&"BOYD"!==t.tagName&&1===t.nodeType;){var e=window.getComputedStyle(t).overflowY;if("scroll"===e||"auto"===e)return t;t=t.parentNode}return document},onScroll:function(){var t=this;if(!this.error){r.a.checkInView(this.$el)&&this.fetch();var e=r.a.on(this.getTarget(),["scroll"],this.$utils.throttle(function(){t.error||(!t.noMore&&t.auto?r.a.checkInView(t.$el)&&t.fetch():r.a.off(e))},200))}}}},i=(n(496),n(1)),a=Object(i.a)(s,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flow-state-wrap"},[t.error?n("div",{on:{click:t.fetch}},[t._t("error",[t._m(0)])],2):t.nothing?n("div",[t._t("nothing",[t._m(1)])],2):t.noMore?n("div",[t._t("no-more",[t.displayNoMore?n("div",{staticClass:"state-no-more"},[n("span",[t._v("没有更多了")])]):t._e()])],2):t.loading?n("div",[t._t("loading",[t._m(2)])],2):t.auto?n("div",{staticClass:"state-shim"}):n("button",{on:{click:t.fetch}},[t._t("load-btn",[t._m(3)])],2)])},o,!1,null,null,null);a.options.__file="FlowState.vue";var l=a.exports,u=(n(45),{name:"FlowList",components:{FlowState:l},mixins:[{props:{func:{required:!0,type:String},type:{required:!0,type:String},id:{type:[Number,String],default:""},sort:{type:String,default:""},auto:{type:Boolean,default:!0},changing:{type:String,default:"id"},displayNoMore:{type:Boolean,default:!0}}}],computed:{source:function(){return this.$store.getters["flow/getFlow"](this.func,this.sort,this.id)}},methods:{loadMore:function(){this.$store.dispatch("flow/loadMore",{type:this.type,sort:this.sort,func:this.func,id:this.id,changing:this.changing,_extra:this.extra})}}}),c=Object(i.a)(u,function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.source?n("div",[t._t("default",null,{flow:t.source.list}),t._v(" "),n("flow-state",{attrs:{auto:t.auto,loading:t.source.loading,"no-more":t.source.noMore,nothing:t.source.nothing,error:t.source.error,"display-no-more":t.displayNoMore,fetch:t.loadMore}},[t._t("error",null,{slot:"error"}),t._v(" "),t._t("nothing",null,{slot:"nothing"}),t._v(" "),t._t("no-more",null,{slot:"no-more"}),t._v(" "),t._t("loading",null,{slot:"loading"}),t._v(" "),t._t("load-btn",null,{slot:"load-btn"})],2)],2):t._e()},[],!1,null,null,null);c.options.__file="FlowList.vue";e.a=c.exports},640:function(t,e,n){},808:function(t,e,n){"use strict";var o=n(640);n.n(o).a},937:function(t,e,n){"use strict";n.r(e);n(12);var o=n(2),r=n.n(o),s=n(497),i=n(723),a=n(722),l=function(t,e){var n=e.id;return t.$axios.$get("question/qaq/".concat(n,"/show"))},u={name:"QuestionShow",asyncData:function(){var t=r()(regeneratorRuntime.mark(function t(e){var n,o,r,s,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.app,o=e.store,r=e.params,s=e.error,i=r.id,t.abrupt("return",l(n,{id:i}).then(function(t){return o.commit("social/SET_STATE",{type:"question",id:t.id,data:{follow:t.followed,follow_users:t.follow_users}}),{qaq:t}}).catch(s));case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),fetch:function(){var t=r()(regeneratorRuntime.mark(function t(e){var n,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.store,o=e.params,t.next=3,n.dispatch("flow/initData",{id:o.id,func:"getQuestionAnswers",type:"seenIds",sort:"active"});case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),head:function(){return{title:"".concat(this.qaq.title," - 提问")}},components:{FlowList:s.a,AnswerFlowItem:i.a,QuestionPanel:a.a},props:{id:{type:String,required:!0}}},c=(n(808),n(1)),f=Object(c.a)(u,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"question-show"}},[n("question-panel",{attrs:{qaq:t.qaq}}),t._v(" "),t.qaq.answer_count?n("div",{staticClass:"answers"},[n("div",{staticClass:"answers-title"},[n("h2",[t._v("\n        "+t._s(t.qaq.answer_count)+" 个回答\n      ")])]),t._v(" "),n("flow-list",{attrs:{id:t.id,func:"getQuestionAnswers",sort:"active",type:"seenIds"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.flow;return n("ul",{staticClass:"answer-flow-list"},t._l(o,function(e){return n("answer-flow-item",{key:e.id,attrs:{item:e,qaq:t.qaq}})}),1)}}])})],1):n("more-btn",{attrs:{"no-more":!0,loading:!1,length:0}})],1)},[],!1,null,null,null);f.options.__file="_id.vue";e.default=f.exports}}]);
//# sourceMappingURL=_id.chunk.4c561a59.js.map