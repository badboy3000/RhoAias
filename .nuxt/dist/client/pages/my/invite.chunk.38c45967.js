(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{536:function(t,s,i){"use strict";i(12);var a=i(2),e=i.n(a);s.a={fetch:function(){var t=e()(regeneratorRuntime.mark(function t(s){var i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.store,t.next=3,i.dispatch("initAuth");case 3:case"end":return t.stop()}},t,this)}));return function(s){return t.apply(this,arguments)}}()}},603:function(t,s,i){t.exports=i.p+"img/8fd1d68.png"},616:function(t,s,i){},783:function(t,s,i){"use strict";var a=i(616);i.n(a).a},946:function(t,s,i){"use strict";i.r(s);i(604);var a=i(753),e=i.n(a),n={name:"PageUserInvite",mixins:[i(536).a],data:function(){return{created:!1,result:"",cartoons:["喰种","死亡笔记","刀剑神域","一拳超人","巨人","战栗杀机","JOJO"]}},computed:{user:function(){return this.$store.state.user},link:function(){return this.user?"http://calibur.tv/about/invite/".concat(this.user.id):""},tags:function(){return this.$utils.shuffle(this.cartoons).slice(0,5)}},mounted:function(){var t=this;this.user?this.$nextTick(function(){t.generateQrCode()}):this.$toast.error("请先登录").then(function(){window.location.href="/"})},methods:{generateQrCode:function(){var t=this;i.e(3).then(i.bind(null,924)).then(function(s){new(0,s.default)(t.$refs.qr,{text:t.link,width:360,height:360}),setTimeout(function(){t.create()},3e3)})},create:function(){var t=this;e()(document.querySelector(".capture-area"),{allowTaint:!1,useCORS:!0,backgroundColor:null}).then(function(s){t.result=s.toDataURL("image/png"),t.created=!0,t.$toast.success("长按图片保存")}).catch(function(){})}}},r=(i(783),i(1)),c=Object(r.a)(n,function(){var t=this,s=t.$createElement,a=t._self._c||s;return t.user?a("div",{attrs:{id:"user-invite"}},[a("div",{staticClass:"container"},[a("h3",{staticClass:"sub-title"},[t._v("邀请码"+t._s(t.created?"（长按图片可保存到手机相册）":""))])]),t._v(" "),a("div",{staticClass:"capture-wrap"},[t.result?a("img",{attrs:{src:t.result}}):a("div",{staticClass:"capture-area"},[a("div",{staticClass:"main"},[a("div",{staticClass:"border-outline"},[a("div",{staticClass:"avatar-wrap"},[a("div",{staticClass:"avatar-bg"}),t._v(" "),a("div",{staticClass:"avatar"},[a("div",{staticClass:"avatar-hat"}),t._v(" "),a("img",{attrs:{src:t.$resize(t.user.avatar,{width:200}),crossorigin:"anonymous"}})])]),t._v(" "),a("p",{staticClass:"nickname"},[t._v("我是"),a("strong",[t._v(t._s(t.user.nickname))])]),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"tags"},t._l(t.tags,function(s,e){return a("div",{key:e,staticClass:"badge"},[a("img",{attrs:{src:i(603)}}),t._v(" "),a("span",[t._v(t._s(s))])])}),0),t._v(" "),a("div",{staticClass:"line"}),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:"logo"}),t._v(" "),a("div",{ref:"qr",staticClass:"qr"}),t._v(" "),a("div",{staticClass:"slogan"}),t._v(" "),a("div",{staticClass:"snow-left"}),t._v(" "),a("div",{staticClass:"snow-right"}),t._v(" "),a("div",{staticClass:"border-out"}),t._v(" "),a("div",{staticClass:"border-inner"})])]),t._v(" "),a("div",{staticClass:"top-bg"}),t._v(" "),a("div",{staticClass:"bottom-bg"})])])]):t._e()},[function(){var t=this.$createElement,s=this._self._c||t;return s("p",{staticClass:"info"},[this._v("和我一起在 "),s("strong",[this._v("calibur.tv")]),this._v(" 追番吧")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"intro"},[this._v("快扫码注册(๑˃́ꇴ˂̀๑)，邀请者有"),s("span",[this._v("团子奖励")])])}],!1,null,null,null);c.options.__file="invite.vue";s.default=c.exports}}]);
//# sourceMappingURL=invite.chunk.38c45967.js.map