{"version":3,"sources":["webpack:///./components/common/TabContainer.vue?5908","webpack:///./components/common/TabContainer.vue?ba53","webpack:///./components/common/TabContainer.vue?de0c","webpack:///components/common/TabContainer.vue","webpack:///./components/common/TabContainer.vue","webpack:///./components/common/FollowButton.vue?419d","webpack:///./components/common/FollowButton.vue?30d5","webpack:///components/common/FollowButton.vue","webpack:///./components/common/FollowButton.vue","webpack:///./components/common/FollowButton.vue?e993","webpack:///./components/bangumi/BangumiHeader.vue?5f29","webpack:///./pages/bangumi/_id.vue?d976","webpack:///./components/bangumi/BangumiHeader.vue?8a7f","webpack:///components/bangumi/BangumiHeader.vue","webpack:///./components/bangumi/BangumiHeader.vue","webpack:///./components/bangumi/BangumiHeader.vue?d4ed","webpack:///./pages/bangumi/_id.vue?6f1d","webpack:///pages/bangumi/_id.vue","webpack:///./pages/bangumi/_id.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_6_oneOf_1_3_node_modules_sass_resources_loader_lib_loader_js_ref_6_oneOf_1_4_node_modules_vue_loader_lib_index_js_vue_loader_options_TabContainer_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","n","common_TabContainervue_type_script_lang_js_","name","props","headers","required","type","Array","defIndex","Number","String","default","router","Boolean","data","focusIndex","this","map","_","route","indexOf","$route","watch","newVal","methods","computeItemText","item","label","text","computeItemIcon","icon","concat","replace","handleTabSwitch","index","$router","push","params","$emit","component","Object","componentNormalizer","_vm","_h","$createElement","_c","_self","staticClass","_l","key","class","is-active","style","width","length","on","click","$event","_e","_v","domProps","textContent","_s","directives","rawName","value","expression","_t","options","__file","__webpack_exports__","common_FollowButtonvue_type_script_lang_js_","validator","val","id","computed","source","$store","getters","toggleFollow","state","login","dispatch","action","$channel","follow","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_6_oneOf_1_3_node_modules_sass_resources_loader_lib_loader_js_ref_6_oneOf_1_4_node_modules_vue_loader_lib_index_js_vue_loader_options_FollowButton_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_6_oneOf_1_3_node_modules_sass_resources_loader_lib_loader_js_ref_6_oneOf_1_4_node_modules_vue_loader_lib_index_js_vue_loader_options_BangumiHeader_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","bangumi_BangumiHeadervue_type_script_lang_js_","components","FollowButton","info","attrs","backgroundImage","$resize","banner","height","mode","src","avatar","alt","$utils","shortenNumber","follow_users","total","power","BangumiHeader","bangumi_idvue_type_script_lang_js_","validate","_ref","test","asyncData","_ref2","app","store","error","bangumiApi","then","commit","followed","catch","TabContainer","head","keywords","alias","_this$info","tags","summary","forEach","tag","title","meta","hid","content","script","innerHTML","JSON","stringify","description","imageUrl","_this$info2","has_video","has_cartoon","result","_id_component"],"mappings":"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","file":"pages/bangumi/_id.chunk.83d0f5d0.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--6-oneOf-1-3!../../node_modules/sass-resources-loader/lib/loader.js??ref--6-oneOf-1-4!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TabContainer.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--6-oneOf-1-3!../../node_modules/sass-resources-loader/lib/loader.js??ref--6-oneOf-1-4!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TabContainer.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"tab-container\"},[_c('header',_vm._l((_vm.headers),function(item,index){return _c('div',{key:index,class:{ 'is-active': index === _vm.focusIndex },style:({ width: ((100 / _vm.headers.length) + \"%\") }),on:{\"click\":function($event){_vm.handleTabSwitch(index)}}},[(_vm.computeItemIcon(item))?_c('i',{class:_vm.computeItemIcon(item)}):_vm._e(),_vm._v(\" \"),_c('span',{domProps:{\"textContent\":_vm._s(_vm.computeItemText(item))}})])}),0),_vm._v(\" \"),(!_vm.router)?_c('main',_vm._l((_vm.headers),function(item,index){return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(index === _vm.focusIndex),expression:\"index === focusIndex\"}],key:index},[_vm._t(index)],2)}),0):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TabContainer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TabContainer.vue?vue&type=script&lang=js&\"","<style lang=\"scss\">\n.tab-container {\n  > header {\n    font-size: 0;\n    border-bottom: 1px solid #f0f0f0;\n\n    div {\n      display: inline-block;\n      height: 40px;\n      line-height: 40px;\n      text-align: center;\n      font-size: 14px;\n      color: $color-text-deep;\n\n      &.is-active {\n        position: relative;\n        color: $color-pink-deep !important;\n\n        &:after {\n          content: '';\n          position: absolute;\n          bottom: 0;\n          left: 50%;\n          width: 56px;\n          max-width: 100%;\n          border-bottom: 1px solid $color-pink-deep;\n          transform: translateX(-50%);\n        }\n\n        &:before {\n          content: '';\n          position: absolute;\n          margin-left: -3px;\n          left: 50%;\n          bottom: 1px;\n          width: 0;\n          height: 0;\n          border: 3px solid $color-pink-deep;\n          border-top-width: 0;\n          border-left-color: transparent;\n          border-right-color: transparent;\n        }\n      }\n    }\n  }\n}\n</style>\n\n<template>\n  <section class=\"tab-container\">\n    <header>\n      <div\n        v-for=\"(item, index) in headers\"\n        :class=\"{ 'is-active': index === focusIndex }\"\n        :style=\"{ width: `${100 / headers.length}%` }\"\n        :key=\"index\"\n        @click=\"handleTabSwitch(index)\"\n      >\n        <i\n          v-if=\"computeItemIcon(item)\"\n          :class=\"computeItemIcon(item)\"\n        />\n        <span v-text=\"computeItemText(item)\"/>\n      </div>\n    </header>\n    <main v-if=\"!router\">\n      <div\n        v-for=\"(item, index) in headers\"\n        v-show=\"index === focusIndex\"\n        :key=\"index\"\n      >\n        <slot :name=\"index\"/>\n      </div>\n    </main>\n  </section>\n</template>\n\n<script>\nexport default {\n  name: 'TabContainer',\n  props: {\n    headers: {\n      required: true,\n      type: Array\n    },\n    defIndex: {\n      type: [Number, String],\n      default: '0'\n    },\n    router: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    let focusIndex\n    if (this.router) {\n      focusIndex = this.headers.map(_ => _.route).indexOf(this.$route.name)\n    } else {\n      focusIndex = +this.defIndex\n    }\n    return {\n      focusIndex\n    }\n  },\n  watch: {\n    $route(newVal) {\n      this.focusIndex = this.headers.map(_ => _.route).indexOf(newVal.name)\n    },\n    headers(newVal) {\n      this.focusIndex = newVal.map(_ => _.route).indexOf(this.$route.name)\n    }\n  },\n  methods: {\n    computeItemText(item) {\n      if (typeof item === 'string') {\n        return item\n      }\n      return item.label || item.name || item.text\n    },\n    computeItemIcon(item) {\n      if (typeof item === 'string' || !item.icon) {\n        return false\n      }\n      return `iconfont ic-${item.replace('ic-', '')}`\n    },\n    handleTabSwitch(index) {\n      if (this.focusIndex === index) {\n        return\n      }\n      if (this.router) {\n        this.$router.push({\n          name: this.headers[index].route,\n          params: this.$route.params\n        })\n      }\n      this.focusIndex = index\n      this.$emit('change', index)\n    }\n  }\n}\n</script>\n","import { render, staticRenderFns } from \"./TabContainer.vue?vue&type=template&id=7e1f362c&\"\nimport script from \"./TabContainer.vue?vue&type=script&lang=js&\"\nexport * from \"./TabContainer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TabContainer.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"TabContainer.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"follow-button\",on:{\"click\":_vm.toggleFollow}},[_c('i',{staticClass:\"iconfont icon-like\"}),_vm._v(\" \"+_vm._s(_vm.source.follow ? '已关注' : '关注')+\"\\n\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FollowButton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FollowButton.vue?vue&type=script&lang=js&\"","<style lang=\"scss\">\n.follow-button {\n  @include btn-empty($color-pink-deep);\n}\n</style>\n\n<template>\n  <button \n    class=\"follow-button\"\n    @click=\"toggleFollow\">\n    <i class=\"iconfont icon-like\" /> {{ source.follow ? '已关注' : '关注' }}\n  </button>\n</template>\n\n<script>\nexport default {\n  props: {\n    type: {\n      required: true,\n      type: String,\n      validator: val => ~['bangumi', 'user', 'question'].indexOf(val)\n    },\n    id: {\n      required: true,\n      type: Number\n    }\n  },\n  computed: {\n    source() {\n      return this.$store.getters['social/getState'](this.type, this.id)\n    }\n  },\n  methods: {\n    toggleFollow() {\n      if (!this.$store.state.login) {\n        this.$channel.$emit('sign-in')\n        return\n      }\n      this.$store.dispatch('social/toggleAction', {\n        id: this.id,\n        type: this.type,\n        action: 'follow'\n      })\n    }\n  }\n}\n</script>\n","import { render, staticRenderFns } from \"./FollowButton.vue?vue&type=template&id=22cfe3c9&\"\nimport script from \"./FollowButton.vue?vue&type=script&lang=js&\"\nexport * from \"./FollowButton.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FollowButton.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"FollowButton.vue\"\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--6-oneOf-1-3!../../node_modules/sass-resources-loader/lib/loader.js??ref--6-oneOf-1-4!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FollowButton.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--6-oneOf-1-3!../../node_modules/sass-resources-loader/lib/loader.js??ref--6-oneOf-1-4!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FollowButton.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--6-oneOf-1-3!../../node_modules/sass-resources-loader/lib/loader.js??ref--6-oneOf-1-4!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BangumiHeader.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--6-oneOf-1-3!../../node_modules/sass-resources-loader/lib/loader.js??ref--6-oneOf-1-4!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BangumiHeader.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"bangumi-show\"}},[_c('bangumi-header',{attrs:{\"info\":_vm.info}}),_vm._v(\" \"),_c('tab-container',{attrs:{\"headers\":_vm.headers,\"router\":true}}),_vm._v(\" \"),_c('nuxt-child')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BangumiHeader.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BangumiHeader.vue?vue&type=script&lang=js&\"","<style lang=\"scss\">\n$banner-height: 140px;\n\n#bangumi-header {\n  position: relative;\n  width: 100%;\n  height: $banner-height;\n  overflow: hidden;\n  box-shadow: inset 0 0 15px 0 rgba(0, 0, 0, 0.5);\n  z-index: 0;\n\n  .img {\n    width: 110%;\n    height: $banner-height;\n    margin: -$banner-height / 2 -55%;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    z-index: -1;\n    background-color: #999;\n    @include filter-blur();\n  }\n\n  .bangumi-mask {\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    left: 0;\n    top: 0;\n    background-color: rgba(#000, 0.3);\n  }\n\n  .info {\n    position: absolute;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    color: $color-white;\n    text-shadow: 0 1px 10px gray;\n    padding: $container-padding;\n\n    .avatar {\n      width: 54px;\n      height: 54px;\n      margin-right: 12px;\n      float: left;\n      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);\n    }\n\n    .share-img {\n      position: fixed;\n      left: 100%;\n      top: -100%;\n    }\n\n    .follow-button {\n      float: right;\n      margin-top: 13px;\n      margin-left: 5px;\n      text-shadow: 0 1px 10px gray;\n      color: #fff;\n\n      &:after {\n        border-color: #fff;\n      }\n    }\n\n    .summary {\n      overflow: hidden;\n\n      .title {\n        font-size: 16px;\n        line-height: 18px;\n        display: block;\n        margin-bottom: 7px;\n      }\n\n      span {\n        font-size: 13px;\n        margin-right: 12px;\n      }\n    }\n  }\n}\n</style>\n\n<template>\n  <section \n    id=\"bangumi-header\">\n    <div\n      :style=\"{\n        backgroundImage: `url(${$resize(info.banner, {\n          height: 400,\n          mode: 2\n        })})`\n      }\"\n      class=\"img bg\"\n    />\n    <div class=\"bangumi-mask\" />\n    <div class=\"info\">\n      <img\n        :src=\"$resize(info.avatar, { width: 200 })\"\n        class=\"avatar\"\n        alt=\"avatar\"\n      >\n      <img\n        class=\"share-img\"\n        src=\"https://image.calibur.tv/owner/logo/max.png?imageMogr2/auto-orient/strip|imageView2/1/w/200/h/200\"\n      >\n      <follow-button\n        :id=\"info.id\"\n        type=\"bangumi\"\n      />\n      <div class=\"summary\">\n        <p \n          class=\"title oneline\" \n          v-text=\"info.name\" />\n        <span>关注数 {{ $utils.shortenNumber(info.follow_users.total) }}</span>\n        <span>活跃度 {{ $utils.shortenNumber(info.power) }}</span>\n      </div>\n    </div>\n  </section>\n</template>\n\n<script>\nimport FollowButton from '~/components/common/FollowButton'\n\nexport default {\n  name: 'VBangumiHeader',\n  components: {\n    FollowButton\n  },\n  props: {\n    info: {\n      type: Object,\n      required: true\n    }\n  }\n}\n</script>\n","import { render, staticRenderFns } from \"./BangumiHeader.vue?vue&type=template&id=39cc1eff&\"\nimport script from \"./BangumiHeader.vue?vue&type=script&lang=js&\"\nexport * from \"./BangumiHeader.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BangumiHeader.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"BangumiHeader.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{attrs:{\"id\":\"bangumi-header\"}},[_c('div',{staticClass:\"img bg\",style:({\n      backgroundImage: (\"url(\" + (_vm.$resize(_vm.info.banner, {\n        height: 400,\n        mode: 2\n      })) + \")\")\n    })}),_vm._v(\" \"),_c('div',{staticClass:\"bangumi-mask\"}),_vm._v(\" \"),_c('div',{staticClass:\"info\"},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.$resize(_vm.info.avatar, { width: 200 }),\"alt\":\"avatar\"}}),_vm._v(\" \"),_c('img',{staticClass:\"share-img\",attrs:{\"src\":\"https://image.calibur.tv/owner/logo/max.png?imageMogr2/auto-orient/strip|imageView2/1/w/200/h/200\"}}),_vm._v(\" \"),_c('follow-button',{attrs:{\"id\":_vm.info.id,\"type\":\"bangumi\"}}),_vm._v(\" \"),_c('div',{staticClass:\"summary\"},[_c('p',{staticClass:\"title oneline\",domProps:{\"textContent\":_vm._s(_vm.info.name)}}),_vm._v(\" \"),_c('span',[_vm._v(\"关注数 \"+_vm._s(_vm.$utils.shortenNumber(_vm.info.follow_users.total)))]),_vm._v(\" \"),_c('span',[_vm._v(\"活跃度 \"+_vm._s(_vm.$utils.shortenNumber(_vm.info.power)))])])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./_id.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./_id.vue?vue&type=script&lang=js&\"","<template>\n  <div id=\"bangumi-show\">\n    <bangumi-header :info=\"info\"/>\n    <tab-container\n      :headers=\"headers\"\n      :router=\"true\"\n    />\n    <nuxt-child/>\n  </div>\n</template>\n\n<script>\nimport BangumiHeader from '~/components/bangumi/BangumiHeader'\nimport TabContainer from '~/components/common/TabContainer'\nimport { getBangumiInfo } from '~/api/bangumiApi'\n\nexport default {\n  name: 'BangumiShowLayout',\n  validate({ params }) {\n    return /^\\d+$/.test(params.id)\n  },\n  asyncData({ app, params, store, error }) {\n    const { id } = params\n    return getBangumiInfo(app, { id })\n      .then(info => {\n        store.commit('social/SET_STATE', {\n          id,\n          type: 'bangumi',\n          data: {\n            follow: info.followed,\n            follow_users: info.follow_users\n          }\n        })\n        return { info }\n      })\n      .catch(error)\n  },\n  components: {\n    BangumiHeader,\n    TabContainer\n  },\n  props: {\n    id: {\n      type: String,\n      required: true\n    }\n  },\n  head() {\n    let keywords = this.info.alias\n    const { tags, name, summary, avatar } = this.info\n    tags.forEach(tag => {\n      keywords += `,${tag.name}`\n    })\n    keywords += `${keywords}, ${name}动漫, ${name}动画片, ${name}全集, ${name}在线观看, ${name}吧`\n    return {\n      title: `${name} - 番剧`,\n      meta: [\n        { hid: 'description', name: 'description', content: summary },\n        { hid: 'keywords', name: 'keywords', content: keywords }\n      ],\n      script: [\n        {\n          hid: 'share-data',\n          innerHTML: JSON.stringify({\n            title: name,\n            description: summary,\n            imageUrl: avatar\n          }),\n          type: 'application/json'\n        }\n      ]\n    }\n  },\n  data() {\n    return {\n      info: null\n    }\n  },\n  computed: {\n    headers() {\n      if (!this.info) {\n        return []\n      }\n      const { has_video, has_cartoon } = this.info\n      const result = [\n        {\n          label: '帖子',\n          route: 'bangumi-id-post'\n        }\n      ]\n      if (has_video) {\n        result.push({\n          label: '视频',\n          route: 'bangumi-id-video'\n        })\n      }\n      if (has_cartoon) {\n        result.push({\n          label: '漫画',\n          route: 'bangumi-id-cartoon'\n        })\n      }\n      return result.concat([\n        {\n          label: '偶像',\n          route: 'bangumi-id-role'\n        },\n        {\n          label: '相册',\n          route: 'bangumi-id-pins'\n        },\n        {\n          label: '漫评',\n          route: 'bangumi-id-review'\n        },\n        {\n          label: '问答',\n          route: 'bangumi-id-qaq'\n        }\n      ])\n    }\n  }\n}\n</script>\n","import { render, staticRenderFns } from \"./_id.vue?vue&type=template&id=629667d4&\"\nimport script from \"./_id.vue?vue&type=script&lang=js&\"\nexport * from \"./_id.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"_id.vue\"\nexport default component.exports"],"sourceRoot":""}