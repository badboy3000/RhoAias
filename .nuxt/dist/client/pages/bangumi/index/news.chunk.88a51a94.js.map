{"version":3,"sources":["webpack:///./components/common/TabContainer.vue?5908","webpack:///./components/common/TabContainer.vue?ba53","webpack:///./components/common/TabContainer.vue?de0c","webpack:///components/common/TabContainer.vue","webpack:///./components/common/TabContainer.vue","webpack:///./pages/bangumi/index/news.vue?7ba5","webpack:///./pages/bangumi/index/news.vue?edba","webpack:///./pages/bangumi/index/news.vue?b3b2","webpack:///pages/bangumi/index/news.vue","webpack:///./pages/bangumi/index/news.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_6_oneOf_1_3_node_modules_sass_resources_loader_lib_loader_js_ref_6_oneOf_1_4_node_modules_vue_loader_lib_index_js_vue_loader_options_TabContainer_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","n","common_TabContainervue_type_script_lang_js_","name","props","headers","required","type","Array","defIndex","Number","String","default","router","Boolean","data","focusIndex","this","map","_","route","indexOf","$route","watch","newVal","methods","computeItemText","item","label","text","computeItemIcon","icon","concat","replace","handleTabSwitch","index","$router","push","params","$emit","component","Object","componentNormalizer","_vm","_h","$createElement","_c","_self","staticClass","_l","key","class","is-active","style","width","length","on","click","$event","_e","_v","domProps","textContent","_s","directives","rawName","value","expression","_t","options","__file","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_6_oneOf_1_3_node_modules_sass_resources_loader_lib_loader_js_ref_6_oneOf_1_4_node_modules_vue_loader_lib_index_js_vue_loader_options_news_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","index_newsvue_type_script_lang_js_","asyncData","_asyncData","asyncToGenerator_default","regeneratorRuntime","mark","_callee","ctx","released","wrap","_context","prev","next","bangumiApi","sent","abrupt","stop","_x","apply","arguments","components","TabContainer","showtime","active","Date","getDay","computed","list","openFeedbackForResource","$channel","desc","placeholder","changeActive","attrs","id","def-index","change","slot","href","$alias","bangumi","title","alt","src","$resize","avatar","video","released_video_id","update","end","no-more","loading"],"mappings":"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","file":"pages/bangumi/index/news.chunk.88a51a94.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--6-oneOf-1-3!../../node_modules/sass-resources-loader/lib/loader.js??ref--6-oneOf-1-4!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TabContainer.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--6-oneOf-1-3!../../node_modules/sass-resources-loader/lib/loader.js??ref--6-oneOf-1-4!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TabContainer.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"tab-container\"},[_c('header',_vm._l((_vm.headers),function(item,index){return _c('div',{key:index,class:{ 'is-active': index === _vm.focusIndex },style:({ width: ((100 / _vm.headers.length) + \"%\") }),on:{\"click\":function($event){_vm.handleTabSwitch(index)}}},[(_vm.computeItemIcon(item))?_c('i',{class:_vm.computeItemIcon(item)}):_vm._e(),_vm._v(\" \"),_c('span',{domProps:{\"textContent\":_vm._s(_vm.computeItemText(item))}})])}),0),_vm._v(\" \"),(!_vm.router)?_c('main',_vm._l((_vm.headers),function(item,index){return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(index === _vm.focusIndex),expression:\"index === focusIndex\"}],key:index},[_vm._t(index)],2)}),0):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TabContainer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TabContainer.vue?vue&type=script&lang=js&\"","<style lang=\"scss\">\n.tab-container {\n  > header {\n    font-size: 0;\n    border-bottom: 1px solid #f0f0f0;\n\n    div {\n      display: inline-block;\n      height: 40px;\n      line-height: 40px;\n      text-align: center;\n      font-size: 14px;\n      color: $color-text-deep;\n\n      &.is-active {\n        position: relative;\n        color: $color-pink-deep !important;\n\n        &:after {\n          content: '';\n          position: absolute;\n          bottom: 0;\n          left: 50%;\n          width: 56px;\n          max-width: 100%;\n          border-bottom: 1px solid $color-pink-deep;\n          transform: translateX(-50%);\n        }\n\n        &:before {\n          content: '';\n          position: absolute;\n          margin-left: -3px;\n          left: 50%;\n          bottom: 1px;\n          width: 0;\n          height: 0;\n          border: 3px solid $color-pink-deep;\n          border-top-width: 0;\n          border-left-color: transparent;\n          border-right-color: transparent;\n        }\n      }\n    }\n  }\n}\n</style>\n\n<template>\n  <section class=\"tab-container\">\n    <header>\n      <div\n        v-for=\"(item, index) in headers\"\n        :class=\"{ 'is-active': index === focusIndex }\"\n        :style=\"{ width: `${100 / headers.length}%` }\"\n        :key=\"index\"\n        @click=\"handleTabSwitch(index)\"\n      >\n        <i\n          v-if=\"computeItemIcon(item)\"\n          :class=\"computeItemIcon(item)\"\n        />\n        <span v-text=\"computeItemText(item)\"/>\n      </div>\n    </header>\n    <main v-if=\"!router\">\n      <div\n        v-for=\"(item, index) in headers\"\n        v-show=\"index === focusIndex\"\n        :key=\"index\"\n      >\n        <slot :name=\"index\"/>\n      </div>\n    </main>\n  </section>\n</template>\n\n<script>\nexport default {\n  name: 'TabContainer',\n  props: {\n    headers: {\n      required: true,\n      type: Array\n    },\n    defIndex: {\n      type: [Number, String],\n      default: '0'\n    },\n    router: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    let focusIndex\n    if (this.router) {\n      focusIndex = this.headers.map(_ => _.route).indexOf(this.$route.name)\n    } else {\n      focusIndex = +this.defIndex\n    }\n    return {\n      focusIndex\n    }\n  },\n  watch: {\n    $route(newVal) {\n      this.focusIndex = this.headers.map(_ => _.route).indexOf(newVal.name)\n    },\n    headers(newVal) {\n      this.focusIndex = newVal.map(_ => _.route).indexOf(this.$route.name)\n    }\n  },\n  methods: {\n    computeItemText(item) {\n      if (typeof item === 'string') {\n        return item\n      }\n      return item.label || item.name || item.text\n    },\n    computeItemIcon(item) {\n      if (typeof item === 'string' || !item.icon) {\n        return false\n      }\n      return `iconfont ic-${item.replace('ic-', '')}`\n    },\n    handleTabSwitch(index) {\n      if (this.focusIndex === index) {\n        return\n      }\n      if (this.router) {\n        this.$router.push({\n          name: this.headers[index].route,\n          params: this.$route.params\n        })\n      }\n      this.focusIndex = index\n      this.$emit('change', index)\n    }\n  }\n}\n</script>\n","import { render, staticRenderFns } from \"./TabContainer.vue?vue&type=template&id=7e1f362c&\"\nimport script from \"./TabContainer.vue?vue&type=script&lang=js&\"\nexport * from \"./TabContainer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TabContainer.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"TabContainer.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--6-oneOf-1-3!../../../node_modules/sass-resources-loader/lib/loader.js??ref--6-oneOf-1-4!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./news.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--6-oneOf-1-3!../../../node_modules/sass-resources-loader/lib/loader.js??ref--6-oneOf-1-4!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./news.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"bangumi-news\"}},[_c('tab-container',{staticClass:\"weekly-tabs\",attrs:{\"headers\":_vm.showtime,\"def-index\":_vm.active},on:{\"change\":_vm.changeActive}},[_vm._l((_vm.showtime),function(item,index){return _c('template',{slot:(\"\" + index)},[_c('ul',{key:index,staticClass:\"container\"},[_vm._l((_vm.list),function(item,index){return _c('li',{key:(index + \"-\" + (item.id))},[_c('a',{attrs:{\"href\":_vm.$alias.bangumi(item.id)}},[_c('img',{staticClass:\"face\",attrs:{\"title\":item.name,\"alt\":item.name,\"src\":_vm.$resize(item.avatar, { width: 120 })}})]),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('a',{staticClass:\"name\",attrs:{\"href\":_vm.$alias.bangumi(item.id)},domProps:{\"textContent\":_vm._s(item.name)}}),_vm._v(\" \"),_c('div',{staticClass:\"body\"},[(item.released_video_id)?_c('a',{attrs:{\"href\":_vm.$alias.video(item.released_video_id)}},[_vm._v(\"\\n                更新至\\n                \"),_c('span',{staticClass:\"part\",class:[item.update ? 'new' : 'old']},[_vm._v(\"\\n                  \"+_vm._s(item.end ? '已完结' : ((item.released_part) + \"话\"))+\"\\n                \")])]):_c('strong',[_vm._v(\"\\n                更新至\\n                \"),_c('span',{staticClass:\"part\",class:[item.update ? 'new' : 'old']},[_vm._v(\"\\n                  \"+_vm._s(item.end ? '已完结' : ((item.released_part) + \"话\"))+\"\\n                \")])])])])])}),_vm._v(\" \"),(!_vm.list.length)?_c('more-btn',{attrs:{\"no-more\":true,\"loading\":false,\"length\":0}},[_c('button',{on:{\"click\":_vm.openFeedbackForResource}},[_vm._v(\"求资源\")])]):_vm._e()],2)])})],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--2-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./news.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--2-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./news.vue?vue&type=script&lang=js&\"","<style lang=\"scss\">\n#bangumi-news {\n  .weekly-tabs {\n    > header {\n      padding: 0 10px 15px;\n      border-bottom-width: 0;\n    }\n  }\n\n  ul {\n    min-height: 100vh;\n  }\n\n  $bangumi-height: 60px;\n  li {\n    margin-bottom: 10px;\n    height: $bangumi-height;\n\n    .face {\n      width: $bangumi-height;\n      height: $bangumi-height;\n      flex-shrink: 0;\n      margin-right: 10px;\n      display: block;\n      border-radius: 5px;\n      float: left;\n    }\n\n    .content {\n      overflow: hidden;\n      height: $bangumi-height;\n      display: flex;\n      flex-direction: column;\n      justify-content: space-between;\n      align-self: center;\n\n      .name {\n        font-size: 14px;\n        font-weight: bold;\n        margin-bottom: 8px;\n        height: 32px;\n        @include twoline(16px);\n      }\n\n      .body {\n        color: $color-text-light;\n        font-size: 13px;\n        line-height: 18px;\n        text-align: right;\n\n        .part {\n          border-radius: 9px;\n          color: $color-white;\n          text-align: center;\n          padding: 0 10px;\n          height: 18px;\n          min-width: 60px;\n          margin-left: 5px;\n          font-size: 12px;\n          display: inline-block;\n\n          &.new {\n            background-color: $color-pink-normal;\n          }\n\n          &.old {\n            background-color: $color-dark-light;\n          }\n        }\n      }\n    }\n  }\n\n  .nomore {\n    background-color: transparent;\n  }\n}\n</style>\n\n<template>\n  <div id=\"bangumi-news\">\n    <tab-container\n      :headers=\"showtime\"\n      :def-index=\"active\"\n      class=\"weekly-tabs\"\n      @change=\"changeActive\"\n    >\n      <template\n        v-for=\"(item, index) in showtime\"\n        :slot=\"`${index}`\"\n      >\n        <ul\n          :key=\"index\"\n          class=\"container\"\n        >\n          <li\n            v-for=\"(item, index) in list\"\n            :key=\"`${index}-${item.id}`\">\n            <!-- 2019-01-20 周六更新番剧中出现两个 JOJO奇妙冒险, id相同, 会出现 Duplicate keys 问题 -->\n            <a :href=\"$alias.bangumi(item.id)\">\n              <img\n                :title=\"item.name\"\n                :alt=\"item.name\"\n                :src=\"$resize(item.avatar, { width: 120 })\"\n                class=\"face\"\n              >\n            </a>\n            <div class=\"content\">\n              <a\n                :href=\"$alias.bangumi(item.id)\"\n                class=\"name\"\n                v-text=\"item.name\"\n              />\n              <div class=\"body\">\n                <a\n                  v-if=\"item.released_video_id\"\n                  :href=\"$alias.video(item.released_video_id)\">\n                  更新至\n                  <span\n                    :class=\"[item.update ? 'new' : 'old']\"\n                    class=\"part\">\n                    {{ item.end ? '已完结' : `${item.released_part}话` }}\n                  </span>\n                </a>\n                <strong v-else>\n                  更新至\n                  <span\n                    :class=\"[item.update ? 'new' : 'old']\"\n                    class=\"part\">\n                    {{ item.end ? '已完结' : `${item.released_part}话` }}\n                  </span>\n                </strong>\n              </div>\n            </div>\n          </li>\n          <more-btn\n            v-if=\"!list.length\"\n            :no-more=\"true\"\n            :loading=\"false\"\n            :length=\"0\"\n          >\n            <button @click=\"openFeedbackForResource\">求资源</button>\n          </more-btn>\n        </ul>\n      </template>\n    </tab-container>\n  </div>\n</template>\n\n<script>\nimport { getReleasedBangumis } from '~/api/bangumiApi'\nimport TabContainer from '~/components/common/TabContainer'\n\nexport default {\n  name: 'BangumiNews',\n  async asyncData(ctx) {\n    const released = await getReleasedBangumis(ctx)\n    return { released }\n  },\n  components: {\n    TabContainer\n  },\n  data() {\n    return {\n      showtime: ['最新', '一', '二', '三', '四', '五', '六', '日'],\n      active: new Date().getDay() || 7\n    }\n  },\n  computed: {\n    list() {\n      return this.released[this.active]\n    }\n  },\n  methods: {\n    openFeedbackForResource() {\n      this.$channel.$emit('open-feedback', {\n        type: 5,\n        desc: '我想看新番：{?}',\n        placeholder: '请填写番剧名称'\n      })\n    },\n    changeActive(index) {\n      this.active = index\n    }\n  }\n}\n</script>\n","import { render, staticRenderFns } from \"./news.vue?vue&type=template&id=6bcb7561&\"\nimport script from \"./news.vue?vue&type=script&lang=js&\"\nexport * from \"./news.vue?vue&type=script&lang=js&\"\nimport style0 from \"./news.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"news.vue\"\nexport default component.exports"],"sourceRoot":""}