(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{591:function(t,n,e){},726:function(t,n,e){"use strict";var a=e(591);e.n(a).a},970:function(t,n,e){"use strict";e.r(n);e(25),e(12);var a=e(2),s=e.n(a),i=e(122),r={name:"BangumiTags",asyncData:function(){var t=s()(regeneratorRuntime.mark(function t(n){var e,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.app,t.next=3,Object(i.b)(e);case 3:return a=t.sent,t.abrupt("return",{tags:a.map(function(t){return Object.assign(t,{selected:!1})})});case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),head:{title:"分类索引 - 番剧"},data:function(){return{recommendedBangumis:[],loading:!1,bangumis:{data:[],noMore:!1,page:0,take:10,total:0},counter:0}},computed:{moreBtnShow:function(){return this.tags.filter(function(t){return t.selected}).map(function(t){return t.id}).join("-")},showEmpty:function(){return this.tags.some(function(t){return t.selected})&&!this.loading||this.tags.every(function(t){return!t.selected})},tagsList:function(){var t=8*this.counter,n=t+8;return this.tags.slice(t,n)}},methods:{selectTag:function(t){this.loading||(t.selected=!t.selected,this.bangumis={data:[],noMore:!1,page:0,take:10,total:0})},loadBangumis:function(){var t=s()(regeneratorRuntime.mark(function t(){var n,e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.loading&&!this.bangumis.noMore){t.next=2;break}return t.abrupt("return");case 2:return n=this.tags.filter(function(t){return t.selected}).map(function(t){return t.id}).join("-"),this.loading=!0,t.prev=4,t.next=7,Object(i.f)(this,{page:this.bangumis.page,take:this.bangumis.take,tags:n});case 7:e=t.sent,this.bangumis.data=this.bangumis.data.concat(e.list),this.bangumis.noMore=e.noMore,this.bangumis.total=e.total,this.bangumis.page++;case 12:return t.prev=12,this.loading=!1,t.finish(12);case 15:case"end":return t.stop()}},t,this,[[4,,12,15]])}));return function(){return t.apply(this,arguments)}}(),choiceTags:function(){8*(this.counter+1)>=this.tags.length?this.counter=0:this.counter++}}},o=(e(726),e(1)),u=Object(o.a)(r,function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"container",attrs:{id:"bangumi-tag"}},[e("div",{attrs:{id:"tags"}},[e("h3",{staticClass:"sub-title"},[t._v("\n      标签列表\n      "),e("span",{staticClass:"tag-change",on:{click:t.choiceTags}},[e("i",{staticClass:"el-icon-refresh",style:{transform:"rotate("+360*t.counter+"deg)"}}),t._v("换一换\n      ")])]),t._v(" "),e("ul",[t._l(t.tagsList,function(n){return e("li",{key:n.id,on:{click:function(e){t.selectTag(n)}}},[e("a",{class:{selected:n.selected},domProps:{textContent:t._s(n.name)},on:{click:function(t){t.preventDefault()}}})])}),t._v(" "),e("button",{staticClass:"btn",on:{click:t.loadBangumis}},[t._v("点击搜索")])],2)]),t._v(" "),t.bangumis.total?e("div",{attrs:{id:"bangumis"}},[e("div",{staticClass:"hr"}),t._v(" "),e("h3",{staticClass:"sub-title"},[t._v("番剧列表("+t._s(t.bangumis.total)+")")]),t._v(" "),e("ul",t._l(t.bangumis.data,function(n){return e("li",{key:n.id},[e("a",{staticClass:"bangumi-a",attrs:{href:t.$alias.bangumi(n.id)}},[e("v-img",{staticClass:"face",attrs:{src:n.avatar,width:"60",height:"60"}}),t._v(" "),e("div",{staticClass:"content"},[e("p",{staticClass:"name",domProps:{textContent:t._s(n.name)}}),t._v(" "),e("p",{staticClass:"body",domProps:{textContent:t._s(n.summary)}})])],1)])}),0)]):t._e(),t._v(" "),t.moreBtnShow?e("more-btn",{attrs:{"no-more":t.bangumis.noMore,length:t.bangumis.data.length,loading:t.loading,auto:!0},on:{fetch:t.loadBangumis}}):t._e()],1)},[],!1,null,null,null);u.options.__file="_id.vue";n.default=u.exports}}]);
//# sourceMappingURL=_id.chunk.c8179b50.js.map