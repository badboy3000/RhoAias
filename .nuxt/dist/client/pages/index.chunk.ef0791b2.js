(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{596:function(n,e,t){"use strict";t.d(e,"a",function(){return o}),t.d(e,"b",function(){return r});var o=function(n){return n.$axios.$get("image/banner")},r=function(n){return n.$axios.$get("cm/loop/list")}},650:function(n,e,t){},651:function(n,e,t){},819:function(n,e,t){"use strict";var o=t(650);t.n(o).a},820:function(n,e,t){"use strict";var o=t(651);t.n(o).a},932:function(n,e,t){"use strict";t.r(e);t(12);var o=t(2),r=t.n(o),a=t(169),i=t(9),s={name:"VFooter",computed:{haveAuthToken:function(){return this.$store.state.haveAuthToken}},methods:{logout:function(){this.$cookie.remove("JWT-TOKEN"),Object(i.f)(this),window.location.reload()},login:function(){this.$channel.$emit("sign-in",!1)},register:function(){this.$channel.$emit("sign-up")}}},u=(t(819),t(1)),c=Object(u.a)(s,function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("footer",{attrs:{id:"footer"}},[t("div",{staticClass:"panel"},[n.haveAuthToken?t("button",{on:{click:n.logout}},[n._v("退出")]):[t("button",{on:{click:n.login}},[n._v("登录")]),n._v(" "),t("button",{on:{click:n.register}},[n._v("注册")])],n._v(" "),t("button",{on:{click:function(e){n.$channel.$emit("open-feedback")}}},[n._v("反馈")]),n._v(" "),t("a",{attrs:{href:"/about/hello"}},[n._v("欢迎")]),n._v(" "),t("button",{on:{click:function(e){n.$channel.$emit("open-share")}}},[n._v("分享")])],2),n._v(" "),t("p",{staticClass:"beian"},[n._v("© 沪ICP备17050785号-1")])])},[],!1,null,null,null);c.options.__file="Footer.vue";var l=c.exports,h=t(596),v={name:"Index",asyncData:function(){var n=r()(regeneratorRuntime.mark(function n(e){var t,o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.app,n.next=3,Object(h.a)(t);case 3:return o=n.sent,n.abrupt("return",{banners:o,banner1:o[0]});case 5:case"end":return n.stop()}},n,this)}));return function(e){return n.apply(this,arguments)}}(),components:{vSearch:a.a,vFooter:l},data:function(){return{banner1:null,banner2:null,timer:null,toggle:!0,index:0,showFooter:!0,options:{width:720,height:0,mode:0},slogan:"···",showBanner:!0,query:""}},mounted:function(){this.loopBanner(),this.computeSlogan()},beforeDestroy:function(){this.timer&&(clearInterval(this.timer),this.timer=null)},methods:{loopBanner:function(){var n=this;this.timer=setInterval(function(){n.index=1+n.index===n.banners.length?0:n.index+1;var e=n.banners[n.index];n.toggle?n.banner2=e:n.banner1=e,setTimeout(function(){n.toggle=!n.toggle},5e3)},1e4)},computeSlogan:function(){var n=this,e="calibur.tv：天下漫友是一家".length,t=0,o=setInterval(function(){n.slogan="calibur.tv：天下漫友是一家".slice(0,t),++t>e&&clearInterval(o)},900/e)},handleSearchFocus:function(){this.showBanner=!1,this.showFooter=!1},handleSearchBlur:function(){this.showBanner=!0,this.showFooter=!0}}},f=(t(820),Object(u.a)(v,function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{attrs:{id:"homepage"}},[t("section",{directives:[{name:"show",rawName:"v-show",value:n.showBanner,expression:"showBanner"}],attrs:{id:"banner"}},[t("div",{staticClass:"bg",class:{show:n.toggle},style:{backgroundImage:n.banner1?"url("+n.$resize(n.banner1.url,n.options)+")":""}}),n._v(" "),t("div",{staticClass:"bg",class:{show:!n.toggle},style:{backgroundImage:n.banner2?"url("+n.$resize(n.banner2.url,n.options)+")":""}})]),n._v(" "),t("main",{attrs:{id:"main"}},[t("v-search",{on:{"input-focus":n.handleSearchFocus,"input-blur":n.handleSearchBlur},model:{value:n.query,callback:function(e){n.query=e},expression:"query"}}),n._v(" "),t("div",{staticClass:"slogan"},[n._v("「 "+n._s(n.slogan)+" 」")])],1),n._v(" "),t("v-footer",{directives:[{name:"show",rawName:"v-show",value:n.showFooter,expression:"showFooter"}]})],1)},[],!1,null,null,null));f.options.__file="index.vue";e.default=f.exports}}]);
//# sourceMappingURL=index.chunk.ef0791b2.js.map