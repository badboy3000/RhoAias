{"version":3,"sources":["webpack:///./components/panel/BangumiPanel.vue?f0c6","webpack:///./components/panel/BangumiPanel.vue?2c25","webpack:///./components/panel/BangumiPanel.vue?4e9b","webpack:///./components/panel/BangumiPanel.vue?2497","webpack:///components/panel/BangumiPanel.vue","webpack:///./components/panel/BangumiPanel.vue","webpack:///./components/common/SocialPanel.vue?e218","webpack:///./components/common/ImagePreview/ImagePreview.vue?3b94","webpack:///./components/common/SocialPanel.vue?95f3","webpack:///./components/common/SocialPanel.vue?7039","webpack:///components/common/SocialPanel.vue","webpack:///./components/common/SocialPanel.vue","webpack:///./components/common/ImagePreview/ImagePreview.vue?719b","webpack:///./components/common/ImagePreview/ImagePreview.vue?3dff","webpack:///components/common/ImagePreview/ImagePreview.vue","webpack:///./components/common/ImagePreview/ImagePreview.vue","webpack:///./components/common/ImagePreview/ImagePreview.vue?5d7a","webpack:///./pages/pin/_id.vue?9ae0","webpack:///./pages/pin/_id.vue?e3da","webpack:///./pages/pin/_id.vue?8b93","webpack:///pages/pin/_id.vue","webpack:///./pages/pin/_id.vue"],"names":["module","exports","bangumi-panel","bangumiPanel","avatar","content","name","controls","rolling","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_6_oneOf_0_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_0_2_node_modules_sass_loader_lib_loader_js_ref_6_oneOf_0_3_node_modules_sass_resources_loader_lib_loader_js_ref_6_oneOf_0_4_node_modules_vue_loader_lib_index_js_vue_loader_options_BangumiPanel_vue_vue_type_style_index_0_lang_scss_module_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_6_oneOf_0_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_0_2_node_modules_sass_loader_lib_loader_js_ref_6_oneOf_0_3_node_modules_sass_resources_loader_lib_loader_js_ref_6_oneOf_0_4_node_modules_vue_loader_lib_index_js_vue_loader_options_BangumiPanel_vue_vue_type_style_index_0_lang_scss_module_true___WEBPACK_IMPORTED_MODULE_0___default","n","__webpack_exports__","panel_BangumiPanelvue_type_script_lang_js_","components","FollowButton","props","id","required","type","Number","String","component","Object","componentNormalizer","_vm","this","_h","$createElement","_c","_self","class","$style","attrs","to","$alias","bangumi","src","width","height","_v","staticClass","domProps","textContent","_s","summary","_t","context","BangumiPanelvue_type_style_index_0_lang_scss_module_true_","locals","options","__file","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_6_oneOf_1_3_node_modules_sass_resources_loader_lib_loader_js_ref_6_oneOf_1_4_node_modules_vue_loader_lib_index_js_vue_loader_options_SocialPanel_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","image-preview","imagePreview","container","bar","top-bar","topBar","foot-bar","footBar","wrap","item","close","download","next-btn","nextBtn","prev-btn","prevBtn","common_SocialPanelvue_type_script_lang_js_","isCreator","Boolean","isMine","validator","val","indexOf","computed","isGuest","$store","state","login","source","getters","displayUsers","reward_users","list","like_users","slice","displayCount","methods","computeTextByAction","action","toggleAction","_this","$channel","$emit","$toast","info","concat","reward","$confirm","confirmButtonText","cancelButtonText","then","submitAction","catch","_submitAction","asyncToGenerator_default","regeneratorRuntime","mark","_callee","data","_context","prev","next","dispatch","sent","success","result","stop","_x","apply","arguments","is-plain","loading","reward_loading","icon","round","size","on","click","$event","total","_e","like","like_loading","mark_loading","mark_users","_l","user","key","$resize","ImagePreview_ImagePreviewvue_type_script_lang_js_","images","Array","default","query","show","currentIndex","maxWidth","maxHeight","displayImages","map","_","assign","finalWidth","finalHeight","length","currentImage","mounted","getScreenSize","window","addEventListener","handleClose","handleClick","e","target","isIMG","tagName","toLowerCase","className","imageUrl","getAttribute","split","img","querySelector","getClickImageIndex","computeDisplaySize","forEach","image","index","url","innerWidth","innerHeight","switchImage","isNext","newIndex","getSiblingsIndex","prevIndex","nextIndex","imageWidth","imageHeight","widthRadio","heightRadio","parseInt","handleSwitch","oldVal","href","stopPropagation","style","backgroundImage","webP","ImagePreviewvue_type_style_index_0_lang_scss_module_true_","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_6_oneOf_0_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_0_2_node_modules_sass_loader_lib_loader_js_ref_6_oneOf_0_3_node_modules_sass_resources_loader_lib_loader_js_ref_6_oneOf_0_4_node_modules_vue_loader_lib_index_js_vue_loader_options_ImagePreview_vue_vue_type_style_index_0_lang_scss_module_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_6_oneOf_0_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_0_2_node_modules_sass_loader_lib_loader_js_ref_6_oneOf_0_3_node_modules_sass_resources_loader_lib_loader_js_ref_6_oneOf_0_4_node_modules_vue_loader_lib_index_js_vue_loader_options_ImagePreview_vue_vue_type_style_index_0_lang_scss_module_true___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_6_oneOf_1_3_node_modules_sass_resources_loader_lib_loader_js_ref_6_oneOf_1_4_node_modules_vue_loader_lib_index_js_vue_loader_options_id_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","pin_idvue_type_script_lang_js_","asyncData","_asyncData","_ref","app","store","params","error","abrupt","imageApi","commit","liked","rewarded","marked","follow","followed","head","title","CommentMain","SocialPanel","ImagePreview","BangumiPanel","VPopover","Popover","take","page","part","showAll","$route","cartoon","parts","showMoreBtn","sortCartoons","begin","nextPartUrl","is_cartoon","idx","computePage","_this2","meta","Math","ceil","is_creator","zone","nickname","model","value","callback","$$v","$set","expression","report-id","is-creator","report-type","full","image_count","active","is-mine","master-id"],"mappings":"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","file":"pages/pin/_id.chunk.2e0ddb90.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"bangumi-panel\":\"bangumi-panel-b5\",\"bangumiPanel\":\"bangumi-panel-b5\",\"avatar\":\"avatar-2K\",\"content\":\"content-2m\",\"name\":\"name-5O\",\"controls\":\"controls-1p\",\"rolling\":\"rolling-nc\"};","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js??ref--6-oneOf-0-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-0-2!../../node_modules/sass-loader/lib/loader.js??ref--6-oneOf-0-3!../../node_modules/sass-resources-loader/lib/loader.js??ref--6-oneOf-0-4!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BangumiPanel.vue?vue&type=style&index=0&lang=scss&module=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js??ref--6-oneOf-0-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-0-2!../../node_modules/sass-loader/lib/loader.js??ref--6-oneOf-0-3!../../node_modules/sass-resources-loader/lib/loader.js??ref--6-oneOf-0-4!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BangumiPanel.vue?vue&type=style&index=0&lang=scss&module=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:_vm.$style.bangumiPanel},[_c('nuxt-link',{class:_vm.$style.avatar,attrs:{\"to\":_vm.$alias.bangumi(_vm.id)}},[_c('v-img',{attrs:{\"src\":_vm.avatar,\"width\":\"80\",\"height\":\"92\"}})],1),_vm._v(\" \"),_c('div',{class:_vm.$style.content},[_c('nuxt-link',{attrs:{\"to\":_vm.$alias.bangumi(_vm.id)}},[_c('h5',{staticClass:\"oneline\",class:_vm.$style.name,domProps:{\"textContent\":_vm._s(_vm.name)}})]),_vm._v(\" \"),_c('div',{class:_vm.$style.summary},[_vm._t(\"default\")],2),_vm._v(\" \"),_c('div',{class:_vm.$style.controls},[_c('follow-button',{attrs:{\"id\":_vm.id,\"type\":\"bangumi\"}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BangumiPanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BangumiPanel.vue?vue&type=script&lang=js&\"","<style lang=\"scss\" module>\n$panel-height: 92px;\n\n.bangumi-panel {\n  .avatar {\n    display: block;\n    float: left;\n    width: 80px;\n    height: $panel-height;\n    border-radius: 5px;\n    margin-right: 10px;\n    overflow: hidden;\n  }\n\n  .content {\n    overflow: hidden;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    height: $panel-height;\n\n    .name {\n      font-size: 16px;\n      font-weight: bold;\n      display: block;\n    }\n\n    .controls {\n      text-align: right;\n    }\n  }\n}\n</style>\n\n<template>\n  <div :class=\"$style.bangumiPanel\">\n    <nuxt-link\n      :class=\"$style.avatar\" \n      :to=\"$alias.bangumi(id)\">\n      <v-img \n        :src=\"avatar\" \n        width=\"80\" \n        height=\"92\" />\n    </nuxt-link>\n    <div :class=\"$style.content\">\n      <nuxt-link :to=\"$alias.bangumi(id)\">\n        <h5 \n          :class=\"$style.name\" \n          class=\"oneline\" \n          v-text=\"name\" />\n      </nuxt-link>\n      <div :class=\"$style.summary\"><slot /></div>\n      <div :class=\"$style.controls\">\n        <follow-button\n          :id=\"id\"\n          type=\"bangumi\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport FollowButton from '~/components/common/FollowButton'\n\nexport default {\n  name: 'BangumiPanel',\n  components: {\n    FollowButton\n  },\n  props: {\n    id: {\n      required: true,\n      type: Number\n    },\n    avatar: {\n      required: true,\n      type: String\n    },\n    name: {\n      required: true,\n      type: String\n    }\n  }\n}\n</script>\n","import { render, staticRenderFns } from \"./BangumiPanel.vue?vue&type=template&id=e4de9c16&\"\nimport script from \"./BangumiPanel.vue?vue&type=script&lang=js&\"\nexport * from \"./BangumiPanel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BangumiPanel.vue?vue&type=style&index=0&lang=scss&module=true&\"\n\n\n\n\nfunction injectStyles (context) {\n  \n  this[\"$style\"] = (style0.locals || style0)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"BangumiPanel.vue\"\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--6-oneOf-1-3!../../node_modules/sass-resources-loader/lib/loader.js??ref--6-oneOf-1-4!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SocialPanel.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--6-oneOf-1-3!../../node_modules/sass-resources-loader/lib/loader.js??ref--6-oneOf-1-4!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SocialPanel.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"image-preview\":\"image-preview-2_\",\"imagePreview\":\"image-preview-2_\",\"container\":\"container-34\",\"bar\":\"bar-1j\",\"top-bar\":\"top-bar-1d\",\"topBar\":\"top-bar-1d\",\"foot-bar\":\"foot-bar-AF\",\"footBar\":\"foot-bar-AF\",\"wrap\":\"wrap-tx\",\"item\":\"item-32\",\"close\":\"close-27\",\"download\":\"download-51\",\"next-btn\":\"next-btn-3T\",\"nextBtn\":\"next-btn-3T\",\"prev-btn\":\"prev-btn-12\",\"prevBtn\":\"prev-btn-12\",\"rolling\":\"rolling-3m\"};","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.source)?_c('div',{staticClass:\"social-panel\"},[_c('div',{staticClass:\"buttons\"},[(_vm.isCreator)?_c('el-button',{class:{ 'is-plain': _vm.source.reward },attrs:{\"loading\":_vm.source.reward_loading,\"type\":\"warning\",\"icon\":\"iconfont icon-fantuan\",\"round\":\"\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.toggleAction('reward')}}},[_vm._v(\"\\n      \"+_vm._s(_vm.source.reward ? '已投食' : '投食')+_vm._s(_vm.source.reward_users.total ? (\"  |  \" + (_vm.source.reward_users.total)) : '')+\"\\n    \")]):_vm._e(),_vm._v(\" \"),_c('el-button',{class:{ 'is-plain': _vm.source.like },attrs:{\"loading\":_vm.source.like_loading,\"type\":\"danger\",\"icon\":\"iconfont icon-like\",\"round\":\"\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.toggleAction('like')}}},[_vm._v(\"\\n      \"+_vm._s(_vm.source.like ? '已喜欢' : '喜欢')+_vm._s(_vm.source.like_users.total ? (\"  |  \" + (_vm.source.like_users.total)) : '')+\"\\n    \")]),_vm._v(\" \"),_c('el-button',{class:{ 'is-plain': _vm.source.mark },attrs:{\"loading\":_vm.source.mark_loading,\"type\":\"success\",\"icon\":\"iconfont icon--mark\",\"round\":\"\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.toggleAction('mark')}}},[_vm._v(\"\\n      \"+_vm._s(_vm.source.mark ? '已收藏' : '收藏')+_vm._s(_vm.source.mark_users.total ? (\"  |  \" + (_vm.source.mark_users.total)) : '')+\"\\n    \")])],1),_vm._v(\" \"),_c('div',{staticClass:\"users\"},[_c('ul',_vm._l((_vm.displayUsers),function(user){return _c('li',{key:user.id,staticClass:\"user-face\"},[_c('img',{attrs:{\"src\":_vm.$resize(user.avatar, { width: 60 })}})])}),0)])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SocialPanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SocialPanel.vue?vue&type=script&lang=js&\"","<style lang=\"scss\">\n.social-panel {\n  margin: 50px 0;\n\n  .buttons {\n    text-align: center;\n\n    button {\n      padding: 5px 7px 5px 4px;\n      font-size: 11px !important;\n    }\n  }\n\n  .users {\n    margin-top: 25px;\n    text-align: center;\n\n    .user-face {\n      margin: 0 -5px;\n      display: inline-block;\n      vertical-align: middle;\n\n      img {\n        width: 30px;\n        height: 30px;\n        border-radius: 50%;\n        border: 3px solid #fff;\n      }\n    }\n  }\n}\n</style>\n\n<template>\n  <div\n    v-if=\"source\"\n    class=\"social-panel\"\n  >\n    <div class=\"buttons\">\n      <el-button\n        v-if=\"isCreator\"\n        :class=\"{ 'is-plain': source.reward }\"\n        :loading=\"source.reward_loading\"\n        type=\"warning\"\n        icon=\"iconfont icon-fantuan\"\n        round\n        size=\"mini\"\n        @click=\"toggleAction('reward')\"\n      >\n        {{ source.reward ? '已投食' : '投食' }}{{ source.reward_users.total ? `&nbsp;&nbsp;|&nbsp;&nbsp;${source.reward_users.total}` : '' }}\n      </el-button>\n      <el-button\n        :class=\"{ 'is-plain': source.like }\"\n        :loading=\"source.like_loading\"\n        type=\"danger\"\n        icon=\"iconfont icon-like\"\n        round\n        size=\"mini\"\n        @click=\"toggleAction('like')\"\n      >\n        {{ source.like ? '已喜欢' : '喜欢' }}{{ source.like_users.total ? `&nbsp;&nbsp;|&nbsp;&nbsp;${source.like_users.total}` : '' }}\n      </el-button>\n      <el-button\n        :class=\"{ 'is-plain': source.mark }\"\n        :loading=\"source.mark_loading\"\n        type=\"success\"\n        icon=\"iconfont icon--mark\"\n        round\n        size=\"mini\"\n        @click=\"toggleAction('mark')\"\n      >\n        {{ source.mark ? '已收藏' : '收藏' }}{{ source.mark_users.total ? `&nbsp;&nbsp;|&nbsp;&nbsp;${source.mark_users.total}` : '' }}\n      </el-button>\n    </div>\n    <div class=\"users\">\n      <ul>\n        <li\n          v-for=\"user in displayUsers\"\n          :key=\"user.id\"\n          class=\"user-face\"\n        >\n          <img :src=\"$resize(user.avatar, { width: 60 })\">\n        </li>\n      </ul>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'SocialPanel',\n  props: {\n    isCreator: {\n      required: true,\n      type: Boolean\n    },\n    isMine: {\n      required: true,\n      type: Boolean\n    },\n    id: {\n      required: true,\n      type: Number\n    },\n    type: {\n      required: true,\n      type: String,\n      validator: val =>\n        ~['post', 'video', 'image', 'score', 'answer', 'video'].indexOf(val)\n    }\n  },\n  computed: {\n    isGuest() {\n      return !this.$store.state.login\n    },\n    source() {\n      return this.$store.getters['social/getState'](this.type, this.id)\n    },\n    displayUsers() {\n      const users = this.isCreator\n        ? this.source.reward_users.list\n        : this.source.like_users.list\n      return users.slice(0, this.displayCount)\n    }\n  },\n  methods: {\n    computeTextByAction(action) {\n      if (action === 'reward') {\n        return '投食'\n      } else if (action === 'like') {\n        return '喜欢'\n      } else if (action === 'mark') {\n        return '收藏'\n      }\n      return '操作'\n    },\n    toggleAction(action) {\n      if (this.isGuest) {\n        this.$channel.$emit('sign-in')\n        return\n      }\n      if (this.isMine) {\n        this.$toast.info(`不能${this.computeTextByAction(action)}自己的内容`)\n        return\n      }\n      if (action === 'reward') {\n        if (this.source.reward) {\n          this.$toast.info('已投食过')\n          return\n        }\n        this.$confirm('向TA投食需要消耗你一个团子，是否继续?', '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        })\n          .then(() => {\n            this.submitAction('reward')\n          })\n          .catch(() => {})\n      } else {\n        this.submitAction(action)\n      }\n    },\n    async submitAction(action) {\n      const data = await this.$store.dispatch('social/toggleAction', {\n        type: this.type,\n        id: this.id,\n        action\n      })\n      data.success &&\n        this.$emit(`${action}-callback`, {\n          result: data.result\n        })\n    }\n  }\n}\n</script>\n","import { render, staticRenderFns } from \"./SocialPanel.vue?vue&type=template&id=440337eb&\"\nimport script from \"./SocialPanel.vue?vue&type=script&lang=js&\"\nexport * from \"./SocialPanel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SocialPanel.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"SocialPanel.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:_vm.$style.imagePreview,on:{\"click\":_vm.handleClick}},[(_vm.show)?_c('div',{class:_vm.$style.container,on:{\"click\":_vm.handleClose}},[_c('div',{class:[_vm.$style.bar, _vm.$style.topBar]},[(_vm.total)?_c('span',{class:_vm.$style.total},[_vm._v(\"\\n        \"+_vm._s(_vm.currentIndex + 1)+\"/\"+_vm._s(_vm.total)+\"\\n      \")]):_vm._e(),_vm._v(\" \"),_c('span',{class:_vm.$style.close},[_vm._v(\" × \")])]),_vm._v(\" \"),_c('div',{class:[_vm.$style.bar, _vm.$style.footBar]},[(_vm.currentImage && _vm.download)?_c('a',{class:_vm.$style.download,attrs:{\"href\":_vm.currentImage.url,\"target\":\"_blank\"},on:{\"click\":function($event){$event.stopPropagation();}}},[_vm._v(\"\\n        下载原图\\n      \")]):_vm._e()]),_vm._v(\" \"),(_vm.currentImage)?_c('div',{class:_vm.$style.wrap},[_c('div',{class:_vm.$style.item,style:({\n          backgroundImage: (\"url(\" + (_vm.$resize(_vm.currentImage.url, {\n            webP: !_vm.download\n          })) + \")\"),\n          width: ((_vm.currentImage.finalWidth) + \"px\"),\n          height: ((_vm.currentImage.finalHeight) + \"px\")\n        })}),_vm._v(\" \"),(_vm.total > 1)?[_c('button',{class:_vm.$style.prevBtn,on:{\"click\":function($event){$event.stopPropagation();_vm.switchImage(false)}}},[_c('i',{staticClass:\"el-icon-caret-left\"})]),_vm._v(\" \"),_c('button',{class:_vm.$style.nextBtn,on:{\"click\":function($event){$event.stopPropagation();_vm.switchImage(true)}}},[_c('i',{staticClass:\"el-icon-caret-right\"})])]:_vm._e()],2):_vm._e()]):_vm._e(),_vm._v(\" \"),_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--2-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImagePreview.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--2-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImagePreview.vue?vue&type=script&lang=js&\"","<style lang=\"scss\" module>\n.image-preview {\n  .container {\n    position: fixed;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    background-color: #000;\n    z-index: 2009;\n  }\n\n  $previewBarSize: 44px;\n  .bar {\n    background-color: rgba(0, 0, 0, 0.3);\n    position: absolute;\n    left: 0;\n    height: $previewBarSize;\n    width: 100%;\n    color: #fff;\n    z-index: 1;\n\n    &.top-bar {\n      top: 0;\n    }\n\n    &.foot-bar {\n      bottom: 0;\n    }\n  }\n\n  .wrap {\n    position: absolute;\n    top: $previewBarSize;\n    bottom: $previewBarSize;\n    width: 100%;\n    z-index: 0;\n  }\n\n  .item {\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    background-position: center;\n    background-repeat: no-repeat;\n    background-size: contain;\n    cursor: zoom-out;\n  }\n\n  .top-bar {\n    padding: 0 12px;\n    height: 44px;\n    font-size: 13px;\n    line-height: 44px;\n\n    .close {\n      float: right;\n      font-size: 20px;\n      cursor: pointer;\n    }\n  }\n\n  .foot-bar {\n    text-align: center;\n\n    .download {\n      display: block;\n      color: #fff;\n      width: 100px;\n      height: 34px;\n      line-height: 32px;\n      border-radius: 17px;\n      border: 1px solid #fff;\n      margin: 5px auto;\n\n      &:hover {\n        background-color: rgba(255, 255, 255, 0.2);\n      }\n    }\n  }\n\n  .prev-btn,\n  .next-btn {\n    color: #fff;\n    width: 70px;\n    height: 100px;\n    background-color: transparent;\n    position: absolute;\n    top: 50%;\n    margin-top: -50px;\n\n    i {\n      display: inline-block;\n      height: 32px;\n      width: 32px;\n      background-color: rgba(0, 0, 0, 0.3);\n      text-align: center;\n      line-height: 32px;\n      font-size: 20px;\n\n      &:hover {\n        background-color: rgba(0, 0, 0, 0.5);\n      }\n    }\n  }\n\n  .prev-btn {\n    left: 0;\n    text-align: left;\n\n    i {\n      border-radius: 0 4px 4px 0;\n    }\n  }\n\n  .next-btn {\n    right: 0;\n    text-align: right;\n\n    i {\n      border-radius: 4px 0 0 4px;\n    }\n  }\n}\n</style>\n\n<template>\n  <div \n    :class=\"$style.imagePreview\" \n    @click=\"handleClick\">\n    <div \n      v-if=\"show\" \n      :class=\"$style.container\" \n      @click=\"handleClose\">\n      <div :class=\"[$style.bar, $style.topBar]\">\n        <span \n          v-if=\"total\" \n          :class=\"$style.total\">\n          {{ currentIndex + 1 }}/{{ total }}\n        </span>\n        <span :class=\"$style.close\"> &times; </span>\n      </div>\n      <div :class=\"[$style.bar, $style.footBar]\">\n        <a\n          v-if=\"currentImage && download\"\n          :href=\"currentImage.url\"\n          :class=\"$style.download\"\n          target=\"_blank\"\n          @click.stop\n        >\n          下载原图\n        </a>\n      </div>\n      <div \n        v-if=\"currentImage\" \n        :class=\"$style.wrap\">\n        <div\n          :style=\"{\n            backgroundImage: `url(${$resize(currentImage.url, {\n              webP: !download\n            })})`,\n            width: `${currentImage.finalWidth}px`,\n            height: `${currentImage.finalHeight}px`\n          }\"\n          :class=\"$style.item\"\n        />\n        <template v-if=\"total > 1\">\n          <button \n            :class=\"$style.prevBtn\" \n            @click.stop=\"switchImage(false)\">\n            <i class=\"el-icon-caret-left\" />\n          </button>\n          <button \n            :class=\"$style.nextBtn\" \n            @click.stop=\"switchImage(true)\">\n            <i class=\"el-icon-caret-right\" />\n          </button>\n        </template>\n      </div>\n    </div>\n    <slot />\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'ImagePreview',\n  props: {\n    images: {\n      type: Array,\n      default: () => []\n    },\n    query: {\n      type: String,\n      default: ''\n    },\n    download: {\n      type: Boolean,\n      default: true\n    }\n  },\n  data() {\n    return {\n      show: false,\n      currentIndex: -1,\n      maxWidth: 0,\n      maxHeight: 0,\n      displayImages: this.images.map(_ =>\n        Object.assign(\n          {\n            finalWidth: 0,\n            finalHeight: 0,\n            loading: true\n          },\n          _\n        )\n      )\n    }\n  },\n  computed: {\n    total() {\n      return this.images.length\n    },\n    currentImage() {\n      if (this.currentIndex === -1) {\n        return null\n      }\n      return this.displayImages[this.currentIndex]\n    }\n  },\n  mounted() {\n    this.getScreenSize()\n    window.addEventListener('resize', this.getScreenSize)\n  },\n  methods: {\n    handleClose() {\n      this.show = false\n    },\n    handleClick(e) {\n      if (!this.total) {\n        return\n      }\n      const target = e.target\n      const isIMG = target.tagName.toLowerCase() === 'img'\n      if (!this.query && !isIMG) {\n        return\n      }\n      if (this.query && target.className.indexOf(this.query) === -1) {\n        return\n      }\n      let imageUrl = ''\n      if (isIMG) {\n        imageUrl = target.getAttribute('src').split('?')[0]\n      } else {\n        const img = target.querySelector('img')\n        if (!img) {\n          return\n        }\n        imageUrl = img.getAttribute('src').split('?')[0]\n      }\n      this.getClickImageIndex(imageUrl)\n      this.computeDisplaySize(this.currentIndex)\n      /*\n      if (this.total <= 3) {\n        this.computeDisplaySize(0);\n        this.computeDisplaySize(1);\n        this.computeDisplaySize(2);\n      } else {\n        const index = this.getSiblingsIndex(this.currentIndex);\n        this.computeDisplaySize(index[0]);\n        this.computeDisplaySize(index[2]);\n      }\n      */\n      this.show = true\n    },\n    getClickImageIndex(src) {\n      this.images.forEach((image, index) => {\n        if (image.url === src) {\n          this.currentIndex = index\n        }\n      })\n    },\n    getScreenSize() {\n      this.maxWidth = window.innerWidth\n      this.maxHeight = window.innerHeight - 88\n    },\n    switchImage(isNext) {\n      if (isNext && this.currentIndex === this.total - 1) {\n        return\n      }\n      if (!isNext && this.currentIndex === 0) {\n        return\n      }\n      const newIndex = isNext ? this.currentIndex + 1 : this.currentIndex - 1\n      this.computeDisplaySize(newIndex)\n      this.currentIndex = newIndex\n    },\n    getSiblingsIndex(currentIndex) {\n      let prevIndex\n      let nextIndex\n      if (this.currentIndex === 0) {\n        prevIndex = this.total - 1\n        nextIndex = 1\n      } else if (this.currentIndex === this.total - 1) {\n        prevIndex = this.total - 2\n        nextIndex = 0\n      } else {\n        prevIndex = this.currentIndex - 1\n        nextIndex = this.currentIndex + 1\n      }\n      return [prevIndex, currentIndex, nextIndex]\n    },\n    computeDisplaySize(index) {\n      if (typeof this.images[index] === 'undefined') {\n        return\n      }\n      const image = this.images[index]\n      if (image.finalWidth && image.finalHeight) {\n        return\n      }\n      const imageWidth = image.width\n      const imageHeight = image.height\n      const maxWidth = this.maxWidth\n      const maxHeight = this.maxHeight\n      let finalWidth\n      let finalHeight\n      if (maxWidth >= imageWidth && maxHeight >= imageHeight) {\n        // 小图，展示原图大小\n        finalWidth = imageWidth\n        finalHeight = imageHeight\n      } else if (maxWidth < imageWidth && maxHeight < imageHeight) {\n        // 超大图，计算一个缩放比例\n        const widthRadio = imageWidth / maxHeight\n        const heightRadio = imageHeight / maxHeight\n        if (widthRadio >= heightRadio) {\n          finalWidth = maxWidth\n          finalHeight = parseInt(imageHeight / widthRadio, 10)\n        } else {\n          finalWidth = parseInt(imageWidth / heightRadio, 10)\n          finalHeight = maxHeight\n        }\n      } else if (imageHeight < maxHeight) {\n        // 超宽图\n        const widthRadio = imageWidth / maxHeight\n        finalWidth = maxWidth\n        finalHeight = parseInt(imageHeight / widthRadio, 10)\n      } else {\n        // 超宽图\n        const heightRadio = imageHeight / maxHeight\n        finalWidth = parseInt(imageWidth / heightRadio, 10)\n        finalHeight = maxHeight\n      }\n      this.displayImages[index].finalWidth = finalWidth || maxWidth\n      this.displayImages[index].finalHeight = finalHeight || maxHeight\n    },\n    handleSwitch(oldVal, val) {\n      this.currentIndex = val\n    }\n  }\n}\n</script>\n","import { render, staticRenderFns } from \"./ImagePreview.vue?vue&type=template&id=6fb29d96&\"\nimport script from \"./ImagePreview.vue?vue&type=script&lang=js&\"\nexport * from \"./ImagePreview.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ImagePreview.vue?vue&type=style&index=0&lang=scss&module=true&\"\n\n\n\n\nfunction injectStyles (context) {\n  \n  this[\"$style\"] = (style0.locals || style0)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"ImagePreview.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js??ref--6-oneOf-0-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-0-2!../../../node_modules/sass-loader/lib/loader.js??ref--6-oneOf-0-3!../../../node_modules/sass-resources-loader/lib/loader.js??ref--6-oneOf-0-4!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImagePreview.vue?vue&type=style&index=0&lang=scss&module=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js??ref--6-oneOf-0-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-0-2!../../../node_modules/sass-loader/lib/loader.js??ref--6-oneOf-0-3!../../../node_modules/sass-resources-loader/lib/loader.js??ref--6-oneOf-0-4!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImagePreview.vue?vue&type=style&index=0&lang=scss&module=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--6-oneOf-1-3!../../node_modules/sass-resources-loader/lib/loader.js??ref--6-oneOf-1-4!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./_id.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--6-oneOf-1-3!../../node_modules/sass-resources-loader/lib/loader.js??ref--6-oneOf-1-4!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./_id.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"image-album\"}},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"album-header\"},[_c('h1',{staticClass:\"title oneline\"},[_vm._v(\"\\n        [\"+_vm._s(_vm.info.is_creator ? '原创' : '转载')+\"]\\n        [\"+_vm._s(_vm.info.is_cartoon ? '漫画' : '相册')+\"]\\n        \"+_vm._s(_vm.info.name)+\"\\n      \")]),_vm._v(\" \"),_c('div',{staticClass:\"user\"},[_c('a',{staticClass:\"author\",attrs:{\"href\":_vm.$alias.user(_vm.user.zone)}},[_c('v-img',{staticClass:\"avatar\",attrs:{\"src\":_vm.user.avatar,\"avatar\":true,\"width\":\"30\",\"height\":\"30\"}}),_vm._v(\"\\n          \"+_vm._s(_vm.user.nickname)+\"\\n        \")],1),_vm._v(\" \"),_c('span',{staticClass:\"dot\"},[_vm._v(\" · \")]),_vm._v(\" \"),_c('v-time',{model:{value:(_vm.info.created_at),callback:function ($$v) {_vm.$set(_vm.info, \"created_at\", $$v)},expression:\"info.created_at\"}}),_vm._v(\" \"),_c('div',{staticClass:\"flex1\"}),_vm._v(\" \"),_c('v-popover',{attrs:{\"report-id\":_vm.info.id,\"is-creator\":_vm.info.is_creator,\"report-type\":\"image\"}},[_c('button',{staticClass:\"tool-btn\"},[_vm._v(\"···\")])])],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"album-body\"},[(_vm.info.is_album)?_c('image-preview',{staticClass:\"images-wrap\",attrs:{\"images\":_vm.images}},[_vm._l((_vm.images),function(img){return _c('div',{key:img.id,staticClass:\"image-package\"},[_c('v-img',{staticClass:\"image\",attrs:{\"src\":img.url,\"full\":true,\"width\":img.width,\"height\":img.height}})],1)}),_vm._v(\" \"),(!_vm.info.image_count)?_c('p',{staticClass:\"no-image\"},[_vm._v(\"\\n        还没有上传图片\\n      \")]):_vm._e()],2):_c('image-preview',{attrs:{\"images\":[_vm.source]}},[_c('div',{staticClass:\"image-package\"},[_c('v-img',{staticClass:\"image\",attrs:{\"src\":_vm.source.url,\"width\":_vm.source.width,\"height\":_vm.source.height,\"full\":true}})],1)]),_vm._v(\" \"),(_vm.info.is_cartoon)?_c('div',{staticClass:\"cartoon-list\"},[_c('h3',{staticClass:\"sub-title\"},[_vm._v(\"\\n        选集（\"+_vm._s(_vm.cartoon.length)+\"）\\n        \"),(_vm.nextPartUrl)?_c('a',{staticClass:\"next\",attrs:{\"href\":_vm.nextPartUrl}},[_vm._v(\"下一话\")]):_vm._e(),_vm._v(\" \"),(_vm.showMoreBtn)?_c('div',{staticClass:\"more\",on:{\"click\":function($event){_vm.showAll = !_vm.showAll}}},[_vm._v(_vm._s(_vm.showAll ? '收起' : '展开'))]):_vm._e()]),_vm._v(\" \"),_c('ul',_vm._l((_vm.sortCartoons),function(item){return _c('li',{key:item.id},[_c('a',{staticClass:\"oneline\",class:{ 'active': item.id === _vm.id },attrs:{\"href\":_vm.$alias.image(item.id)},domProps:{\"textContent\":_vm._s(item.name)}})])}),0)]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"container\"},[_c('social-panel',{attrs:{\"id\":_vm.info.id,\"is-creator\":_vm.info.is_creator,\"is-mine\":_vm.isMine,\"type\":\"image\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"container\"},[_c('v-lazy',[_c('comment-main',{attrs:{\"id\":_vm.id,\"master-id\":_vm.user.id,\"type\":\"image\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"hr\"}),_vm._v(\" \"),_c('div',{staticClass:\"album-footer\"},[_c('div',{staticClass:\"bangumi-panel\"},[_c('h3',{staticClass:\"sub-title\"},[_vm._v(\"所属番剧：\")]),_vm._v(\" \"),_c('bangumi-panel',{attrs:{\"id\":_vm.bangumi.id,\"name\":_vm.bangumi.name,\"avatar\":_vm.bangumi.avatar}},[_c('p',{staticClass:\"summary\",domProps:{\"textContent\":_vm._s(_vm.bangumi.summary)}})])],1)])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./_id.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./_id.vue?vue&type=script&lang=js&\"","<style lang=\"scss\">\n.album-header {\n  margin-top: $container-padding;\n  margin-bottom: $container-padding;\n\n  .title {\n    font-size: 20px;\n    margin-bottom: 15px;\n  }\n\n  .user {\n    font-size: 13px;\n    display: flex;\n    align-items: center;\n\n    .author {\n      display: flex;\n      align-items: center;\n      .avatar {\n        margin-right: 5px;\n        border: 1px solid $color-gray-normal;\n      }\n    }\n\n    .dot {\n      margin: 0 5px;\n    }\n    .flex1 {\n      flex: 1;\n    }\n    .tool-btn {\n      line-height: 30px;\n    }\n  }\n}\n\n.album-body {\n  background-color: #fff;\n\n  .images-wrap {\n    .image-package {\n      position: relative;\n    }\n  }\n\n  .no-image {\n    text-align: center;\n    padding-top: 30px;\n    padding-bottom: 20px;\n    color: $color-text-normal;\n    font-size: 13px;\n  }\n\n  .cartoon-list {\n    margin-top: 20px;\n    position: relative;\n\n    .sub-title {\n      margin-left: 10px;\n\n      .next {\n        float: right;\n        font-size: 13px;\n        margin-right: 10px;\n        margin-left: 15px;\n        color: $color-text-normal;\n      }\n\n      .more {\n        float: right;\n        font-size: 13px;\n        margin-right: 10px;\n        margin-left: 15px;\n        color: $color-text-normal;\n      }\n    }\n\n    li {\n      width: 50%;\n      display: inline-block;\n      text-align: center;\n      margin-bottom: 7px;\n      padding: 0 5px;\n\n      a {\n        border: 1px solid $color-gray-deep;\n        height: 30px;\n        color: $color-link;\n        border-radius: 4px;\n        display: block;\n        font-size: 12px;\n        line-height: 28px;\n\n        &.active {\n          border-color: $color-blue-light;\n          background-color: $color-blue-light;\n          color: $color-white;\n        }\n      }\n    }\n  }\n\n  .reward-panel {\n    text-align: center;\n    margin-top: 30px;\n    margin-bottom: 30px;\n\n    button {\n      margin: 0 5px;\n      font-size: 13px;\n\n      i {\n        font-size: 12px;\n        line-height: 16px;\n      }\n    }\n\n    .album-rewarded-btn {\n      @include btn-empty(#eb9e05);\n    }\n\n    .album-reward-btn {\n      @include btn-empty(#ffffff, #eb9e05);\n    }\n\n    .album-liked-btn {\n      @include btn-empty(#fa5555);\n    }\n\n    .album-like-btn {\n      @include btn-empty(#ffffff, #fa5555);\n    }\n  }\n}\n\n.album-footer {\n  .bangumi-panel {\n    padding-top: $container-padding;\n    padding-bottom: $container-padding;\n\n    .summary {\n      font-size: 12px;\n      color: #666;\n      @include twoline(13px);\n    }\n  }\n}\n</style>\n\n<template>\n  <div id=\"image-album\">\n    <div class=\"container\">\n      <div class=\"album-header\">\n        <h1 class=\"title oneline\">\n          [{{ info.is_creator ? '原创' : '转载' }}]\n          [{{ info.is_cartoon ? '漫画' : '相册' }}]\n          {{ info.name }}\n        </h1>\n        <div class=\"user\">\n          <a\n            :href=\"$alias.user(user.zone)\"\n            class=\"author\">\n            <v-img\n              :src=\"user.avatar\"\n              :avatar=\"true\"\n              width=\"30\"\n              height=\"30\"\n              class=\"avatar\"\n            />\n            {{ user.nickname }}\n          </a>\n          <span class=\"dot\"> · </span>\n          <v-time v-model=\"info.created_at\"/>\n          <div class=\"flex1\"/>\n          <v-popover\n            :report-id=\"info.id\"\n            :is-creator=\"info.is_creator\"\n            report-type=\"image\"\n          >\n            <button class=\"tool-btn\">···</button>\n          </v-popover>\n        </div>\n      </div>\n    </div>\n    <div class=\"album-body\">\n      <image-preview\n        v-if=\"info.is_album\"\n        :images=\"images\"\n        class=\"images-wrap\">\n        <div\n          v-for=\"img in images\"\n          :key=\"img.id\"\n          class=\"image-package\"\n        >\n          <v-img\n            :src=\"img.url\"\n            :full=\"true\"\n            :width=\"img.width\"\n            :height=\"img.height\"\n            class=\"image\"\n          />\n        </div>\n        <p\n          v-if=\"!info.image_count\"\n          class=\"no-image\"\n        >\n          还没有上传图片\n        </p>\n      </image-preview>\n      <image-preview\n        v-else\n        :images=\"[source]\"\n      >\n        <div class=\"image-package\">\n          <v-img\n            :src=\"source.url\"\n            :width=\"source.width\"\n            :height=\"source.height\"\n            :full=\"true\"\n            class=\"image\"\n          />\n        </div>\n      </image-preview>\n      <div \n        v-if=\"info.is_cartoon\" \n        class=\"cartoon-list\">\n        <h3 class=\"sub-title\">\n          选集（{{ cartoon.length }}）\n          <a \n            v-if=\"nextPartUrl\" \n            :href=\"nextPartUrl\" \n            class=\"next\">下一话</a>\n          <div \n            v-if=\"showMoreBtn\" \n            class=\"more\" \n            @click=\"showAll = !showAll\">{{ showAll ? '收起' : '展开' }}</div>\n        </h3>\n        <ul>\n          <li\n            v-for=\"item in sortCartoons\"\n            :key=\"item.id\"\n          >\n            <a\n              :href=\"$alias.image(item.id)\"\n              :class=\"{ 'active': item.id === id }\"\n              class=\"oneline\"\n              v-text=\"item.name\"\n            />\n          </li>\n        </ul>\n      </div>\n      <div class=\"container\">\n        <social-panel\n          :id=\"info.id\"\n          :is-creator=\"info.is_creator\"\n          :is-mine=\"isMine\"\n          type=\"image\"\n        />\n      </div>\n    </div>\n    <div class=\"container\">\n      <v-lazy>\n        <comment-main\n          :id=\"id\"\n          :master-id=\"user.id\"\n          type=\"image\"\n        />\n      </v-lazy>\n      <div class=\"hr\"/>\n      <div class=\"album-footer\">\n        <div class=\"bangumi-panel\">\n          <h3 class=\"sub-title\">所属番剧：</h3>\n          <bangumi-panel\n            :id=\"bangumi.id\"\n            :name=\"bangumi.name\"\n            :avatar=\"bangumi.avatar\"\n          >\n            <p \n              class=\"summary\" \n              v-text=\"bangumi.summary\"/>\n          </bangumi-panel>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { getImageInfo } from '~/api/imageApi'\nimport CommentMain from '~/components/comments/CommentMain'\nimport SocialPanel from '~/components/common/SocialPanel'\nimport ImagePreview from '~/components/common/ImagePreview/ImagePreview'\nimport BangumiPanel from '~/components/panel/BangumiPanel'\nimport VPopover from '~/components/common/Popover'\n\nexport default {\n  name: 'ImageAlbum',\n  async asyncData({ app, store, params, error }) {\n    const { id } = params\n    return getImageInfo(app, { id })\n      .then(info => {\n        const { bangumi } = info\n        store.commit('social/SET_STATE', {\n          type: 'image',\n          id,\n          data: {\n            like: info.liked,\n            reward: info.rewarded,\n            mark: info.marked,\n            like_users: info.like_users,\n            mark_users: info.mark_users,\n            reward_users: info.reward_users\n          }\n        })\n        store.commit('social/SET_STATE', {\n          type: 'bangumi',\n          id: bangumi.id,\n          data: {\n            follow: bangumi.followed\n          }\n        })\n        return {\n          info,\n          bangumi,\n          user: info.user,\n          source: info.source,\n          images: info.images\n        }\n      })\n      .catch(error)\n  },\n  head() {\n    return {\n      title: this.info.name\n    }\n  },\n  components: {\n    CommentMain,\n    SocialPanel,\n    ImagePreview,\n    BangumiPanel,\n    VPopover\n  },\n  data() {\n    return {\n      take: 4,\n      page: 0,\n      part: 0,\n      showAll: false\n    }\n  },\n  computed: {\n    id() {\n      return +this.$route.params.id\n    },\n    cartoon() {\n      return this.info.parts\n    },\n    isMine() {\n      return this.$store.state.login\n        ? this.user.id === this.$store.state.user.id\n        : false\n    },\n    showMoreBtn() {\n      return this.take < this.cartoon.length\n    },\n    sortCartoons() {\n      const begin = (this.page - 1) * this.take\n      return this.showAll\n        ? this.cartoon\n        : this.cartoon.slice(begin, begin + this.take)\n    },\n    nextPartUrl() {\n      if (!this.info.is_cartoon || !this.cartoon.length) {\n        return ''\n      }\n      let index = 0\n      this.cartoon.forEach((item, idx) => {\n        if (item.id === this.id) {\n          index = idx\n        }\n      })\n      if (index >= this.cartoon.length - 1) {\n        return ''\n      }\n      return this.$alias.image(this.cartoon[index + 1].id)\n    }\n  },\n  mounted() {\n    this.computePage()\n  },\n  methods: {\n    computePage() {\n      if (!this.info.is_cartoon) {\n        return\n      }\n      this.cartoon.forEach((meta, index) => {\n        if (meta.id === this.id) {\n          this.part = index + 1\n        }\n      })\n      this.page = Math.ceil(this.part / this.take)\n    }\n  }\n}\n</script>\n","import { render, staticRenderFns } from \"./_id.vue?vue&type=template&id=9630dd86&\"\nimport script from \"./_id.vue?vue&type=script&lang=js&\"\nexport * from \"./_id.vue?vue&type=script&lang=js&\"\nimport style0 from \"./_id.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"_id.vue\"\nexport default component.exports"],"sourceRoot":""}