{"version":3,"sources":["webpack:///./components/common/Popover.vue?9162","webpack:///./components/common/Popover.vue?102d","webpack:///components/common/Popover.vue","webpack:///./components/common/Popover.vue","webpack:///./components/common/FollowButton.vue?419d","webpack:///./components/common/FollowButton.vue?30d5","webpack:///components/common/FollowButton.vue","webpack:///./components/common/FollowButton.vue","webpack:///./components/comments/CommentMain.vue?f33e","webpack:///./assets/js/scrollToY.js","webpack:///./components/comments/CommentCreateForm.vue?a898","webpack:///components/comments/CommentCreateForm.vue","webpack:///./components/comments/CommentCreateForm.vue","webpack:///./components/comments/CommentCreateForm.vue?c882","webpack:///./components/comments/CommentItem.vue?e36e","webpack:///components/comments/CommentItem.vue","webpack:///./components/comments/CommentItem.vue","webpack:///./components/comments/CommentItem.vue?2e58","webpack:///./components/comments/CommentMain.vue?8db3","webpack:///components/comments/CommentMain.vue","webpack:///./components/comments/CommentMain.vue","webpack:///./components/common/Popover.vue?d954","webpack:///./components/common/FollowButton.vue?e993","webpack:///./components/comments/SubCommentList.vue?ac4a","webpack:///./components/comments/SubCommentItem.vue?a1b0","webpack:///components/comments/SubCommentItem.vue","webpack:///./components/comments/SubCommentItem.vue","webpack:///./components/comments/SubCommentItem.vue?b569","webpack:///./components/comments/SubCommentList.vue?0ce5","webpack:///components/comments/SubCommentList.vue","webpack:///./components/comments/SubCommentList.vue","webpack:///./components/comments/CommentCreateForm.vue?dbe6","webpack:///./components/comments/SubCommentItem.vue?c909","webpack:///./components/comments/SubCommentList.vue?2fae","webpack:///./components/comments/CommentItem.vue?064e","webpack:///./components/comments/CommentMain.vue?9204"],"names":["common_Popovervue_type_script_lang_js_","name","components","el-popover","a","props","width","type","Number","default","actions","Array","reportType","String","reportId","reportText","isCreator","Boolean","className","data","show","backdropId","computed","actionList","_this","this","result","push","method","$channel","$emit","id","model","title","methods","handleShow","$backdrop","handleHide","hide","handleClick","component","Object","componentNormalizer","_vm","_h","$createElement","_c","_self","class","attrs","trigger","popper-class","on","value","callback","$$v","expression","click","_l","item","index","key","staticClass","_v","domProps","textContent","_s","_t","slot","options","__file","__webpack_exports__","common_FollowButtonvue_type_script_lang_js_","required","validator","val","indexOf","source","$store","getters","toggleFollow","state","login","dispatch","action","follow","scrollToY","targetY","timer","dom","ease","currentTime","element","document","getElementsByTagName","body","scrollY","scrollTop","window","scrollTargetY","speed","easing","time","Math","max","min","abs","easingEquations","easeOutSine","pos","sin","PI","easeInOutSine","cos","easeInOutQuint","pow","forEach","ele","requestAnimFrame","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","setTimeout","bind","tick","p","t","comments_CommentCreateFormvue_type_script_lang_js_","masterId","content","isGuest","submitting","comment","submit","_submit","asyncToGenerator_default","regeneratorRuntime","mark","_callee","wrap","_context","prev","next","abrupt","commit","images","ctx","sent","$toast","success","message","exp","getElementById","concat","$utils","getOffsetTop","finish","stop","apply","arguments","handleAreaFocus","directives","rawName","modifiers","trim","placeholder","maxlength","focus","input","$event","target","composing","blur","$forceUpdate","loading","CommentCreateForm","comments_CommentItemvue_type_script_lang_js_","VPopover","SubCommentList","deleting","liking","currentUserId","user","isMine","from_user_id","canDelete","deleteComment","liked","toggleLike","_toggleLike","$confirm","confirmButtonText","cancelButtonText","then","catch","handleCommentBtnClick","targetUserId","targetUserName","from_user_name","CommentItem_component","href","$alias","from_user_zone","src","from_user_avatar","avatar","report-id","report-type","_e","floor_count","$set","innerHTML","parent-comment","like_count","comments_CommentMainvue_type_script_lang_js_","CommentItem","onlySeeMaster","emptyText","bottomAppendComment","auto","lazy","loadingMainComment","focusCommentId","openFocusCommentDrawer","loadingSubComment","replyForm","open","replying","openCreateCommentDrawer","store","list","noMore","total","focusComment","filter","_","mounted","_this2","$on","loadMoreMainComment","$off","lazyLoadComment","_ref","_ref2","handleSubCommentReply","addEventListener","e","test","$el","contains","area","style","display","_lazyLoadComment","query","_this3","$nextTick","scrollToReply","$route","seeReplyId","only","parseInt","_loadMoreMainComment","_callee2","firstRequest","_args2","_context2","length","undefined","loadMoreSubComment","_loadMoreSubComment","_callee3","_context3","commentToComment","parent_id","_ref3","toggleFocusCommentLike","_toggleFocusCommentLike","_callee4","_context4","handleReplyDrawerClose","handleReplySubmit","_handleReplySubmit","_callee5","_context5","writeComment","closeCommentDrawer","submitCommentCallback","deleteCommentCallback","_this4","replyId","reply","CommentMain_component","master-id","delete","no-more","fetch","header-text","backdrop","from","size","img","idx","url","height","full","comments","to_user_zone","to_user_name","submit-text","cancel","fade-in","close","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_6_oneOf_1_3_node_modules_sass_resources_loader_lib_loader_js_ref_6_oneOf_1_4_node_modules_vue_loader_lib_index_js_vue_loader_options_Popover_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","n","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_6_oneOf_1_3_node_modules_sass_resources_loader_lib_loader_js_ref_6_oneOf_1_4_node_modules_vue_loader_lib_index_js_vue_loader_options_FollowButton_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","comments_SubCommentItemvue_type_script_lang_js_","parentUserId","parentCommentId","handleSubCommentClick","parentId","comments_SubCommentListvue_type_script_lang_js_","SubCommentItem","parentComment","authorId","hasComment","filterComments","slice","every","maxId","ids","map","loadAllComment","SubCommentList_component","parent-user-id","parent-comment-id","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_6_oneOf_1_3_node_modules_sass_resources_loader_lib_loader_js_ref_6_oneOf_1_4_node_modules_vue_loader_lib_index_js_vue_loader_options_CommentCreateForm_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_6_oneOf_1_3_node_modules_sass_resources_loader_lib_loader_js_ref_6_oneOf_1_4_node_modules_vue_loader_lib_index_js_vue_loader_options_SubCommentItem_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_6_oneOf_1_3_node_modules_sass_resources_loader_lib_loader_js_ref_6_oneOf_1_4_node_modules_vue_loader_lib_index_js_vue_loader_options_SubCommentList_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_6_oneOf_1_3_node_modules_sass_resources_loader_lib_loader_js_ref_6_oneOf_1_4_node_modules_vue_loader_lib_index_js_vue_loader_options_CommentItem_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_6_oneOf_1_3_node_modules_sass_resources_loader_lib_loader_js_ref_6_oneOf_1_4_node_modules_vue_loader_lib_index_js_vue_loader_options_CommentMain_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__"],"mappings":"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","file":"pages/pin/_id.pages/post/_id.pages/qaq/_id.pages/review/_id.pages/role/_id.pages/soga/_id.pages/vide.b5f21870.chunk.2b8c0b62.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{class:_vm.className},[_c('el-popover',{attrs:{\"width\":_vm.width,\"trigger\":\"click\",\"popper-class\":\"v-popover\"},on:{\"show\":_vm.handleShow,\"hide\":_vm.handleHide},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('ul',{on:{\"click\":_vm.handleClick}},_vm._l((_vm.actionList),function(item,index){return _c('li',{key:index,on:{\"click\":item.method}},[_c('i',{staticClass:\"el-icon-arrow-right\"}),_vm._v(\" \"),_c('span',{staticClass:\"oneline\",domProps:{\"textContent\":_vm._s(item.name)}})])}),0),_vm._v(\" \"),_vm._t(\"default\",null,{slot:\"reference\"})],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Popover.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Popover.vue?vue&type=script&lang=js&\"","<style lang=\"scss\">\n.v-popover {\n  padding: 0;\n  border: none;\n\n  ul {\n    border-radius: 13px;\n    overflow: hidden;\n\n    li {\n      position: relative;\n      display: block;\n      height: 40px;\n      padding-left: 15px;\n      line-height: 40px;\n      font-size: 14px;\n\n      &:not(:last-child) {\n        &:after {\n          content: '';\n          position: absolute;\n          background-color: #c8c7cc;\n          display: block;\n          z-index: 15;\n          top: auto;\n          right: auto;\n          bottom: 0;\n          left: 0;\n          height: 1px;\n          width: 100%;\n          transform-origin: 50% 100%;\n          transform: scaleY(0.5);\n        }\n      }\n\n      span {\n        display: block;\n      }\n\n      i {\n        float: right;\n        margin-top: 13px;\n        margin-right: 10px;\n        margin-left: 10px;\n      }\n    }\n  }\n}\n</style>\n\n<template>\n  <span :class=\"className\">\n    <el-popover\n      v-model=\"show\"\n      :width=\"width\"\n      trigger=\"click\"\n      popper-class=\"v-popover\"\n      @show=\"handleShow\"\n      @hide=\"handleHide\"\n    >\n      <ul @click=\"handleClick\">\n        <li\n          v-for=\"(item, index) in actionList\"\n          :key=\"index\"\n          @click=\"item.method\"\n        >\n          <i class=\"el-icon-arrow-right\" />\n          <span \n            class=\"oneline\" \n            v-text=\"item.name\" />\n        </li>\n      </ul>\n      <slot slot=\"reference\" />\n    </el-popover>\n  </span>\n</template>\n\n<script>\nimport { Popover } from 'element-ui'\n\nexport default {\n  name: 'VPopover',\n  components: {\n    'el-popover': Popover\n  },\n  props: {\n    width: {\n      type: Number,\n      default: 240\n    },\n    actions: {\n      type: Array,\n      default: () => []\n    },\n    reportType: {\n      type: String,\n      default: ''\n    },\n    reportId: {\n      type: Number,\n      default: 0\n    },\n    reportText: {\n      type: String,\n      default: '举报'\n    },\n    isCreator: {\n      type: Boolean,\n      default: false\n    },\n    className: {\n      type: String,\n      default: ''\n    }\n  },\n  data() {\n    return {\n      show: false,\n      backdropId: 0\n    }\n  },\n  computed: {\n    actionList() {\n      const result = this.actions\n      if (this.reportId) {\n        result.push({\n          name: this.reportText,\n          method: () =>\n            this.$channel.$emit('open-report-drawer', {\n              id: this.reportId,\n              model: this.reportType,\n              title: this.reportText,\n              isCreator: this.isCreator\n            })\n        })\n      }\n      return result\n    }\n  },\n  methods: {\n    handleShow() {\n      this.backdropId = this.$backdrop.show()\n    },\n    handleHide() {\n      this.$backdrop.hide(this.backdropId)\n    },\n    handleClick() {\n      this.show = false\n    }\n  }\n}\n</script>\n","import { render, staticRenderFns } from \"./Popover.vue?vue&type=template&id=38bf82a6&\"\nimport script from \"./Popover.vue?vue&type=script&lang=js&\"\nexport * from \"./Popover.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Popover.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Popover.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"follow-button\",on:{\"click\":_vm.toggleFollow}},[_c('i',{staticClass:\"iconfont icon-like\"}),_vm._v(\" \"+_vm._s(_vm.source.follow ? '已关注' : '关注')+\"\\n\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FollowButton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FollowButton.vue?vue&type=script&lang=js&\"","<style lang=\"scss\">\n.follow-button {\n  @include btn-empty($color-pink-deep);\n}\n</style>\n\n<template>\n  <button \n    class=\"follow-button\"\n    @click=\"toggleFollow\">\n    <i class=\"iconfont icon-like\" /> {{ source.follow ? '已关注' : '关注' }}\n  </button>\n</template>\n\n<script>\nexport default {\n  props: {\n    type: {\n      required: true,\n      type: String,\n      validator: val => ~['bangumi', 'user', 'question'].indexOf(val)\n    },\n    id: {\n      required: true,\n      type: Number\n    }\n  },\n  computed: {\n    source() {\n      return this.$store.getters['social/getState'](this.type, this.id)\n    }\n  },\n  methods: {\n    toggleFollow() {\n      if (!this.$store.state.login) {\n        this.$channel.$emit('sign-in')\n        return\n      }\n      this.$store.dispatch('social/toggleAction', {\n        id: this.id,\n        type: this.type,\n        action: 'follow'\n      })\n    }\n  }\n}\n</script>\n","import { render, staticRenderFns } from \"./FollowButton.vue?vue&type=template&id=22cfe3c9&\"\nimport script from \"./FollowButton.vue?vue&type=script&lang=js&\"\nexport * from \"./FollowButton.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FollowButton.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"FollowButton.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"comment-wrap\"}},[_vm._t(\"header\",[(!_vm.auto)?_c('div',{staticClass:\"hr\"}):_vm._e(),_vm._v(\" \"),_c('h3',{staticClass:\"sub-title\"},[_vm._v(\"\\n      评论\"+_vm._s(_vm.total ? (\"(\" + _vm.total + \")\") : '')+\" \"),_vm._t(\"header-btn\"),_vm._v(\" \"),_c('button',{staticClass:\"write-btn\",on:{\"click\":_vm.writeComment}},[_vm._v(\"写评论\")])],2)]),_vm._v(\" \"),(_vm.list.length)?[_c('div',{attrs:{\"id\":\"comment-list-wrap\"}},_vm._l((_vm.list),function(comment){return _c('div',{key:comment.id,staticClass:\"comment-item-wrap\"},[_vm._t(\"comment-item\",[_c('comment-item',{attrs:{\"type\":_vm.type,\"comment\":comment,\"master-id\":_vm.masterId},on:{\"delete\":_vm.deleteCommentCallback}})],{comment:comment,reply:_vm.handleSubCommentReply})],2)}),0),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"comment-list-footer\"}},[(_vm.bottomAppendComment)?_c('button',{staticClass:\"append-comment-btn\",on:{\"click\":_vm.writeComment}},[_vm._v(\"\\n        写评论\\n      \")]):_vm._e(),_vm._v(\" \"),_c('more-btn',{attrs:{\"no-more\":_vm.noMore,\"loading\":_vm.loadingMainComment,\"auto\":true},on:{\"fetch\":function($event){_vm.loadMoreMainComment(false)}}})],1)]:(_vm.emptyText)?_c('p',{staticClass:\"no-content\",domProps:{\"textContent\":_vm._s(_vm.emptyText)}}):_vm._e(),_vm._v(\" \"),_c('v-drawer',{staticClass:\"focus-comment-drawer\",attrs:{\"header-text\":(\"评论列表\" + (_vm.focusComment && _vm.focusComment.floor_count\n          ? (\" - \" + (_vm.focusComment.floor_count) + \" 楼\")\n          : '')),\"backdrop\":false,\"from\":\"bottom\",\"size\":\"100%\"},model:{value:(_vm.openFocusCommentDrawer),callback:function ($$v) {_vm.openFocusCommentDrawer=$$v},expression:\"openFocusCommentDrawer\"}},[(_vm.focusComment)?[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"reply\"},[_c('div',{staticClass:\"user clearfix\"},[_c('a',{staticClass:\"avatar\",attrs:{\"href\":_vm.$alias.user(_vm.focusComment.from_user_zone)}},[_c('v-img',{attrs:{\"src\":_vm.focusComment.from_user_avatar,\"avatar\":true,\"width\":\"35\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"summary\"},[_c('a',{staticClass:\"nickname\",attrs:{\"href\":_vm.$alias.user(_vm.focusComment.from_user_zone)},domProps:{\"textContent\":_vm._s(_vm.focusComment.from_user_name)}}),_vm._v(\" \"),_c('div',{staticClass:\"info\"},[_c('v-time',{model:{value:(_vm.focusComment.created_at),callback:function ($$v) {_vm.$set(_vm.focusComment, \"created_at\", $$v)},expression:\"focusComment.created_at\"}})],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"text-area\",domProps:{\"innerHTML\":_vm._s(_vm.focusComment.content)}}),_vm._v(\" \"),_c('div',{staticClass:\"image-area\"},_vm._l((_vm.focusComment.images),function(img,idx){return _c('div',{key:idx,staticClass:\"image-package\"},[_c('v-img',{attrs:{\"src\":img.url,\"width\":img.width,\"height\":img.height,\"full\":true}})],1)}),0)]),_vm._v(\" \"),_c('div',{staticClass:\"social\"},[_c('button',{class:[\n                _vm.focusComment.liked ? 'reply-liked-btn' : 'reply-like-btn'\n              ],on:{\"click\":_vm.toggleFocusCommentLike}},[_c('i',{staticClass:\"iconfont icon-icon_good\"}),_vm._v(\"\\n              \"+_vm._s(_vm.focusComment.liked ? '已赞' : '赞')+\"\\n              \"),(_vm.focusComment.like_count)?_c('span',[_vm._v(\"(\"+_vm._s(_vm.focusComment.like_count)+\")\")]):_vm._e()]),_vm._v(\" \"),_c('button',{staticClass:\"reply-btn fr\",on:{\"click\":_vm.handleCommentBtnClick}},[_vm._v(\"\\n              回复\\n            \")])])]),_vm._v(\" \"),_c('div',{staticClass:\"hr\"}),_vm._v(\" \"),_c('p',{staticClass:\"total\"},[_vm._v(_vm._s(_vm.focusComment.comments.total)+\"条回复\")]),_vm._v(\" \"),_c('ul',{staticClass:\"comments\"},_vm._l((_vm.focusComment.comments.list),function(item){return _c('li',{key:item.id},[_c('div',{staticClass:\"from-user\"},[_c('a',{staticClass:\"avatar\",attrs:{\"href\":_vm.$alias.user(item.from_user_zone)}},[_c('v-img',{attrs:{\"src\":item.from_user_avatar,\"avatar\":true,\"width\":\"35\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"summary\"},[_c('div',{staticClass:\"users oneline\"},[_c('a',{staticClass:\"nickname\",attrs:{\"href\":_vm.$alias.user(item.from_user_zone)},domProps:{\"textContent\":_vm._s(item.from_user_name)}}),_vm._v(\" \"),(item.to_user_zone)?[_vm._v(\"\\n                    回复\\n                    \"),_c('a',{staticClass:\"nickname\",attrs:{\"href\":_vm.$alias.user(item.to_user_zone)},domProps:{\"textContent\":_vm._s(item.to_user_name)}})]:_vm._e(),_vm._v(\"\\n                  :\\n                \")],2),_vm._v(\" \"),_c('div',{staticClass:\"info\"},[_c('v-time',{model:{value:(item.created_at),callback:function ($$v) {_vm.$set(item, \"created_at\", $$v)},expression:\"item.created_at\"}})],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"main\"},[_c('div',{staticClass:\"content reply-btn\",domProps:{\"textContent\":_vm._s(item.content)},on:{\"click\":function($event){_vm.commentToComment(item)}}})])])}),0)]),_vm._v(\" \"),_c('more-btn',{attrs:{\"no-more\":_vm.focusComment.comments.noMore,\"loading\":_vm.loadingSubComment},on:{\"fetch\":_vm.loadMoreSubComment}})]:_vm._e()],2),_vm._v(\" \"),_c('div',{staticClass:\"reply-comment-drawer-wrap\"},[_c('v-drawer',{staticClass:\"reply-comment-drawer\",attrs:{\"header-text\":_vm.currentUserId === _vm.replyForm.targetUserId\n          ? '回复'\n          : (\"回复：\" + (_vm.replyForm.targetUserName)),\"backdrop\":false,\"from\":\"right\",\"size\":\"100%\",\"submit-text\":\"发布\"},on:{\"cancel\":_vm.handleReplyDrawerClose,\"submit\":_vm.handleReplySubmit},model:{value:(_vm.replyForm.open),callback:function ($$v) {_vm.$set(_vm.replyForm, \"open\", $$v)},expression:\"replyForm.open\"}}),_vm._v(\" \"),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.replyForm.content),expression:\"replyForm.content\",modifiers:{\"trim\":true}}],class:{ 'fade-in': _vm.replyForm.open },attrs:{\"id\":\"reply-comment-textarea\",\"placeholder\":\"100字以内任意发挥\",\"maxlength\":\"100\"},domProps:{\"value\":(_vm.replyForm.content)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.replyForm, \"content\", $event.target.value.trim())},\"blur\":function($event){_vm.$forceUpdate()}}})],1),_vm._v(\" \"),_c('v-drawer',{attrs:{\"from\":\"right\",\"size\":\"100%\",\"header-text\":\"发表评论\"},model:{value:(_vm.openCreateCommentDrawer),callback:function ($$v) {_vm.openCreateCommentDrawer=$$v},expression:\"openCreateCommentDrawer\"}},[(_vm.openCreateCommentDrawer)?_c('div',{staticClass:\"container\"},[_vm._t(\"reply-form\",[(_vm.openCreateCommentDrawer)?_c('comment-create-form',{attrs:{\"id\":_vm.id,\"type\":_vm.type,\"master-id\":_vm.masterId},on:{\"close\":_vm.closeCommentDrawer,\"submit\":_vm.submitCommentCallback}}):_vm._e()],{close:_vm.closeCommentDrawer})],2):_vm._e()])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * [ scrollToY 指定的 DOM 过度滚动到指定的 Y 轴 ]\n * @param targetY\n * @param timer\n * @param dom\n * @param ease\n */\nexport default (targetY, timer, dom, ease) => {\n  let currentTime = 0\n  const element = dom\n    ? [dom]\n    : [document.getElementsByTagName('html')[0], document.body]\n  const scrollY = dom ? dom.scrollTop : window.scrollY\n  const scrollTargetY = targetY || 0\n  const speed = timer || 2000\n  const easing = ease || 'easeOutSine'\n  const time = Math.max(\n    0.1,\n    Math.min(Math.abs(scrollY - scrollTargetY) / speed, 0.8)\n  )\n  const easingEquations = {\n    easeOutSine(pos) {\n      return Math.sin(pos * (Math.PI / 2))\n    },\n    easeInOutSine(pos) {\n      return -0.5 * (Math.cos(Math.PI * pos) - 1)\n    },\n    easeInOutQuint(pos) {\n      // eslint-disable-next-line\n      if ((pos /= 0.5) < 1) {\n        return 0.5 * Math.pow(pos, 5)\n      }\n      return 0.5 * (Math.pow(pos - 2, 5) + 2)\n    }\n  }\n  element.forEach(ele => {\n    if (!ele.requestAnimFrame) {\n      ele.requestAnimFrame = (function() {\n        return (\n          window.requestAnimationFrame ||\n          window.webkitRequestAnimationFrame ||\n          window.mozRequestAnimationFrame ||\n          function(callback) {\n            window.setTimeout(callback, 1000 / 60)\n          }\n        )\n      })().bind(window)\n    }\n  })\n  function tick() {\n    currentTime += 1 / 60\n    const p = currentTime / time\n    const t = easingEquations[easing](p)\n    element.forEach(ele => {\n      if (p < 1) {\n        ele.requestAnimFrame(tick)\n        ele.scrollTop = scrollY + (scrollTargetY - scrollY) * t\n      } else {\n        ele.scrollTop = scrollTargetY\n      }\n    })\n  }\n  tick()\n}\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentCreateForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentCreateForm.vue?vue&type=script&lang=js&\"","<style lang=\"scss\">\n.comment-create-form {\n  .content {\n    font-size: 16px;\n    line-height: 24px;\n    color: #000;\n    font-weight: 400;\n    height: 250px;\n    margin-bottom: 5px;\n  }\n\n  .submit-btn {\n    margin-top: 15px;\n    width: 100%;\n  }\n}\n</style>\n\n<template>\n  <div class=\"comment-create-form\">\n    <textarea\n      v-model.trim=\"content\"\n      class=\"content\"\n      placeholder=\"来吧，尽情的（在1000字以内）发挥吧\"\n      maxlength=\"1000\"\n      @focus=\"handleAreaFocus\"\n    />\n    <el-button\n      :loading=\"submitting\"\n      class=\"submit-btn\"\n      type=\"primary\"\n      @click=\"submit\"\n    >发布</el-button\n    >\n  </div>\n</template>\n\n<script>\nimport scrollToY from '~/assets/js/scrollToY'\n\nexport default {\n  name: 'CommentCreateForm',\n  props: {\n    type: {\n      required: true,\n      type: String\n    },\n    id: {\n      required: true,\n      type: [Number, String]\n    },\n    masterId: {\n      required: true,\n      type: Number\n    }\n  },\n  data() {\n    return {\n      content: ''\n    }\n  },\n  computed: {\n    isGuest() {\n      return !this.$store.state.login\n    },\n    submitting() {\n      return this.$store.state.comment.submitting\n    }\n  },\n  methods: {\n    async submit() {\n      if (this.isGuest) {\n        this.$channel.$emit('sign-in')\n        return\n      }\n      if (!this.content) {\n        this.$emit('close')\n        return\n      }\n      if (this.submitting) {\n        return\n      }\n      this.$store.commit('comment/SET_SUBMITTING', { result: true })\n      try {\n        const result = await this.$store.dispatch('comment/createMainComment', {\n          content: this.content,\n          images: [],\n          type: this.type,\n          id: this.id,\n          ctx: this\n        })\n        this.$toast.success(result.message)\n        this.$store.commit('UPDATE_USER_EXP', result.exp)\n        this.$emit('submit')\n        this.content = ''\n        setTimeout(() => {\n          const dom = document.getElementById(`comment-${result.data.id}`)\n          dom && scrollToY(this.$utils.getOffsetTop(dom) - 100, 600)\n        }, 400)\n      } finally {\n        this.$store.commit('comment/SET_SUBMITTING', { result: false })\n      }\n    },\n    handleAreaFocus() {\n      document.body.scrollTop = 0\n    }\n  }\n}\n</script>\n","import { render, staticRenderFns } from \"./CommentCreateForm.vue?vue&type=template&id=02ffdaf0&\"\nimport script from \"./CommentCreateForm.vue?vue&type=script&lang=js&\"\nexport * from \"./CommentCreateForm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CommentCreateForm.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"CommentCreateForm.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"comment-create-form\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.content),expression:\"content\",modifiers:{\"trim\":true}}],staticClass:\"content\",attrs:{\"placeholder\":\"来吧，尽情的（在1000字以内）发挥吧\",\"maxlength\":\"1000\"},domProps:{\"value\":(_vm.content)},on:{\"focus\":_vm.handleAreaFocus,\"input\":function($event){if($event.target.composing){ return; }_vm.content=$event.target.value.trim()},\"blur\":function($event){_vm.$forceUpdate()}}}),_vm._v(\" \"),_c('el-button',{staticClass:\"submit-btn\",attrs:{\"loading\":_vm.submitting,\"type\":\"primary\"},on:{\"click\":_vm.submit}},[_vm._v(\"发布\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentItem.vue?vue&type=script&lang=js&\"","<style lang=\"scss\">\n.comment-item {\n  position: relative;\n  margin-top: $container-padding;\n  padding-bottom: $container-padding;\n  @include border-bottom();\n\n  .avatar {\n    float: left;\n    margin-right: 9px;\n  }\n\n  .content {\n    overflow: hidden;\n\n    .header {\n      .tools-btn {\n        float: right;\n        line-height: 16px;\n        font-size: 12px;\n        color: #535353;\n        padding-top: 9px;\n        padding-left: 4px;\n      }\n\n      .user {\n        .nickname {\n          font-size: 14px;\n          height: 20px;\n          line-height: 20px;\n          display: block;\n          color: #333;\n          margin-bottom: 1px;\n\n          span {\n            margin-right: 2px;\n          }\n\n          .icon-leader {\n            color: $color-pink-deep;\n            font-size: 14px;\n          }\n\n          .icon-master {\n            color: $color-blue-normal;\n            font-size: 13px;\n          }\n        }\n\n        .info {\n          color: #999;\n          line-height: 14px;\n          font-size: 12px;\n\n          span {\n            margin-right: 5px;\n          }\n        }\n      }\n    }\n\n    .main {\n      font-size: 16px;\n      margin: 10px 0 4px;\n      color: #333;\n      line-height: 24px;\n      min-height: 65px;\n\n      .image-area {\n        margin: 10px 0;\n\n        img {\n          width: 100%;\n          height: auto;\n        }\n      }\n    }\n\n    .footer {\n      .social {\n        font-size: 12px;\n\n        .reply-liked-btn {\n          color: $color-blue-deep;\n        }\n\n        button {\n          color: #666;\n          padding-left: 3px;\n          padding-top: 11px;\n        }\n      }\n    }\n  }\n}\n</style>\n\n<template>\n  <div \n    :id=\"`comment-${comment.id}`\" \n    class=\"comment-item\">\n    <a \n      :href=\"$alias.user(comment.from_user_zone)\" \n      class=\"avatar\">\n      <v-img \n        :src=\"comment.from_user_avatar\" \n        :avatar=\"true\" \n        width=\"35\" />\n    </a>\n    <div class=\"content\">\n      <div class=\"header\">\n        <v-popover\n          :actions=\"actions\"\n          :report-id=\"comment.id\"\n          :report-type=\"type + '_comment'\"\n        >\n          <button class=\"tools-btn\">···</button>\n        </v-popover>\n        <div class=\"user\">\n          <a\n            :href=\"$alias.user(comment.from_user_zone)\"\n            class=\"nickname oneline\"\n          >\n            <span v-text=\"comment.from_user_name\" />\n            <span v-if=\"comment.is_owner\">(楼主)</span>\n            <i \n              v-if=\"comment.is_leader\" \n              class=\"iconfont icon-leader\" />\n            <i \n              v-else-if=\"comment.is_master\" \n              class=\"iconfont icon-master\" />\n          </a>\n          <div class=\"info\">\n            <span>第{{ comment.floor_count - 1 }}楼</span> <span>·</span>\n            <v-time v-model=\"comment.created_at\" />\n          </div>\n        </div>\n      </div>\n      <div \n        class=\"main\" \n        v-html=\"comment.content\" />\n      <div class=\"footer\">\n        <sub-comment-list \n          :parent-comment=\"comment\" \n          :type=\"type\" />\n        <div class=\"social\">\n          <button\n            :class=\"[comment.liked ? 'reply-liked-btn' : 'reply-like-btn']\"\n            @click=\"toggleLike\"\n          >\n            <i class=\"iconfont icon-icon_good\" />\n            {{ comment.liked ? '已赞' : '赞' }}\n            <span v-if=\"comment.like_count\">({{ comment.like_count }})</span>\n          </button>\n          <button \n            class=\"reply-btn fr\" \n            @click=\"handleCommentBtnClick\">\n            回复\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport SubCommentList from './SubCommentList'\nimport VPopover from '~/components/common/Popover'\n\nexport default {\n  name: 'CommentCommentItem',\n  components: {\n    VPopover,\n    SubCommentList\n  },\n  props: {\n    comment: {\n      required: true,\n      type: Object\n    },\n    masterId: {\n      required: true,\n      type: Number\n    },\n    type: {\n      required: true,\n      type: String\n    }\n  },\n  data() {\n    return {\n      deleting: false,\n      liking: false\n    }\n  },\n  computed: {\n    currentUserId() {\n      return this.$store.state.login ? this.$store.state.user.id : 0\n    },\n    isMine() {\n      return this.currentUserId === this.comment.from_user_id\n    },\n    canDelete() {\n      return this.isMine || this.currentUserId === this.masterId\n    },\n    actions() {\n      const result = []\n      if (this.canDelete) {\n        result.push({\n          name: '删除',\n          method: this.deleteComment\n        })\n      }\n      result.push({\n        name: this.comment.liked ? '取消赞' : '点赞',\n        method: this.toggleLike\n      })\n\n      return result\n    }\n  },\n  methods: {\n    async toggleLike() {\n      if (!this.currentUserId) {\n        this.$channel.$emit('sign-in')\n        return\n      }\n      if (this.liking) {\n        return\n      }\n      this.liking = true\n      try {\n        await this.$store.dispatch('comment/toggleLikeMainComment', {\n          ctx: this,\n          type: this.type,\n          id: this.comment.id\n        })\n      } finally {\n        this.liking = false\n      }\n    },\n    deleteComment() {\n      if (this.deleting) {\n        return\n      }\n      this.deleting = true\n      this.$confirm('删除后无法找回, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      })\n        .then(() => {\n          this.$store.dispatch('comment/deleteMainComment', {\n            ctx: this,\n            type: this.type,\n            id: this.comment.id\n          })\n          this.$emit('delete')\n        })\n        .catch(() => {\n          this.deleting = false\n        })\n    },\n    handleCommentBtnClick() {\n      this.$channel.$emit('reply-comment', {\n        id: this.comment.id,\n        targetUserId: this.comment.from_user_id,\n        targetUserName: this.comment.from_user_name\n      })\n    }\n  }\n}\n</script>\n","import { render, staticRenderFns } from \"./CommentItem.vue?vue&type=template&id=d3062fdc&\"\nimport script from \"./CommentItem.vue?vue&type=script&lang=js&\"\nexport * from \"./CommentItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CommentItem.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"CommentItem.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"comment-item\",attrs:{\"id\":(\"comment-\" + (_vm.comment.id))}},[_c('a',{staticClass:\"avatar\",attrs:{\"href\":_vm.$alias.user(_vm.comment.from_user_zone)}},[_c('v-img',{attrs:{\"src\":_vm.comment.from_user_avatar,\"avatar\":true,\"width\":\"35\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"header\"},[_c('v-popover',{attrs:{\"actions\":_vm.actions,\"report-id\":_vm.comment.id,\"report-type\":_vm.type + '_comment'}},[_c('button',{staticClass:\"tools-btn\"},[_vm._v(\"···\")])]),_vm._v(\" \"),_c('div',{staticClass:\"user\"},[_c('a',{staticClass:\"nickname oneline\",attrs:{\"href\":_vm.$alias.user(_vm.comment.from_user_zone)}},[_c('span',{domProps:{\"textContent\":_vm._s(_vm.comment.from_user_name)}}),_vm._v(\" \"),(_vm.comment.is_owner)?_c('span',[_vm._v(\"(楼主)\")]):_vm._e(),_vm._v(\" \"),(_vm.comment.is_leader)?_c('i',{staticClass:\"iconfont icon-leader\"}):(_vm.comment.is_master)?_c('i',{staticClass:\"iconfont icon-master\"}):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"info\"},[_c('span',[_vm._v(\"第\"+_vm._s(_vm.comment.floor_count - 1)+\"楼\")]),_vm._v(\" \"),_c('span',[_vm._v(\"·\")]),_vm._v(\" \"),_c('v-time',{model:{value:(_vm.comment.created_at),callback:function ($$v) {_vm.$set(_vm.comment, \"created_at\", $$v)},expression:\"comment.created_at\"}})],1)])],1),_vm._v(\" \"),_c('div',{staticClass:\"main\",domProps:{\"innerHTML\":_vm._s(_vm.comment.content)}}),_vm._v(\" \"),_c('div',{staticClass:\"footer\"},[_c('sub-comment-list',{attrs:{\"parent-comment\":_vm.comment,\"type\":_vm.type}}),_vm._v(\" \"),_c('div',{staticClass:\"social\"},[_c('button',{class:[_vm.comment.liked ? 'reply-liked-btn' : 'reply-like-btn'],on:{\"click\":_vm.toggleLike}},[_c('i',{staticClass:\"iconfont icon-icon_good\"}),_vm._v(\"\\n          \"+_vm._s(_vm.comment.liked ? '已赞' : '赞')+\"\\n          \"),(_vm.comment.like_count)?_c('span',[_vm._v(\"(\"+_vm._s(_vm.comment.like_count)+\")\")]):_vm._e()]),_vm._v(\" \"),_c('button',{staticClass:\"reply-btn fr\",on:{\"click\":_vm.handleCommentBtnClick}},[_vm._v(\"\\n          回复\\n        \")])])],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentMain.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentMain.vue?vue&type=script&lang=js&\"","<style lang=\"scss\">\n#comment-wrap {\n  .sub-title {\n    margin-top: 15px;\n    margin-bottom: 15px;\n\n    .write-btn {\n      float: right;\n      font-weight: bold;\n      font-size: 13px;\n    }\n  }\n\n  #comment-list-footer {\n    margin-left: -$container-padding;\n    margin-right: -$container-padding;\n  }\n\n  .focus-comment-drawer {\n    .reply {\n      .user {\n        padding-top: 5px;\n\n        .avatar {\n          float: left;\n          margin-right: 9px;\n        }\n\n        .summary {\n          overflow: hidden;\n\n          .nickname {\n            font-size: 14px;\n            color: #333;\n          }\n\n          .info {\n            line-height: 16px;\n            font-size: 12px;\n            color: #999;\n\n            span {\n              margin-right: 5px;\n            }\n          }\n        }\n      }\n\n      .content {\n        font-size: 16px;\n        line-height: 24px;\n        padding-top: 16px;\n        margin-bottom: 16px;\n        color: #000;\n\n        .image-area {\n          margin: 16px 0;\n\n          img {\n            width: 100%;\n            height: auto;\n          }\n        }\n      }\n\n      .social {\n        margin-bottom: 15px;\n        font-size: 12px;\n\n        .reply-liked-btn {\n          color: $color-blue-deep;\n        }\n\n        button {\n          color: #666;\n          margin-left: 3px;\n        }\n      }\n    }\n\n    .total {\n      height: 40px;\n      line-height: 40px;\n      color: #000;\n      font-size: 16px;\n    }\n\n    .comments {\n      li {\n        padding: 17px 0 13px;\n        position: relative;\n        @include border-bottom();\n\n        .from-user {\n          .avatar {\n            float: left;\n            display: block;\n            margin-right: 9px;\n          }\n\n          .summary {\n            overflow: hidden;\n\n            .users {\n              font-size: 14px;\n              margin-bottom: 6px;\n              margin-top: 2px;\n              line-height: 14px;\n\n              .nickname {\n                color: $color-blue-deep;\n              }\n            }\n\n            .info {\n              font-size: 12px;\n              line-height: 12px;\n              color: #999;\n            }\n          }\n        }\n\n        .main {\n          margin-left: 45px;\n          padding-top: 10px;\n\n          .content {\n            font-size: 14px;\n            line-height: 21px;\n            word-break: break-all;\n          }\n        }\n      }\n    }\n  }\n\n  .reply-comment-drawer-wrap {\n    #reply-comment-textarea {\n      position: fixed;\n      left: 0;\n      top: 60px;\n      width: 100%;\n      height: 250px;\n      background-color: transparent;\n      font-size: 16px;\n      line-height: 24px;\n      color: #000;\n      font-weight: 400;\n      z-index: 101;\n      padding-left: $container-padding;\n      padding-right: $container-padding;\n      display: none;\n      opacity: 0;\n\n      &.fade-in {\n        opacity: 1;\n        transition-delay: 400ms;\n      }\n    }\n  }\n\n  .append-comment-btn {\n    width: 100%;\n    padding: 15px 0;\n    font-size: 13px;\n  }\n\n  .no-content {\n    text-align: center;\n    margin-top: 30px;\n    margin-bottom: 30px;\n    font-size: 12px;\n    color: #99a2aa;\n  }\n}\n</style>\n\n<template>\n  <div id=\"comment-wrap\">\n    <!-- 主列表的头部 -->\n    <slot name=\"header\">\n      <div \n        v-if=\"!auto\" \n        class=\"hr\" />\n      <h3 class=\"sub-title\">\n        评论{{ total ? `(${total})` : '' }} <slot name=\"header-btn\" />\n        <button \n          class=\"write-btn\" \n          @click=\"writeComment\">写评论</button>\n      </h3>\n    </slot>\n    <!-- 主列表的 list -->\n    <template v-if=\"list.length\">\n      <div id=\"comment-list-wrap\">\n        <!-- 每条主评论 -->\n        <div\n          v-for=\"comment in list\"\n          :key=\"comment.id\"\n          class=\"comment-item-wrap\"\n        >\n          <!-- 主评论的内容 -->\n          <slot\n            :comment=\"comment\"\n            :reply=\"handleSubCommentReply\"\n            name=\"comment-item\"\n          >\n            <comment-item\n              :type=\"type\"\n              :comment=\"comment\"\n              :master-id=\"masterId\"\n              @delete=\"deleteCommentCallback\"\n            />\n          </slot>\n        </div>\n      </div>\n      <div id=\"comment-list-footer\">\n        <button\n          v-if=\"bottomAppendComment\"\n          class=\"append-comment-btn\"\n          @click=\"writeComment\"\n        >\n          写评论\n        </button>\n        <more-btn\n          :no-more=\"noMore\"\n          :loading=\"loadingMainComment\"\n          :auto=\"true\"\n          @fetch=\"loadMoreMainComment(false)\"\n        />\n      </div>\n    </template>\n    <p \n      v-else-if=\"emptyText\" \n      class=\"no-content\" \n      v-text=\"emptyText\" />\n    <!-- reply detail drawer -->\n    <v-drawer\n      v-model=\"openFocusCommentDrawer\"\n      :header-text=\"\n        `评论列表${\n          focusComment && focusComment.floor_count\n            ? ` - ${focusComment.floor_count} 楼`\n            : ''\n        }`\n      \"\n      :backdrop=\"false\"\n      from=\"bottom\"\n      size=\"100%\"\n      class=\"focus-comment-drawer\"\n    >\n      <template v-if=\"focusComment\">\n        <div class=\"container\">\n          <div class=\"reply\">\n            <div class=\"user clearfix\">\n              <a\n                :href=\"$alias.user(focusComment.from_user_zone)\"\n                class=\"avatar\"\n              >\n                <v-img\n                  :src=\"focusComment.from_user_avatar\"\n                  :avatar=\"true\"\n                  width=\"35\"\n                />\n              </a>\n              <div class=\"summary\">\n                <a\n                  :href=\"$alias.user(focusComment.from_user_zone)\"\n                  class=\"nickname\"\n                  v-text=\"focusComment.from_user_name\"\n                />\n                <div class=\"info\">\n                  <v-time v-model=\"focusComment.created_at\" />\n                </div>\n              </div>\n            </div>\n            <div class=\"content\">\n              <div \n                class=\"text-area\" \n                v-html=\"focusComment.content\" />\n              <div class=\"image-area\">\n                <div\n                  v-for=\"(img, idx) in focusComment.images\"\n                  :key=\"idx\"\n                  class=\"image-package\"\n                >\n                  <v-img\n                    :src=\"img.url\"\n                    :width=\"img.width\"\n                    :height=\"img.height\"\n                    :full=\"true\"\n                  />\n                </div>\n              </div>\n            </div>\n            <div class=\"social\">\n              <button\n                :class=\"[\n                  focusComment.liked ? 'reply-liked-btn' : 'reply-like-btn'\n                ]\"\n                @click=\"toggleFocusCommentLike\"\n              >\n                <i class=\"iconfont icon-icon_good\" />\n                {{ focusComment.liked ? '已赞' : '赞' }}\n                <span \n                  v-if=\"focusComment.like_count\"\n                >({{ focusComment.like_count }})</span\n                >\n              </button>\n              <button \n                class=\"reply-btn fr\" \n                @click=\"handleCommentBtnClick\">\n                回复\n              </button>\n            </div>\n          </div>\n          <div class=\"hr\" />\n          <p class=\"total\">{{ focusComment.comments.total }}条回复</p>\n          <ul class=\"comments\">\n            <li \n              v-for=\"item in focusComment.comments.list\" \n              :key=\"item.id\">\n              <div class=\"from-user\">\n                <a \n                  :href=\"$alias.user(item.from_user_zone)\" \n                  class=\"avatar\">\n                  <v-img\n                    :src=\"item.from_user_avatar\"\n                    :avatar=\"true\"\n                    width=\"35\"\n                  />\n                </a>\n                <div class=\"summary\">\n                  <div class=\"users oneline\">\n                    <a\n                      :href=\"$alias.user(item.from_user_zone)\"\n                      class=\"nickname\"\n                      v-text=\"item.from_user_name\"\n                    />\n                    <template v-if=\"item.to_user_zone\">\n                      回复\n                      <a\n                        :href=\"$alias.user(item.to_user_zone)\"\n                        class=\"nickname\"\n                        v-text=\"item.to_user_name\"\n                      />\n                    </template>\n                    :\n                  </div>\n                  <div class=\"info\"><v-time v-model=\"item.created_at\" /></div>\n                </div>\n              </div>\n              <div class=\"main\">\n                <div\n                  class=\"content reply-btn\"\n                  @click=\"commentToComment(item)\"\n                  v-text=\"item.content\"\n                />\n              </div>\n            </li>\n          </ul>\n        </div>\n        <more-btn\n          :no-more=\"focusComment.comments.noMore\"\n          :loading=\"loadingSubComment\"\n          @fetch=\"loadMoreSubComment\"\n        />\n      </template>\n    </v-drawer>\n    <!-- reply drawer -->\n    <div class=\"reply-comment-drawer-wrap\">\n      <v-drawer\n        v-model=\"replyForm.open\"\n        :header-text=\"\n          currentUserId === replyForm.targetUserId\n            ? '回复'\n            : `回复：${replyForm.targetUserName}`\n        \"\n        :backdrop=\"false\"\n        class=\"reply-comment-drawer\"\n        from=\"right\"\n        size=\"100%\"\n        submit-text=\"发布\"\n        @cancel=\"handleReplyDrawerClose\"\n        @submit=\"handleReplySubmit\"\n      />\n      <textarea\n        id=\"reply-comment-textarea\"\n        :class=\"{ 'fade-in': replyForm.open }\"\n        v-model.trim=\"replyForm.content\"\n        placeholder=\"100字以内任意发挥\"\n        maxlength=\"100\"\n      />\n    </div>\n    <!-- comment drawer -->\n    <v-drawer\n      v-model=\"openCreateCommentDrawer\"\n      from=\"right\"\n      size=\"100%\"\n      header-text=\"发表评论\"\n    >\n      <div \n        v-if=\"openCreateCommentDrawer\" \n        class=\"container\">\n        <slot \n          :close=\"closeCommentDrawer\" \n          name=\"reply-form\">\n          <comment-create-form\n            v-if=\"openCreateCommentDrawer\"\n            :id=\"id\"\n            :type=\"type\"\n            :master-id=\"masterId\"\n            @close=\"closeCommentDrawer\"\n            @submit=\"submitCommentCallback\"\n          />\n        </slot>\n      </div>\n    </v-drawer>\n  </div>\n</template>\n\n<script>\nimport CommentCreateForm from './CommentCreateForm'\nimport CommentItem from './CommentItem'\nimport scrollToY from '~/assets/js/scrollToY'\n\nexport default {\n  name: 'VCommentMain',\n  components: {\n    CommentCreateForm,\n    CommentItem\n  },\n  props: {\n    id: {\n      required: true,\n      type: [Number, String]\n    },\n    type: {\n      required: true,\n      type: String,\n      validator: val =>\n        ~[\n          'post',\n          'video',\n          'image',\n          'score',\n          'question',\n          'answer',\n          'role'\n        ].indexOf(val)\n    },\n    onlySeeMaster: {\n      type: Boolean,\n      default: false\n    },\n    emptyText: {\n      type: String,\n      default: '暂无评论，快来抢沙发吧╮(￣▽￣)╭！'\n    },\n    masterId: {\n      required: true,\n      type: Number\n    },\n    bottomAppendComment: {\n      type: Boolean,\n      default: true\n    },\n    auto: {\n      type: Boolean,\n      default: false\n    },\n    lazy: {\n      type: Boolean,\n      default: true\n    }\n  },\n  data() {\n    return {\n      loadingMainComment: false,\n      focusCommentId: 0,\n      openFocusCommentDrawer: false,\n      loadingSubComment: false,\n      replyForm: {\n        id: '',\n        content: '',\n        targetUserId: 0,\n        targetUserName: '',\n        open: false,\n        replying: false,\n        liking: false\n      },\n      openCreateCommentDrawer: false\n    }\n  },\n  computed: {\n    store() {\n      return this.$store.state.comment\n    },\n    list() {\n      return this.store.list\n    },\n    noMore() {\n      return this.store.noMore\n    },\n    total() {\n      return this.store.total\n    },\n    focusComment() {\n      return this.focusCommentId\n        ? this.list.filter(_ => _.id === this.focusCommentId)[0]\n        : null\n    },\n    currentUserId() {\n      return this.$store.state.login ? this.$store.state.user.id : 0\n    }\n  },\n  mounted() {\n    if (this.auto) {\n      this.$channel.$on(`fire-load-comment-${this.type}-${this.id}`, () => {\n        this.loadMoreMainComment(true)\n        this.$channel.$off(`fire-load-comment-${this.type}-${this.id}`)\n      })\n    } else {\n      this.lazyLoadComment()\n    }\n    this.$channel.$on('load-all-sub-comment', ({ id }) => {\n      this.focusCommentId = id\n      this.openFocusCommentDrawer = true\n    })\n    this.$channel.$on(\n      `open-create-comment-drawer-${this.type}-${this.id}`,\n      () => {\n        if (!this.currentUserId) {\n          this.$channel.$emit('sign-in')\n          return\n        }\n        this.openCreateCommentDrawer = true\n      }\n    )\n    this.$channel.$on(\n      'reply-comment',\n      ({ id, targetUserId, targetUserName }) => {\n        this.handleSubCommentReply({ id, targetUserId, targetUserName })\n      }\n    )\n    document.getElementById('comment-wrap').addEventListener('click', e => {\n      if (/reply-btn/.test(e.target.className) && this.$el.contains(e.target)) {\n        const area = document.getElementById('reply-comment-textarea')\n        area.style.display = 'block'\n        area.focus()\n      }\n    })\n  },\n  methods: {\n    async lazyLoadComment() {\n      if (!this.lazy) {\n        this.$nextTick(() => {\n          this.scrollToReply()\n        })\n        return\n      }\n      const { query } = this.$route\n      await this.$store.dispatch('comment/getMainComments', {\n        id: this.id,\n        type: this.type,\n        seeReplyId: query['comment-id'],\n        onlySeeMaster: query.only ? (parseInt(query.only, 10) ? 1 : 0) : 0\n      })\n      this.$nextTick(() => {\n        this.scrollToReply()\n      })\n    },\n    async loadMoreMainComment(firstRequest = false) {\n      if (this.loadingMainComment) {\n        return\n      }\n      this.loadingMainComment = true\n      try {\n        await this.$store.dispatch('comment/getMainComments', {\n          ctx: this,\n          type: this.type,\n          id: this.id,\n          onlySeeMaster: this.onlySeeMaster ? 1 : 0,\n          firstRequest\n        })\n      } finally {\n        this.loadingMainComment = false\n      }\n    },\n    async loadMoreSubComment() {\n      if (this.loadingSubComment) {\n        return\n      }\n      this.loadingSubComment = true\n      try {\n        await this.$store.dispatch('comment/getSubComments', {\n          ctx: this,\n          type: this.type,\n          id: this.focusCommentId\n        })\n      } finally {\n        this.loadingSubComment = false\n      }\n    },\n    commentToComment(data) {\n      this.handleSubCommentReply({\n        id: data.parent_id,\n        targetUserId: data.from_user_id,\n        targetUserName: data.from_user_name\n      })\n    },\n    handleCommentBtnClick() {\n      this.handleSubCommentReply({\n        id: this.focusComment.id,\n        targetUserId: this.focusComment.from_user_id,\n        targetUserName: this.focusComment.from_user_name\n      })\n    },\n    handleSubCommentReply({ id, targetUserId, targetUserName }) {\n      if (!this.currentUserId) {\n        this.$channel.$emit('sign-in')\n        return\n      }\n      this.replyForm.id = id\n      this.replyForm.targetUserId = targetUserId\n      this.replyForm.targetUserName = targetUserName\n      this.replyForm.open = true\n      setTimeout(() => {\n        document.body.scrollTop = 0\n      }, 200)\n    },\n    async toggleFocusCommentLike() {\n      if (!this.currentUserId) {\n        this.$channel.$emit('sign-in')\n        return\n      }\n      if (this.replyForm.liking) {\n        return\n      }\n      this.replyForm.liking = true\n      try {\n        await this.$store.dispatch('comment/toggleLikeMainComment', {\n          ctx: this,\n          type: this.type,\n          id: this.focusCommentId\n        })\n      } finally {\n        this.replyForm.liking = false\n      }\n    },\n    handleReplyDrawerClose() {\n      document.getElementById('reply-comment-textarea').style.display = 'none'\n    },\n    async handleReplySubmit() {\n      if (!this.currentUserId) {\n        this.$channel.$emit('sign-in')\n        return\n      }\n      if (!this.replyForm.content) {\n        return\n      }\n      if (this.replyForm.replying) {\n        return\n      }\n      this.replyForm.replying = true\n      try {\n        const result = await this.$store.dispatch('comment/createSubComment', {\n          ctx: this,\n          id: this.replyForm.id,\n          type: this.type,\n          content: this.replyForm.content,\n          targetUserId: this.replyForm.targetUserId\n        })\n        this.replyForm.open = false\n        this.replyForm.content = ''\n        this.$toast.success(result.message)\n        this.$store.commit('UPDATE_USER_EXP', result.exp)\n      } finally {\n        this.replyForm.replying = false\n        this.handleReplyDrawerClose()\n      }\n    },\n    writeComment() {\n      this.$channel.$emit(`open-create-comment-drawer-${this.type}-${this.id}`)\n    },\n    closeCommentDrawer() {\n      this.openCreateCommentDrawer = false\n    },\n    submitCommentCallback() {\n      this.openCreateCommentDrawer = false\n      this.$emit('create-main-comment')\n    },\n    deleteCommentCallback() {\n      this.$emit('delete-main-comment')\n    },\n    scrollToReply() {\n      const replyId = this.$route.query['comment-id']\n      if (!replyId) {\n        return\n      }\n      const reply = document.getElementById(`comment-${replyId}`)\n      if (!reply) {\n        return\n      }\n      setTimeout(() => {\n        scrollToY(this.$utils.getOffsetTop(reply) - 100, 600)\n      }, 400)\n    }\n  }\n}\n</script>\n","import { render, staticRenderFns } from \"./CommentMain.vue?vue&type=template&id=b74634c0&\"\nimport script from \"./CommentMain.vue?vue&type=script&lang=js&\"\nexport * from \"./CommentMain.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CommentMain.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"CommentMain.vue\"\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--6-oneOf-1-3!../../node_modules/sass-resources-loader/lib/loader.js??ref--6-oneOf-1-4!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Popover.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--6-oneOf-1-3!../../node_modules/sass-resources-loader/lib/loader.js??ref--6-oneOf-1-4!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Popover.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--6-oneOf-1-3!../../node_modules/sass-resources-loader/lib/loader.js??ref--6-oneOf-1-4!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FollowButton.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--6-oneOf-1-3!../../node_modules/sass-resources-loader/lib/loader.js??ref--6-oneOf-1-4!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FollowButton.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sub-comment-list-wrap\"},[(_vm.hasComment)?_c('div',{staticClass:\"sub-comment-list\"},[_vm._l((_vm.filterComments),function(comment){return _c('sub-comment-item',{key:comment.id,attrs:{\"comment\":comment,\"parent-user-id\":_vm.authorId,\"parent-comment-id\":_vm.parentComment.id,\"type\":_vm.type}})}),_vm._v(\" \"),(!_vm.comments.noMore || _vm.comments.list.length > 5)?_c('button',{staticClass:\"load-all-comment\",on:{\"click\":_vm.loadAllComment}},[_vm._v(\"\\n      查看全部\"+_vm._s(_vm.comments.total)+\"条评论\\n    \")]):_vm._e()],2):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubCommentItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubCommentItem.vue?vue&type=script&lang=js&\"","<style lang=\"scss\">\n.sub-comment-item {\n  padding: 2px 10px;\n  font-size: 14px;\n  line-height: 18px;\n\n  .nickname {\n    color: $color-blue-deep;\n  }\n\n  .comment-content {\n    margin-right: 6px;\n    word-break: break-all;\n  }\n}\n</style>\n\n<template>\n  <div class=\"sub-comment-item\">\n    <a\n      :href=\"$alias.user(comment.from_user_zone)\"\n      class=\"nickname\"\n      v-text=\"comment.from_user_name\"\n    />\n    <template v-if=\"comment.to_user_zone\">\n      回复\n      <a\n        :href=\"$alias.user(comment.to_user_zone)\"\n        class=\"nickname\"\n        v-text=\"comment.to_user_name\"\n      />\n    </template>\n    :\n    <span \n      class=\"reply-btn comment-content\" \n      @click=\"handleSubCommentClick\">{{\n        comment.content\n      }}</span>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'SubCommentItem',\n  props: {\n    comment: {\n      required: true,\n      type: Object\n    },\n    parentUserId: {\n      required: true,\n      type: Number\n    },\n    parentCommentId: {\n      required: true,\n      type: Number\n    },\n    type: {\n      required: true,\n      type: String\n    }\n  },\n  data() {\n    return {\n      deleting: false\n    }\n  },\n  computed: {\n    currentUserId() {\n      return this.$store.state.login ? this.$store.state.user.id : 0\n    },\n    isMine() {\n      return this.currentUserId === this.comment.from_user_id\n    },\n    canDelete() {\n      return this.isMine || this.currentUserId === this.parentUserId\n    }\n  },\n  methods: {\n    handleSubCommentClick() {\n      if (this.isMine) {\n        this.deleteComment()\n        this.$nextTick(() => {\n          document.getElementById('reply-comment-textarea').style.display =\n            'none'\n        })\n        return\n      }\n      if (this.currentUserId) {\n        this.$channel.$emit('reply-comment', {\n          id: this.parentCommentId,\n          targetUserId: this.comment.from_user_id,\n          targetUserName: this.comment.from_user_name\n        })\n      }\n    },\n    deleteComment() {\n      if (!this.canDelete) {\n        return\n      }\n      if (this.deleting) {\n        return\n      }\n      this.deleting = true\n      this.$confirm('删除后无法找回, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      })\n        .then(() => {\n          this.$store.dispatch('comment/deleteSubComment', {\n            ctx: this,\n            type: this.type,\n            id: this.comment.id,\n            parentId: this.comment.parent_id\n          })\n        })\n        .catch(() => {\n          this.deleting = false\n        })\n    }\n  }\n}\n</script>\n","import { render, staticRenderFns } from \"./SubCommentItem.vue?vue&type=template&id=4a40dbfb&\"\nimport script from \"./SubCommentItem.vue?vue&type=script&lang=js&\"\nexport * from \"./SubCommentItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SubCommentItem.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"SubCommentItem.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sub-comment-item\"},[_c('a',{staticClass:\"nickname\",attrs:{\"href\":_vm.$alias.user(_vm.comment.from_user_zone)},domProps:{\"textContent\":_vm._s(_vm.comment.from_user_name)}}),_vm._v(\" \"),(_vm.comment.to_user_zone)?[_vm._v(\"\\n    回复\\n    \"),_c('a',{staticClass:\"nickname\",attrs:{\"href\":_vm.$alias.user(_vm.comment.to_user_zone)},domProps:{\"textContent\":_vm._s(_vm.comment.to_user_name)}})]:_vm._e(),_vm._v(\"\\n  :\\n  \"),_c('span',{staticClass:\"reply-btn comment-content\",on:{\"click\":_vm.handleSubCommentClick}},[_vm._v(_vm._s(_vm.comment.content))])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubCommentList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubCommentList.vue?vue&type=script&lang=js&\"","<style lang=\"scss\">\n.sub-comment-list-wrap {\n  position: relative;\n  background-color: #f7f8fa;\n  border-radius: 5px;\n\n  .sub-comment-list {\n    padding: 7px 0 7.5px;\n    margin-top: 5px;\n  }\n\n  .load-all-comment {\n    position: relative;\n    margin-top: 6px;\n    font-size: 12px;\n    margin-bottom: 0;\n    padding: 0 10px;\n    color: #999;\n    width: 100%;\n    text-align: left;\n\n    &:after {\n      content: '';\n      position: absolute;\n      top: 50%;\n      border: 3px solid #f5f5f5;\n      border-left-color: #999;\n      transform: translateY(-50%);\n      margin-left: 4px;\n    }\n  }\n}\n</style>\n\n<template>\n  <div class=\"sub-comment-list-wrap\">\n    <div \n      v-if=\"hasComment\" \n      class=\"sub-comment-list\">\n      <sub-comment-item\n        v-for=\"comment in filterComments\"\n        :key=\"comment.id\"\n        :comment=\"comment\"\n        :parent-user-id=\"authorId\"\n        :parent-comment-id=\"parentComment.id\"\n        :type=\"type\"\n      />\n      <button\n        v-if=\"!comments.noMore || comments.list.length > 5\"\n        class=\"load-all-comment\"\n        @click=\"loadAllComment\"\n      >\n        查看全部{{ comments.total }}条评论\n      </button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport SubCommentItem from './SubCommentItem'\n\nexport default {\n  name: 'PostSubCommentList',\n  components: {\n    SubCommentItem\n  },\n  props: {\n    parentComment: {\n      required: true,\n      type: Object\n    },\n    type: {\n      required: true,\n      type: String\n    }\n  },\n  computed: {\n    comments() {\n      return this.parentComment.comments\n    },\n    authorId() {\n      return this.parentComment.from_user_id\n    },\n    hasComment() {\n      return !!this.comments.list.length\n    },\n    filterComments() {\n      const data = this.comments\n      const comments = data.list\n      const result = comments.slice(0, 5)\n      if (comments.every(_ => _.id <= data.maxId)) {\n        return result\n      }\n      const ids = result.map(_ => _.id)\n      return result.concat(\n        comments.filter(_ => _.id > data.maxId && ids.indexOf(_.id) === -1)\n      )\n    }\n  },\n  methods: {\n    loadAllComment() {\n      this.$channel.$emit('load-all-sub-comment', {\n        id: this.parentComment.id\n      })\n    }\n  }\n}\n</script>\n","import { render, staticRenderFns } from \"./SubCommentList.vue?vue&type=template&id=1d58f479&\"\nimport script from \"./SubCommentList.vue?vue&type=script&lang=js&\"\nexport * from \"./SubCommentList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SubCommentList.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"SubCommentList.vue\"\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--6-oneOf-1-3!../../node_modules/sass-resources-loader/lib/loader.js??ref--6-oneOf-1-4!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentCreateForm.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--6-oneOf-1-3!../../node_modules/sass-resources-loader/lib/loader.js??ref--6-oneOf-1-4!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentCreateForm.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--6-oneOf-1-3!../../node_modules/sass-resources-loader/lib/loader.js??ref--6-oneOf-1-4!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubCommentItem.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--6-oneOf-1-3!../../node_modules/sass-resources-loader/lib/loader.js??ref--6-oneOf-1-4!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubCommentItem.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--6-oneOf-1-3!../../node_modules/sass-resources-loader/lib/loader.js??ref--6-oneOf-1-4!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubCommentList.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--6-oneOf-1-3!../../node_modules/sass-resources-loader/lib/loader.js??ref--6-oneOf-1-4!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubCommentList.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--6-oneOf-1-3!../../node_modules/sass-resources-loader/lib/loader.js??ref--6-oneOf-1-4!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentItem.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--6-oneOf-1-3!../../node_modules/sass-resources-loader/lib/loader.js??ref--6-oneOf-1-4!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentItem.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--6-oneOf-1-3!../../node_modules/sass-resources-loader/lib/loader.js??ref--6-oneOf-1-4!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentMain.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--6-oneOf-1-3!../../node_modules/sass-resources-loader/lib/loader.js??ref--6-oneOf-1-4!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentMain.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}