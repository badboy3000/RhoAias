exports.ids=[7],exports.modules={171:function(t,e){},172:function(t,e,n){t.exports=n.p+"img/aa8b45a.png"},173:function(t,e,n){"use strict";var r=n(4),o={name:"FlowState",props:{auto:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},noMore:{type:Boolean,default:!1},nothing:{type:Boolean,default:!1},error:{type:Boolean,default:!1},fetch:{type:Function,required:!0},displayNoMore:{type:Boolean,default:!0}},mounted(){this.auto&&this.onScroll()},methods:{getTarget(){let t=this.$el;for(;"HTML"!==t.tagName&&"BOYD"!==t.tagName&&1===t.nodeType;){const e=window.getComputedStyle(t).overflowY;if("scroll"===e||"auto"===e)return t;t=t.parentNode}return document},onScroll(){if(this.error)return;r.a.checkInView(this.$el)&&this.fetch();const t=r.a.on(this.getTarget(),["scroll"],this.$utils.throttle(()=>{this.error||(!this.noMore&&this.auto?r.a.checkInView(this.$el)&&this.fetch():r.a.off(t))},200))}}},l=n(1);var component=Object(l.a)(o,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"flow-state-wrap"},[t.error?t._ssrNode("<div>","</div>",[t._t("error",[r("div",{staticClass:"state-error"},[r("span",[t._v("出错了，点击重试")])])])],2):t.nothing?t._ssrNode("<div>","</div>",[t._t("nothing",[r("div",{staticClass:"state-nothing"},[r("img",{attrs:{src:n(172),alt:"no-content"}}),t._v(" "),r("span",[t._v("这里什么都没有")])])])],2):t.noMore?t._ssrNode("<div>","</div>",[t._t("no-more",[t.displayNoMore?r("div",{staticClass:"state-no-more"},[r("span",[t._v("没有更多了")])]):t._e()])],2):t.loading?t._ssrNode("<div>","</div>",[t._t("loading",[r("div",{staticClass:"state-loading"},[r("i"),t._v(" "),r("span",[t._v("加载中…")])])])],2):t.auto?t._ssrNode('<div class="state-shim"></div>'):t._ssrNode("<button>","</button>",[t._t("load-btn",[r("div",{staticClass:"state-fetch-btn-text"},[r("span",[t._v("点击加载更多")])])])],2)])},[],!1,function(t){var e=n(175);e.__inject__&&e.__inject__(t)},null,"16540fb2");e.a=component.exports},175:function(t,e,n){"use strict";n.r(e);var r=n(171),o=n.n(r);for(var l in r)"default"!==l&&function(t){n.d(e,t,function(){return r[t]})}(l);e.default=o.a},177:function(t,e,n){"use strict";var r=n(173),o={props:{func:{required:!0,type:String},type:{required:!0,type:String},id:{type:[Number,String],default:""},sort:{type:String,default:""},auto:{type:Boolean,default:!0},count:{type:[String,Number],default:12},changing:{type:String,default:"id"},displayNoMore:{type:Boolean,default:!0}}},l={name:"FlowList",components:{FlowState:r.a},mixins:[o],computed:{source(){return this.$store.getters["flow/getFlow"](this.func,this.sort,this.id)}},methods:{loadMore(){this.$store.dispatch("flow/loadMore",{type:this.type,sort:this.sort,func:this.func,id:this.id,count:this.count,changing:this.changing,_extra:this.extra})}}},c=n(1),component=Object(c.a)(l,function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.source?n("div",[t._t("header",null,{source:t.source}),t._ssrNode(" "),t._t("default",null,{flow:t.source.list}),t._ssrNode(" "),n("FlowState",{attrs:{auto:t.auto,loading:t.source.loading,"no-more":t.source.noMore,nothing:t.source.nothing,error:t.source.error,"display-no-more":t.displayNoMore,fetch:t.loadMore}},[t._t("error",null,{slot:"error"}),t._v(" "),t._t("nothing",null,{slot:"nothing"}),t._v(" "),t._t("no-more",null,{slot:"no-more"}),t._v(" "),t._t("loading",null,{slot:"loading"}),t._v(" "),t._t("load-btn",null,{slot:"load-btn"})],2)],2):t._e()},[],!1,null,null,"0bee53e6");e.a=component.exports},182:function(t,e){},207:function(t,e,n){"use strict";n.r(e);var r=n(182),o=n.n(r);for(var l in r)"default"!==l&&function(t){n.d(e,t,function(){return r[t]})}(l);e.default=o.a},225:function(t,e,n){"use strict";var r={name:"TabContainer",props:{headers:{required:!0,type:Array},defIndex:{type:[Number,String],default:"0"},router:{type:Boolean,default:!1}},data(){let t;return{focusIndex:t=this.router?this.headers.map(t=>t.route).indexOf(this.$route.name):+this.defIndex}},watch:{$route(t){this.focusIndex=this.headers.map(t=>t.route).indexOf(t.name)},headers(t){this.focusIndex=t.map(t=>t.route).indexOf(this.$route.name)}},methods:{computeItemText:t=>"string"==typeof t?t:t.label||t.name||t.text,computeItemIcon:t=>!("string"==typeof t||!t.icon)&&`iconfont ic-${t.replace("ic-","")}`,handleTabSwitch(t){this.focusIndex!==t&&(this.router&&this.$router.push({name:this.headers[t].route,params:this.$route.params}),this.focusIndex=t,this.$emit("change",t))}}},o=n(1);var component=Object(o.a)(r,function(){var t=this,e=t.$createElement;return(t._self._c||e)("section",{staticClass:"tab-container"},[t._ssrNode("<header>"+t._ssrList(t.headers,function(e,n){return"<div"+t._ssrClass(null,{"is-active":n===t.focusIndex})+t._ssrStyle(null,{width:100/t.headers.length+"%"},null)+">"+(t.computeItemIcon(e)?"<i"+t._ssrClass(null,t.computeItemIcon(e))+"></i>":"\x3c!----\x3e")+" <span>"+t._ssrEscape(t._s(t.computeItemText(e)))+"</span></div>"})+"</header> "),t.router?t._e():t._ssrNode("<main>","</main>",t._l(t.headers,function(e,n){return t._ssrNode("<div"+t._ssrStyle(null,null,{display:n===t.focusIndex?"":"none"})+">","</div>",[t._t(n)],2)}),0)],2)},[],!1,function(t){var e=n(207);e.__inject__&&e.__inject__(t)},null,"2697cdf0");e.a=component.exports},242:function(t,e,n){"use strict";e.a={async fetch({store:t,error:e}){await t.dispatch("initAuth")||e({statusCode:"401",message:"继续操作前请先登录"})}}},322:function(t,e){},408:function(t,e,n){"use strict";n.r(e);var r=n(322),o=n.n(r);for(var l in r)"default"!==l&&function(t){n.d(e,t,function(){return r[t]})}(l);e.default=o.a},479:function(t,e,n){"use strict";n.r(e);var r=n(242),o=n(225),l=n(177),c={name:"PageUserInvite",layout:"empty",components:{TabContainer:o.a,FlowList:l.a},head:{title:"邀请码"},mixins:[r.a],data:()=>({headers:["我的邀请码","我邀请的人"]}),computed:{user(){return this.$store.state.user},source(){return this.$store.getters["flow/getFlow"]("getUserInviteUsers","",this.user.id)}},methods:{handleTabSwitch(t){1===t&&this.$store.dispatch("flow/initData",{func:"getUserInviteUsers",type:"page",id:this.user.id,count:20})}}},d=n(1);var component=Object(d.a)(c,function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.user?n("div",{attrs:{id:"app-invite"}},[n("TabContainer",{attrs:{headers:t.headers},on:{change:t.handleTabSwitch}},[n("div",{staticClass:"my-space",attrs:{slot:"0"},slot:"0"},[n("div",{staticClass:"content"},[n("img",{attrs:{src:t.$resize(t.user.avatar,{width:150})}}),t._v(" "),n("p",[n("span",{staticClass:"nickname"},[t._v(t._s(t.user.nickname))]),t._v("，你的邀请码是\n        ")]),t._v(" "),n("p",{staticClass:"code"},[n("strong",[t._v(t._s(t.user.id))])]),t._v(" "),n("div",{staticClass:"intro"},[n("p",[t._v("\n            把这个数字告诉你的朋友，让他们注册的时候填写，那么你们就都可以获得团子\n          ")]),t._v(" "),n("p",[t._v("邀请者可以得到5个团子，被邀请者可以得到2个团子")])])]),t._v(" "),n("p",{staticClass:"tips"},[t._v("\n        你也可以直接复制注册链接给TA\n      ")]),t._v(" "),n("button",{directives:[{name:"clipboard",rawName:"v-clipboard",value:"http://calibur.tv/about/invite/"+t.user.id,expression:"`http://calibur.tv/about/invite/${user.id}`"}],staticClass:"invite-btn",on:{success:function(e){return t.$toast.success("复制成功~快去发送给好友吧")}}},[t._v("\n        点击生成你的专属邀请码\n      ")])]),t._v(" "),n("div",{staticClass:"invite-users",attrs:{slot:"1"},slot:"1"},[t.source?n("div",{staticClass:"header"},[n("img",{attrs:{src:t.$resize(t.user.avatar,{width:80})}}),t._v(" "),t.source.total?n("span",[t._v("总共邀请了 "),n("strong",[t._v(t._s(t.source.total))]),t._v(" 位小伙伴")]):n("span",[t._v("还没有邀请朋友注册")])]):t._e(),t._v(" "),n("FlowList",{attrs:{id:t.user.id,"display-no-more":!1,func:"getUserInviteUsers",type:"page",count:"20"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.flow;return n("ul",{staticClass:"users"},t._l(r,function(e){return n("li",{key:e.id},[n("img",{attrs:{src:t.$resize(e.avatar,{width:60})}}),t._v(" "),n("span",{domProps:{textContent:t._s(e.nickname)}})])}),0)}}],null,!1,1121377934)})],1)])],1):t._e()},[],!1,function(t){var e=n(408);e.__inject__&&e.__inject__(t)},null,"54102e5b");e.default=component.exports}};
//# sourceMappingURL=invite.chunk.511e089a.js.map