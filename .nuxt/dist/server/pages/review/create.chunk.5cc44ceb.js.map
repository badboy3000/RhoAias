{"version":3,"file":"pages/review/create.chunk.5cc44ceb.js","sources":["webpack:///./assets/js/scrollToY.js"],"sourcesContent":["/**\n * [ scrollToY 指定的 DOM 过度滚动到指定的 Y 轴 ]\n * @param targetY\n * @param timer\n * @param dom\n * @param ease\n */\nexport default (targetY, timer, dom, ease) => {\n  let currentTime = 0\n  const element = dom\n    ? [dom]\n    : [document.getElementsByTagName('html')[0], document.body]\n  const scrollY = dom ? dom.scrollTop : window.scrollY\n  const scrollTargetY = targetY || 0\n  const speed = timer || 2000\n  const easing = ease || 'easeOutSine'\n  const time = Math.max(\n    0.1,\n    Math.min(Math.abs(scrollY - scrollTargetY) / speed, 0.8)\n  )\n  const easingEquations = {\n    easeOutSine(pos) {\n      return Math.sin(pos * (Math.PI / 2))\n    },\n    easeInOutSine(pos) {\n      return -0.5 * (Math.cos(Math.PI * pos) - 1)\n    },\n    easeInOutQuint(pos) {\n      // eslint-disable-next-line\n      if ((pos /= 0.5) < 1) {\n        return 0.5 * Math.pow(pos, 5)\n      }\n      return 0.5 * (Math.pow(pos - 2, 5) + 2)\n    }\n  }\n  element.forEach(ele => {\n    if (!ele.requestAnimFrame) {\n      ele.requestAnimFrame = (function() {\n        return (\n          window.requestAnimationFrame ||\n          window.webkitRequestAnimationFrame ||\n          window.mozRequestAnimationFrame ||\n          function(callback) {\n            window.setTimeout(callback, 1000 / 60)\n          }\n        )\n      })().bind(window)\n    }\n  })\n  function tick() {\n    currentTime += 1 / 60\n    const p = currentTime / time\n    const t = easingEquations[easing](p)\n    element.forEach(ele => {\n      if (p < 1) {\n        ele.requestAnimFrame(tick)\n        ele.scrollTop = scrollY + (scrollTargetY - scrollY) * t\n      } else {\n        ele.scrollTop = scrollTargetY\n      }\n    })\n  }\n  tick()\n}\n"],"mappings":"AAOA","sourceRoot":""}