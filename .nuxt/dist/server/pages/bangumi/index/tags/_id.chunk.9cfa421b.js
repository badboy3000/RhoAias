exports.ids=[22],exports.modules={289:function(t,e){},384:function(t,e,n){"use strict";n.r(e);var o=n(289),l=n.n(o);for(var r in o)"default"!==r&&function(t){n.d(e,t,function(){return o[t]})}(r);e.default=l.a},528:function(t,e,n){"use strict";n.r(e);var o=n(38),l={name:"BangumiTags",data:()=>({loading:!1,bangumis:{data:[],noMore:!1,page:0,take:10,total:0},tags:[],counter:0}),computed:{moreBtnShow(){return this.tags.filter(t=>t.selected).map(t=>t.id).join("-")},showEmpty(){return this.tags.some(t=>t.selected)&&!this.loading||this.tags.every(t=>!t.selected)},tagsList(){const t=8*this.counter,e=t+8;return this.tags.slice(t,e)}},asyncData:async({app:t})=>({tags:(await Object(o.b)(t)).map(t=>Object.assign(t,{selected:!1}))}),head:{title:"动画标签"},methods:{selectTag(t){this.loading||(t.selected=!t.selected,this.bangumis={data:[],noMore:!1,page:0,take:10,total:0})},async loadBangumis(){if(this.loading||this.bangumis.noMore)return;const t=this.tags.filter(t=>t.selected).map(t=>t.id).join("-");this.loading=!0;try{const data=await Object(o.f)(this,{page:this.bangumis.page,take:this.bangumis.take,tags:t});this.bangumis.data=this.bangumis.data.concat(data.list),this.bangumis.noMore=data.noMore,this.bangumis.total=data.total,this.bangumis.page++}finally{this.loading=!1}},choiceTags(){8*(this.counter+1)>=this.tags.length?this.counter=0:this.counter++}}},r=n(1);var component=Object(r.a)(l,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container",attrs:{id:"bangumi-tag"}},[t._ssrNode('<div id="tags"><h3 class="sub-title">\n      标签列表\n      <span class="tag-change"><i class="el-icon-refresh"'+t._ssrStyle(null,{transform:"rotate("+360*t.counter+"deg)"},null)+"></i>换一换\n      </span></h3> <ul>"+t._ssrList(t.tagsList,function(e){return"<li><a"+t._ssrClass(null,{selected:e.selected})+">"+t._ssrEscape(t._s(e.name))+"</a></li>"})+' <button class="btn">\n        点击搜索\n      </button></ul></div> '),t.bangumis.total?t._ssrNode('<div id="bangumis">',"</div>",[t._ssrNode('<div class="hr"></div> <h3 class="sub-title">'+t._ssrEscape("\n      番剧列表("+t._s(t.bangumis.total)+")\n    ")+"</h3> "),t._ssrNode("<ul>","</ul>",t._l(t.bangumis.data,function(e){return t._ssrNode("<li>","</li>",[n("nuxt-link",{staticClass:"bangumi-a",attrs:{to:t.$alias.bangumi(e.id)}},[n("v-img",{staticClass:"face",attrs:{src:e.avatar,width:"60",height:"60"}}),t._v(" "),n("div",{staticClass:"content"},[n("p",{staticClass:"name",domProps:{textContent:t._s(e.name)}}),t._v(" "),n("p",{staticClass:"body",domProps:{textContent:t._s(e.summary)}})])],1)],1)}),0)],2):t._e(),t._ssrNode(" "),t.moreBtnShow?n("more-btn",{attrs:{"no-more":t.bangumis.noMore,length:t.bangumis.data.length,loading:t.loading,auto:!0},on:{fetch:t.loadBangumis}}):t._e()],2)},[],!1,function(t){var e=n(384);e.__inject__&&e.__inject__(t)},null,"0a5d4a3b");e.default=component.exports}};
//# sourceMappingURL=_id.chunk.9cfa421b.js.map