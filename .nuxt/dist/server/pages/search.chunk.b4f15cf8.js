exports.ids=[46],exports.modules={191:function(t,e){},197:function(t,e){},212:function(t,e,n){"use strict";n.r(e);var r=n(191),o=n.n(r);for(var c in r)"default"!==c&&function(t){n.d(e,t,function(){return r[t]})}(c);e.default=o.a},223:function(t,e,n){"use strict";var r={name:"PostFlowItem",props:{item:{required:!0,type:Object},bangumiId:{type:[Number,String],default:0},userZone:{type:String,default:""}},methods:{imageFilter:t=>t.slice(0,3)}},o=n(1);var component=Object(o.a)(r,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"post-flow-item"},[n("router-link",{attrs:{to:t.$alias.post(t.item.id),tag:"div"}},[n("div",{staticClass:"header"},[t.userZone?[n("router-link",{staticClass:"bangumi-avatar",attrs:{to:t.$alias.bangumi(t.item.bangumi.id)}},[n("v-img",{attrs:{src:t.item.bangumi.avatar,width:"35",height:"35"}})],1),t._v(" "),n("div",{staticClass:"info"},[n("router-link",{staticClass:"name oneline",attrs:{to:t.$alias.bangumi(t.item.bangumi.id)},domProps:{textContent:t._s(t.item.bangumi.name)}}),t._v(" "),n("v-time",{model:{value:t.item.created_at,callback:function(e){t.$set(t.item,"created_at",e)},expression:"item.created_at"}})],1)]:[n("router-link",{staticClass:"user-avatar",attrs:{to:t.$alias.user(t.item.user.zone)}},[n("v-img",{attrs:{src:t.item.user.avatar,avatar:!0,width:"35",height:"35"}})],1),t._v(" "),n("div",{staticClass:"info"},[n("router-link",{staticClass:"name oneline",attrs:{to:t.$alias.user(t.item.user.zone)},domProps:{textContent:t._s(t.item.user.nickname)}}),t._v(" "),n("v-time",{model:{value:t.item.created_at,callback:function(e){t.$set(t.item,"created_at",e)},expression:"item.created_at"}})],1)]],2),t._v(" "),n("div",{staticClass:"body"},[n("div",{staticClass:"title"},[t.item.top_at&&t.bangumiId?n("div",{staticClass:"top_badge"},[t._v("\n          置顶\n        ")]):t._e(),t._v(" "),t.item.is_nice?n("div",{staticClass:"nice_badge"},[t._v("\n          精\n        ")]):t._e(),t._v(" "),t.item.is_creator?n("div",{staticClass:"creator_badge"},[t._v("\n          原创\n        ")]):t._e(),t._v(" "),n("p",{staticClass:"oneline",domProps:{textContent:t._s(t.item.title)}})]),t._v(" "),n("p",{staticClass:"content",domProps:{textContent:t._s(t.item.desc)}}),t._v(" "),t.item.images.length?n("div",{staticClass:"images"},[1===t.item.images.length?n("v-img",{staticClass:"poster-image",attrs:{src:t.item.images[0].url,width:"100%",height:"130"}}):n("div",{staticClass:"image-list"},t._l(t.imageFilter(t.item.images),function(image,t){return n("v-img",{key:t,staticClass:"image",attrs:{src:image.url,width:"32%",height:"93"}})}),1)],1):t._e(),t._v(" "),n("div",{staticClass:"tags"},[t.item.bangumi&&!t.userZone?n("router-link",{attrs:{to:t.$alias.bangumi(t.item.bangumi.id)}},[n("i",{staticClass:"iconfont icon-tag"}),t._v(" "),n("span",{domProps:{textContent:t._s(t.item.bangumi.name)}})]):t._e(),t._v(" "),t.item.idol?n("router-link",{attrs:{to:t.$alias.cartoonRole(t.item.idol.id)}},[n("i",{staticClass:"iconfont icon-tag"}),t._v(" "),n("span",{domProps:{textContent:t._s(t.item.idol.name)}})]):t._e(),t._v(" "),t.item.tags.length?t._l(t.item.tags,function(e){return n("span",{key:e.id,staticClass:"tag",domProps:{textContent:t._s(e.name)}})}):t._e()],2)]),t._v(" "),n("div",{staticClass:"footer"},[t.item.is_creator?n("div",[n("i",{staticClass:"iconfont icon-fantuan"}),t._v(" "),n("span",[t._v(t._s(t.$utils.shortenNumber(t.item.reward_count)))])]):n("div",[n("i",{staticClass:"iconfont icon-like"}),t._v(" "),n("span",[t._v(t._s(t.$utils.shortenNumber(t.item.like_count)))])]),t._v(" "),n("div",[n("i",{staticClass:"iconfont icon-mark"}),t._v(" "),n("span",[t._v(t._s(t.$utils.shortenNumber(t.item.mark_count)))])]),t._v(" "),n("div",[n("i",{staticClass:"iconfont icon-talk"}),t._v(" "),n("span",[t._v(t._s(t.$utils.shortenNumber(t.item.comment_count)))])])])]),t._ssrNode(' <div class="hr"></div>')],2)},[],!1,function(t){var e=n(212);e.__inject__&&e.__inject__(t)},null,"9b8d58e8");e.a=component.exports},232:function(t,e){},233:function(t,e,n){"use strict";n.r(e);var r=n(197),o=n.n(r);for(var c in r)"default"!==c&&function(t){n.d(e,t,function(){return r[t]})}(c);e.default=o.a},243:function(t,e,n){"use strict";n(91),n(2);var r=n(47),o={name:"ScoreFlowItem",components:{"el-rate":n.n(r).a},props:{item:{required:!0,type:Object},bangumiId:{required:!0,type:[String,Number]},userZone:{required:!0,type:String}},data:()=>({zero:0}),computed:{pageName(){return this.$route.name},starCount(){return this.item.total/2}},methods:{linkStart(){this.$router.push(this.$alias.score(this.item.id))}}},c=n(1);var component=Object(c.a)(o,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"score-flow-item"},[t._ssrNode("<div>","</div>",[t.item.bangumi&&t.item.user?t._ssrNode('<div class="header trending-header">',"</div>",[n("nuxt-link",{staticClass:"user-avatar",attrs:{to:t.$alias.user(t.item.user.zone)}},[n("v-img",{attrs:{src:t.item.user.avatar,avatar:!0,width:"35",height:"35"}})],1),t._ssrNode(" "),t._ssrNode('<div class="header-content">',"</div>",[t._ssrNode('<div class="about">',"</div>",[t.starCount?n("el-rate",{attrs:{disabled:""},model:{value:t.starCount,callback:function(e){t.starCount=e},expression:"starCount"}}):n("el-rate",{attrs:{disabled:""},model:{value:t.zero,callback:function(e){t.zero=e},expression:"zero"}}),t._ssrNode(" "),n("nuxt-link",{staticClass:"bangumi-name oneline",attrs:{to:t.$alias.bangumi(t.item.bangumi.id)},domProps:{textContent:t._s(t.item.bangumi.name)}})],2),t._ssrNode(" "),t._ssrNode('<div class="meta">',"</div>",[n("nuxt-link",{staticClass:"author",attrs:{to:t.$alias.user(t.item.user.zone)},domProps:{textContent:t._s(t.item.user.nickname)}}),t._ssrNode("\n           · \n          "),n("v-time",{staticClass:"created-at",model:{value:t.item.created_at,callback:function(e){t.$set(t.item,"created_at",e)},expression:"item.created_at"}})],2)],2)],2):t.item.bangumi?t.item.user?t._e():t._ssrNode('<div class="header user-header">',"</div>",[t.starCount?n("el-rate",{attrs:{disabled:""},model:{value:t.starCount,callback:function(e){t.starCount=e},expression:"starCount"}}):n("el-rate",{attrs:{disabled:""},model:{value:t.zero,callback:function(e){t.zero=e},expression:"zero"}}),t._ssrNode(" "),n("nuxt-link",{staticClass:"bangumi",attrs:{to:t.$alias.bangumi(t.item.bangumi.id)}},[n("div",{staticClass:"bangumi-avatar"},[n("v-img",{attrs:{src:t.item.bangumi.avatar,width:"23",height:"23"}})],1),t._v(" "),n("div",{staticClass:"nickname oneline",domProps:{textContent:t._s(t.item.bangumi.name)}})])],2):t._ssrNode('<div class="header bangumi-header">',"</div>",[t.starCount?n("el-rate",{attrs:{disabled:""},model:{value:t.starCount,callback:function(e){t.starCount=e},expression:"starCount"}}):n("el-rate",{attrs:{disabled:""},model:{value:t.zero,callback:function(e){t.zero=e},expression:"zero"}}),t._ssrNode(" "),n("nuxt-link",{staticClass:"user",attrs:{to:t.$alias.user(t.item.user.zone)}},[n("div",{staticClass:"user-avatar"},[n("v-img",{attrs:{src:t.item.user.avatar,avatar:!0,width:"35",height:"35"}})],1),t._v(" "),n("div",{staticClass:"nickname oneline",domProps:{textContent:t._s(t.item.user.nickname)}})])],2),t._ssrNode(" "),t._ssrNode('<div class="body">',"</div>",[t._ssrNode('<div class="title"><p class="oneline">'+t._ssrEscape(t._s(t.item.title))+"</p></div> "),t.item.banner?n("v-img",{staticClass:"poster-image",attrs:{src:t.item.banner.url,width:"100%",height:"130"}}):t._e(),t._ssrNode(' <div class="content">'+t._ssrEscape(t._s(t.item.intro))+"</div>")],2),t._ssrNode(' <div class="footer">'+(t.item.is_creator?'<div><i class="iconfont icon-fantuan"></i> <span>'+t._ssrEscape(t._s(t.$utils.shortenNumber(t.item.reward_count)))+"</span></div>":'<div><i class="iconfont icon-like"></i> <span>'+t._ssrEscape(t._s(t.$utils.shortenNumber(t.item.like_count)))+"</span></div>")+' <div><i class="iconfont icon-mark"></i> <span>'+t._ssrEscape(t._s(t.$utils.shortenNumber(t.item.mark_count)))+'</span></div> <div><i class="iconfont icon-talk"></i> <span>'+t._ssrEscape(t._s(t.$utils.shortenNumber(t.item.comment_count)))+"</span></div></div>")],2),t._ssrNode(' <div class="hr"></div>')],2)},[],!1,function(t){var e=n(233);e.__inject__&&e.__inject__(t)},null,"661be238");e.a=component.exports},267:function(t,e){},268:function(t,e){},269:function(t,e){},270:function(t,e,n){"use strict";n.r(e);var r=n(232),o=n.n(r);for(var c in r)"default"!==c&&function(t){n.d(e,t,function(){return r[t]})}(c);e.default=o.a},271:function(t,e){},346:function(t,e,n){"use strict";var r={name:"CartoonRoleFlowItem",props:{item:{required:!0,type:Object},bangumiId:{type:[Number,String],default:0},userZone:{required:!0,type:String},index:{type:Number,default:-1}}},o=n(1);var component=Object(o.a)(r,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"cartoon-role-flow-item"},[t._ssrNode('<div class="clearfix">',"</div>",[n("nuxt-link",{staticClass:"avatar",attrs:{to:t.$alias.cartoonRole(t.item.id)}},[n("v-img",{attrs:{src:t.item.avatar,width:"100",height:"100"}})],1),t._ssrNode(" "),t._ssrNode('<div class="summary">',"</div>",[n("nuxt-link",{staticClass:"role",attrs:{to:t.$alias.cartoonRole(t.item.id)}},[n("span",{staticClass:"name",domProps:{textContent:t._s(t.item.name)}}),t._v(" "),n("span",{staticClass:"intro"},[t._v("："+t._s(t.item.intro))])]),t._ssrNode(" "),t.item.lover?t._ssrNode('<div class="lover">',"</div>",[t._ssrNode("<span>守护者：</span> "),n("nuxt-link",{staticClass:"fr",attrs:{to:t.$alias.user(t.item.lover.zone)}},[n("span",{domProps:{textContent:t._s(t.item.lover.nickname)}}),t._v(" "),n("v-img",{staticClass:"image",attrs:{src:t.item.lover.avatar,avatar:!0,width:"20",height:"20"}})],1)],2):t._ssrNode('<div class="lover"></div>')],2),t._ssrNode(" "),t._ssrNode('<div class="footer">',"</div>",[t._ssrNode((t.userZone?'<div class="stats"><span>'+t._ssrEscape("粉丝: "+t._s(t.item.fans_count))+"</span>\n        ·\n        <span>"+t._ssrEscape("团子: "+t._s(t.item.star_count))+"</span>\n        ·\n        <span>"+t._ssrEscape("贡献: "+t._s(t.item.has_star))+"</span></div>":'<div class="stats"><span>'+t._ssrEscape("\n          粉丝:\n          "+t._s(t.$utils.shortenNumber(t.item.fans_count))+"\n        ")+"</span> <span>"+t._ssrEscape("\n          团子:\n          "+t._s(t.$utils.shortenNumber(t.item.star_count))+"\n        ")+"</span> "+(t.bangumiId||-1===t.index?"\x3c!----\x3e":"<span>排名:</span> <span"+t._ssrAttr("data-index",t.item.fans_count?t.index+1:"无")+' class="top"></span>')+"</div>")+" "),n("nuxt-link",{staticClass:"bangumi",attrs:{to:t.$alias.bangumi(t.item.bangumi.id)},domProps:{textContent:t._s(t.item.bangumi.name)}})],2)],2)])},[],!1,function(t){var e=n(270);e.__inject__&&e.__inject__(t)},null,"126c902c");e.a=component.exports},352:function(t,e,n){"use strict";n.r(e);var r=n(267),o=n.n(r);for(var c in r)"default"!==c&&function(t){n.d(e,t,function(){return r[t]})}(c);e.default=o.a},353:function(t,e,n){"use strict";n.r(e);var r=n(268),o=n.n(r);for(var c in r)"default"!==c&&function(t){n.d(e,t,function(){return r[t]})}(c);e.default=o.a},354:function(t,e,n){"use strict";n.r(e);var r=n(269),o=n.n(r);for(var c in r)"default"!==c&&function(t){n.d(e,t,function(){return r[t]})}(c);e.default=o.a},355:function(t,e,n){"use strict";n.r(e);var r=n(271),o=n.n(r);for(var c in r)"default"!==c&&function(t){n.d(e,t,function(){return r[t]})}(c);e.default=o.a},437:function(t,e,n){"use strict";n.r(e);var r=n(52),o={name:"SearchItemUser",props:{item:{required:!0,type:Object},inCommon:{required:!0,type:Boolean,default:!1}}},c=n(1);var l=Object(c.a)(o,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"search-item-user"},[n("nuxt-link",{staticClass:"avatar",attrs:{to:t.$alias.user(t.item.zone)}},[n("v-img",{attrs:{src:t.item.avatar,avatar:!0,width:"60",height:"60"}})],1),t._ssrNode(" "),t._ssrNode('<div class="intro">',"</div>",[t._ssrNode('<div class="head">',"</div>",[t._ssrNode((t.inCommon?'<span class="badge">用户</span>':"\x3c!----\x3e")+" "),n("nuxt-link",{staticClass:"nickname",attrs:{to:t.$alias.user(t.item.zone)},domProps:{textContent:t._s(t.item.nickname)}})],2),t._ssrNode(" "),n("nuxt-link",{attrs:{to:t.$alias.user(t.item.zone)}},[n("p",{staticClass:"signature",domProps:{textContent:t._s(t.item.signature)}})])],2)],2)},[],!1,function(t){var e=n(352);e.__inject__&&e.__inject__(t)},null,"986c3e22").exports,d={name:"SearchItemBangumi",props:{item:{required:!0,type:Object},inCommon:{required:!0,type:Boolean,default:!1}}};var m=Object(c.a)(d,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"search-item-bangumi"},[n("nuxt-link",{staticClass:"avatar",attrs:{to:t.$alias.bangumi(t.item.id)}},[n("img",{attrs:{src:t.$resize(t.item.avatar,{width:120,height:160}),alt:t.item.name}})]),t._ssrNode(" "),t._ssrNode('<div class="intro">',"</div>",[t._ssrNode('<div class="head">',"</div>",[t._ssrNode((t.inCommon?'<span class="badge">番剧</span>':"\x3c!----\x3e")+" "),n("nuxt-link",{staticClass:"name",attrs:{to:t.$alias.bangumi(t.item.id)},domProps:{textContent:t._s(t.item.name)}})],2),t._ssrNode(" "),n("nuxt-link",{attrs:{to:t.$alias.bangumi(t.item.id)}},[n("p",{staticClass:"summary",domProps:{textContent:t._s(t.item.summary)}})])],2)],2)},[],!1,function(t){var e=n(353);e.__inject__&&e.__inject__(t)},null,"a9e67f2a").exports,_={name:"SearchItemVideo",props:{item:{required:!0,type:Object},inCommon:{required:!0,type:Boolean,default:!1}}};var v=Object(c.a)(_,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"search-item-video"},[t.inCommon?n("nuxt-link",{staticClass:"in-common-avatar",attrs:{to:t.$alias.video(t.item.id)}},[n("img",{attrs:{src:t.$resize(t.item.poster,{width:180,height:102}),alt:t.item.name}})]):n("nuxt-link",{staticClass:"avatar",attrs:{to:t.$alias.video(t.item.id)}},[n("img",{attrs:{src:t.$resize(t.item.poster,{width:120,height:86}),alt:t.item.name}})]),t._ssrNode(" "),t._ssrNode('<div class="intro">',"</div>",[t._ssrNode('<div class="head">',"</div>",[t._ssrNode((t.inCommon?'<span class="badge">视频</span>':"\x3c!----\x3e")+" "),n("nuxt-link",{staticClass:"name",attrs:{to:t.$alias.video(t.item.id)},domProps:{textContent:t._s(t.item.name)}})],2),t._ssrNode(" "),n("nuxt-link",{attrs:{to:t.$alias.video(t.item.id)}},[n("p",{staticClass:"summary",domProps:{textContent:t._s(t.item.summary)}})])],2)],2)},[],!1,function(t){var e=n(354);e.__inject__&&e.__inject__(t)},null,"08e9150d").exports,h=n(223),f=n(346),C=n(243),x={name:"SearchIndex",components:{vSearch:r.a,UserItem:l,BangumiItem:m,VideoItem:v,PostItem:h.a,RoleItem:f.a,ScoreItem:C.a},data(){return{words:this.$route.query.q}},computed:{resource(){return this.$store.state.search.resource[this.selectedType]||{}},loading(){return this.resource.loading},list(){return this.resource.list},noMore(){return this.resource.noMore},total(){return this.resource.total},tabs(){return this.$store.state.search.tabs},selectedType(){return this.$route.query.type||"all"}},async asyncData({store:t,route:e,ctx:n}){const r=e.query,o=r.type||"all";await t.dispatch("search/fetchData",{ctx:n,type:o,q:r.q})},head(){return{title:this.$route.query.q?`搜索结果：${this.$route.query.q}`:"搜索"}},beforeRouteUpdate(t,e,n){const r=t.query,o=r.type||"all";this.$store.dispatch("search/fetchData",{ctx:this,type:o,q:r.q}),n()},methods:{switchTab(t){this.$router.push({name:"search",query:{q:this.words,type:t}})},async loadMore(){try{await this.$store.dispatch("search/fetchMore",{ctx:this,type:this.selectedType})}catch(t){}}}};var N=Object(c.a)(x,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"search-index"}},[t._ssrNode('<div class="search-panel">',"</div>",[n("v-search",{attrs:{type:t.selectedType},model:{value:t.words,callback:function(e){t.words=e},expression:"words"}}),t._ssrNode(' <div class="tabs-panel"><div class="cards">'+t._ssrList(t.tabs,function(e,n){return"<button"+t._ssrClass(null,{active:t.selectedType==n})+">"+t._ssrEscape(t._s(e))+"</button>"})+'</div> <div class="tail"></div></div>')],2),t._ssrNode(" "),t._l(t.tabs,function(e,r){return t._ssrNode('<div class="container"'+t._ssrStyle(null,null,{display:r===t.selectedType?"":"none"})+">","</div>",[t.list?t._l(t.list,function(e){return n(e.type+"-item",{key:e.type+"-"+e.id,tag:"component",attrs:{item:e,"in-common":e.type!==t.selectedType,"bangumi-id":0,"user-zone":""}})}):t._e()],2)}),t._ssrNode(" "),t.list?n("more-btn",{attrs:{"no-more":t.noMore,loading:t.loading,length:t.list.length},on:{fetch:t.loadMore}}):n("p",{staticClass:"error"},[t._v("\n    错误的搜索类型\n  ")])],2)},[],!1,function(t){var e=n(355);e.__inject__&&e.__inject__(t)},null,"9c5a8a68");e.default=N.exports}};
//# sourceMappingURL=search.chunk.b4f15cf8.js.map