exports.ids=[29],exports.modules={224:function(t,e,r){"use strict";e.a={async fetch({store:t,error:e}){await t.dispatch("initAuth")||e({statusCode:"401",message:"继续操作前请先登录"})}}},292:function(t,e){},378:function(t,e,r){t.exports=r.p+"img/8fd1d68.png"},379:function(t,e,r){"use strict";r.r(e);var n=r(292),c=r.n(n);for(var d in n)"default"!==d&&function(t){r.d(e,t,function(){return n[t]})}(d);e.default=c.a},468:function(t,e,r){"use strict";r.r(e);var n=r(163),c=r.n(n),d={name:"PageUserInvite",mixins:[r(224).a],data:()=>({created:!1,result:"",cartoons:["喰种","死亡笔记","刀剑神域","一拳超人","巨人","战栗杀机","JOJO"]}),computed:{user(){return this.$store.state.user},link(){return this.user?`http://calibur.tv/about/invite/${this.user.id}`:""},tags(){return this.$utils.shuffle(this.cartoons).slice(0,5)}},mounted(){this.user?this.$nextTick(()=>{this.generateQrCode()}):this.$toast.error("请先登录").then(()=>{window.location.href="/"})},methods:{generateQrCode(){r.e(66).then(r.bind(null,431)).then(t=>{new(0,t.default)(this.$refs.qr,{text:this.link,width:360,height:360}),setTimeout(()=>{this.create()},3e3)})},create(){c()(document.querySelector(".capture-area"),{allowTaint:!1,useCORS:!0,backgroundColor:null}).then(canvas=>{this.result=canvas.toDataURL("image/png"),this.created=!0,this.$toast.success("长按图片保存")}).catch(()=>{})}}},o=r(1);var component=Object(o.a)(d,function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.user?n("div",{attrs:{id:"user-invite"}},[t._ssrNode('<div class="container"><h3 class="sub-title">'+t._ssrEscape("\n      邀请码"+t._s(t.created?"（长按图片可保存到手机相册）":"")+"\n    ")+'</h3></div> <div class="capture-wrap">'+(t.result?"<img"+t._ssrAttr("src",t.result)+">":'<div class="capture-area"><div class="main"><div class="border-outline"><div class="avatar-wrap"><div class="avatar-bg"></div> <div class="avatar"><div class="avatar-hat"></div> <img'+t._ssrAttr("src",t.$resize(t.user.avatar,{width:200}))+' crossorigin="anonymous"></div></div> <p class="nickname">\n            我是<strong>'+t._ssrEscape(t._s(t.user.nickname))+'</strong></p> <p class="info">和我一起在 <strong>calibur.tv</strong> 追番吧</p> <div class="tags">'+t._ssrList(t.tags,function(e,n){return'<div class="badge"><img'+t._ssrAttr("src",r(378))+"> <span>"+t._ssrEscape(t._s(e))+"</span></div>"})+'</div> <div class="line"></div> <div class="intro">\n            快扫码注册(๑˃́ꇴ˂̀๑)，邀请者有<span>团子奖励</span></div> <div class="logo"></div> <div class="qr"></div> <div class="slogan"></div> <div class="snow-left"></div> <div class="snow-right"></div> <div class="border-out"></div> <div class="border-inner"></div></div></div> <div class="top-bg"></div> <div class="bottom-bg"></div></div>')+"</div>")]):t._e()},[],!1,function(t){var e=r(379);e.__inject__&&e.__inject__(t)},null,"0b552358");e.default=component.exports}};
//# sourceMappingURL=invite.chunk.86db96d1.js.map