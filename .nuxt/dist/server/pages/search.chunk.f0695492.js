exports.ids=[46],exports.modules={179:function(t,e){},180:function(t,e){},181:function(t,e){},192:function(t,e){},194:function(t,e,r){"use strict";r.r(e);var n=r(179),o=r.n(n);for(var c in n)"default"!==c&&function(t){r.d(e,t,function(){return n[t]})}(c);e.default=o.a},195:function(t,e,r){"use strict";r.r(e);var n=r(180),o=r.n(n);for(var c in n)"default"!==c&&function(t){r.d(e,t,function(){return n[t]})}(c);e.default=o.a},196:function(t,e,r){"use strict";r.r(e);var n=r(181),o=r.n(n);for(var c in n)"default"!==c&&function(t){r.d(e,t,function(){return n[t]})}(c);e.default=o.a},201:function(t,e,r){"use strict";var n={name:"UserAvatar",props:{user:{type:Object,required:!0},size:{type:Number,default:40}},methods:{toUser(){this.$router.push(this.$alias.user(this.user.zone))}}},o=r(1);var c=Object(o.a)(n,function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"user-avatar",style:{width:t.size+"px",height:t.size+"px"},on:{click:function(e){return e.stopPropagation(),t.toUser(e)}}},[t._ssrNode("<img"+t._ssrAttr("src",t.$resize(t.user.avatar,{width:2*t.size}))+">")])},[],!1,function(t){var e=r(194);e.__inject__&&e.__inject__(t)},null,"16ffe9a8").exports,l={name:"UserNickname",props:{user:{type:Object,required:!0},isMaster:{type:Boolean,default:!1}},methods:{toUser(){this.$router.push(this.$alias.user(this.user.zone))}}};var d={name:"FlowHeaderUser",components:{UserAvatar:c,UserNickname:Object(o.a)(l,function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"user-nickname"},[this._ssrNode('<div class="nickname"><p class="oneline">'+this._ssrEscape(this._s(this.user.nickname))+"</p></div> "+(this.isMaster?'<span class="badge master-badge"><span>楼主</span></span>':"\x3c!----\x3e"))])},[],!1,function(t){var e=r(195);e.__inject__&&e.__inject__(t)},null,"0ad68c7d").exports},props:{user:{type:Object,required:!0},time:{type:String,required:!0}}};var m=Object(o.a)(d,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"user-panel"},[r("UserAvatar",{attrs:{user:t.user}}),t._ssrNode(" "),t._ssrNode('<div class="slot">',"</div>",[t._t("default")],2),t._ssrNode(" "),t._ssrNode('<div class="user-info">',"</div>",[r("UserNickname",{attrs:{user:t.user}}),t._ssrNode(" "),r("VTime",{model:{value:t.time,callback:function(e){t.time=e},expression:"time"}})],2)],2)},[],!1,function(t){var e=r(196);e.__inject__&&e.__inject__(t)},null,"7d79de9c");e.a=m.exports},205:function(t,e){},216:function(t,e,r){"use strict";r.r(e);var n=r(192),o=r.n(n);for(var c in n)"default"!==c&&function(t){r.d(e,t,function(){return n[t]})}(c);e.default=o.a},228:function(t,e,r){"use strict";var n={name:"PostFlowItem",components:{FlowHeaderUser:r(201).a},props:{item:{required:!0,type:Object},bangumiId:{type:[Number,String],default:0},userZone:{type:String,default:""}},methods:{imageFilter:t=>t.slice(0,3)}},o=r(1);var component=Object(o.a)(n,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("li",{staticClass:"post-flow-item"},[r("router-link",{attrs:{to:t.$alias.post(t.item.id),tag:"div"}},[r("div",{staticClass:"header"},[t.userZone?[r("router-link",{staticClass:"bangumi-avatar",attrs:{to:t.$alias.bangumi(t.item.bangumi.id)}},[r("v-img",{attrs:{src:t.item.bangumi.avatar,width:"35",height:"35"}})],1),t._v(" "),r("div",{staticClass:"info"},[r("router-link",{staticClass:"name oneline",attrs:{to:t.$alias.bangumi(t.item.bangumi.id)},domProps:{textContent:t._s(t.item.bangumi.name)}}),t._v(" "),r("v-time",{model:{value:t.item.created_at,callback:function(e){t.$set(t.item,"created_at",e)},expression:"item.created_at"}})],1)]:[r("FlowHeaderUser",{attrs:{user:t.item.user,time:t.item.created_at}})]],2),t._v(" "),r("div",{staticClass:"body"},[r("div",{staticClass:"title"},[t.item.top_at&&t.bangumiId?r("div",{staticClass:"top_badge"},[t._v("\n          置顶\n        ")]):t._e(),t._v(" "),t.item.is_nice?r("div",{staticClass:"nice_badge"},[t._v("\n          精\n        ")]):t._e(),t._v(" "),t.item.is_creator?r("div",{staticClass:"creator_badge"},[t._v("\n          原创\n        ")]):t._e(),t._v(" "),r("p",{staticClass:"oneline",domProps:{textContent:t._s(t.item.title)}})]),t._v(" "),r("p",{staticClass:"content",domProps:{textContent:t._s(t.item.desc)}}),t._v(" "),t.item.images.length?r("div",{staticClass:"images"},[1===t.item.images.length?r("v-img",{staticClass:"poster-image",attrs:{src:t.item.images[0].url,width:"100%",height:"130"}}):r("div",{staticClass:"image-list"},t._l(t.imageFilter(t.item.images),function(image,t){return r("v-img",{key:t,staticClass:"image",attrs:{src:image.url,width:"32%",height:"93"}})}),1)],1):t._e(),t._v(" "),r("div",{staticClass:"tags"},[t.item.bangumi&&!t.bangumiId?r("router-link",{attrs:{to:t.$alias.bangumi(t.item.bangumi.id)}},[r("i",{staticClass:"iconfont icon-tag"}),t._v(" "),r("span",{domProps:{textContent:t._s(t.item.bangumi.name)}})]):t._e(),t._v(" "),t.item.idol?r("router-link",{attrs:{to:t.$alias.cartoonRole(t.item.idol.id)}},[r("i",{staticClass:"iconfont icon-tag"}),t._v(" "),r("span",{domProps:{textContent:t._s(t.item.idol.name)}})]):t._e(),t._v(" "),t.item.tags.length?t._l(t.item.tags,function(e){return r("span",{key:e.id,staticClass:"tag",domProps:{textContent:t._s(e.name)}})}):t._e()],2)]),t._v(" "),r("div",{staticClass:"footer"},[t.item.is_creator?r("div",[r("i",{staticClass:"iconfont icon-fantuan"}),t._v(" "),r("span",[t._v(t._s(t.$utils.shortenNumber(t.item.reward_count)))])]):r("div",[r("i",{staticClass:"iconfont icon-like"}),t._v(" "),r("span",[t._v(t._s(t.$utils.shortenNumber(t.item.like_count)))])]),t._v(" "),r("div",[r("i",{staticClass:"iconfont icon-mark"}),t._v(" "),r("span",[t._v(t._s(t.$utils.shortenNumber(t.item.mark_count)))])]),t._v(" "),r("div",[r("i",{staticClass:"iconfont icon-talk"}),t._v(" "),r("span",[t._v(t._s(t.$utils.shortenNumber(t.item.comment_count)))])])])]),t._ssrNode(' <div class="hr"></div>')],2)},[],!1,function(t){var e=r(216);e.__inject__&&e.__inject__(t)},null,"9b8d58e8");e.a=component.exports},241:function(t,e){},242:function(t,e,r){"use strict";r.r(e);var n=r(205),o=r.n(n);for(var c in n)"default"!==c&&function(t){r.d(e,t,function(){return n[t]})}(c);e.default=o.a},257:function(t,e,r){"use strict";r(89),r(2);var n=r(46),o={name:"ScoreFlowItem",components:{"el-rate":r.n(n).a},props:{item:{required:!0,type:Object},bangumiId:{required:!0,type:[String,Number]},userZone:{required:!0,type:String}},data:()=>({zero:0}),computed:{pageName(){return this.$route.name},starCount(){return this.item.total/2}},methods:{linkStart(){this.$router.push(this.$alias.score(this.item.id))}}},c=r(1);var component=Object(c.a)(o,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("li",{staticClass:"score-flow-item"},[t._ssrNode("<div>","</div>",[t.item.bangumi&&t.item.user?t._ssrNode('<div class="header trending-header">',"</div>",[r("nuxt-link",{staticClass:"user-avatar",attrs:{to:t.$alias.user(t.item.user.zone)}},[r("v-img",{attrs:{src:t.item.user.avatar,avatar:!0,width:"35",height:"35"}})],1),t._ssrNode(" "),t._ssrNode('<div class="header-content">',"</div>",[t._ssrNode('<div class="about">',"</div>",[t.starCount?r("el-rate",{attrs:{disabled:""},model:{value:t.starCount,callback:function(e){t.starCount=e},expression:"starCount"}}):r("el-rate",{attrs:{disabled:""},model:{value:t.zero,callback:function(e){t.zero=e},expression:"zero"}}),t._ssrNode(" "),r("nuxt-link",{staticClass:"bangumi-name oneline",attrs:{to:t.$alias.bangumi(t.item.bangumi.id)},domProps:{textContent:t._s(t.item.bangumi.name)}})],2),t._ssrNode(" "),t._ssrNode('<div class="meta">',"</div>",[r("nuxt-link",{staticClass:"author",attrs:{to:t.$alias.user(t.item.user.zone)},domProps:{textContent:t._s(t.item.user.nickname)}}),t._ssrNode("\n           · \n          "),r("v-time",{staticClass:"created-at",model:{value:t.item.created_at,callback:function(e){t.$set(t.item,"created_at",e)},expression:"item.created_at"}})],2)],2)],2):t.item.bangumi?t.item.user?t._e():t._ssrNode('<div class="header user-header">',"</div>",[t.starCount?r("el-rate",{attrs:{disabled:""},model:{value:t.starCount,callback:function(e){t.starCount=e},expression:"starCount"}}):r("el-rate",{attrs:{disabled:""},model:{value:t.zero,callback:function(e){t.zero=e},expression:"zero"}}),t._ssrNode(" "),r("nuxt-link",{staticClass:"bangumi",attrs:{to:t.$alias.bangumi(t.item.bangumi.id)}},[r("div",{staticClass:"bangumi-avatar"},[r("v-img",{attrs:{src:t.item.bangumi.avatar,width:"23",height:"23"}})],1),t._v(" "),r("div",{staticClass:"nickname oneline",domProps:{textContent:t._s(t.item.bangumi.name)}})])],2):t._ssrNode('<div class="header bangumi-header">',"</div>",[t.starCount?r("el-rate",{attrs:{disabled:""},model:{value:t.starCount,callback:function(e){t.starCount=e},expression:"starCount"}}):r("el-rate",{attrs:{disabled:""},model:{value:t.zero,callback:function(e){t.zero=e},expression:"zero"}}),t._ssrNode(" "),r("nuxt-link",{staticClass:"user",attrs:{to:t.$alias.user(t.item.user.zone)}},[r("div",{staticClass:"user-avatar"},[r("v-img",{attrs:{src:t.item.user.avatar,avatar:!0,width:"35",height:"35"}})],1),t._v(" "),r("div",{staticClass:"nickname oneline",domProps:{textContent:t._s(t.item.user.nickname)}})])],2),t._ssrNode(" "),t._ssrNode('<div class="body">',"</div>",[t._ssrNode('<div class="title"><p class="oneline">'+t._ssrEscape(t._s(t.item.title))+"</p></div> "),t.item.banner?r("v-img",{staticClass:"poster-image",attrs:{src:t.item.banner.url,width:"100%",height:"130"}}):t._e(),t._ssrNode(' <div class="content">'+t._ssrEscape(t._s(t.item.intro))+"</div>")],2),t._ssrNode(' <div class="footer">'+(t.item.is_creator?'<div><i class="iconfont icon-fantuan"></i> <span>'+t._ssrEscape(t._s(t.$utils.shortenNumber(t.item.reward_count)))+"</span></div>":'<div><i class="iconfont icon-like"></i> <span>'+t._ssrEscape(t._s(t.$utils.shortenNumber(t.item.like_count)))+"</span></div>")+' <div><i class="iconfont icon-mark"></i> <span>'+t._ssrEscape(t._s(t.$utils.shortenNumber(t.item.mark_count)))+'</span></div> <div><i class="iconfont icon-talk"></i> <span>'+t._ssrEscape(t._s(t.$utils.shortenNumber(t.item.comment_count)))+"</span></div></div>")],2),t._ssrNode(' <div class="hr"></div>')],2)},[],!1,function(t){var e=r(242);e.__inject__&&e.__inject__(t)},null,"661be238");e.a=component.exports},280:function(t,e){},281:function(t,e){},282:function(t,e){},283:function(t,e,r){"use strict";r.r(e);var n=r(241),o=r.n(n);for(var c in n)"default"!==c&&function(t){r.d(e,t,function(){return n[t]})}(c);e.default=o.a},284:function(t,e){},370:function(t,e,r){"use strict";var n={name:"CartoonRoleFlowItem",props:{item:{required:!0,type:Object},bangumiId:{type:[Number,String],default:0},userZone:{required:!0,type:String},index:{type:Number,default:-1}}},o=r(1);var component=Object(o.a)(n,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("li",{staticClass:"cartoon-role-flow-item"},[t._ssrNode('<div class="clearfix">',"</div>",[r("nuxt-link",{staticClass:"avatar",attrs:{to:t.$alias.cartoonRole(t.item.id)}},[r("v-img",{attrs:{src:t.item.avatar,width:"100",height:"100"}})],1),t._ssrNode(" "),t._ssrNode('<div class="summary">',"</div>",[r("nuxt-link",{staticClass:"role",attrs:{to:t.$alias.cartoonRole(t.item.id)}},[r("span",{staticClass:"name",domProps:{textContent:t._s(t.item.name)}}),t._v(" "),r("span",{staticClass:"intro"},[t._v("："+t._s(t.item.intro))])]),t._ssrNode(" "),t.item.lover?t._ssrNode('<div class="lover">',"</div>",[t._ssrNode("<span>守护者：</span> "),r("nuxt-link",{staticClass:"fr",attrs:{to:t.$alias.user(t.item.lover.zone)}},[r("span",{domProps:{textContent:t._s(t.item.lover.nickname)}}),t._v(" "),r("v-img",{staticClass:"image",attrs:{src:t.item.lover.avatar,avatar:!0,width:"20",height:"20"}})],1)],2):t._ssrNode('<div class="lover"></div>')],2),t._ssrNode(" "),t._ssrNode('<div class="footer">',"</div>",[t._ssrNode((t.userZone?'<div class="stats"><span>'+t._ssrEscape("粉丝: "+t._s(t.item.fans_count))+"</span>\n        ·\n        <span>"+t._ssrEscape("团子: "+t._s(t.item.star_count))+"</span>\n        ·\n        <span>"+t._ssrEscape("贡献: "+t._s(t.item.has_star))+"</span></div>":'<div class="stats"><span>'+t._ssrEscape("\n          粉丝:\n          "+t._s(t.$utils.shortenNumber(t.item.fans_count))+"\n        ")+"</span> <span>"+t._ssrEscape("\n          团子:\n          "+t._s(t.$utils.shortenNumber(t.item.star_count))+"\n        ")+"</span> "+(t.bangumiId||-1===t.index?"\x3c!----\x3e":"<span>排名:</span> <span"+t._ssrAttr("data-index",t.item.fans_count?t.index+1:"无")+' class="top"></span>')+"</div>")+" "),r("nuxt-link",{staticClass:"bangumi",attrs:{to:t.$alias.bangumi(t.item.bangumi.id)},domProps:{textContent:t._s(t.item.bangumi.name)}})],2)],2)])},[],!1,function(t){var e=r(283);e.__inject__&&e.__inject__(t)},null,"126c902c");e.a=component.exports},375:function(t,e,r){"use strict";r.r(e);var n=r(280),o=r.n(n);for(var c in n)"default"!==c&&function(t){r.d(e,t,function(){return n[t]})}(c);e.default=o.a},376:function(t,e,r){"use strict";r.r(e);var n=r(281),o=r.n(n);for(var c in n)"default"!==c&&function(t){r.d(e,t,function(){return n[t]})}(c);e.default=o.a},377:function(t,e,r){"use strict";r.r(e);var n=r(282),o=r.n(n);for(var c in n)"default"!==c&&function(t){r.d(e,t,function(){return n[t]})}(c);e.default=o.a},378:function(t,e,r){"use strict";r.r(e);var n=r(284),o=r.n(n);for(var c in n)"default"!==c&&function(t){r.d(e,t,function(){return n[t]})}(c);e.default=o.a},453:function(t,e,r){"use strict";r.r(e);var n=r(50),o={name:"SearchItemUser",props:{item:{required:!0,type:Object},inCommon:{required:!0,type:Boolean,default:!1}}},c=r(1);var l=Object(c.a)(o,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"search-item-user"},[r("nuxt-link",{staticClass:"avatar",attrs:{to:t.$alias.user(t.item.zone)}},[r("v-img",{attrs:{src:t.item.avatar,avatar:!0,width:"60",height:"60"}})],1),t._ssrNode(" "),t._ssrNode('<div class="intro">',"</div>",[t._ssrNode('<div class="head">',"</div>",[t._ssrNode((t.inCommon?'<span class="badge">用户</span>':"\x3c!----\x3e")+" "),r("nuxt-link",{staticClass:"nickname",attrs:{to:t.$alias.user(t.item.zone)},domProps:{textContent:t._s(t.item.nickname)}})],2),t._ssrNode(" "),r("nuxt-link",{attrs:{to:t.$alias.user(t.item.zone)}},[r("p",{staticClass:"signature",domProps:{textContent:t._s(t.item.signature)}})])],2)],2)},[],!1,function(t){var e=r(375);e.__inject__&&e.__inject__(t)},null,"986c3e22").exports,d={name:"SearchItemBangumi",props:{item:{required:!0,type:Object},inCommon:{required:!0,type:Boolean,default:!1}}};var m=Object(c.a)(d,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"search-item-bangumi"},[r("nuxt-link",{staticClass:"avatar",attrs:{to:t.$alias.bangumi(t.item.id)}},[r("img",{attrs:{src:t.$resize(t.item.avatar,{width:120,height:160}),alt:t.item.name}})]),t._ssrNode(" "),t._ssrNode('<div class="intro">',"</div>",[t._ssrNode('<div class="head">',"</div>",[t._ssrNode((t.inCommon?'<span class="badge">番剧</span>':"\x3c!----\x3e")+" "),r("nuxt-link",{staticClass:"name",attrs:{to:t.$alias.bangumi(t.item.id)},domProps:{textContent:t._s(t.item.name)}})],2),t._ssrNode(" "),r("nuxt-link",{attrs:{to:t.$alias.bangumi(t.item.id)}},[r("p",{staticClass:"summary",domProps:{textContent:t._s(t.item.summary)}})])],2)],2)},[],!1,function(t){var e=r(376);e.__inject__&&e.__inject__(t)},null,"a9e67f2a").exports,_={name:"SearchItemVideo",props:{item:{required:!0,type:Object},inCommon:{required:!0,type:Boolean,default:!1}}};var v=Object(c.a)(_,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"search-item-video"},[t.inCommon?r("nuxt-link",{staticClass:"in-common-avatar",attrs:{to:t.$alias.video(t.item.id)}},[r("img",{attrs:{src:t.$resize(t.item.poster,{width:180,height:102}),alt:t.item.name}})]):r("nuxt-link",{staticClass:"avatar",attrs:{to:t.$alias.video(t.item.id)}},[r("img",{attrs:{src:t.$resize(t.item.poster,{width:120,height:86}),alt:t.item.name}})]),t._ssrNode(" "),t._ssrNode('<div class="intro">',"</div>",[t._ssrNode('<div class="head">',"</div>",[t._ssrNode((t.inCommon?'<span class="badge">视频</span>':"\x3c!----\x3e")+" "),r("nuxt-link",{staticClass:"name",attrs:{to:t.$alias.video(t.item.id)},domProps:{textContent:t._s(t.item.name)}})],2),t._ssrNode(" "),r("nuxt-link",{attrs:{to:t.$alias.video(t.item.id)}},[r("p",{staticClass:"summary",domProps:{textContent:t._s(t.item.summary)}})])],2)],2)},[],!1,function(t){var e=r(377);e.__inject__&&e.__inject__(t)},null,"08e9150d").exports,f=r(228),h=r(370),C=r(257),x={name:"SearchIndex",components:{vSearch:n.a,UserItem:l,BangumiItem:m,VideoItem:v,PostItem:f.a,RoleItem:h.a,ScoreItem:C.a},data(){return{words:this.$route.query.q}},computed:{resource(){return this.$store.state.search.resource[this.selectedType]||{}},loading(){return this.resource.loading},list(){return this.resource.list},noMore(){return this.resource.noMore},total(){return this.resource.total},tabs(){return this.$store.state.search.tabs},selectedType(){return this.$route.query.type||"all"}},async asyncData({store:t,route:e,ctx:r}){const n=e.query,o=n.type||"all";await t.dispatch("search/fetchData",{ctx:r,type:o,q:n.q})},head(){return{title:this.$route.query.q?`搜索结果：${this.$route.query.q}`:"搜索"}},beforeRouteUpdate(t,e,r){const n=t.query,o=n.type||"all";this.$store.dispatch("search/fetchData",{ctx:this,type:o,q:n.q}),r()},methods:{switchTab(t){this.$router.push({name:"search",query:{q:this.words,type:t}})},async loadMore(){try{await this.$store.dispatch("search/fetchMore",{ctx:this,type:this.selectedType})}catch(t){}}}};var N=Object(c.a)(x,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"search-index"}},[t._ssrNode('<div class="search-panel">',"</div>",[r("v-search",{attrs:{type:t.selectedType},model:{value:t.words,callback:function(e){t.words=e},expression:"words"}}),t._ssrNode(' <div class="tabs-panel"><div class="cards">'+t._ssrList(t.tabs,function(e,r){return"<button"+t._ssrClass(null,{active:t.selectedType==r})+">"+t._ssrEscape(t._s(e))+"</button>"})+'</div> <div class="tail"></div></div>')],2),t._ssrNode(" "),t._l(t.tabs,function(e,n){return t._ssrNode('<div class="container"'+t._ssrStyle(null,null,{display:n===t.selectedType?"":"none"})+">","</div>",[t.list?t._l(t.list,function(e){return r(e.type+"-item",{key:e.type+"-"+e.id,tag:"component",attrs:{item:e,"in-common":e.type!==t.selectedType,"bangumi-id":0,"user-zone":""}})}):t._e()],2)}),t._ssrNode(" "),t.list?r("more-btn",{attrs:{"no-more":t.noMore,loading:t.loading,length:t.list.length},on:{fetch:t.loadMore}}):r("p",{staticClass:"error"},[t._v("\n    错误的搜索类型\n  ")])],2)},[],!1,function(t){var e=r(378);e.__inject__&&e.__inject__(t)},null,"9c5a8a68");e.default=N.exports}};
//# sourceMappingURL=search.chunk.f0695492.js.map