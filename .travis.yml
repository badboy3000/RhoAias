language: node_js
node_js:
- 8.6.0
branches:
  only:
  - master
before_install:
- openssl aes-256-cbc -K $encrypted_6eca20d45730_key -iv $encrypted_6eca20d45730_iv
  -in id_rsa.enc -out ~/.ssh/id_rsa -d
- chmod 600 ~/.ssh/id_rsa
- echo -e "Host 101.132.169.136\n\tStrictHostKeyChecking no\n" >> ~/.ssh/config
script:
- echo "hello"
after_success:
- ssh -p $DEPLOY_PORT $DEPLOY_USER@$DEPLOY_HOST 'cd /var/www/m && git pull'
- ssh -p $DEPLOY_PORT $DEPLOY_USER@$DEPLOY_HOST 'cd /var/www/m && npm run generate'
env:
  global:
  - secure: TLH/oyXNeaYFsnNpjnR9ZVuT6rEApINiYE38bI2hlYLs+AsU6a28RB2baLaP656ysJOipK054upGOcq0IqSir+YkeLJGyEF3xpyzaSGSa88bMlsnAzZVSIS8rxYDFQL1s7ULnksnWV0ECNWLpXPwSlPSxbT7KilbVc2S0l/e4sdtWejBfiCS6wMWR2pCgvxKNmX1NUH3bNMY8VBbtAOAjP6q818JcZbrJEyiM6z2j+ujbKYDtSr3304DhKTTW7i+PGwWl7kTjuNoAEbD8ZxufgRc+z3QPUZP6UftgxDV6IksG9ngfa/+oe58fpWYIK2dFiYO9SdIxWfaZloBBLCdi2RMCGAQwY4o3yBGvzSJxgVA27W2CJ87scAlkup5HtGRf01U3rdXVAMOLMRu88DSrfV0eccnrK1O44UBOS4XECKVn2M+htJRlrojnBynWOULe1Y+SzczqSmw6AHnfFpuI15byl/fQOM3Yv9TZU12jlQD/uehLrZADXpERVGRvI39wAP31JJ20kQScfmIQ48U+PPzKPeqlYkEi6wBWwfBktbnVrmUXo05ea0XnSLXsrHmgvBKrpy/jAibsKU1CzSjwKZwj1/v6nLyWb6OAVxJhmFHaMXzotM59bncYu+fFAJW9vMyOKsQZdtruGBZjz6246JCyfT6ZE52RtoSdDl0phU=
  - secure: TZNkb54J7QZyh5FhzcCVl1UEnWkLVAq3KEi3Qe4kK4dRy25qZ+0Cdj717ou1pjn6XolB1hOfn5erfcZOncVWpD0FIduOuSSIodVDaU3L1vwY5SFEBI3gjM+o/15FdfaTGwrcwlRSWNP/fMNcHxoccpqJdMe8L3rdYifEhoZyhvPBzIwZYxMwrq+DqzRsBmumM2FD7aoFIvijSlsI5jnth9GylKcR8UHwPjCXmhnga/BTvOfUEdc/PCcZ3/m7boZtW3WXPZrhzjzVe6qrfj8KWdJY1wguO8AbN5xwaQpryi9fwDg1d7tS2E2kv2uKzCJ3SBXXa+gmmkaDxGf53lMYq0NLMctsJxUrZiCVCMxVsVWT9BDeK0l+DexFKyG9ZGwU3RbPB0BOOfzU/+iUqwJ3AyMZUFS13B+Kdl0OYD6/ugfwvVA3xS8g3RZ4rIVmXzejdh9gZgxCo+hMTLEb5J/22xuvLvlLRMjIUxPiNfZUGohzbntJj9CyCG81OQ2Q6MSIKeMfv31AvpG0NnJtiGU1GCS7s42KkflF7iYESjrtFujR4ZagRS6KlXzIVp2pB2ORhlu+TqDHEcAnIN10OAglrQJl6AqAEr2Ko4PgbX5DsomH1m8bxsgY3eag84T6Vl0U5/hMCovthgcdqhPWCsrpPQV+8lNVDmN+xmcNZLWUW44=
  - secure: rflBnRX9iQbr51GJJ4OByY1GTHB64nSKbF0UjzKPFAC3qJQLWb/cDJROWT9z+4Y9mYrylKTTrxqpWxza9Il/mXs1X9H3RSmIO9nNtDRAhAWvuWQCecfUBPdJvUVEHBP+sPrAJsv1Elqx6h6qImlvjfwEM1D57qCXnAd4m4dhjnkTXaXtDO2jV+XREiZtkGGqdtNFCN4LjtPxin7Q+SX6p19AAO42Ev7Q+jcAU2vHU7E53P8/ZGf+e+UDNndTulylvsqCeK4n83jFZACx3T0As8cZn9ITO/hQRXhx523+7vZgZCWa1mveVATgDcS66Yk/rMy1oaF9ObqPpF7ArkpemBZg47SVChLoCx9xpgA21MCYGZDovrTXG7uX3sEUb49xgFavEsAMPOEu98Hj8A97YZ2O6++dsH341PivZXBuF8yWmGsWdl8QnCqeriIRCTNijS0NeSDs4Xz0ggsgnUaw7Z+Cf8Ge/CqMRZB9GZrXG+D8dvvEjqVRVvw8/JxUG6lSJ99k2fqoF/1fxZHK8cO6fJ/3iKfZ0zBJUAfrLsy944Y9FAOglR3/5LGD6zeGsTRb7pvn3IFJY4EtRXOiHoUy5pKzFEuP8xjX9KNcTVM8BCZlDnVUrgioswdwKsvGi1YaBaA9yuWjzzV/T2p2Vw59IV9MtLeEZM8x0QnXs/cdODk=
