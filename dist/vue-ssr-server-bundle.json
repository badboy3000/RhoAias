{
  "entry": "server-bundle.js",
  "files": {
    "44.server-bundle.js": "exports.ids = [44];\nexports.modules = {\n\n/***/ 270:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(271);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"7cc56fce\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 271:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}#about-hello{padding-bottom:15px}#about-hello h1{margin-bottom:16px;margin-top:16px;color:#333;font-size:16px}#about-hello .sub-title{margin-top:15px}#about-hello p{color:#333;font-size:12px;text-indent:2em;margin-top:5px;line-height:15px}#about-hello ul{margin:5px 0 5px 25px}#about-hello ul li{list-style-type:disc;font-size:12px;color:#666;line-height:20px}#about-hello ul a{font-size:12px;color:#ff8eb3}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 337:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/about/hello.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var hello = ({\n  name: \"PageHello\",\n  computed: {\n    nickname() {\n      return this.$store.state.user ? this.$store.state.user.nickname : \"\";\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-01a9f555\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/about/hello.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\",attrs:{\"id\":\"about-hello\"}},[_vm._ssrNode(\"<h1>\"+_vm._ssrEscape(\"欢迎来到 calibur.tv\"+_vm._s(_vm.nickname ? ',' : '！')+\" \"+_vm._s(_vm.nickname))+\"</h1><p>在开始之前，你应该了解一下这个网站的规则，这有助于让你得到更好使用的体验，让我们开始吧！</p><h3 class=\\\"sub-title\\\">金币系统：</h3><p>每个用户每天都可以签到一次，每次可以获取 1 金币，这种金币的使用规则如下：</p><ul><li>1 金币 = 1 元人民币</li><li>金币可以通过签到获取，也可以通过发表原创内容让其他用户打赏给你</li><li>\\n      使用自己的\\n      <a href=\\\"/me/invite\\\" target=\\\"_blank\\\">邀请码</a>\\n      每邀请一个人注册，自己就会获得1枚金币\\n    </li><li>签到获得的金币无法提现，但签到获得的金币可以打赏给其他人，其他人就可以提现了</li><li>满 100 金币就可以提现</li><li>提现是需要对内容进行审核的，如果你发表过「不利于社区发展」的内容，你是无法提现的</li><li>提现目前只支持支付宝转账，更多提现方式后续会研发</li></ul><h3 class=\\\"sub-title\\\">番剧系统：</h3><p>无论是现在的帖子、视频，还是以后的其它功能都将以「番剧」为单位</p><p>calibur.tv 现在和以后都将以动漫为核心，网站只在二次元方向发展</p><h3 class=\\\"sub-title\\\">帖子系统：</h3><p>经过上面对「金币系统」的介绍，大家应该明白，想要快速积累金币提现，就只能发表优质的内容，然后吸引其他用户为你打赏，目前打赏功能是这样的：</p><ul><li>只有主题帖的打赏才给予金币，对帖子回复的点赞是没有金币的</li><li>每个人只能给每个帖子打赏一枚金币，打赏后，楼主的金币 +1，你的金币 -1</li><li>如果你在打赏后再取消打赏，楼主获取的金币会 -1，而你的金币不会 +1，因此打赏要谨慎</li><li>如果你的帖子被删除或自己删除，你通过该帖子获得的金币不会减少</li></ul><h3 class=\\\"sub-title\\\">用户系统：</h3><p>我们的用户系统还处于早期阶段，可讲的也只有：</p><ul><li>每个用户都有自己的邀请码，每有一个人通过你的<strong>邀请码</strong>注册成为 calibur 的用户，你就会获得 1 金币</li></ul><h3 class=\\\"sub-title\\\">盖楼系统：</h3><p>为了让每位动漫角色的粉丝都可以很好的为TA应援，我们开通了为偶像应援的盖楼系统</p><p>相比于百度贴吧的帖子盖楼，我们的盖楼是需要一些成本（每次 1 金币）的，这样有如下好处：</p><ul><li>可以通过金币数和粉丝数，量化每个角色的人气，并且这个人气是具有价值的，而不是像百度贴吧那样1个粉丝可以顶很多个人</li><li>每个粉丝的贡献值也是可以量化的，这样就有了&quot;守护者&quot;这个职称，这个职称也将是实至名归的</li><li>通过可以量化的人气，我们可以创建一个人气榜，这样就可以知道谁是人气王！</li></ul><h3 class=\\\"sub-title\\\">图片系统：</h3><ul><li>如果是原创图片，可以在创建时勾选原创，这样的话就可以得到金币的收益</li><li>网站图片必须与动漫相关，cosplay、手绘、原画等都可以</li><li>目前用户无法上传漫画类别的相册，如果需要开通漫画权限，请联系网站管理员</li></ul><h3 class=\\\"sub-title\\\">漫评系统：</h3><p>calibur.tv 有可以说最全面的番剧评分系统，可以方便大家对评价自己喜欢的番剧</p><ul><li>漫评是从多个维度出发，既给了大家表达的方向，也给了漫评一个基本的框架</li><li>不同的番剧在各自的维度发挥优势，有利于在未来根据大家对番剧的评价来推荐你喜欢的内容</li></ul><h3 class=\\\"sub-title\\\">问答系统：</h3><p>闲着没事做了一个和知乎一样的问答系统，当然功能还比较简单</p><ul><li>一些专业性的问题可以在这个板块下提问</li><li>问题与回答限制于二次元以内，其它话题都是禁止的</li></ul><h3 class=\\\"sub-title\\\">交流反馈：</h3><p>由于个人能力有限，网站可能会有很多不足之处，希望大家可以帮助完善</p><ul><li>交流与反馈QQ群：<br><strong>106402736</strong>、<strong>806818950</strong></li><li>提现QQ群：<strong>718529809</strong>，进群请填写自己的邀请码，审核通过后方可提现</li><li>其它官方交流与合作请加QQ：<strong>414927352</strong></li></ul><h3 class=\\\"sub-title\\\">最后：</h3><p>我开发这个网站的初衷只是因为对动漫的热爱，同时我也希望和我一样热爱动漫的人，可以从这份初心中获取一点回报，不再需要「用爱来发电」</p><p>网站目前的功能还很弱，相信以后会更好的，我只希望为自己喜欢的东西，做一点点贡献</p><p>希望，你也喜欢这个网站。by：冰淤</p>\")])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var about_hello = (esExports);\n// CONCATENATED MODULE: ./src/views/about/hello.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(270),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"65443516\"\nvar Component = normalizeComponent(\n  hello,\n  about_hello,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_about_hello = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n};;",
    "0.server-bundle.js": "exports.ids = [0];\nexports.modules = {\n\n/***/ 138:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: external \"@babel/runtime/regenerator\"\nvar regenerator_ = __webpack_require__(0);\nvar regenerator__default = /*#__PURE__*/__webpack_require__.n(regenerator_);\n\n// EXTERNAL MODULE: external \"regenerator-runtime/runtime\"\nvar runtime_ = __webpack_require__(1);\nvar runtime__default = /*#__PURE__*/__webpack_require__.n(runtime_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/asyncToGenerator\"\nvar asyncToGenerator_ = __webpack_require__(2);\nvar asyncToGenerator__default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator_);\n\n// EXTERNAL MODULE: external \"core-js/modules/web.dom.iterable\"\nvar web_dom_iterable_ = __webpack_require__(3);\nvar web_dom_iterable__default = /*#__PURE__*/__webpack_require__.n(web_dom_iterable_);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/bangumi/BangumiPicker.vue\n\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var BangumiPicker = ({\n  name: \"BangumiPicker\",\n  props: {\n    display: {\n      required: true,\n      type: Boolean\n    },\n    value: {\n      required: true,\n      type: [Number, String]\n    },\n    label: {\n      type: Boolean,\n      default: true\n    }\n  },\n\n  data() {\n    return {\n      show: false,\n      loading: false,\n      fetched: false,\n      selected: false,\n      isFirst: true,\n      list: [{\n        flex: 1,\n        defaultIndex: -1,\n        values: [],\n        textAlign: \"center\"\n      }]\n    };\n  },\n\n  computed: {\n    notInit() {\n      return !this.list[0].values.length;\n    },\n\n    placeholder() {\n      if (this.loading) {\n        return \"加载中...\";\n      }\n\n      if (this.notInit) {\n        return \"请先关注番剧\";\n      }\n\n      if (!this.selected) {\n        return \"点击选择番剧\";\n      }\n\n      return this.list[0].values[this.list[0].defaultIndex][\"name\"];\n    },\n\n    user() {\n      return this.$store.state.user;\n    }\n\n  },\n\n  mounted() {\n    this.$watch(\"value\", val => {\n      this.autoSelect(val);\n    });\n    this.$watch(\"display\", val => {\n      if (val && this.notInit) {\n        this.getData();\n      }\n    });\n  },\n\n  methods: {\n    onClickSelect() {\n      this.selected = true;\n      this.$emit(\"input\", this.list[0].values[this.list[0].defaultIndex][\"id\"]);\n    },\n\n    onSlideSelect(picker, values) {\n      if (!values[0]) {\n        return;\n      }\n\n      var id = values[0].id;\n      this.list[0].values.forEach((item, index) => {\n        if (item.id === id) {\n          this.list[0].defaultIndex = index;\n\n          if (!this.isFirst) {\n            this.selected = true;\n            this.$emit(\"input\", item.id);\n          } else {\n            this.isFirst = false;\n          }\n        }\n      });\n    },\n\n    openPicker() {\n      if (!this.fetched) {\n        this.getData();\n      } else if (this.notInit) {\n        this.$toast.error(\"请先关注番剧\");\n      } else {\n        this.show = true;\n      }\n    },\n\n    getData() {\n      var _this = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee() {\n        return regenerator__default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!(_this.loading || !_this.user)) {\n                  _context.next = 2;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 2:\n                _this.loading = true;\n                _context.prev = 3;\n                _context.next = 6;\n                return _this.$store.dispatch(\"users/getFollowBangumis\", {\n                  zone: _this.user.zone\n                });\n\n              case 6:\n                _this.list[0].values = _context.sent;\n\n                _this.autoSelect(_this.value);\n\n                _this.fetched = true;\n                _context.next = 14;\n                break;\n\n              case 11:\n                _context.prev = 11;\n                _context.t0 = _context[\"catch\"](3);\n\n                _this.$toast.error(_context.t0);\n\n              case 14:\n                _context.prev = 14;\n                _this.loading = false;\n                return _context.finish(14);\n\n              case 17:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[3, 11, 14, 17]]);\n      }))();\n    },\n\n    autoSelect(id) {\n      this.list[0].values.forEach((item, index) => {\n        if (!(item.id - id)) {\n          this.selected = true;\n          this.list[0].defaultIndex = index;\n        }\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5ccb8476\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/bangumi/BangumiPicker.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"bangumi-picker\"},[_vm._ssrNode(((_vm.label)?(\"<span>番剧：</span>\"):\"<!---->\")+\"<div>\"+_vm._ssrEscape(_vm._s(_vm.placeholder))+\"</div>\"),_c('v-drawer',{attrs:{\"from\":\"bottom\",\"size\":\"250px\",\"header-text\":\"选择番剧\",\"submit-text\":\"确认\"},on:{\"submit\":_vm.onClickSelect},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('mt-picker',{attrs:{\"slots\":_vm.list,\"value-key\":\"name\"},on:{\"change\":_vm.onSlideSelect}})],1)],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var bangumi_BangumiPicker = (esExports);\n// CONCATENATED MODULE: ./src/components/bangumi/BangumiPicker.vue\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"0aded362\"\nvar Component = normalizeComponent(\n  BangumiPicker,\n  bangumi_BangumiPicker,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_bangumi_BangumiPicker = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 150:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: external \"core-js/modules/es6.regexp.replace\"\nvar es6_regexp_replace_ = __webpack_require__(9);\nvar es6_regexp_replace__default = /*#__PURE__*/__webpack_require__.n(es6_regexp_replace_);\n\n// EXTERNAL MODULE: external \"core-js/modules/web.dom.iterable\"\nvar web_dom_iterable_ = __webpack_require__(3);\nvar web_dom_iterable__default = /*#__PURE__*/__webpack_require__.n(web_dom_iterable_);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/jsonEditor/JsonItem.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var JsonItem = ({\n  name: \"JsonItem\",\n  props: {\n    item: {\n      type: Object,\n      required: true\n    },\n    selected: {\n      type: Boolean,\n      required: true,\n      default: false\n    },\n    index: {\n      type: Number,\n      required: true\n    }\n  },\n  computed: {\n    sectionCount() {\n      return this.$store.state.editor.sections.length;\n    }\n\n  },\n  methods: {\n    emitPreview(type) {\n      this.$emit(\"preview\", {\n        index: this.index,\n        type\n      });\n    },\n\n    emitCreate(type) {\n      this.$emit(\"create\", {\n        index: this.index,\n        type\n      });\n    },\n\n    emitDelete() {\n      this.$emit(\"delete\", {\n        index: this.index\n      });\n    },\n\n    emitSort() {\n      this.$emit(\"sort\", {\n        index: this.index\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-d6951c8c\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/jsonEditor/JsonItem.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"json-item\",class:{ selected: _vm.selected }},[_vm._ssrNode(((_vm.sectionCount > 1)?(\"<button class=\\\"delete-btn\\\"><span><i class=\\\"el-icon-delete\\\"></i></span></button>\"):\"<!---->\")+((_vm.index)?(\"<button class=\\\"up-btn\\\"><span><i class=\\\"el-icon-arrow-up\\\"></i></span></button>\"):\"<!---->\")+\"<div class=\\\"show-area\\\"><div class=\\\"capture\\\">\"+((_vm.item.type === 'img')?(((_vm.item.url)?(\"<div class=\\\"poster\\\"\"+(_vm._ssrStyle(null,{ backgroundImage: (\"url(\" + (_vm.$resize(_vm.item.url, { width: 150 })) + \")\") }, null))+\"></div>\"):\"<!---->\")+((!_vm.item.url)?(\"<div class=\\\"default green\\\"><i class=\\\"el-icon-picture-outline\\\"></i></div>\"):\"<!---->\")):(_vm.item.type === 'txt')?(\"<div class=\\\"default yellow\\\"><i class=\\\"el-icon-document\\\"></i></div>\"):\"<!---->\")+\"</div><div class=\\\"content\\\">\"+((_vm.item.text)?(\"<div class=\\\"text\\\">\"+(_vm._s(_vm.item.text))+\"</div>\"):(\"<div class=\\\"text\\\">\"+_vm._ssrEscape(\"\\n        \"+_vm._s(_vm.item.type === 'txt' ? '点击添加文字' : '点击上传图片')+\"\\n      \")+\"</div>\"))+\"</div></div><div class=\\\"append-area\\\"><button><span><i class=\\\"el-icon-edit\\\"></i></span></button><button><span><i class=\\\"el-icon-picture\\\"></i></span></button></div>\")])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var jsonEditor_JsonItem = (esExports);\n// CONCATENATED MODULE: ./src/components/jsonEditor/JsonItem.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(153),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"637bbec6\"\nvar Component = normalizeComponent(\n  JsonItem,\n  jsonEditor_JsonItem,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_jsonEditor_JsonItem = (Component.exports);\n\n// EXTERNAL MODULE: ./.env.js\nvar _env = __webpack_require__(15);\nvar _env_default = /*#__PURE__*/__webpack_require__.n(_env);\n\n// EXTERNAL MODULE: ./src/mixins/upload.js\nvar upload = __webpack_require__(24);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/jsonEditor/preview/ImgPreview.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var ImgPreview = ({\n  name: \"ImgPreview\",\n  mixins: [upload[\"a\" /* default */]],\n  props: {\n    item: {\n      required: true,\n      type: Object\n    }\n  },\n\n  data() {\n    return {\n      show: false,\n      saving: false\n    };\n  },\n\n  computed: {\n    desc: {\n      get() {\n        return this.item.text;\n      },\n\n      set(value) {\n        this.$store.commit(\"editor/UPDATE_SECTION_TEXT\", {\n          value\n        });\n      }\n\n    },\n\n    imageWrapperHeight() {\n      return {\n        height: `${this.item.height * window.innerWidth / this.item.width + 60}px`\n      };\n    }\n\n  },\n\n  mounted() {\n    this.$channel.$on(\"write-save-done\", () => {\n      this.saving = false;\n    });\n    this.$channel.$on(\"write-open-drawer\", (_ref) => {\n      var type = _ref.type;\n\n      if (type === \"img\") {\n        this.show = true;\n      }\n    });\n    this.getUpToken();\n  },\n\n  methods: {\n    imageUploadSuccess(res, file) {\n      this.handleImageUploadSuccess(res, file);\n      this.$store.commit(\"editor/UPDATE_SECTION_IMAGE\", {\n        url: `${_env[\"cdn\"].image}${res.data.url}`,\n        width: res.data.width,\n        height: res.data.height,\n        size: res.data.size,\n        mime: res.data.type\n      });\n      this.$toast.success(\"上传成功\");\n    },\n\n    emitSave() {\n      if (!this.item.url) {\n        return;\n      }\n\n      this.$channel.$emit(\"write-save\");\n      this.saving = true;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-337e31bd\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/jsonEditor/preview/ImgPreview.vue\nvar ImgPreview_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-drawer',{attrs:{\"from\":\"right\",\"size\":\"100%\",\"header-text\":\"编辑图片段落\",\"submit-text\":\"确定\"},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[(_vm.show)?_c('div',{staticClass:\"image-preview container\"},[_c('div',{staticClass:\"body\"},[(_vm.item.url)?_c('div',{staticClass:\"wrapper\",style:(_vm.imageWrapperHeight)},[_c('v-img',{attrs:{\"src\":_vm.$resize(_vm.item.url),\"width\":_vm.item.width,\"height\":_vm.item.height,\"full\":true}}),_c('el-input',{attrs:{\"maxlength\":\"45\",\"placeholder\":\"添加图片描述\"},model:{value:(_vm.desc),callback:function ($$v) {_vm.desc=$$v},expression:\"desc\"}})],1):_c('el-upload',{staticClass:\"uploader\",attrs:{\"data\":_vm.uploadHeaders,\"action\":_vm.imageUploadAction,\"accept\":_vm.imageUploadAccept,\"before-upload\":_vm.handleImageUploadBefore,\"on-error\":_vm.handleImageUploadError,\"on-success\":_vm.imageUploadSuccess,\"disabled\":true}},[_c('i',{staticClass:\"el-icon-plus\"}),_c('div',{staticClass:\"el-upload__text\"},[_vm._v(\"点击上传\")])])],1),_c('div',{staticClass:\"footer\"},[_c('el-upload',{attrs:{\"data\":_vm.uploadHeaders,\"action\":_vm.imageUploadAction,\"accept\":_vm.imageUploadAccept,\"show-file-list\":false,\"before-upload\":_vm.handleImageUploadBefore,\"on-error\":_vm.handleImageUploadError,\"on-success\":_vm.imageUploadSuccess,\"disabled\":true}},[(_vm.item.url)?_c('el-button',{attrs:{\"size\":\"small\",\"plain\":\"\",\"round\":\"\"}},[_vm._v(\"更换图片\")]):_vm._e()],1)],1)]):_vm._e()])}\nvar ImgPreview_staticRenderFns = []\nvar ImgPreview_esExports = { render: ImgPreview_render, staticRenderFns: ImgPreview_staticRenderFns }\n/* harmony default export */ var preview_ImgPreview = (ImgPreview_esExports);\n// CONCATENATED MODULE: ./src/components/jsonEditor/preview/ImgPreview.vue\nfunction ImgPreview_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(155),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar ImgPreview_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar ImgPreview___vue_template_functional__ = false\n/* styles */\nvar ImgPreview___vue_styles__ = ImgPreview_injectStyle\n/* scopeId */\nvar ImgPreview___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar ImgPreview___vue_module_identifier__ = \"05299d97\"\nvar ImgPreview_Component = ImgPreview_normalizeComponent(\n  ImgPreview,\n  preview_ImgPreview,\n  ImgPreview___vue_template_functional__,\n  ImgPreview___vue_styles__,\n  ImgPreview___vue_scopeId__,\n  ImgPreview___vue_module_identifier__\n)\n\n/* harmony default export */ var jsonEditor_preview_ImgPreview = (ImgPreview_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/jsonEditor/preview/TxtPreview.vue\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var TxtPreview = ({\n  name: \"TxtPreview\",\n  props: {\n    item: {\n      required: true,\n      type: Object\n    }\n  },\n\n  data() {\n    return {\n      show: false,\n      saving: false\n    };\n  },\n\n  computed: {\n    text: {\n      get() {\n        return this.item.text.replace(/<br>/g, \"\\n\");\n      },\n\n      set(value) {\n        this.$store.commit(\"editor/UPDATE_SECTION_TEXT\", {\n          value: value.replace(/\\n/g, \"<br>\")\n        });\n      }\n\n    }\n  },\n\n  mounted() {\n    this.$channel.$on(\"write-save-done\", () => {\n      this.saving = false;\n    });\n    this.$channel.$on(\"write-open-drawer\", (_ref) => {\n      var type = _ref.type;\n\n      if (type === \"txt\") {\n        this.show = true;\n      }\n    });\n  },\n\n  methods: {\n    textAreaFocus() {\n      if (this.text.length < 100) {\n        document.body.scrollTop = 0;\n      }\n    },\n\n    emitSave() {\n      if (!this.text.replace(/\\n/g, \"\")) {\n        return;\n      }\n\n      this.$channel.$emit(\"write-save\");\n      this.saving = true;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-25cc5013\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/jsonEditor/preview/TxtPreview.vue\nvar TxtPreview_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-drawer',{attrs:{\"from\":\"right\",\"size\":\"100%\",\"header-text\":\"编辑文本段落\",\"submit-text\":\"确定\"},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[(_vm.show)?_c('div',{staticClass:\"text-preview\"},[_c('pre',{staticClass:\"shim\",domProps:{\"innerHTML\":_vm._s(_vm.item.text)}}),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.text),expression:\"text\"}],attrs:{\"placeholder\":\"添加文字内容\"},domProps:{\"value\":(_vm.text)},on:{\"focus\":_vm.textAreaFocus,\"input\":function($event){if($event.target.composing){ return; }_vm.text=$event.target.value}}})]):_vm._e()])}\nvar TxtPreview_staticRenderFns = []\nvar TxtPreview_esExports = { render: TxtPreview_render, staticRenderFns: TxtPreview_staticRenderFns }\n/* harmony default export */ var preview_TxtPreview = (TxtPreview_esExports);\n// CONCATENATED MODULE: ./src/components/jsonEditor/preview/TxtPreview.vue\nfunction TxtPreview_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(157),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar TxtPreview_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar TxtPreview___vue_template_functional__ = false\n/* styles */\nvar TxtPreview___vue_styles__ = TxtPreview_injectStyle\n/* scopeId */\nvar TxtPreview___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar TxtPreview___vue_module_identifier__ = \"5d57f4ca\"\nvar TxtPreview_Component = TxtPreview_normalizeComponent(\n  TxtPreview,\n  preview_TxtPreview,\n  TxtPreview___vue_template_functional__,\n  TxtPreview___vue_styles__,\n  TxtPreview___vue_scopeId__,\n  TxtPreview___vue_module_identifier__\n)\n\n/* harmony default export */ var jsonEditor_preview_TxtPreview = (TxtPreview_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/jsonEditor/index.vue\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ var jsonEditor = ({\n  name: \"JsonEditorMain\",\n  components: {\n    JsonItem: components_jsonEditor_JsonItem,\n    ImgPreview: jsonEditor_preview_ImgPreview,\n    TxtPreview: jsonEditor_preview_TxtPreview\n  },\n  computed: {\n    id() {\n      return +(this.$route.params.id || 0);\n    },\n\n    sections() {\n      return this.$store.state.editor.sections;\n    },\n\n    selectedIndex() {\n      return this.$store.state.editor.selectedIndex;\n    },\n\n    curPreview() {\n      return this.selectedIndex >= 0 ? this.sections[this.selectedIndex] : {};\n    }\n\n  },\n\n  mounted() {\n    this.$channel.$on(\"write-save\", () => {\n      var richContent = this.getRichContent();\n\n      if (!richContent.length) {\n        this.$toast.info(\"内容不能为空！\");\n        return;\n      }\n\n      this.$emit(\"submit\", {\n        content: richContent,\n        desc: this.getPureContent(),\n        publish: false,\n        id: this.id\n      });\n    });\n    this.$channel.$on(\"write-publish\", () => {\n      var richContent = this.getRichContent();\n\n      if (!richContent.length) {\n        this.$toast.info(\"内容不能为空！\");\n        return;\n      }\n\n      this.$emit(\"submit\", {\n        content: richContent,\n        desc: this.getPureContent(),\n        publish: true,\n        id: this.id\n      });\n    });\n  },\n\n  methods: {\n    getRichContent() {\n      var result = [];\n      this.sections.forEach(item => {\n        if (item.type === \"img\") {\n          if (item.url) {\n            result.push(item);\n          }\n        } else if (item.type === \"txt\") {\n          if (item.text) {\n            result.push(item);\n          }\n        }\n      });\n      return result;\n    },\n\n    getPureContent() {\n      var result = \"\";\n      this.sections.forEach(item => {\n        if (item.type === \"txt\" && item.text) {\n          result += item.text.replace(/<br>/g, \"\\n\");\n        }\n      });\n      return result;\n    },\n\n    handleItemPreview(_ref) {\n      var index = _ref.index,\n          type = _ref.type;\n      this.$store.commit(\"editor/SWITCH_SECTION\", {\n        index\n      });\n      this.$channel.$emit(\"write-open-drawer\", {\n        type\n      });\n    },\n\n    handleItemAppend(_ref2) {\n      var index = _ref2.index,\n          type = _ref2.type;\n      this.$store.commit(\"editor/APPEND_SECTION\", {\n        index,\n        type\n      });\n    },\n\n    handleItemDelete(_ref3) {\n      var index = _ref3.index;\n      this.$store.commit(\"editor/DELETE_SECTION\", {\n        index\n      });\n    },\n\n    handleItemSort(_ref4) {\n      var index = _ref4.index;\n      this.$store.commit(\"editor/SORT_SECTION\", {\n        index\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-07399045\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/jsonEditor/index.vue\nvar jsonEditor_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"json-editor-main\"},[_c('transition-group',{staticClass:\"editor-tabs\",attrs:{\"name\":\"list-complete\",\"tag\":\"div\"}},_vm._l((_vm.sections),function(item,index){return _c('json-item',{key:item.id,staticClass:\"list-complete-item\",attrs:{\"item\":item,\"index\":index,\"selected\":index === _vm.selectedIndex},on:{\"preview\":_vm.handleItemPreview,\"create\":_vm.handleItemAppend,\"delete\":_vm.handleItemDelete,\"sort\":_vm.handleItemSort}})})),_c('img-preview',{attrs:{\"item\":_vm.curPreview}}),_c('txt-preview',{attrs:{\"item\":_vm.curPreview}})],1)}\nvar jsonEditor_staticRenderFns = []\nvar jsonEditor_esExports = { render: jsonEditor_render, staticRenderFns: jsonEditor_staticRenderFns }\n/* harmony default export */ var components_jsonEditor = (jsonEditor_esExports);\n// CONCATENATED MODULE: ./src/components/jsonEditor/index.vue\nfunction jsonEditor_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(151),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar jsonEditor_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar jsonEditor___vue_template_functional__ = false\n/* styles */\nvar jsonEditor___vue_styles__ = jsonEditor_injectStyle\n/* scopeId */\nvar jsonEditor___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar jsonEditor___vue_module_identifier__ = \"43a639d7\"\nvar jsonEditor_Component = jsonEditor_normalizeComponent(\n  jsonEditor,\n  components_jsonEditor,\n  jsonEditor___vue_template_functional__,\n  jsonEditor___vue_styles__,\n  jsonEditor___vue_scopeId__,\n  jsonEditor___vue_module_identifier__\n)\n\n/* harmony default export */ var src_components_jsonEditor = __webpack_exports__[\"a\"] = (jsonEditor_Component.exports);\n\n\n/***/ }),\n\n/***/ 151:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(152);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"0ea71284\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 152:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.json-editor-main{margin-bottom:30px}.json-editor-main .editor-tabs{position:relative}.json-editor-main .list-complete-item{-webkit-transition:all .5s;-o-transition:all .5s;transition:all .5s}.json-editor-main .list-complete-enter,.json-editor-main .list-complete-leave-to{opacity:0;-webkit-transform:translateY(30px);-ms-transform:translateY(30px);transform:translateY(30px)}.json-editor-main .list-complete-leave-active{position:absolute}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 153:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(154);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"6c887340\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 154:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".json-item .show-area .content .text{word-break:break-word!important;word-break:break-all}@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.json-item{position:relative;height:110px;width:100%}.json-item.selected .show-area{border-color:#ff8eb3;-webkit-box-shadow:0 0 0 2px rgba(255,142,179,.2);box-shadow:0 0 0 2px rgba(255,142,179,.2)}.json-item .delete-btn{position:absolute;left:56px;top:18px;width:40px;height:40px;padding:10px;text-align:center;color:#fff;font-size:11px;line-height:20px}.json-item .delete-btn span{display:block;width:100%;height:100%;background-color:#f56c6c;border-radius:50%;opacity:.8}.json-item .up-btn{position:absolute;width:40px;height:40px;padding:10px;right:-18px;top:-18px;line-height:20px}.json-item .up-btn span{display:block;width:100%;height:100%;background-color:#f6f9fa;border-radius:50%;-webkit-box-shadow:0 0 0 1px #e5e9ef;box-shadow:0 0 0 1px #e5e9ef;font-weight:700;color:#333;font-size:11px}.json-item .show-area{background-color:#e5e9ef;border:1px solid transparent;-webkit-transition-duration:.3s;-o-transition-duration:.3s;transition-duration:.3s;border-radius:5px;overflow:hidden;cursor:pointer}.json-item .show-area .capture{float:left;width:76px;height:76px;margin-right:10px}.json-item .show-area .capture .poster{background-position:50%;background-repeat:no-repeat;background-size:cover;width:100%;height:100%}.json-item .show-area .capture .default{width:100%;height:100%;text-align:center;line-height:76px;font-size:30px;color:#fff}.json-item .show-area .capture .default.yellow{background-color:gold}.json-item .show-area .capture .default.green{background-color:#67c23a}.json-item .show-area .content{overflow:hidden;height:76px;padding-top:6px;padding-bottom:6px;padding-right:6px}.json-item .show-area .content .text{font-size:13px;line-height:16px;-webkit-line-clamp:4;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;color:#6d757a}.json-item .append-area{text-align:center}.json-item .append-area button{width:50px;height:30px;line-height:20px;padding:5px;margin:0 3px}.json-item .append-area button span{display:block;width:100%;height:100%;background-color:#ccd0d7;color:#fff;font-size:12px;border-radius:10px}.json-item .append-area button i{font-weight:700}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 155:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(156);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"0176f8a2\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 156:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.image-preview .body .el-input{margin-top:20px;padding:0 30px}.image-preview .body .el-input__inner{border-top:none;border-left:none;border-right:none;text-align:center}.image-preview .body .uploader{margin-top:30vh;text-align:center}.image-preview .body .uploader .el-upload__text{margin-top:5px}.image-preview .footer{text-align:center;line-height:15px;height:15px;margin-bottom:40px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 157:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(158);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"25a8ce21\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 158:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".text-preview .shim,.text-preview textarea{word-break:break-word!important;word-break:break-all}@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.text-preview{position:relative;z-index:1}.text-preview .shim,.text-preview textarea{width:100%;display:block;font-weight:400;font-size:14px;line-height:25px;letter-spacing:0;padding-left:15px;padding-right:15px;margin-bottom:46px}.text-preview .shim{height:auto;position:relative;visibility:hidden;white-space:pre-wrap;min-height:300px}.text-preview textarea{position:absolute;top:0;left:0;height:100%;overflow-y:auto;border:none;resize:none;color:#333}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 292:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(293);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"a5604126\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 293:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#score-create .field:after,#score-create .field:before,#score-create .star-row:after,#score-create .star-row:before{content:\\\"\\\";clear:both;display:table}@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}#score-create .bangumi-search{margin-bottom:20px}#score-create .field{font-size:13px;line-height:48px;margin-top:-15px}#score-create .field span{float:left;margin-left:13px}#score-create .field div{color:#000;overflow:hidden}#score-create .mint-switch{height:40px;margin-bottom:10px;margin-left:8px}#score-create .title-input{margin-bottom:15px;margin-top:-5px}#score-create .title-input input{border-left:none;border-right:none;border-top:none}#score-create .star-title span{float:left}#score-create .star-title .collapsed-icon{float:right;height:24px;padding:0 5px;margin-top:-4px;margin-right:-5px}#score-create .star-title .tips-btn{overflow:hidden;padding:0 5px}#score-create .star-title i{color:#99a2aa}#score-create .el-alert{background-color:#f4f4f5;color:#909399;padding:8px 16px;border-radius:4px;margin-bottom:20px}#score-create .el-alert p{margin-bottom:5px;font-size:13px;line-height:18px}#score-create .star-row .star-item{margin-bottom:15px}#score-create .star-row .star-item .label{font-size:14px;line-height:22px;color:#6d757a;float:left}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 294:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 348:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: external \"core-js/modules/web.dom.iterable\"\nvar web_dom_iterable_ = __webpack_require__(3);\nvar web_dom_iterable__default = /*#__PURE__*/__webpack_require__.n(web_dom_iterable_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/regenerator\"\nvar regenerator_ = __webpack_require__(0);\nvar regenerator__default = /*#__PURE__*/__webpack_require__.n(regenerator_);\n\n// EXTERNAL MODULE: external \"regenerator-runtime/runtime\"\nvar runtime_ = __webpack_require__(1);\nvar runtime__default = /*#__PURE__*/__webpack_require__.n(runtime_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/asyncToGenerator\"\nvar asyncToGenerator_ = __webpack_require__(2);\nvar asyncToGenerator__default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator_);\n\n// EXTERNAL MODULE: ./src/api/scoreApi.js\nvar scoreApi = __webpack_require__(17);\n\n// EXTERNAL MODULE: external \"vant/lib/rate\"\nvar rate_ = __webpack_require__(96);\nvar rate__default = /*#__PURE__*/__webpack_require__.n(rate_);\n\n// EXTERNAL MODULE: ./node_modules/vant/lib/vant-css/rate.css\nvar rate = __webpack_require__(294);\nvar rate_default = /*#__PURE__*/__webpack_require__.n(rate);\n\n// EXTERNAL MODULE: ./src/components/jsonEditor/index.vue + 11 modules\nvar jsonEditor = __webpack_require__(150);\n\n// EXTERNAL MODULE: ./src/components/bangumi/BangumiPicker.vue + 2 modules\nvar BangumiPicker = __webpack_require__(138);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/score/create.vue\n\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n/* harmony default export */ var create = ({\n  name: \"ScoreCreate\",\n\n  asyncData(_ref) {\n    return asyncToGenerator__default()(\n    /*#__PURE__*/\n    regenerator__default.a.mark(function _callee() {\n      var store, route, ctx, id;\n      return regenerator__default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              store = _ref.store, route = _ref.route, ctx = _ref.ctx;\n              id = route.params.id;\n\n              if (!id) {\n                _context.next = 5;\n                break;\n              }\n\n              _context.next = 5;\n              return store.dispatch(\"editor/getData\", {\n                api: new scoreApi[\"a\" /* default */](ctx),\n                id\n              });\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }))();\n  },\n\n  components: {\n    vanRate: rate__default.a,\n    JsonEditor: jsonEditor[\"a\" /* default */],\n    BangumiPicker: BangumiPicker[\"a\" /* default */]\n  },\n\n  data() {\n    var labelMap = {\n      lol: \"笑点\",\n      cry: \"泪点\",\n      fight: \"燃点\",\n      moe: \"萌点\",\n      sound: \"音乐\",\n      vision: \"画面\",\n      story: \"情节\",\n      role: \"人设\",\n      express: \"内涵\",\n      style: \"美感\"\n    };\n    var bid = this.$route.query.bid;\n    return {\n      openTips: false,\n      collapsed: true,\n      is_creator: true,\n      labelMap,\n      columns: Object.keys(labelMap),\n      bangumiId: bid ? +bid : \"\",\n      title: \"\",\n      form: {\n        lol: 0,\n        cry: 0,\n        fight: 0,\n        moe: 0,\n        sound: 0,\n        vision: 0,\n        story: 0,\n        role: 0,\n        express: 0,\n        style: 0\n      }\n    };\n  },\n\n  computed: {\n    id() {\n      return +(this.$route.params.id || 0);\n    },\n\n    resource() {\n      var result = {};\n      Object.keys(this.$store.state.editor.resource).forEach(key => {\n        var value = this.$store.state.editor.resource[key];\n        result[key] = this.columns.indexOf(key) !== -1 ? +value : value;\n      });\n      return result;\n    },\n\n    disabled() {\n      return !!this.id;\n    },\n\n    bid() {\n      return this.$route.query.bid;\n    },\n\n    total() {\n      var result = 0;\n      this.columns.forEach(key => {\n        result += this.form[key];\n      });\n      return result;\n    }\n\n  },\n\n  mounted() {\n    if (this.id) {\n      this.loadEditContent();\n    }\n\n    if (this.bid) {\n      this.handleBangumiSearch(this.bangumiId);\n    }\n  },\n\n  methods: {\n    beforeSubmit(richContent) {\n      if (!this.bangumiId) {\n        this.$toast.error(\"请先选择要评价的番剧\");\n        return;\n      }\n\n      if (!this.title) {\n        this.$toast.error(\"标题为必填的\");\n        return;\n      }\n\n      var scores = {};\n      var total = 0;\n      Object.keys(this.form).forEach(key => {\n        var value = this.form[key];\n        scores[key] = value;\n        total += value;\n      });\n\n      if (!total) {\n        this.$toast.error(\"请先选择各维度分值\");\n        return;\n      }\n\n      if (total === 100) {\n        this.$toast.error(\"请认真考虑后再发表\");\n        return;\n      }\n\n      if (richContent.id) {\n        this.submit(richContent, scores);\n      } else {\n        this.$captcha({\n          success: (_ref2) => {\n            var data = _ref2.data;\n            this.submit(richContent, scores, data);\n          },\n          error: e => {\n            this.$toast.error(e);\n          }\n        });\n      }\n    },\n\n    submit(richContent, scores) {\n      var _this = this,\n          _arguments = arguments;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee2() {\n        var geetest, api, form, newId, _result;\n\n        return regenerator__default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                geetest = _arguments.length > 2 && _arguments[2] !== undefined ? _arguments[2] : {};\n\n                _this.$channel.$emit(\"write-submit\", true);\n\n                api = new scoreApi[\"a\" /* default */](_this);\n                _context2.prev = 3;\n                form = Object.assign({}, scores, {\n                  title: _this.title,\n                  bangumi_id: _this.bangumiId,\n                  content: richContent.content,\n                  intro: richContent.desc.substring(0, 120),\n                  do_publish: richContent.publish,\n                  geetest,\n                  is_creator: _this.is_creator\n                });\n                newId = richContent.id;\n\n                if (!newId) {\n                  _context2.next = 12;\n                  break;\n                }\n\n                form.id = newId;\n                _context2.next = 10;\n                return api.update(form);\n\n              case 10:\n                _context2.next = 16;\n                break;\n\n              case 12:\n                _context2.next = 14;\n                return api.create(form);\n\n              case 14:\n                _result = _context2.sent;\n                newId = _result.data;\n\n              case 16:\n                if (richContent.publish) {\n                  _this.$confirm(typeof result !== \"undefined\" ? result.message : \"发布成功\", \"提示\", {\n                    confirmButtonText: \"点击查看\",\n                    cancelButtonText: \"继续编辑\",\n                    type: \"warning\"\n                  }).then(() => {\n                    window.location.href = _this.$alias.score(newId);\n                  }).catch(() => {});\n                } else {\n                  _this.$toast.success(typeof result !== \"undefined\" ? result.message : \"保存成功\");\n\n                  if (!richContent.id) {\n                    setTimeout(() => {\n                      window.location = _this.$alias.editScore(newId);\n                    }, 1000);\n                  }\n                }\n\n                _context2.next = 22;\n                break;\n\n              case 19:\n                _context2.prev = 19;\n                _context2.t0 = _context2[\"catch\"](3);\n\n                _this.$toast.error(_context2.t0);\n\n              case 22:\n                _context2.prev = 22;\n\n                _this.$channel.$emit(\"write-save-done\");\n\n                _this.$channel.$emit(\"write-submit\", false);\n\n                return _context2.finish(22);\n\n              case 26:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[3, 19, 22, 26]]);\n      }))();\n    },\n\n    handleBangumiSearch(bangumiId) {\n      if (this.id) {\n        return;\n      }\n\n      var api = new scoreApi[\"a\" /* default */](this);\n      api.check({\n        id: bangumiId\n      }).then(id => {\n        if (id) {\n          this.$confirm(\"你已经给该番剧评过分了，不能重复评分\", \"提示\", {\n            confirmButtonText: \"查看我的评分\",\n            cancelButtonText: \"换一个番剧\",\n            type: \"warning\"\n          }).then(() => {\n            window.location.href = this.$alias.score(id);\n          }).catch(() => {\n            this.bangumiId = \"\";\n          });\n        }\n      });\n    },\n\n    loadEditContent() {\n      if (!this.resource) {\n        this.$toast.error(\"不能编辑他人的内容\");\n        setTimeout(() => {\n          window.location.href = \"/review/create\";\n        }, 1000);\n        return;\n      }\n\n      this.bangumiId = +this.resource.bangumi_id;\n      this.is_creator = this.resource.is_creator;\n      this.title = this.resource.title;\n      this.columns.forEach(key => {\n        this.form[key] = this.resource[key] * 2;\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-59142aaf\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/score/create.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"score-create\"}},[_vm._ssrNode(\"<h3 class=\\\"sub-title\\\">番剧</h3>\"),_c('bangumi-picker',{staticClass:\"field\",attrs:{\"display\":true},model:{value:(_vm.bangumiId),callback:function ($$v) {_vm.bangumiId=$$v},expression:\"bangumiId\"}}),_vm._ssrNode(\"<h3 class=\\\"sub-title\\\">标题</h3>\"),_c('el-input',{staticClass:\"title-input\",attrs:{\"maxlength\":\"30\",\"placeholder\":\"给你的文章起个好名字！\"},model:{value:(_vm.title),callback:function ($$v) {_vm.title=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"title\"}}),(!_vm.id)?[_vm._ssrNode(\"<h3 class=\\\"sub-title\\\">原创</h3>\"),_c('mt-switch',{model:{value:(_vm.is_creator),callback:function ($$v) {_vm.is_creator=$$v},expression:\"is_creator\"}})]:_vm._e(),_vm._ssrNode(\"<h3 class=\\\"sub-title star-title\\\"><span>评分</span><button class=\\\"tips-btn\\\"><i class=\\\"el-icon-question\\\"></i></button><button class=\\\"collapsed-icon\\\"><i\"+(_vm._ssrClass(null,[ _vm.collapsed ? 'el-icon-arrow-left' : 'el-icon-arrow-down' ]))+\"></i></button></h3>\"+((_vm.openTips)?(\"<div class=\\\"el-alert\\\"><p>漫评系统简介：</p><p>站长本人只能算是一个中度的动漫爱好者，对历史的动漫评分体系并没有做过深刻的研究，并且文学功底很差，因此实现的这个评分系统并不一定完美，如果你有好的意见可以通过QQ群联系到我向我反馈。</p><p>评分系统由十个维度组成，每个维度最低0分，最高10分，因此总分是100分，然后除以 10 之后，得出在页面展示的「10分制」总分。</p><p>在选取哪十个维度时，并无法做到完全的深思熟虑，因此可能会存在一些不合理的地方，还请大家见谅！</p><p><strong>笑点</strong>：这部作品是否让你开怀大笑了呢？虽然这个维度对「悲剧作品」不怎么友好，但有一部分喜剧它的核心其实源于悲剧。</p><p><strong>泪点</strong>：这部作品让你泪腺崩坏了吗？同样的，虽然这个维度对「喜剧作品」不怎么友好，但也存在一些笑着笑着忽然催人泪下的作品？</p><p><strong>燃点</strong>：这个不需要多余的解释，成为神话吧，少年！</p><p><strong>萌点</strong>：em.....大家现在对萌系的东西都很喜爱，所以就单独拿出来做了一个分类，如果这部作品中有可爱的角色，就给它加分吧！</p><p><strong>音乐</strong>：音乐包括：OP、ED、BGM、声优，是一个综合性的分类。</p><p><strong>画面</strong>：画面包括：静态的人物、建筑、风景的设计与精度，还包括动态的画面连贯性、帧率、特效等。</p><p><strong>情节</strong>：好的作品情节总是跌宕起伏、扑朔里面，基本猜不到下一步会发展成什么样子，并且叙事手法、伏笔运用都非常的精妙。</p><p><strong>人设</strong>：一些动漫角色的存在甚至成为了我们的人生信条、憧憬的方向、美的标准，如是纯粹的恶、超强的头脑、强大的意志力等，是作品的灵魂。</p><p><strong>内涵</strong>：作品所表达的世界观、价值观、人生观等，对人生的思考具有一定的引导价值。</p><p><strong>美感</strong>：有时候画质不是越好就越美，有些美具有一种艺术感，这种美可能是画面上的，可能是叙事的手法，可能是背景音乐。</p><p>最后，一般情况下不存在0分的作品，如果你认为一部作品是0分，那就请放过它吧；也不存在满分的作品，如果你认为一部作品达到了满分，可能是你的阅片量还太少，需要再接再厉，(๑•̀ㅂ•́)و✧！</p></div>\"):\"<!---->\")+((_vm.collapsed)?(\"<div class=\\\"field\\\"><span>总分：</span><div>\"+_vm._ssrEscape(_vm._s(_vm.total ? (_vm.total + \" 分\") : (_vm.total + \"（点击修改各维度分数）\")))+\"</div></div>\"):\"<!---->\")),_c('el-collapse-transition',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.collapsed),expression:\"!collapsed\"}],staticClass:\"star-row\"},_vm._l((_vm.columns),function(item,index){return _c('div',{key:index,staticClass:\"star-item\"},[_c('div',{staticClass:\"label\",domProps:{\"textContent\":_vm._s(((_vm.labelMap[item]) + \"：\"))}}),_c('van-rate',{attrs:{\"size\":20,\"count\":10},model:{value:(_vm.form[item]),callback:function ($$v) {_vm.$set(_vm.form, item, $$v)},expression:\"form[item]\"}})],1)}))]),_vm._ssrNode(\"<h3 class=\\\"sub-title\\\">正文</h3>\"),_c('json-editor',{on:{\"submit\":_vm.beforeSubmit}})],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var score_create = (esExports);\n// CONCATENATED MODULE: ./src/views/score/create.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(292),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"f4137878\"\nvar Component = normalizeComponent(\n  create,\n  score_create,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_score_create = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n};;",
    "1.server-bundle.js": "exports.ids = [1];\nexports.modules = {\n\n/***/ 100:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_core_js_modules_web_dom_iterable__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_core_js_modules_web_dom_iterable___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_core_js_modules_web_dom_iterable__);\n\n\n/**\n * [ scrollToY 指定的 DOM 过度滚动到指定的 Y 轴 ]\n * @param targetY\n * @param timer\n * @param dom\n * @param ease\n */\n/* harmony default export */ __webpack_exports__[\"a\"] = ((targetY, timer, dom, ease) => {\n  var currentTime = 0;\n  var element = dom ? [dom] : [document.getElementsByTagName(\"html\")[0], document.body];\n  var scrollY = dom ? dom.scrollTop : window.scrollY;\n  var scrollTargetY = targetY || 0;\n  var speed = timer || 2000;\n  var easing = ease || \"easeOutSine\";\n  var time = Math.max(0.1, Math.min(Math.abs(scrollY - scrollTargetY) / speed, 0.8));\n  var easingEquations = {\n    easeOutSine(pos) {\n      return Math.sin(pos * (Math.PI / 2));\n    },\n\n    easeInOutSine(pos) {\n      return -0.5 * (Math.cos(Math.PI * pos) - 1);\n    },\n\n    easeInOutQuint(pos) {\n      // eslint-disable-next-line\n      if ((pos /= 0.5) < 1) {\n        return 0.5 * Math.pow(pos, 5);\n      }\n\n      return 0.5 * (Math.pow(pos - 2, 5) + 2);\n    }\n\n  };\n  element.forEach(ele => {\n    if (!ele.requestAnimFrame) {\n      ele.requestAnimFrame = function () {\n        return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || function (callback) {\n          window.setTimeout(callback, 1000 / 60);\n        };\n      }().bind(window);\n    }\n  });\n\n  function tick() {\n    currentTime += 1 / 60;\n    var p = currentTime / time;\n    var t = easingEquations[easing](p);\n    element.forEach(ele => {\n      if (p < 1) {\n        ele.requestAnimFrame(tick);\n        ele.scrollTop = scrollY + (scrollTargetY - scrollY) * t;\n      } else {\n        ele.scrollTop = scrollTargetY;\n      }\n    });\n  }\n\n  tick();\n});\n\n/***/ }),\n\n/***/ 101:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: external \"@babel/runtime/regenerator\"\nvar regenerator_ = __webpack_require__(0);\nvar regenerator__default = /*#__PURE__*/__webpack_require__.n(regenerator_);\n\n// EXTERNAL MODULE: external \"regenerator-runtime/runtime\"\nvar runtime_ = __webpack_require__(1);\nvar runtime__default = /*#__PURE__*/__webpack_require__.n(runtime_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/asyncToGenerator\"\nvar asyncToGenerator_ = __webpack_require__(2);\nvar asyncToGenerator__default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator_);\n\n// EXTERNAL MODULE: ./src/assets/js/scrollToY.js\nvar scrollToY = __webpack_require__(100);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/CommentCreateForm.vue\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var CommentCreateForm = ({\n  name: \"CommentCreateForm\",\n  props: {\n    type: {\n      required: true,\n      type: String\n    },\n    id: {\n      required: true,\n      type: Number\n    },\n    masterId: {\n      required: true,\n      type: Number\n    }\n  },\n\n  data() {\n    return {\n      content: \"\"\n    };\n  },\n\n  computed: {\n    isGuest() {\n      return !this.$store.state.login;\n    },\n\n    submitting() {\n      return this.$store.state.comment.submitting;\n    }\n\n  },\n  methods: {\n    submit() {\n      var _this = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee() {\n        var result;\n        return regenerator__default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!_this.isGuest) {\n                  _context.next = 3;\n                  break;\n                }\n\n                _this.$channel.$emit(\"sign-in\");\n\n                return _context.abrupt(\"return\");\n\n              case 3:\n                if (_this.content) {\n                  _context.next = 6;\n                  break;\n                }\n\n                _this.$emit(\"close\");\n\n                return _context.abrupt(\"return\");\n\n              case 6:\n                if (!_this.submitting) {\n                  _context.next = 8;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 8:\n                _this.$store.commit(\"comment/SET_SUBMITTING\", {\n                  result: true\n                });\n\n                _context.prev = 9;\n                _context.next = 12;\n                return _this.$store.dispatch(\"comment/createMainComment\", {\n                  content: _this.content,\n                  images: [],\n                  type: _this.type,\n                  id: _this.id,\n                  ctx: _this\n                });\n\n              case 12:\n                result = _context.sent;\n\n                _this.$toast.success(result.message);\n\n                _this.$store.commit(\"UPDATE_USER_EXP\", result.exp);\n\n                _this.$emit(\"submit\");\n\n                _this.content = \"\";\n                setTimeout(() => {\n                  var dom = document.getElementById(`comment-${result.data.id}`);\n                  dom && Object(scrollToY[\"a\" /* default */])(_this.$utils.getOffsetTop(dom) - 100, 600);\n                }, 400);\n                _context.next = 23;\n                break;\n\n              case 20:\n                _context.prev = 20;\n                _context.t0 = _context[\"catch\"](9);\n\n                _this.$toast.error(_context.t0);\n\n              case 23:\n                _context.prev = 23;\n\n                _this.$store.commit(\"comment/SET_SUBMITTING\", {\n                  result: false\n                });\n\n                return _context.finish(23);\n\n              case 26:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[9, 20, 23, 26]]);\n      }))();\n    },\n\n    handleAreaFocus() {\n      document.body.scrollTop = 0;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-33995f98\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/CommentCreateForm.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"comment-create-form\"},[_vm._ssrNode(\"<textarea placeholder=\\\"来吧，尽情的（在1000字以内）发挥吧\\\" maxlength=\\\"1000\\\" class=\\\"content\\\"></textarea>\"),_c('el-button',{staticClass:\"submit-btn\",attrs:{\"loading\":_vm.submitting,\"type\":\"primary\"},on:{\"click\":_vm.submit}},[_vm._v(\"发布\")])],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var comments_CommentCreateForm = (esExports);\n// CONCATENATED MODULE: ./src/components/comments/CommentCreateForm.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(105),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"1d31a883\"\nvar Component = normalizeComponent(\n  CommentCreateForm,\n  comments_CommentCreateForm,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_CommentCreateForm = (Component.exports);\n\n// EXTERNAL MODULE: ./src/components/comments/SubCommentList.vue + 5 modules\nvar SubCommentList = __webpack_require__(102);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/CommentItem.vue\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var CommentItem = ({\n  name: \"CommentCommentItem\",\n  components: {\n    SubCommentList: SubCommentList[\"a\" /* default */]\n  },\n  props: {\n    comment: {\n      required: true,\n      type: Object\n    },\n    masterId: {\n      required: true,\n      type: Number\n    },\n    type: {\n      required: true,\n      type: String\n    }\n  },\n\n  data() {\n    return {\n      deleting: false,\n      liking: false\n    };\n  },\n\n  computed: {\n    currentUserId() {\n      return this.$store.state.login ? this.$store.state.user.id : 0;\n    },\n\n    isMine() {\n      return this.currentUserId === this.comment.from_user_id;\n    },\n\n    canDelete() {\n      return this.isMine || this.currentUserId === this.masterId;\n    },\n\n    actions() {\n      var result = [];\n\n      if (this.canDelete) {\n        result.push({\n          name: \"删除\",\n          method: this.deleteComment\n        });\n      }\n\n      result.push({\n        name: this.comment.liked ? \"取消赞\" : \"点赞\",\n        method: this.toggleLike\n      });\n      return result;\n    }\n\n  },\n  methods: {\n    toggleLike() {\n      var _this = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee() {\n        return regenerator__default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (_this.currentUserId) {\n                  _context.next = 3;\n                  break;\n                }\n\n                _this.$channel.$emit(\"sign-in\");\n\n                return _context.abrupt(\"return\");\n\n              case 3:\n                if (!_this.liking) {\n                  _context.next = 5;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 5:\n                _this.liking = true;\n                _context.prev = 6;\n                _context.next = 9;\n                return _this.$store.dispatch(\"comment/toggleLikeMainComment\", {\n                  ctx: _this,\n                  type: _this.type,\n                  id: _this.comment.id\n                });\n\n              case 9:\n                _context.next = 13;\n                break;\n\n              case 11:\n                _context.prev = 11;\n                _context.t0 = _context[\"catch\"](6);\n\n              case 13:\n                _context.prev = 13;\n                _this.liking = false;\n                return _context.finish(13);\n\n              case 16:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[6, 11, 13, 16]]);\n      }))();\n    },\n\n    deleteComment() {\n      if (this.deleting) {\n        return;\n      }\n\n      this.deleting = true;\n      this.$confirm(\"删除后无法找回, 是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(() => {\n        this.$store.dispatch(\"comment/deleteMainComment\", {\n          ctx: this,\n          type: this.type,\n          id: this.comment.id\n        });\n        this.$emit(\"delete\");\n      }).catch(e => {\n        this.deleting = false;\n\n        if (e === \"cancel\") {\n          return;\n        }\n\n        this.$toast.error(e);\n      });\n    },\n\n    handleCommentBtnClick() {\n      this.$channel.$emit(\"reply-comment\", {\n        id: this.comment.id,\n        targetUserId: this.comment.from_user_id,\n        targetUserName: this.comment.from_user_name\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-041aa410\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/CommentItem.vue\nvar CommentItem_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"comment-item\",attrs:{\"id\":(\"comment-\" + (_vm.comment.id))}},[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.comment.from_user_zone)))+\" class=\\\"avatar\\\">\",\"</a>\",[_c('v-img',{attrs:{\"src\":_vm.comment.from_user_avatar,\"avatar\":true,\"size\":\"35\"}})],1),_vm._ssrNode(\"<div class=\\\"content\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"header\\\">\",\"</div>\",[_c('v-popover',{attrs:{\"actions\":_vm.actions,\"report-id\":_vm.comment.id,\"report-type\":_vm.type + '_comment'}},[_c('button',{staticClass:\"tools-btn\"},[_vm._v(\"···\")])]),_vm._ssrNode(\"<div class=\\\"user\\\">\",\"</div>\",[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.comment.from_user_zone)))+\" class=\\\"nickname oneline\\\">\"+_vm._ssrEscape(_vm._s(_vm.comment.from_user_name))+\"</a>\"),_vm._ssrNode(\"<div class=\\\"info\\\">\",\"</div>\",[_vm._ssrNode(\"<span>\"+_vm._ssrEscape(\"第\"+_vm._s(_vm.comment.floor_count - 1)+\"楼\")+\"</span><span>·</span>\"),_c('v-time',{model:{value:(_vm.comment.created_at),callback:function ($$v) {_vm.$set(_vm.comment, \"created_at\", $$v)},expression:\"comment.created_at\"}})],2)],2)],1),_vm._ssrNode(\"<div class=\\\"main\\\">\"+(_vm._s(_vm.comment.content))+\"</div>\"),_vm._ssrNode(\"<div class=\\\"footer\\\">\",\"</div>\",[_c('sub-comment-list',{attrs:{\"parent-comment\":_vm.comment,\"type\":_vm.type}}),_vm._ssrNode(\"<div class=\\\"social\\\"><button\"+(_vm._ssrClass(null,[ _vm.comment.liked ? 'reply-liked-btn' : 'reply-like-btn' ]))+\"><i class=\\\"iconfont icon-icon_good\\\"></i>\"+_vm._ssrEscape(\"\\n          \"+_vm._s(_vm.comment.liked ? '已赞' : '赞')+\"\\n          \")+((_vm.comment.like_count)?(\"<span>\"+_vm._ssrEscape(\"(\"+_vm._s(_vm.comment.like_count)+\")\")+\"</span>\"):\"<!---->\")+\"</button><button class=\\\"reply-btn fr\\\">\\n          回复\\n        </button></div>\")],2)],2)])}\nvar CommentItem_staticRenderFns = []\nvar CommentItem_esExports = { render: CommentItem_render, staticRenderFns: CommentItem_staticRenderFns }\n/* harmony default export */ var comments_CommentItem = (CommentItem_esExports);\n// CONCATENATED MODULE: ./src/components/comments/CommentItem.vue\nfunction CommentItem_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(107),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar CommentItem_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar CommentItem___vue_template_functional__ = false\n/* styles */\nvar CommentItem___vue_styles__ = CommentItem_injectStyle\n/* scopeId */\nvar CommentItem___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar CommentItem___vue_module_identifier__ = \"8f3d9b14\"\nvar CommentItem_Component = CommentItem_normalizeComponent(\n  CommentItem,\n  comments_CommentItem,\n  CommentItem___vue_template_functional__,\n  CommentItem___vue_styles__,\n  CommentItem___vue_scopeId__,\n  CommentItem___vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_CommentItem = (CommentItem_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/CommentMain.vue\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ var CommentMain = ({\n  name: \"VCommentMain\",\n  components: {\n    CommentCreateForm: components_comments_CommentCreateForm,\n    CommentItem: components_comments_CommentItem\n  },\n  props: {\n    id: {\n      required: true,\n      type: [Number, String]\n    },\n    type: {\n      required: true,\n      type: String,\n      validator: val => ~[\"post\", \"video\", \"image\", \"score\", \"question\", \"answer\", \"role\"].indexOf(val)\n    },\n    onlySeeMaster: {\n      type: Boolean,\n      default: false\n    },\n    emptyText: {\n      type: String,\n      default: \"暂无评论，快来抢沙发吧╮(￣▽￣)╭！\"\n    },\n    masterId: {\n      required: true,\n      type: Number\n    },\n    bottomAppendComment: {\n      type: Boolean,\n      default: true\n    },\n    auto: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  data() {\n    return {\n      loadingMainComment: false,\n      focusCommentId: 0,\n      openFocusCommentDrawer: false,\n      loadingSubComment: false,\n      replyForm: {\n        id: \"\",\n        content: \"\",\n        targetUserId: 0,\n        targetUserName: \"\",\n        open: false,\n        replying: false,\n        liking: false\n      },\n      openCreateCommentDrawer: false\n    };\n  },\n\n  computed: {\n    store() {\n      return this.$store.state.comment;\n    },\n\n    list() {\n      return this.store.list;\n    },\n\n    noMore() {\n      return this.store.noMore;\n    },\n\n    total() {\n      return this.store.total;\n    },\n\n    focusComment() {\n      return this.focusCommentId ? this.list.filter(_ => _.id === this.focusCommentId)[0] : null;\n    },\n\n    currentUserId() {\n      return this.$store.state.login ? this.$store.state.user.id : 0;\n    }\n\n  },\n\n  mounted() {\n    this.scrollToReply();\n\n    if (this.auto) {\n      this.$channel.$on(`fire-load-comment-${this.type}-${this.id}`, () => {\n        this.loadMoreMainComment(true);\n      });\n    }\n\n    this.$channel.$on(\"load-all-sub-comment\", (_ref) => {\n      var id = _ref.id;\n      this.focusCommentId = id;\n      this.openFocusCommentDrawer = true;\n    });\n    this.$channel.$on(`open-create-comment-drawer-${this.type}-${this.id}`, () => {\n      if (!this.currentUserId) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      this.openCreateCommentDrawer = true;\n    });\n    this.$channel.$on(\"reply-comment\", (_ref2) => {\n      var id = _ref2.id,\n          targetUserId = _ref2.targetUserId,\n          targetUserName = _ref2.targetUserName;\n      this.handleSubCommentReply({\n        id,\n        targetUserId,\n        targetUserName\n      });\n    });\n    document.getElementById(\"comment-wrap\").addEventListener(\"click\", e => {\n      if (/reply-btn/.test(e.target.className) && this.$el.contains(e.target)) {\n        var area = document.getElementById(\"reply-comment-textarea\");\n        area.style.display = \"block\";\n        area.focus();\n      }\n    });\n  },\n\n  methods: {\n    loadMoreMainComment() {\n      var _this = this,\n          _arguments = arguments;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee() {\n        var firstRequest;\n        return regenerator__default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                firstRequest = _arguments.length > 0 && _arguments[0] !== undefined ? _arguments[0] : false;\n\n                if (!_this.loadingMainComment) {\n                  _context.next = 3;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 3:\n                _this.loadingMainComment = true;\n                _context.prev = 4;\n                _context.next = 7;\n                return _this.$store.dispatch(\"comment/getMainComments\", {\n                  ctx: _this,\n                  type: _this.type,\n                  id: _this.id,\n                  onlySeeMaster: _this.onlySeeMaster ? 1 : 0,\n                  firstRequest\n                });\n\n              case 7:\n                _context.next = 12;\n                break;\n\n              case 9:\n                _context.prev = 9;\n                _context.t0 = _context[\"catch\"](4);\n\n                _this.$toast.error(_context.t0);\n\n              case 12:\n                _context.prev = 12;\n                _this.loadingMainComment = false;\n                return _context.finish(12);\n\n              case 15:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[4, 9, 12, 15]]);\n      }))();\n    },\n\n    loadMoreSubComment() {\n      var _this2 = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee2() {\n        return regenerator__default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!_this2.loadingSubComment) {\n                  _context2.next = 2;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\");\n\n              case 2:\n                _this2.loadingSubComment = true;\n                _context2.prev = 3;\n                _context2.next = 6;\n                return _this2.$store.dispatch(\"comment/getSubComments\", {\n                  ctx: _this2,\n                  type: _this2.type,\n                  id: _this2.focusCommentId\n                });\n\n              case 6:\n                _context2.next = 11;\n                break;\n\n              case 8:\n                _context2.prev = 8;\n                _context2.t0 = _context2[\"catch\"](3);\n\n                _this2.$toast.error(_context2.t0);\n\n              case 11:\n                _context2.prev = 11;\n                _this2.loadingSubComment = false;\n                return _context2.finish(11);\n\n              case 14:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[3, 8, 11, 14]]);\n      }))();\n    },\n\n    commentToComment(data) {\n      this.handleSubCommentReply({\n        id: data.parent_id,\n        targetUserId: data.from_user_id,\n        targetUserName: data.from_user_name\n      });\n    },\n\n    handleCommentBtnClick() {\n      this.handleSubCommentReply({\n        id: this.focusComment.id,\n        targetUserId: this.focusComment.from_user_id,\n        targetUserName: this.focusComment.from_user_name\n      });\n    },\n\n    handleSubCommentReply(_ref3) {\n      var id = _ref3.id,\n          targetUserId = _ref3.targetUserId,\n          targetUserName = _ref3.targetUserName;\n\n      if (!this.currentUserId) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      this.replyForm.id = id;\n      this.replyForm.targetUserId = targetUserId;\n      this.replyForm.targetUserName = targetUserName;\n      this.replyForm.open = true;\n      setTimeout(() => {\n        document.body.scrollTop = 0;\n      }, 200);\n    },\n\n    toggleFocusCommentLike() {\n      var _this3 = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee3() {\n        return regenerator__default.a.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (_this3.currentUserId) {\n                  _context3.next = 3;\n                  break;\n                }\n\n                _this3.$channel.$emit(\"sign-in\");\n\n                return _context3.abrupt(\"return\");\n\n              case 3:\n                if (!_this3.replyForm.liking) {\n                  _context3.next = 5;\n                  break;\n                }\n\n                return _context3.abrupt(\"return\");\n\n              case 5:\n                _this3.replyForm.liking = true;\n                _context3.prev = 6;\n                _context3.next = 9;\n                return _this3.$store.dispatch(\"comment/toggleLikeMainComment\", {\n                  ctx: _this3,\n                  type: _this3.type,\n                  id: _this3.focusCommentId\n                });\n\n              case 9:\n                _context3.next = 13;\n                break;\n\n              case 11:\n                _context3.prev = 11;\n                _context3.t0 = _context3[\"catch\"](6);\n\n              case 13:\n                _context3.prev = 13;\n                _this3.replyForm.liking = false;\n                return _context3.finish(13);\n\n              case 16:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[6, 11, 13, 16]]);\n      }))();\n    },\n\n    handleReplyDrawerClose() {\n      document.getElementById(\"reply-comment-textarea\").style.display = \"none\";\n    },\n\n    handleReplySubmit() {\n      var _this4 = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee4() {\n        var result;\n        return regenerator__default.a.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                if (_this4.currentUserId) {\n                  _context4.next = 3;\n                  break;\n                }\n\n                _this4.$channel.$emit(\"sign-in\");\n\n                return _context4.abrupt(\"return\");\n\n              case 3:\n                if (_this4.replyForm.content) {\n                  _context4.next = 5;\n                  break;\n                }\n\n                return _context4.abrupt(\"return\");\n\n              case 5:\n                if (!_this4.replyForm.replying) {\n                  _context4.next = 7;\n                  break;\n                }\n\n                return _context4.abrupt(\"return\");\n\n              case 7:\n                _this4.replyForm.replying = true;\n                _context4.prev = 8;\n                _context4.next = 11;\n                return _this4.$store.dispatch(\"comment/createSubComment\", {\n                  ctx: _this4,\n                  id: _this4.replyForm.id,\n                  type: _this4.type,\n                  content: _this4.replyForm.content,\n                  targetUserId: _this4.replyForm.targetUserId\n                });\n\n              case 11:\n                result = _context4.sent;\n                _this4.replyForm.open = false;\n                _this4.replyForm.content = \"\";\n\n                _this4.$toast.success(result.message);\n\n                _this4.$store.commit(\"UPDATE_USER_EXP\", result.exp);\n\n                _context4.next = 21;\n                break;\n\n              case 18:\n                _context4.prev = 18;\n                _context4.t0 = _context4[\"catch\"](8);\n\n                _this4.$toast.error(_context4.t0);\n\n              case 21:\n                _context4.prev = 21;\n                _this4.replyForm.replying = false;\n\n                _this4.handleReplyDrawerClose();\n\n                return _context4.finish(21);\n\n              case 25:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this, [[8, 18, 21, 25]]);\n      }))();\n    },\n\n    writeComment() {\n      this.$channel.$emit(`open-create-comment-drawer-${this.type}-${this.id}`);\n    },\n\n    closeCommentDrawer() {\n      this.openCreateCommentDrawer = false;\n    },\n\n    submitCommentCallback() {\n      this.openCreateCommentDrawer = false;\n      this.$emit(\"create-main-comment\");\n    },\n\n    deleteCommentCallback() {\n      this.$emit(\"delete-main-comment\");\n    },\n\n    scrollToReply() {\n      var replyId = this.$route.query[\"comment-id\"];\n\n      if (!replyId) {\n        return;\n      }\n\n      var reply = document.getElementById(`comment-${replyId}`);\n\n      if (!reply) {\n        return;\n      }\n\n      setTimeout(() => {\n        Object(scrollToY[\"a\" /* default */])(this.$utils.getOffsetTop(reply) - 100, 600);\n      }, 400);\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-dbd4bc0e\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/CommentMain.vue\nvar CommentMain_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"comment-wrap\"}},[_vm._t(\"header\",[(!_vm.auto)?_c('div',{staticClass:\"hr\"}):_vm._e(),_c('h3',{staticClass:\"sub-title\"},[_vm._v(\"\\n      评论\"+_vm._s(_vm.total ? (\"(\" + _vm.total + \")\") : '')+\"\\n      \"),_vm._t(\"header-btn\"),_c('button',{staticClass:\"write-btn\",on:{\"click\":_vm.writeComment}},[_vm._v(\"写评论\")])],2)]),(_vm.list.length)?[_vm._ssrNode(\"<div id=\\\"comment-list-wrap\\\">\",\"</div>\",_vm._l((_vm.list),function(comment){return _vm._ssrNode(\"<div class=\\\"comment-item-wrap\\\">\",\"</div>\",[_vm._t(\"comment-item\",[_c('comment-item',{attrs:{\"type\":_vm.type,\"comment\":comment,\"master-id\":_vm.masterId},on:{\"delete\":_vm.deleteCommentCallback}})],{comment:comment,reply:_vm.handleSubCommentReply})],2)})),_vm._ssrNode(\"<div id=\\\"comment-list-footer\\\">\",\"</div>\",[_vm._ssrNode(((_vm.bottomAppendComment)?(\"<button class=\\\"append-comment-btn\\\">写评论</button>\"):\"<!---->\")),_c('more-btn',{attrs:{\"no-more\":_vm.noMore,\"loading\":_vm.loadingMainComment,\"auto\":true},on:{\"fetch\":function($event){_vm.loadMoreMainComment(false)}}})],2)]:(_vm.emptyText)?_vm._ssrNode((\"<p class=\\\"no-content\\\">\"+_vm._ssrEscape(_vm._s(_vm.emptyText))+\"</p>\")):_vm._e(),_c('v-drawer',{staticClass:\"focus-comment-drawer\",attrs:{\"header-text\":(\"评论列表\" + (_vm.focusComment && _vm.focusComment.floor_count ? (\" - \" + (_vm.focusComment.floor_count) + \" 楼\") : '')),\"backdrop\":false,\"from\":\"bottom\",\"size\":\"100%\"},model:{value:(_vm.openFocusCommentDrawer),callback:function ($$v) {_vm.openFocusCommentDrawer=$$v},expression:\"openFocusCommentDrawer\"}},[(_vm.focusComment)?[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"reply\"},[_c('div',{staticClass:\"user clearfix\"},[_c('a',{staticClass:\"avatar\",attrs:{\"href\":_vm.$alias.user(_vm.focusComment.from_user_zone)}},[_c('v-img',{attrs:{\"src\":_vm.focusComment.from_user_avatar,\"avatar\":true,\"size\":\"35\"}})],1),_c('div',{staticClass:\"summary\"},[_c('a',{staticClass:\"nickname\",attrs:{\"href\":_vm.$alias.user(_vm.focusComment.from_user_zone)},domProps:{\"textContent\":_vm._s(_vm.focusComment.from_user_name)}}),_c('div',{staticClass:\"info\"},[_c('v-time',{model:{value:(_vm.focusComment.created_at),callback:function ($$v) {_vm.$set(_vm.focusComment, \"created_at\", $$v)},expression:\"focusComment.created_at\"}})],1)])]),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"text-area\",domProps:{\"innerHTML\":_vm._s(_vm.focusComment.content)}}),_c('div',{staticClass:\"image-area\"},_vm._l((_vm.focusComment.images),function(img,idx){return _c('div',{key:idx,staticClass:\"image-package\"},[_c('v-img',{attrs:{\"src\":img.url,\"width\":img.width,\"height\":img.height,\"full\":true}})],1)}))]),_c('div',{staticClass:\"social\"},[_c('button',{class:[ _vm.focusComment.liked ? 'reply-liked-btn' : 'reply-like-btn' ],on:{\"click\":_vm.toggleFocusCommentLike}},[_c('i',{staticClass:\"iconfont icon-icon_good\"}),_vm._v(\"\\n              \"+_vm._s(_vm.focusComment.liked ? '已赞' : '赞')+\"\\n              \"),(_vm.focusComment.like_count)?_c('span',[_vm._v(\"(\"+_vm._s(_vm.focusComment.like_count)+\")\")]):_vm._e()]),_c('button',{staticClass:\"reply-btn fr\",on:{\"click\":_vm.handleCommentBtnClick}},[_vm._v(\"\\n              回复\\n            \")])])]),_c('div',{staticClass:\"hr\"}),_c('p',{staticClass:\"total\"},[_vm._v(_vm._s(_vm.focusComment.comments.total)+\"条回复\")]),_c('ul',{staticClass:\"comments\"},_vm._l((_vm.focusComment.comments.list),function(item){return _c('li',{key:item.id},[_c('div',{staticClass:\"from-user\"},[_c('a',{staticClass:\"avatar\",attrs:{\"href\":_vm.$alias.user(item.from_user_zone)}},[_c('v-img',{attrs:{\"src\":item.from_user_avatar,\"avatar\":true,\"size\":\"35\"}})],1),_c('div',{staticClass:\"summary\"},[_c('div',{staticClass:\"users oneline\"},[_c('a',{staticClass:\"nickname\",attrs:{\"href\":_vm.$alias.user(item.from_user_zone)},domProps:{\"textContent\":_vm._s(item.from_user_name)}}),(item.to_user_zone)?[_vm._v(\"\\n                    回复\\n                    \"),_c('a',{staticClass:\"nickname\",attrs:{\"href\":_vm.$alias.user(item.to_user_zone)},domProps:{\"textContent\":_vm._s(item.to_user_name)}})]:_vm._e(),_vm._v(\"\\n                  :\\n                \")],2),_c('div',{staticClass:\"info\"},[_c('v-time',{model:{value:(item.created_at),callback:function ($$v) {_vm.$set(item, \"created_at\", $$v)},expression:\"item.created_at\"}})],1)])]),_c('div',{staticClass:\"main\"},[_c('div',{staticClass:\"content reply-btn\",domProps:{\"textContent\":_vm._s(item.content)},on:{\"click\":function($event){_vm.commentToComment(item)}}})])])}))]),_c('more-btn',{attrs:{\"no-more\":_vm.focusComment.comments.noMore,\"loading\":_vm.loadingSubComment},on:{\"fetch\":_vm.loadMoreSubComment}})]:_vm._e()],2),_vm._ssrNode(\"<div class=\\\"reply-comment-drawer-wrap\\\">\",\"</div>\",[_c('v-drawer',{staticClass:\"reply-comment-drawer\",attrs:{\"header-text\":_vm.currentUserId === _vm.replyForm.targetUserId ? '回复' : (\"回复：\" + (_vm.replyForm.targetUserName)),\"backdrop\":false,\"from\":\"right\",\"size\":\"100%\",\"submit-text\":\"发布\"},on:{\"cancel\":_vm.handleReplyDrawerClose,\"submit\":_vm.handleReplySubmit},model:{value:(_vm.replyForm.open),callback:function ($$v) {_vm.$set(_vm.replyForm, \"open\", $$v)},expression:\"replyForm.open\"}}),_vm._ssrNode(\"<textarea id=\\\"reply-comment-textarea\\\" placeholder=\\\"100字以内任意发挥\\\" maxlength=\\\"100\\\"\"+(_vm._ssrClass(null,{ 'fade-in': _vm.replyForm.open }))+\"></textarea>\")],2),_c('v-drawer',{attrs:{\"from\":\"right\",\"size\":\"100%\",\"header-text\":\"发表评论\"},model:{value:(_vm.openCreateCommentDrawer),callback:function ($$v) {_vm.openCreateCommentDrawer=$$v},expression:\"openCreateCommentDrawer\"}},[(_vm.openCreateCommentDrawer)?_c('div',{staticClass:\"container\"},[_vm._t(\"reply-form\",[(_vm.openCreateCommentDrawer)?_c('comment-create-form',{attrs:{\"id\":_vm.id,\"type\":_vm.type,\"master-id\":_vm.masterId},on:{\"close\":_vm.closeCommentDrawer,\"submit\":_vm.submitCommentCallback}}):_vm._e()],{close:_vm.closeCommentDrawer})],2):_vm._e()])],2)}\nvar CommentMain_staticRenderFns = []\nvar CommentMain_esExports = { render: CommentMain_render, staticRenderFns: CommentMain_staticRenderFns }\n/* harmony default export */ var comments_CommentMain = (CommentMain_esExports);\n// CONCATENATED MODULE: ./src/components/comments/CommentMain.vue\nfunction CommentMain_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(103),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar CommentMain_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar CommentMain___vue_template_functional__ = false\n/* styles */\nvar CommentMain___vue_styles__ = CommentMain_injectStyle\n/* scopeId */\nvar CommentMain___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar CommentMain___vue_module_identifier__ = \"71b0fa1c\"\nvar CommentMain_Component = CommentMain_normalizeComponent(\n  CommentMain,\n  comments_CommentMain,\n  CommentMain___vue_template_functional__,\n  CommentMain___vue_styles__,\n  CommentMain___vue_scopeId__,\n  CommentMain___vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_CommentMain = __webpack_exports__[\"a\"] = (CommentMain_Component.exports);\n\n\n/***/ }),\n\n/***/ 102:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/SubCommentItem.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var SubCommentItem = ({\n  name: \"SubCommentItem\",\n  props: {\n    comment: {\n      required: true,\n      type: Object\n    },\n    parentUserId: {\n      required: true,\n      type: Number\n    },\n    parentCommentId: {\n      required: true,\n      type: Number\n    },\n    type: {\n      required: true,\n      type: String\n    }\n  },\n\n  data() {\n    return {\n      deleting: false\n    };\n  },\n\n  computed: {\n    currentUserId() {\n      return this.$store.state.login ? this.$store.state.user.id : 0;\n    },\n\n    isMine() {\n      return this.currentUserId === this.comment.from_user_id;\n    },\n\n    canDelete() {\n      return this.isMine || this.currentUserId === this.parentUserId;\n    }\n\n  },\n  methods: {\n    handleSubCommentClick() {\n      if (this.isMine) {\n        this.deleteComment();\n        this.$nextTick(() => {\n          document.getElementById(\"reply-comment-textarea\").style.display = \"none\";\n        });\n        return;\n      }\n\n      if (this.currentUserId) {\n        this.$channel.$emit(\"reply-comment\", {\n          id: this.parentCommentId,\n          targetUserId: this.comment.from_user_id,\n          targetUserName: this.comment.from_user_name\n        });\n      }\n    },\n\n    deleteComment() {\n      if (!this.canDelete) {\n        return;\n      }\n\n      if (this.deleting) {\n        return;\n      }\n\n      this.deleting = true;\n      this.$confirm(\"删除后无法找回, 是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(() => {\n        this.$store.dispatch(\"comment/deleteSubComment\", {\n          ctx: this,\n          type: this.type,\n          id: this.comment.id,\n          parentId: this.comment.parent_id\n        });\n      }).catch(e => {\n        this.deleting = false;\n\n        if (e === \"cancel\") {\n          return;\n        }\n\n        this.$toast.error(e);\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3bb44ec9\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/SubCommentItem.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sub-comment-item\"},[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.comment.from_user_zone)))+\" class=\\\"nickname\\\">\"+_vm._ssrEscape(_vm._s(_vm.comment.from_user_name))+\"</a>\"+((_vm.comment.to_user_zone)?(\"\\n    回复\\n    <a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.comment.to_user_zone)))+\" class=\\\"nickname\\\">\"+_vm._ssrEscape(_vm._s(_vm.comment.to_user_name))+\"</a>\"):\"<!---->\")+\"\\n  :\\n  <span class=\\\"reply-btn comment-content\\\">\"+_vm._ssrEscape(_vm._s(_vm.comment.content))+\"</span>\")])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var comments_SubCommentItem = (esExports);\n// CONCATENATED MODULE: ./src/components/comments/SubCommentItem.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(111),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"3fc64a04\"\nvar Component = normalizeComponent(\n  SubCommentItem,\n  comments_SubCommentItem,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_SubCommentItem = (Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/SubCommentList.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var SubCommentList = ({\n  name: \"PostSubCommentList\",\n  components: {\n    SubCommentItem: components_comments_SubCommentItem\n  },\n  props: {\n    parentComment: {\n      required: true,\n      type: Object\n    },\n    type: {\n      required: true,\n      type: String\n    }\n  },\n  computed: {\n    comments() {\n      return this.parentComment.comments;\n    },\n\n    authorId() {\n      return this.parentComment.from_user_id;\n    },\n\n    hasComment() {\n      return !!this.comments.list.length;\n    },\n\n    filterComments() {\n      var data = this.comments;\n      var comments = data.list;\n      var result = comments.slice(0, 5);\n\n      if (comments.every(_ => _.id <= data.maxId)) {\n        return result;\n      }\n\n      var ids = result.map(_ => _.id);\n      return result.concat(comments.filter(_ => _.id > data.maxId && ids.indexOf(_.id) === -1));\n    }\n\n  },\n  methods: {\n    loadAllComment() {\n      this.$channel.$emit(\"load-all-sub-comment\", {\n        id: this.parentComment.id\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-14eb249e\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/SubCommentList.vue\nvar SubCommentList_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sub-comment-list-wrap\"},[(_vm.hasComment)?_vm._ssrNode(\"<div class=\\\"sub-comment-list\\\">\",\"</div>\",[_vm._l((_vm.filterComments),function(comment){return _c('sub-comment-item',{key:comment.id,attrs:{\"comment\":comment,\"parent-user-id\":_vm.authorId,\"parent-comment-id\":_vm.parentComment.id,\"type\":_vm.type}})}),_vm._ssrNode(((!_vm.comments.noMore || _vm.comments.list.length > 5)?(\"<button class=\\\"load-all-comment\\\">\"+_vm._ssrEscape(\"\\n      查看全部\"+_vm._s(_vm.comments.total)+\"条评论\\n    \")+\"</button>\"):\"<!---->\"))],2):_vm._e()])}\nvar SubCommentList_staticRenderFns = []\nvar SubCommentList_esExports = { render: SubCommentList_render, staticRenderFns: SubCommentList_staticRenderFns }\n/* harmony default export */ var comments_SubCommentList = (SubCommentList_esExports);\n// CONCATENATED MODULE: ./src/components/comments/SubCommentList.vue\nfunction SubCommentList_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(109),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar SubCommentList_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar SubCommentList___vue_template_functional__ = false\n/* styles */\nvar SubCommentList___vue_styles__ = SubCommentList_injectStyle\n/* scopeId */\nvar SubCommentList___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar SubCommentList___vue_module_identifier__ = \"2bbb59ee\"\nvar SubCommentList_Component = SubCommentList_normalizeComponent(\n  SubCommentList,\n  comments_SubCommentList,\n  SubCommentList___vue_template_functional__,\n  SubCommentList___vue_styles__,\n  SubCommentList___vue_scopeId__,\n  SubCommentList___vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_SubCommentList = __webpack_exports__[\"a\"] = (SubCommentList_Component.exports);\n\n\n/***/ }),\n\n/***/ 103:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(104);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"beeeca2c\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 104:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}#comment-wrap .sub-title{margin-top:15px;margin-bottom:15px}#comment-wrap .sub-title .write-btn{float:right;font-weight:700;font-size:13px}#comment-wrap #comment-list-footer{margin-left:-15px;margin-right:-15px}#comment-wrap .focus-comment-drawer .reply .user{padding-top:5px}#comment-wrap .focus-comment-drawer .reply .user .avatar{float:left;margin-right:9px}#comment-wrap .focus-comment-drawer .reply .user .summary{overflow:hidden}#comment-wrap .focus-comment-drawer .reply .user .summary .nickname{font-size:14px;color:#333}#comment-wrap .focus-comment-drawer .reply .user .summary .info{line-height:16px;font-size:12px;color:#999}#comment-wrap .focus-comment-drawer .reply .user .summary .info span{margin-right:5px}#comment-wrap .focus-comment-drawer .reply .content{font-size:16px;line-height:24px;padding-top:16px;margin-bottom:16px;color:#000}#comment-wrap .focus-comment-drawer .reply .content .image-area{margin:16px 0}#comment-wrap .focus-comment-drawer .reply .content .image-area img{width:100%;height:auto}#comment-wrap .focus-comment-drawer .reply .social{margin-bottom:15px;font-size:12px}#comment-wrap .focus-comment-drawer .reply .social .reply-liked-btn{color:#0381aa}#comment-wrap .focus-comment-drawer .reply .social button{color:#666;margin-left:3px}#comment-wrap .focus-comment-drawer .total{height:40px;line-height:40px;color:#000;font-size:16px}#comment-wrap .focus-comment-drawer .comments li{padding:17px 0 13px;position:relative}#comment-wrap .focus-comment-drawer .comments li:after{content:\\\"\\\";position:absolute;left:0;right:0;bottom:0;height:1px;background-color:#f0f0f0;-webkit-transform:scaleY(.5);-ms-transform:scaleY(.5);transform:scaleY(.5);margin-left:-15px;margin-right:-15px}#comment-wrap .focus-comment-drawer .comments li .from-user .avatar{float:left;display:block;margin-right:9px}#comment-wrap .focus-comment-drawer .comments li .from-user .summary{overflow:hidden}#comment-wrap .focus-comment-drawer .comments li .from-user .summary .users{font-size:14px;margin-bottom:6px;margin-top:2px;line-height:14px}#comment-wrap .focus-comment-drawer .comments li .from-user .summary .users .nickname{color:#0381aa}#comment-wrap .focus-comment-drawer .comments li .from-user .summary .info{font-size:12px;line-height:12px;color:#999}#comment-wrap .focus-comment-drawer .comments li .main{margin-left:45px;padding-top:10px}#comment-wrap .focus-comment-drawer .comments li .main .content{font-size:14px;line-height:21px;word-break:break-all}#comment-wrap .reply-comment-drawer-wrap #reply-comment-textarea{position:fixed;left:0;top:60px;width:100%;height:250px;background-color:transparent;font-size:16px;line-height:24px;color:#000;font-weight:400;z-index:101;padding-left:15px;padding-right:15px;display:none;opacity:0}#comment-wrap .reply-comment-drawer-wrap #reply-comment-textarea.fade-in{opacity:1;-webkit-transition-delay:.4s;-o-transition-delay:.4s;transition-delay:.4s}#comment-wrap .append-comment-btn{width:100%;padding:15px 0;font-size:13px}#comment-wrap .no-content{text-align:center;margin-top:30px;margin-bottom:30px;font-size:12px;color:#99a2aa}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 105:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(106);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"303ce1cc\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 106:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.comment-create-form .content{font-size:16px;line-height:24px;color:#000;font-weight:400;height:250px;margin-bottom:5px}.comment-create-form .submit-btn{margin-top:15px;width:100%}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 107:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(108);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"23a510bc\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 108:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.comment-item{position:relative;margin-top:15px;padding-bottom:15px}.comment-item:after{content:\\\"\\\";position:absolute;left:0;right:0;bottom:0;height:1px;background-color:#f0f0f0;-webkit-transform:scaleY(.5);-ms-transform:scaleY(.5);transform:scaleY(.5);margin-left:-15px;margin-right:-15px}.comment-item .avatar{float:left;margin-right:9px}.comment-item .content{overflow:hidden}.comment-item .content .header .tools-btn{float:right;line-height:16px;font-size:12px;color:#535353;margin-top:9px;margin-left:4px}.comment-item .content .header .user .nickname{font-size:14px;line-height:21px;display:block;color:#333}.comment-item .content .header .user .info{color:#999;line-height:14px;font-size:12px}.comment-item .content .header .user .info span{margin-right:5px}.comment-item .content .main{font-size:16px;margin:10px 0 4px;color:#333;line-height:24px;min-height:65px}.comment-item .content .main .image-area{margin:10px 0}.comment-item .content .main .image-area img{width:100%;height:auto}.comment-item .content .footer .social{margin-top:15px;font-size:12px}.comment-item .content .footer .social .reply-liked-btn{color:#0381aa}.comment-item .content .footer .social button{color:#666;margin-left:3px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 109:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(110);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"75d7965e\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 110:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.sub-comment-list-wrap{position:relative;background-color:#f7f8fa;border-radius:5px}.sub-comment-list-wrap .sub-comment-list{padding:7px 0 7.5px;margin-top:5px}.sub-comment-list-wrap .load-all-comment{position:relative;margin-top:6px;font-size:12px;margin-bottom:0;padding:0 10px;color:#999;width:100%;text-align:left}.sub-comment-list-wrap .load-all-comment:after{content:\\\"\\\";position:absolute;top:50%;border:3px solid #f5f5f5;border-left-color:#999;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);margin-left:4px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 111:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(112);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"6b8bda44\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 112:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.sub-comment-item{padding:2px 10px;font-size:14px;line-height:18px}.sub-comment-item .nickname{color:#0381aa}.sub-comment-item .comment-content{margin-right:6px;word-break:break-all}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 113:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: external \"@babel/runtime/regenerator\"\nvar regenerator_ = __webpack_require__(0);\nvar regenerator__default = /*#__PURE__*/__webpack_require__.n(regenerator_);\n\n// EXTERNAL MODULE: external \"regenerator-runtime/runtime\"\nvar runtime_ = __webpack_require__(1);\nvar runtime__default = /*#__PURE__*/__webpack_require__.n(runtime_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/asyncToGenerator\"\nvar asyncToGenerator_ = __webpack_require__(2);\nvar asyncToGenerator__default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator_);\n\n// EXTERNAL MODULE: ./src/api/toggleApi.js\nvar toggleApi = __webpack_require__(22);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/common/SocialPanel.vue\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var SocialPanel = ({\n  name: \"SocialPanel\",\n  props: {\n    id: {\n      required: true,\n      type: Number\n    },\n    type: {\n      required: true,\n      type: String,\n      validator: val => ~[\"post\", \"video\", \"image\", \"score\", \"answer\", \"video\"].indexOf(val)\n    },\n    isCreator: {\n      required: true,\n      type: Boolean\n    },\n    userId: {\n      required: true,\n      type: Number\n    },\n    liked: {\n      type: Boolean,\n      default: false\n    },\n    marked: {\n      type: Boolean,\n      default: false\n    },\n    rewarded: {\n      type: Boolean,\n      default: false\n    },\n    likeUsers: {\n      required: true,\n      type: Object\n    },\n    rewardUsers: {\n      required: true,\n      type: Object\n    },\n    markUsers: {\n      required: true,\n      type: Object\n    }\n  },\n\n  data() {\n    return {\n      loadingReward: false,\n      loadingLike: false,\n      loadingMark: false,\n      displayCount: 7\n    };\n  },\n\n  computed: {\n    currentUserId() {\n      return this.$store.state.login ? this.$store.state.user.id : 0;\n    },\n\n    isMine() {\n      return this.userId === this.currentUserId;\n    },\n\n    displayUsers() {\n      var users = this.isCreator ? this.rewardUsers.list : this.likeUsers.list;\n      return users.slice(0, this.displayCount);\n    }\n\n  },\n  methods: {\n    toggleReward() {\n      var _this = this;\n\n      if (!this.currentUserId) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      if (this.isMine) {\n        this.$toast.info(\"不能给自己打赏\");\n        return;\n      }\n\n      this.$confirm(this.rewarded ? \"即使取消投食你的金币也不会回到你的钱包, 是否继续?\" : \"向TA投食需要消耗你一枚金币，是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(\n      /*#__PURE__*/\n      asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee() {\n        var api, user, result;\n        return regenerator__default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!_this.loadingReward) {\n                  _context.next = 2;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 2:\n                _this.loadingReward = true;\n                api = new toggleApi[\"a\" /* default */](_this);\n                user = _this.$store.state.user;\n                _context.prev = 5;\n                _context.next = 8;\n                return api.reward({\n                  id: _this.id,\n                  type: _this.type\n                });\n\n              case 8:\n                result = _context.sent;\n\n                if (result) {\n                  _this.$store.commit(\"USE_COIN\");\n                }\n\n                _this.$store.commit(`${_this.type}/SOCIAL_TOGGLE`, {\n                  key: \"reward\",\n                  value: result,\n                  user: {\n                    id: user.id,\n                    zone: user.zone,\n                    nickname: user.nickname,\n                    avatar: user.avatar\n                  }\n                });\n\n                _this.$toast.success(\"操作成功\");\n\n                _this.$emit(\"reward-callback\");\n\n                _context.next = 18;\n                break;\n\n              case 15:\n                _context.prev = 15;\n                _context.t0 = _context[\"catch\"](5);\n\n                _this.$toast.error(_context.t0);\n\n              case 18:\n                _context.prev = 18;\n                _this.loadingReward = false;\n                return _context.finish(18);\n\n              case 21:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[5, 15, 18, 21]]);\n      }))).catch(() => {});\n    },\n\n    toggleLike() {\n      var _this2 = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee2() {\n        var api, user, result;\n        return regenerator__default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (_this2.currentUserId) {\n                  _context2.next = 3;\n                  break;\n                }\n\n                _this2.$channel.$emit(\"sign-in\");\n\n                return _context2.abrupt(\"return\");\n\n              case 3:\n                if (!_this2.isMine) {\n                  _context2.next = 6;\n                  break;\n                }\n\n                _this2.$toast.info(\"不能喜欢自己的内容\");\n\n                return _context2.abrupt(\"return\");\n\n              case 6:\n                if (!_this2.loadingLike) {\n                  _context2.next = 8;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\");\n\n              case 8:\n                _this2.loadingLike = true;\n                api = new toggleApi[\"a\" /* default */](_this2);\n                user = _this2.$store.state.user;\n                _context2.prev = 11;\n                _context2.next = 14;\n                return api.like({\n                  id: _this2.id,\n                  type: _this2.type\n                });\n\n              case 14:\n                result = _context2.sent;\n\n                _this2.$store.commit(`${_this2.type}/SOCIAL_TOGGLE`, {\n                  key: \"like\",\n                  value: result,\n                  user: {\n                    id: user.id,\n                    zone: user.zone,\n                    nickname: user.nickname,\n                    avatar: user.avatar\n                  }\n                });\n\n                _this2.$toast.success(\"操作成功\");\n\n                _context2.next = 22;\n                break;\n\n              case 19:\n                _context2.prev = 19;\n                _context2.t0 = _context2[\"catch\"](11);\n\n                _this2.$toast.error(_context2.t0);\n\n              case 22:\n                _context2.prev = 22;\n                _this2.loadingLike = false;\n                return _context2.finish(22);\n\n              case 25:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[11, 19, 22, 25]]);\n      }))();\n    },\n\n    toggleMark() {\n      var _this3 = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee3() {\n        var api, user, result;\n        return regenerator__default.a.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (_this3.currentUserId) {\n                  _context3.next = 3;\n                  break;\n                }\n\n                _this3.$channel.$emit(\"sign-in\");\n\n                return _context3.abrupt(\"return\");\n\n              case 3:\n                if (!_this3.isMine) {\n                  _context3.next = 6;\n                  break;\n                }\n\n                _this3.$toast.info(\"不能收藏自己的内容\");\n\n                return _context3.abrupt(\"return\");\n\n              case 6:\n                if (!_this3.loadingMark) {\n                  _context3.next = 8;\n                  break;\n                }\n\n                return _context3.abrupt(\"return\");\n\n              case 8:\n                _this3.loadingMark = true;\n                api = new toggleApi[\"a\" /* default */](_this3);\n                user = _this3.$store.state.user;\n                _context3.prev = 11;\n                _context3.next = 14;\n                return api.mark({\n                  id: _this3.id,\n                  type: _this3.type\n                });\n\n              case 14:\n                result = _context3.sent;\n\n                _this3.$store.commit(`${_this3.type}/SOCIAL_TOGGLE`, {\n                  key: \"mark\",\n                  value: result,\n                  user: {\n                    id: user.id,\n                    zone: user.zone,\n                    nickname: user.nickname,\n                    avatar: user.avatar\n                  }\n                });\n\n                _this3.$toast.success(\"操作成功\");\n\n                _context3.next = 22;\n                break;\n\n              case 19:\n                _context3.prev = 19;\n                _context3.t0 = _context3[\"catch\"](11);\n\n                _this3.$toast.error(_context3.t0);\n\n              case 22:\n                _context3.prev = 22;\n                _this3.loadingMark = false;\n                return _context3.finish(22);\n\n              case 25:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[11, 19, 22, 25]]);\n      }))();\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-200e0634\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/SocialPanel.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"social-panel\"},[_vm._ssrNode(\"<div class=\\\"buttons\\\">\",\"</div>\",[(_vm.isCreator)?_c('el-button',{class:{ 'is-plain': _vm.rewarded },attrs:{\"loading\":_vm.loadingReward,\"type\":\"warning\",\"round\":\"\",\"size\":\"mini\"},on:{\"click\":_vm.toggleReward}},[_c('i',{staticClass:\"iconfont icon-guanzhu\"}),_vm._v(\"\\n      \"+_vm._s(_vm.rewarded ? '已投食' : '投食')+_vm._s(_vm.rewardUsers.total ? (\"  |  \" + (_vm.rewardUsers.total)) : '')+\"\\n    \")]):_c('el-button',{class:{ 'is-plain': _vm.liked },attrs:{\"loading\":_vm.loadingLike,\"type\":\"danger\",\"size\":\"mini\",\"round\":\"\"},on:{\"click\":_vm.toggleLike}},[_c('i',{staticClass:\"iconfont icon-guanzhu\"}),_vm._v(\"\\n      \"+_vm._s(_vm.liked ? '已喜欢' : '喜欢')+_vm._s(_vm.likeUsers.total ? (\"  |  \" + (_vm.likeUsers.total)) : '')+\"\\n    \")]),_c('el-button',{class:{ 'is-plain': _vm.marked },attrs:{\"loading\":_vm.loadingMark,\"type\":\"success\",\"size\":\"mini\",\"round\":\"\"},on:{\"click\":_vm.toggleMark}},[_c('i',{staticClass:\"iconfont icon-shoucang\"}),_vm._v(\"\\n      \"+_vm._s(_vm.marked ? '已收藏' : '收藏')+_vm._s(_vm.markUsers.total ? (\"  |  \" + (_vm.markUsers.total)) : '')+\"\\n    \")]),_vm._t(\"default\")],2),_vm._ssrNode(\"<div class=\\\"users\\\"><ul>\"+(_vm._ssrList((_vm.displayUsers),function(user){return (\"<li class=\\\"user-face\\\"><img\"+(_vm._ssrAttr(\"src\",_vm.$resize(user.avatar, { width: 60 })))+\"></li>\")}))+\"</ul></div>\")],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var common_SocialPanel = (esExports);\n// CONCATENATED MODULE: ./src/components/common/SocialPanel.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(114),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"786d8432\"\nvar Component = normalizeComponent(\n  SocialPanel,\n  common_SocialPanel,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_common_SocialPanel = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 114:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(115);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"6bcd6949\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 115:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.social-panel{margin:40px 0}.social-panel .buttons{text-align:center}.social-panel .buttons button{padding:5px 7px;font-size:11px!important}.social-panel .users{margin-top:25px;text-align:center}.social-panel .users .user-face{margin:0 -5px;display:inline-block;vertical-align:middle}.social-panel .users .user-face img{width:30px;height:30px;border-radius:50%;border:3px solid #fff}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 117:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: external \"@babel/runtime/regenerator\"\nvar regenerator_ = __webpack_require__(0);\nvar regenerator__default = /*#__PURE__*/__webpack_require__.n(regenerator_);\n\n// EXTERNAL MODULE: external \"regenerator-runtime/runtime\"\nvar runtime_ = __webpack_require__(1);\nvar runtime__default = /*#__PURE__*/__webpack_require__.n(runtime_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/asyncToGenerator\"\nvar asyncToGenerator_ = __webpack_require__(2);\nvar asyncToGenerator__default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator_);\n\n// EXTERNAL MODULE: ./src/api/toggleApi.js\nvar toggleApi = __webpack_require__(22);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/common/VoteButton.vue\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var VoteButton = ({\n  name: \"VoteButton\",\n  props: {\n    type: {\n      required: true,\n      type: String,\n      validator: val => ~[\"answer\"].indexOf(val)\n    },\n    id: {\n      required: true,\n      type: Number\n    },\n    score: {\n      required: true,\n      type: Number\n    },\n    total: {\n      required: true,\n      type: Number\n    },\n    authorId: {\n      required: true,\n      type: Number\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  data() {\n    return {\n      loading: false\n    };\n  },\n\n  computed: {\n    currentUserId() {\n      if (this.$store.state.login) {\n        return this.$store.state.user.id;\n      }\n\n      return 0;\n    }\n\n  },\n  methods: {\n    voteAction(is_agree) {\n      var _this = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee() {\n        var api, result;\n        return regenerator__default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!_this.disabled) {\n                  _context.next = 2;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 2:\n                if (_this.currentUserId) {\n                  _context.next = 5;\n                  break;\n                }\n\n                _this.$channel.$emit(\"sign-in\");\n\n                return _context.abrupt(\"return\");\n\n              case 5:\n                if (!(_this.currentUserId === _this.authorId)) {\n                  _context.next = 8;\n                  break;\n                }\n\n                _this.$toast.error(is_agree ? \"不能给自己点赞\" : \"不能给自己点反对\");\n\n                return _context.abrupt(\"return\");\n\n              case 8:\n                if (!_this.loading) {\n                  _context.next = 10;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 10:\n                _this.loading = true;\n                api = new toggleApi[\"a\" /* default */](_this);\n                _context.prev = 12;\n                _context.next = 15;\n                return api.vote({\n                  type: _this.type,\n                  id: _this.id,\n                  is_agree\n                });\n\n              case 15:\n                result = _context.sent;\n\n                _this.$emit(\"vote\", result);\n\n                _context.next = 22;\n                break;\n\n              case 19:\n                _context.prev = 19;\n                _context.t0 = _context[\"catch\"](12);\n\n                _this.$toast.error(_context.t0);\n\n              case 22:\n                _context.prev = 22;\n                _this.loading = false;\n                return _context.finish(22);\n\n              case 25:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[12, 19, 22, 25]]);\n      }))();\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3b7bf57c\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/VoteButton.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vote-button\"},[_vm._ssrNode(\"<button\"+(_vm._ssrClass(\"vote-btn vote-up\",{ 'active': _vm.score > 0 }))+\"><i class=\\\"el-icon-caret-top\\\"></i>\"+_vm._ssrEscape(\"\\n    赞同\\n    \"+_vm._s(_vm.total)+\"\\n  \")+\"</button><button\"+(_vm._ssrClass(\"vote-btn vote-down\",{ 'active': _vm.score < 0 }))+\"><i class=\\\"el-icon-caret-bottom\\\"></i></button>\")])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var common_VoteButton = (esExports);\n// CONCATENATED MODULE: ./src/components/common/VoteButton.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(118),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"27695f1e\"\nvar Component = normalizeComponent(\n  VoteButton,\n  common_VoteButton,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_common_VoteButton = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 118:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(119);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"17ebc120\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 119:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.vote-button{display:inline-block}.vote-button .vote-btn{padding:0 10px;color:#00a1d6;background-color:rgba(0,161,214,.1);font-size:14px;line-height:32px;text-align:center;border-radius:3px;font-weight:700}.vote-button .vote-btn.vote-down{margin-left:4px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 129:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/jsonEditor/parser/TxtParser.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var TxtParser = ({\n  name: \"JsonContentTxtParser\",\n  props: {\n    item: {\n      type: Object,\n      required: true\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-41cbc7b4\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/jsonEditor/parser/TxtParser.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',{staticClass:\"json-content-txt-parser\",domProps:{\"innerHTML\":_vm._s(_vm.item.text)}},[])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var parser_TxtParser = (esExports);\n// CONCATENATED MODULE: ./src/components/jsonEditor/parser/TxtParser.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(130),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"2dd15a2a\"\nvar Component = normalizeComponent(\n  TxtParser,\n  parser_TxtParser,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var jsonEditor_parser_TxtParser = (Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/jsonEditor/parser/ImgParser.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var ImgParser = ({\n  name: \"JsonContentImgParser\",\n  props: {\n    item: {\n      type: Object,\n      required: true\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-b8da67b0\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/jsonEditor/parser/ImgParser.vue\nvar ImgParser_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"json-content-img-parser\"},[_c('v-img',{attrs:{\"src\":_vm.item.url,\"width\":_vm.item.width,\"height\":_vm.item.height,\"full\":true}}),_vm._ssrNode(((_vm.item.text)?(\"<p class=\\\"img-tip\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.text))+\"</p>\"):\"<!---->\"))],2)}\nvar ImgParser_staticRenderFns = []\nvar ImgParser_esExports = { render: ImgParser_render, staticRenderFns: ImgParser_staticRenderFns }\n/* harmony default export */ var parser_ImgParser = (ImgParser_esExports);\n// CONCATENATED MODULE: ./src/components/jsonEditor/parser/ImgParser.vue\nfunction ImgParser_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(132),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar ImgParser_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar ImgParser___vue_template_functional__ = false\n/* styles */\nvar ImgParser___vue_styles__ = ImgParser_injectStyle\n/* scopeId */\nvar ImgParser___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar ImgParser___vue_module_identifier__ = \"09f0e3bd\"\nvar ImgParser_Component = ImgParser_normalizeComponent(\n  ImgParser,\n  parser_ImgParser,\n  ImgParser___vue_template_functional__,\n  ImgParser___vue_styles__,\n  ImgParser___vue_scopeId__,\n  ImgParser___vue_module_identifier__\n)\n\n/* harmony default export */ var jsonEditor_parser_ImgParser = (ImgParser_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/jsonEditor/JsonContent.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var JsonContent = ({\n  name: \"JsonContent\",\n  components: {\n    TxtParser: jsonEditor_parser_TxtParser,\n    ImgParser: jsonEditor_parser_ImgParser\n  },\n  props: {\n    content: {\n      required: true,\n      type: Array\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5f646859\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/jsonEditor/JsonContent.vue\nvar JsonContent_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"json-content\"},_vm._l((_vm.content),function(item,index){return _c(((item.type) + \"-parser\"),{key:index,tag:\"component\",attrs:{\"item\":item}})}))}\nvar JsonContent_staticRenderFns = []\nvar JsonContent_esExports = { render: JsonContent_render, staticRenderFns: JsonContent_staticRenderFns }\n/* harmony default export */ var jsonEditor_JsonContent = (JsonContent_esExports);\n// CONCATENATED MODULE: ./src/components/jsonEditor/JsonContent.vue\nvar JsonContent_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar JsonContent___vue_template_functional__ = false\n/* styles */\nvar JsonContent___vue_styles__ = null\n/* scopeId */\nvar JsonContent___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar JsonContent___vue_module_identifier__ = \"17cce616\"\nvar JsonContent_Component = JsonContent_normalizeComponent(\n  JsonContent,\n  jsonEditor_JsonContent,\n  JsonContent___vue_template_functional__,\n  JsonContent___vue_styles__,\n  JsonContent___vue_scopeId__,\n  JsonContent___vue_module_identifier__\n)\n\n/* harmony default export */ var components_jsonEditor_JsonContent = __webpack_exports__[\"a\"] = (JsonContent_Component.exports);\n\n\n/***/ }),\n\n/***/ 130:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(131);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"14343790\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 131:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".json-content-txt-parser{word-break:break-word!important;word-break:break-all}@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.json-content-txt-parser{margin-bottom:25px;margin-left:15px;margin-right:15px;font-size:16px;font-weight:400;line-height:1.7;color:#2f2f2f}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 132:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(133);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"74f17a30\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 133:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".json-content-img-parser .img-tip{word-break:break-word!important;word-break:break-all}@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.json-content-img-parser{margin-bottom:25px;text-align:center}.json-content-img-parser .img-tip{min-width:20%;max-width:80%;min-height:22px;padding:10px 10px 6px;border-bottom:1px solid #d9d9d9;font-size:14px;color:#969696;line-height:1.7;text-align:center;display:inline-block}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 150:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: external \"core-js/modules/es6.regexp.replace\"\nvar es6_regexp_replace_ = __webpack_require__(9);\nvar es6_regexp_replace__default = /*#__PURE__*/__webpack_require__.n(es6_regexp_replace_);\n\n// EXTERNAL MODULE: external \"core-js/modules/web.dom.iterable\"\nvar web_dom_iterable_ = __webpack_require__(3);\nvar web_dom_iterable__default = /*#__PURE__*/__webpack_require__.n(web_dom_iterable_);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/jsonEditor/JsonItem.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var JsonItem = ({\n  name: \"JsonItem\",\n  props: {\n    item: {\n      type: Object,\n      required: true\n    },\n    selected: {\n      type: Boolean,\n      required: true,\n      default: false\n    },\n    index: {\n      type: Number,\n      required: true\n    }\n  },\n  computed: {\n    sectionCount() {\n      return this.$store.state.editor.sections.length;\n    }\n\n  },\n  methods: {\n    emitPreview(type) {\n      this.$emit(\"preview\", {\n        index: this.index,\n        type\n      });\n    },\n\n    emitCreate(type) {\n      this.$emit(\"create\", {\n        index: this.index,\n        type\n      });\n    },\n\n    emitDelete() {\n      this.$emit(\"delete\", {\n        index: this.index\n      });\n    },\n\n    emitSort() {\n      this.$emit(\"sort\", {\n        index: this.index\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-d6951c8c\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/jsonEditor/JsonItem.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"json-item\",class:{ selected: _vm.selected }},[_vm._ssrNode(((_vm.sectionCount > 1)?(\"<button class=\\\"delete-btn\\\"><span><i class=\\\"el-icon-delete\\\"></i></span></button>\"):\"<!---->\")+((_vm.index)?(\"<button class=\\\"up-btn\\\"><span><i class=\\\"el-icon-arrow-up\\\"></i></span></button>\"):\"<!---->\")+\"<div class=\\\"show-area\\\"><div class=\\\"capture\\\">\"+((_vm.item.type === 'img')?(((_vm.item.url)?(\"<div class=\\\"poster\\\"\"+(_vm._ssrStyle(null,{ backgroundImage: (\"url(\" + (_vm.$resize(_vm.item.url, { width: 150 })) + \")\") }, null))+\"></div>\"):\"<!---->\")+((!_vm.item.url)?(\"<div class=\\\"default green\\\"><i class=\\\"el-icon-picture-outline\\\"></i></div>\"):\"<!---->\")):(_vm.item.type === 'txt')?(\"<div class=\\\"default yellow\\\"><i class=\\\"el-icon-document\\\"></i></div>\"):\"<!---->\")+\"</div><div class=\\\"content\\\">\"+((_vm.item.text)?(\"<div class=\\\"text\\\">\"+(_vm._s(_vm.item.text))+\"</div>\"):(\"<div class=\\\"text\\\">\"+_vm._ssrEscape(\"\\n        \"+_vm._s(_vm.item.type === 'txt' ? '点击添加文字' : '点击上传图片')+\"\\n      \")+\"</div>\"))+\"</div></div><div class=\\\"append-area\\\"><button><span><i class=\\\"el-icon-edit\\\"></i></span></button><button><span><i class=\\\"el-icon-picture\\\"></i></span></button></div>\")])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var jsonEditor_JsonItem = (esExports);\n// CONCATENATED MODULE: ./src/components/jsonEditor/JsonItem.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(153),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"637bbec6\"\nvar Component = normalizeComponent(\n  JsonItem,\n  jsonEditor_JsonItem,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_jsonEditor_JsonItem = (Component.exports);\n\n// EXTERNAL MODULE: ./.env.js\nvar _env = __webpack_require__(15);\nvar _env_default = /*#__PURE__*/__webpack_require__.n(_env);\n\n// EXTERNAL MODULE: ./src/mixins/upload.js\nvar upload = __webpack_require__(24);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/jsonEditor/preview/ImgPreview.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var ImgPreview = ({\n  name: \"ImgPreview\",\n  mixins: [upload[\"a\" /* default */]],\n  props: {\n    item: {\n      required: true,\n      type: Object\n    }\n  },\n\n  data() {\n    return {\n      show: false,\n      saving: false\n    };\n  },\n\n  computed: {\n    desc: {\n      get() {\n        return this.item.text;\n      },\n\n      set(value) {\n        this.$store.commit(\"editor/UPDATE_SECTION_TEXT\", {\n          value\n        });\n      }\n\n    },\n\n    imageWrapperHeight() {\n      return {\n        height: `${this.item.height * window.innerWidth / this.item.width + 60}px`\n      };\n    }\n\n  },\n\n  mounted() {\n    this.$channel.$on(\"write-save-done\", () => {\n      this.saving = false;\n    });\n    this.$channel.$on(\"write-open-drawer\", (_ref) => {\n      var type = _ref.type;\n\n      if (type === \"img\") {\n        this.show = true;\n      }\n    });\n    this.getUpToken();\n  },\n\n  methods: {\n    imageUploadSuccess(res, file) {\n      this.handleImageUploadSuccess(res, file);\n      this.$store.commit(\"editor/UPDATE_SECTION_IMAGE\", {\n        url: `${_env[\"cdn\"].image}${res.data.url}`,\n        width: res.data.width,\n        height: res.data.height,\n        size: res.data.size,\n        mime: res.data.type\n      });\n      this.$toast.success(\"上传成功\");\n    },\n\n    emitSave() {\n      if (!this.item.url) {\n        return;\n      }\n\n      this.$channel.$emit(\"write-save\");\n      this.saving = true;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-337e31bd\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/jsonEditor/preview/ImgPreview.vue\nvar ImgPreview_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-drawer',{attrs:{\"from\":\"right\",\"size\":\"100%\",\"header-text\":\"编辑图片段落\",\"submit-text\":\"确定\"},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[(_vm.show)?_c('div',{staticClass:\"image-preview container\"},[_c('div',{staticClass:\"body\"},[(_vm.item.url)?_c('div',{staticClass:\"wrapper\",style:(_vm.imageWrapperHeight)},[_c('v-img',{attrs:{\"src\":_vm.$resize(_vm.item.url),\"width\":_vm.item.width,\"height\":_vm.item.height,\"full\":true}}),_c('el-input',{attrs:{\"maxlength\":\"45\",\"placeholder\":\"添加图片描述\"},model:{value:(_vm.desc),callback:function ($$v) {_vm.desc=$$v},expression:\"desc\"}})],1):_c('el-upload',{staticClass:\"uploader\",attrs:{\"data\":_vm.uploadHeaders,\"action\":_vm.imageUploadAction,\"accept\":_vm.imageUploadAccept,\"before-upload\":_vm.handleImageUploadBefore,\"on-error\":_vm.handleImageUploadError,\"on-success\":_vm.imageUploadSuccess,\"disabled\":true}},[_c('i',{staticClass:\"el-icon-plus\"}),_c('div',{staticClass:\"el-upload__text\"},[_vm._v(\"点击上传\")])])],1),_c('div',{staticClass:\"footer\"},[_c('el-upload',{attrs:{\"data\":_vm.uploadHeaders,\"action\":_vm.imageUploadAction,\"accept\":_vm.imageUploadAccept,\"show-file-list\":false,\"before-upload\":_vm.handleImageUploadBefore,\"on-error\":_vm.handleImageUploadError,\"on-success\":_vm.imageUploadSuccess,\"disabled\":true}},[(_vm.item.url)?_c('el-button',{attrs:{\"size\":\"small\",\"plain\":\"\",\"round\":\"\"}},[_vm._v(\"更换图片\")]):_vm._e()],1)],1)]):_vm._e()])}\nvar ImgPreview_staticRenderFns = []\nvar ImgPreview_esExports = { render: ImgPreview_render, staticRenderFns: ImgPreview_staticRenderFns }\n/* harmony default export */ var preview_ImgPreview = (ImgPreview_esExports);\n// CONCATENATED MODULE: ./src/components/jsonEditor/preview/ImgPreview.vue\nfunction ImgPreview_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(155),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar ImgPreview_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar ImgPreview___vue_template_functional__ = false\n/* styles */\nvar ImgPreview___vue_styles__ = ImgPreview_injectStyle\n/* scopeId */\nvar ImgPreview___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar ImgPreview___vue_module_identifier__ = \"05299d97\"\nvar ImgPreview_Component = ImgPreview_normalizeComponent(\n  ImgPreview,\n  preview_ImgPreview,\n  ImgPreview___vue_template_functional__,\n  ImgPreview___vue_styles__,\n  ImgPreview___vue_scopeId__,\n  ImgPreview___vue_module_identifier__\n)\n\n/* harmony default export */ var jsonEditor_preview_ImgPreview = (ImgPreview_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/jsonEditor/preview/TxtPreview.vue\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var TxtPreview = ({\n  name: \"TxtPreview\",\n  props: {\n    item: {\n      required: true,\n      type: Object\n    }\n  },\n\n  data() {\n    return {\n      show: false,\n      saving: false\n    };\n  },\n\n  computed: {\n    text: {\n      get() {\n        return this.item.text.replace(/<br>/g, \"\\n\");\n      },\n\n      set(value) {\n        this.$store.commit(\"editor/UPDATE_SECTION_TEXT\", {\n          value: value.replace(/\\n/g, \"<br>\")\n        });\n      }\n\n    }\n  },\n\n  mounted() {\n    this.$channel.$on(\"write-save-done\", () => {\n      this.saving = false;\n    });\n    this.$channel.$on(\"write-open-drawer\", (_ref) => {\n      var type = _ref.type;\n\n      if (type === \"txt\") {\n        this.show = true;\n      }\n    });\n  },\n\n  methods: {\n    textAreaFocus() {\n      if (this.text.length < 100) {\n        document.body.scrollTop = 0;\n      }\n    },\n\n    emitSave() {\n      if (!this.text.replace(/\\n/g, \"\")) {\n        return;\n      }\n\n      this.$channel.$emit(\"write-save\");\n      this.saving = true;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-25cc5013\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/jsonEditor/preview/TxtPreview.vue\nvar TxtPreview_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-drawer',{attrs:{\"from\":\"right\",\"size\":\"100%\",\"header-text\":\"编辑文本段落\",\"submit-text\":\"确定\"},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[(_vm.show)?_c('div',{staticClass:\"text-preview\"},[_c('pre',{staticClass:\"shim\",domProps:{\"innerHTML\":_vm._s(_vm.item.text)}}),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.text),expression:\"text\"}],attrs:{\"placeholder\":\"添加文字内容\"},domProps:{\"value\":(_vm.text)},on:{\"focus\":_vm.textAreaFocus,\"input\":function($event){if($event.target.composing){ return; }_vm.text=$event.target.value}}})]):_vm._e()])}\nvar TxtPreview_staticRenderFns = []\nvar TxtPreview_esExports = { render: TxtPreview_render, staticRenderFns: TxtPreview_staticRenderFns }\n/* harmony default export */ var preview_TxtPreview = (TxtPreview_esExports);\n// CONCATENATED MODULE: ./src/components/jsonEditor/preview/TxtPreview.vue\nfunction TxtPreview_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(157),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar TxtPreview_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar TxtPreview___vue_template_functional__ = false\n/* styles */\nvar TxtPreview___vue_styles__ = TxtPreview_injectStyle\n/* scopeId */\nvar TxtPreview___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar TxtPreview___vue_module_identifier__ = \"5d57f4ca\"\nvar TxtPreview_Component = TxtPreview_normalizeComponent(\n  TxtPreview,\n  preview_TxtPreview,\n  TxtPreview___vue_template_functional__,\n  TxtPreview___vue_styles__,\n  TxtPreview___vue_scopeId__,\n  TxtPreview___vue_module_identifier__\n)\n\n/* harmony default export */ var jsonEditor_preview_TxtPreview = (TxtPreview_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/jsonEditor/index.vue\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ var jsonEditor = ({\n  name: \"JsonEditorMain\",\n  components: {\n    JsonItem: components_jsonEditor_JsonItem,\n    ImgPreview: jsonEditor_preview_ImgPreview,\n    TxtPreview: jsonEditor_preview_TxtPreview\n  },\n  computed: {\n    id() {\n      return +(this.$route.params.id || 0);\n    },\n\n    sections() {\n      return this.$store.state.editor.sections;\n    },\n\n    selectedIndex() {\n      return this.$store.state.editor.selectedIndex;\n    },\n\n    curPreview() {\n      return this.selectedIndex >= 0 ? this.sections[this.selectedIndex] : {};\n    }\n\n  },\n\n  mounted() {\n    this.$channel.$on(\"write-save\", () => {\n      var richContent = this.getRichContent();\n\n      if (!richContent.length) {\n        this.$toast.info(\"内容不能为空！\");\n        return;\n      }\n\n      this.$emit(\"submit\", {\n        content: richContent,\n        desc: this.getPureContent(),\n        publish: false,\n        id: this.id\n      });\n    });\n    this.$channel.$on(\"write-publish\", () => {\n      var richContent = this.getRichContent();\n\n      if (!richContent.length) {\n        this.$toast.info(\"内容不能为空！\");\n        return;\n      }\n\n      this.$emit(\"submit\", {\n        content: richContent,\n        desc: this.getPureContent(),\n        publish: true,\n        id: this.id\n      });\n    });\n  },\n\n  methods: {\n    getRichContent() {\n      var result = [];\n      this.sections.forEach(item => {\n        if (item.type === \"img\") {\n          if (item.url) {\n            result.push(item);\n          }\n        } else if (item.type === \"txt\") {\n          if (item.text) {\n            result.push(item);\n          }\n        }\n      });\n      return result;\n    },\n\n    getPureContent() {\n      var result = \"\";\n      this.sections.forEach(item => {\n        if (item.type === \"txt\" && item.text) {\n          result += item.text.replace(/<br>/g, \"\\n\");\n        }\n      });\n      return result;\n    },\n\n    handleItemPreview(_ref) {\n      var index = _ref.index,\n          type = _ref.type;\n      this.$store.commit(\"editor/SWITCH_SECTION\", {\n        index\n      });\n      this.$channel.$emit(\"write-open-drawer\", {\n        type\n      });\n    },\n\n    handleItemAppend(_ref2) {\n      var index = _ref2.index,\n          type = _ref2.type;\n      this.$store.commit(\"editor/APPEND_SECTION\", {\n        index,\n        type\n      });\n    },\n\n    handleItemDelete(_ref3) {\n      var index = _ref3.index;\n      this.$store.commit(\"editor/DELETE_SECTION\", {\n        index\n      });\n    },\n\n    handleItemSort(_ref4) {\n      var index = _ref4.index;\n      this.$store.commit(\"editor/SORT_SECTION\", {\n        index\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-07399045\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/jsonEditor/index.vue\nvar jsonEditor_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"json-editor-main\"},[_c('transition-group',{staticClass:\"editor-tabs\",attrs:{\"name\":\"list-complete\",\"tag\":\"div\"}},_vm._l((_vm.sections),function(item,index){return _c('json-item',{key:item.id,staticClass:\"list-complete-item\",attrs:{\"item\":item,\"index\":index,\"selected\":index === _vm.selectedIndex},on:{\"preview\":_vm.handleItemPreview,\"create\":_vm.handleItemAppend,\"delete\":_vm.handleItemDelete,\"sort\":_vm.handleItemSort}})})),_c('img-preview',{attrs:{\"item\":_vm.curPreview}}),_c('txt-preview',{attrs:{\"item\":_vm.curPreview}})],1)}\nvar jsonEditor_staticRenderFns = []\nvar jsonEditor_esExports = { render: jsonEditor_render, staticRenderFns: jsonEditor_staticRenderFns }\n/* harmony default export */ var components_jsonEditor = (jsonEditor_esExports);\n// CONCATENATED MODULE: ./src/components/jsonEditor/index.vue\nfunction jsonEditor_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(151),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar jsonEditor_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar jsonEditor___vue_template_functional__ = false\n/* styles */\nvar jsonEditor___vue_styles__ = jsonEditor_injectStyle\n/* scopeId */\nvar jsonEditor___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar jsonEditor___vue_module_identifier__ = \"43a639d7\"\nvar jsonEditor_Component = jsonEditor_normalizeComponent(\n  jsonEditor,\n  components_jsonEditor,\n  jsonEditor___vue_template_functional__,\n  jsonEditor___vue_styles__,\n  jsonEditor___vue_scopeId__,\n  jsonEditor___vue_module_identifier__\n)\n\n/* harmony default export */ var src_components_jsonEditor = __webpack_exports__[\"a\"] = (jsonEditor_Component.exports);\n\n\n/***/ }),\n\n/***/ 151:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(152);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"0ea71284\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 152:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.json-editor-main{margin-bottom:30px}.json-editor-main .editor-tabs{position:relative}.json-editor-main .list-complete-item{-webkit-transition:all .5s;-o-transition:all .5s;transition:all .5s}.json-editor-main .list-complete-enter,.json-editor-main .list-complete-leave-to{opacity:0;-webkit-transform:translateY(30px);-ms-transform:translateY(30px);transform:translateY(30px)}.json-editor-main .list-complete-leave-active{position:absolute}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 153:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(154);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"6c887340\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 154:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".json-item .show-area .content .text{word-break:break-word!important;word-break:break-all}@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.json-item{position:relative;height:110px;width:100%}.json-item.selected .show-area{border-color:#ff8eb3;-webkit-box-shadow:0 0 0 2px rgba(255,142,179,.2);box-shadow:0 0 0 2px rgba(255,142,179,.2)}.json-item .delete-btn{position:absolute;left:56px;top:18px;width:40px;height:40px;padding:10px;text-align:center;color:#fff;font-size:11px;line-height:20px}.json-item .delete-btn span{display:block;width:100%;height:100%;background-color:#f56c6c;border-radius:50%;opacity:.8}.json-item .up-btn{position:absolute;width:40px;height:40px;padding:10px;right:-18px;top:-18px;line-height:20px}.json-item .up-btn span{display:block;width:100%;height:100%;background-color:#f6f9fa;border-radius:50%;-webkit-box-shadow:0 0 0 1px #e5e9ef;box-shadow:0 0 0 1px #e5e9ef;font-weight:700;color:#333;font-size:11px}.json-item .show-area{background-color:#e5e9ef;border:1px solid transparent;-webkit-transition-duration:.3s;-o-transition-duration:.3s;transition-duration:.3s;border-radius:5px;overflow:hidden;cursor:pointer}.json-item .show-area .capture{float:left;width:76px;height:76px;margin-right:10px}.json-item .show-area .capture .poster{background-position:50%;background-repeat:no-repeat;background-size:cover;width:100%;height:100%}.json-item .show-area .capture .default{width:100%;height:100%;text-align:center;line-height:76px;font-size:30px;color:#fff}.json-item .show-area .capture .default.yellow{background-color:gold}.json-item .show-area .capture .default.green{background-color:#67c23a}.json-item .show-area .content{overflow:hidden;height:76px;padding-top:6px;padding-bottom:6px;padding-right:6px}.json-item .show-area .content .text{font-size:13px;line-height:16px;-webkit-line-clamp:4;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;color:#6d757a}.json-item .append-area{text-align:center}.json-item .append-area button{width:50px;height:30px;line-height:20px;padding:5px;margin:0 3px}.json-item .append-area button span{display:block;width:100%;height:100%;background-color:#ccd0d7;color:#fff;font-size:12px;border-radius:10px}.json-item .append-area button i{font-weight:700}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 155:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(156);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"0176f8a2\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 156:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.image-preview .body .el-input{margin-top:20px;padding:0 30px}.image-preview .body .el-input__inner{border-top:none;border-left:none;border-right:none;text-align:center}.image-preview .body .uploader{margin-top:30vh;text-align:center}.image-preview .body .uploader .el-upload__text{margin-top:5px}.image-preview .footer{text-align:center;line-height:15px;height:15px;margin-bottom:40px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 157:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(158);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"25a8ce21\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 158:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".text-preview .shim,.text-preview textarea{word-break:break-word!important;word-break:break-all}@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.text-preview{position:relative;z-index:1}.text-preview .shim,.text-preview textarea{width:100%;display:block;font-weight:400;font-size:14px;line-height:25px;letter-spacing:0;padding-left:15px;padding-right:15px;margin-bottom:46px}.text-preview .shim{height:auto;position:relative;visibility:hidden;white-space:pre-wrap;min-height:300px}.text-preview textarea{position:absolute;top:0;left:0;height:100%;overflow-y:auto;border:none;resize:none;color:#333}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 171:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: external \"@babel/runtime/regenerator\"\nvar regenerator_ = __webpack_require__(0);\nvar regenerator__default = /*#__PURE__*/__webpack_require__.n(regenerator_);\n\n// EXTERNAL MODULE: external \"regenerator-runtime/runtime\"\nvar runtime_ = __webpack_require__(1);\nvar runtime__default = /*#__PURE__*/__webpack_require__.n(runtime_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/asyncToGenerator\"\nvar asyncToGenerator_ = __webpack_require__(2);\nvar asyncToGenerator__default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator_);\n\n// EXTERNAL MODULE: ./src/components/jsonEditor/JsonContent.vue + 8 modules\nvar JsonContent = __webpack_require__(129);\n\n// EXTERNAL MODULE: ./src/components/common/VoteButton.vue + 2 modules\nvar VoteButton = __webpack_require__(117);\n\n// EXTERNAL MODULE: ./src/components/comments/CommentMain.vue + 8 modules\nvar CommentMain = __webpack_require__(101);\n\n// EXTERNAL MODULE: ./src/components/common/SocialPanel.vue + 2 modules\nvar SocialPanel = __webpack_require__(113);\n\n// EXTERNAL MODULE: ./src/api/questionApi.js\nvar questionApi = __webpack_require__(18);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/flow/item/AnswerFlowItem.vue\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n/* harmony default export */ var AnswerFlowItem = ({\n  name: \"AnswerFlowItem\",\n  components: {\n    JsonContent: JsonContent[\"a\" /* default */],\n    VoteButton: VoteButton[\"a\" /* default */],\n    CommentMain: CommentMain[\"a\" /* default */],\n    SocialPanel: SocialPanel[\"a\" /* default */]\n  },\n  props: {\n    item: {\n      required: true,\n      type: Object\n    }\n  },\n\n  data() {\n    return {\n      showCommentModal: false\n    };\n  },\n\n  computed: {\n    qaq() {\n      return this.$store.state.question.qaq;\n    },\n\n    isMine() {\n      return this.$store.state.login ? this.$store.state.user.id === this.item.user.id : false;\n    }\n\n  },\n  methods: {\n    handleVoted(result) {\n      this.$store.commit(\"question/TOGGLE_ANSWER_VOTE\", {\n        id: this.item.id,\n        data: result\n      });\n    },\n\n    loadAnswerComment() {\n      this.showCommentModal = true;\n      this.$nextTick(() => {\n        this.$channel.$emit(`fire-load-comment-answer-${this.item.id}`);\n      });\n    },\n\n    deleteAnswer() {\n      var _this = this;\n\n      this.$confirm(\"删除后无法找回, 是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(\n      /*#__PURE__*/\n      asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee() {\n        var api;\n        return regenerator__default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                api = new questionApi[\"a\" /* default */](_this);\n                _context.prev = 1;\n                _context.next = 4;\n                return api.deleteAnswer({\n                  id: _this.item.id\n                });\n\n              case 4:\n                window.location.reload();\n                _context.next = 10;\n                break;\n\n              case 7:\n                _context.prev = 7;\n                _context.t0 = _context[\"catch\"](1);\n\n                _this.$toast.error(_context.t0);\n\n              case 10:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[1, 7]]);\n      }))).catch(() => {});\n    },\n\n    handleCommentChange(count) {\n      this.$store.commit(\"question/COMMENT_CHANGE_COUNT\", {\n        id: this.item.id,\n        key: \"answer\",\n        value: count\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-517d5776\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/flow/item/AnswerFlowItem.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"answer-flow-item\",attrs:{\"id\":(\"answer-\" + (_vm.item.id))}},[_vm._ssrNode(\"<header class=\\\"answer-header\\\">\",\"</header>\",[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.item.user.zone)))+\" class=\\\"avatar\\\">\",\"</a>\",[_c('v-img',{attrs:{\"src\":_vm.item.user.avatar,\"avatar\":true,\"size\":\"38\"}})],1),_vm._ssrNode(\"<div class=\\\"info\\\"><a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.item.user.zone)))+\" class=\\\"nickname\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.user.nickname))+\"</a><p class=\\\"oneline signature\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.user.signature))+\"</p></div>\")],2),(_vm.item.vote_count)?_vm._ssrNode(\"<div class=\\\"answer-meta\\\">\",\"</div>\",[_vm._ssrNode(((_vm.item.source_url)?(\"<span><a\"+(_vm._ssrAttr(\"href\",_vm.item.source_url))+\" target=\\\"_blank\\\">\\n        原文链接\\n      </a>\\n      ·\\n    </span>\"):\"<!---->\")),(_vm.item.created_at === _vm.item.published_at)?_vm._ssrNode(\"<span>\",\"</span>\",[_vm._ssrNode(\"\\n      发布于\\n      \"),_c('v-time',{model:{value:(_vm.item.created_at),callback:function ($$v) {_vm.$set(_vm.item, \"created_at\", $$v)},expression:\"item.created_at\"}})],2):_vm._ssrNode(\"<span>\",\"</span>\",[_vm._ssrNode(\"\\n      编辑于\\n      \"),_c('v-time',{model:{value:(_vm.item.published_at),callback:function ($$v) {_vm.$set(_vm.item, \"published_at\", $$v)},expression:\"item.published_at\"}})],2),_vm._ssrNode(\"\\n    ·\\n    <span>\"+_vm._ssrEscape(\"\\n      \"+_vm._s(_vm.item.vote_count)+\" 赞同了该回答\\n    \")+\"</span>\")],2):_vm._e(),_vm._ssrNode(\"<main class=\\\"answer-content\\\">\",\"</main>\",[_c('json-content',{attrs:{\"content\":_vm.item.content}}),_c('social-panel',{attrs:{\"id\":_vm.item.id,\"is-creator\":!_vm.item.source_url,\"user-id\":_vm.item.user.id,\"liked\":_vm.item.liked,\"marked\":_vm.item.marked,\"rewarded\":_vm.item.rewarded,\"reward-users\":_vm.item.reward_users,\"like-users\":_vm.item.like_users,\"mark-users\":_vm.item.mark_users,\"type\":\"answer\",\"social-commit-path\":\"question/ANSWER_SOCIAL_TOGGLE\",\"user-commit-path\":\"question/FETCH_ANSWER_SOCIAL_USERS\"}})],1),_vm._ssrNode(\"<footer class=\\\"answer-footer\\\">\",\"</footer>\",[_c('vote-button',{attrs:{\"id\":_vm.item.id,\"total\":_vm.item.vote_count,\"score\":_vm.item.voted,\"author-id\":_vm.item.user.id,\"type\":\"answer\"},on:{\"vote\":_vm.handleVoted}}),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"medium\"},on:{\"click\":_vm.loadAnswerComment}},[_c('i',{staticClass:\"iconfont icon-pinglun1\"}),_vm._v(\"\\n      \"+_vm._s(_vm.item.comment_count ? _vm.item.comment_count + ' 条评论' : '添加评论')+\"\\n    \")]),(_vm.isMine)?[_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"medium\"},on:{\"click\":function($event){_vm.$channel.$emit('open-write-answer-dialog', true)}}},[_vm._v(\"\\n        编辑\\n      \")]),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"medium\"},on:{\"click\":_vm.deleteAnswer}},[_vm._v(\"\\n        删除\\n      \")])]:_c('v-popover',{attrs:{\"report-id\":_vm.item.id,\"is-creator\":!_vm.item.source_url,\"report-type\":\"answer\"}},[_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"medium\"}},[_c('i',{staticClass:\"el-icon-phone\"}),_vm._v(\"\\n        举报\\n      \")])],1)],2),_c('v-drawer',{attrs:{\"from\":\"bottom\",\"size\":\"80%\"},model:{value:(_vm.showCommentModal),callback:function ($$v) {_vm.showCommentModal=$$v},expression:\"showCommentModal\"}},[_c('div',{staticClass:\"container\"},[_c('comment-main',{attrs:{\"id\":_vm.item.id,\"master-id\":_vm.item.user.id,\"auto\":true,\"empty-text\":\"还没有评论\",\"type\":\"answer\"},on:{\"delete-main-comment\":function($event){_vm.handleCommentChange(-1)},\"create-main-comment\":function($event){_vm.handleCommentChange(1)}}},[_c('button',{staticClass:\"write-btn\",staticStyle:{\"margin-left\":\"15px\"},attrs:{\"slot\":\"header-btn\"},on:{\"click\":function($event){_vm.showCommentModal = false}},slot:\"header-btn\"},[_vm._v(\"关闭\")])])],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var item_AnswerFlowItem = (esExports);\n// CONCATENATED MODULE: ./src/components/flow/item/AnswerFlowItem.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(172),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"4a3c7699\"\nvar Component = normalizeComponent(\n  AnswerFlowItem,\n  item_AnswerFlowItem,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var flow_item_AnswerFlowItem = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 172:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(173);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"ac716ec2\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 173:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.answer-flow-item{padding:16px 0;position:relative;margin-bottom:10px;background-color:#fff;-webkit-box-shadow:0 -1px 3px rgba(26,26,26,.1);box-shadow:0 -1px 3px rgba(26,26,26,.1);overflow:hidden}.answer-flow-item .answer-header{height:40px;margin-bottom:10px;padding:0 15px}.answer-flow-item .answer-header .avatar{float:left;margin-right:10px;width:38px;height:38px}.answer-flow-item .answer-header .info{overflow:hidden}.answer-flow-item .answer-header .info .nickname{color:#444;font-weight:600;font-size:15px;line-height:1.4}.answer-flow-item .answer-header .info .signature{line-height:1.3;font-size:14px;color:#646464}.answer-flow-item .answer-meta{font-size:12px;line-height:16px;margin-bottom:10px;color:#8590a6;padding:0 15px}.answer-flow-item .answer-meta a{font-size:inherit}.answer-flow-item .answer-footer{position:absolute;left:0;bottom:0;width:100%;height:54px;padding:10px 15px}.answer-flow-item .answer-footer .el-button{margin-left:10px;color:#6d757a}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 174:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: external \"@babel/runtime/regenerator\"\nvar regenerator_ = __webpack_require__(0);\nvar regenerator__default = /*#__PURE__*/__webpack_require__.n(regenerator_);\n\n// EXTERNAL MODULE: external \"regenerator-runtime/runtime\"\nvar runtime_ = __webpack_require__(1);\nvar runtime__default = /*#__PURE__*/__webpack_require__.n(runtime_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/asyncToGenerator\"\nvar asyncToGenerator_ = __webpack_require__(2);\nvar asyncToGenerator__default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator_);\n\n// EXTERNAL MODULE: ./src/components/common/FollowButton.vue + 2 modules\nvar FollowButton = __webpack_require__(23);\n\n// EXTERNAL MODULE: external \"core-js/modules/es6.regexp.split\"\nvar es6_regexp_split_ = __webpack_require__(10);\nvar es6_regexp_split__default = /*#__PURE__*/__webpack_require__.n(es6_regexp_split_);\n\n// EXTERNAL MODULE: ./src/api/questionApi.js\nvar questionApi = __webpack_require__(18);\n\n// EXTERNAL MODULE: ./src/components/jsonEditor/index.vue + 11 modules\nvar jsonEditor = __webpack_require__(150);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/question/CreateAnswerForm.vue\n\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var CreateAnswerForm = ({\n  name: \"CreateAnswerForm\",\n  components: {\n    JsonEditor: jsonEditor[\"a\" /* default */]\n  },\n  props: {\n    title: {\n      required: true,\n      type: String\n    },\n    questionId: {\n      required: true,\n      type: Number\n    },\n    value: {\n      required: true,\n      type: Boolean\n    },\n    answerId: {\n      type: Number,\n      default: 0\n    },\n    published: {\n      required: true,\n      type: Boolean\n    }\n  },\n\n  data() {\n    return {\n      id: this.answerId,\n      show: this.value,\n      source_url: \"\",\n      saving: false\n    };\n  },\n\n  computed: {\n    resource() {\n      return this.$store.state.editor.resource;\n    }\n\n  },\n\n  mounted() {\n    this.$watch(\"show\", val => {\n      this.$emit(\"input\", val);\n    });\n    this.$watch(\"value\", val => {\n      this.show = val;\n    });\n    this.loadEditContent();\n  },\n\n  methods: {\n    beforeSubmit(richContent) {\n      if (this.source_url && !/^https?:\\/\\/(([a-zA-Z0-9_-])+(\\.)?)*(:\\d+)?(\\/((\\.)?(\\?)?=?&?[a-zA-Z0-9_-](\\?)?)*)*$/i.test(this.source_url)) {\n        this.$toast.error(\"请输入合法转载链接\");\n        return;\n      }\n\n      if (this.saving) {\n        return;\n      }\n\n      this.saving = true;\n\n      if (this.id) {\n        this.submit(richContent);\n      } else {\n        this.$captcha({\n          success: (_ref) => {\n            var data = _ref.data;\n            this.submit(richContent, data);\n          },\n          error: e => {\n            this.$toast.error(e);\n            this.saving = false;\n          },\n          close: () => {\n            this.saving = false;\n          }\n        });\n      }\n    },\n\n    submit(richContent) {\n      var _this = this,\n          _arguments = arguments;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee() {\n        var geetest, api, form, _result;\n\n        return regenerator__default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                geetest = _arguments.length > 1 && _arguments[1] !== undefined ? _arguments[1] : {};\n\n                _this.$toast.loading(\"保存中\");\n\n                _this.$channel.$emit(\"write-submit\", true);\n\n                api = new questionApi[\"a\" /* default */](_this);\n                _context.prev = 4;\n                form = {\n                  question_id: _this.questionId,\n                  content: richContent.content,\n                  intro: richContent.desc.substring(0, 120),\n                  do_publish: richContent.publish,\n                  source_url: _this.source_url.split(\"?\")[0],\n                  geetest\n                };\n\n                if (!_this.id) {\n                  _context.next = 12;\n                  break;\n                }\n\n                form.id = _this.id;\n                _context.next = 10;\n                return api.updateAnswer(form);\n\n              case 10:\n                _context.next = 16;\n                break;\n\n              case 12:\n                _context.next = 14;\n                return api.createAnswer(form);\n\n              case 14:\n                _result = _context.sent;\n                _this.id = _result.data;\n\n              case 16:\n                if (richContent.publish) {\n                  _this.$store.commit(\"UPDATE_USER_EXP\", 4);\n\n                  _this.$toast.success(typeof result !== \"undefined\" ? result.message : \"发布成功\").then(() => {\n                    window.location.href = _this.$alias.answer(_this.id);\n                  });\n                } else {\n                  _this.$toast.success(typeof result !== \"undefined\" ? result.message : \"保存成功\");\n\n                  _this.$store.commit(\"question/EDIT_ANSWER\", {\n                    id: _this.id\n                  });\n\n                  _this.closeEditor();\n                }\n\n                _context.next = 22;\n                break;\n\n              case 19:\n                _context.prev = 19;\n                _context.t0 = _context[\"catch\"](4);\n\n                _this.$toast.error(_context.t0);\n\n              case 22:\n                _context.prev = 22;\n                _this.saving = false;\n                return _context.finish(22);\n\n              case 25:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[4, 19, 22, 25]]);\n      }))();\n    },\n\n    loadEditContent() {\n      if (this.resource) {\n        this.source_url = this.resource.source_url;\n      }\n    },\n\n    closeEditor() {\n      this.show = false;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-27c0d418\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/question/CreateAnswerForm.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-drawer',{attrs:{\"header-text\":_vm.answerId ? '编辑回答' : '写回答',\"from\":\"bottom\",\"size\":\"100%\"},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('div',{staticClass:\"container\",attrs:{\"id\":\"create-answer-form\"}},[_c('h3',{staticClass:\"sub-title\"},[_vm._v(\"转载\")]),_c('el-input',{staticClass:\"source-url\",attrs:{\"placeholder\":\"如果是转载，请复制原文链接至此\",\"size\":\"medium\"},model:{value:(_vm.source_url),callback:function ($$v) {_vm.source_url=$$v},expression:\"source_url\"}}),_c('h3',{staticClass:\"sub-title\"},[_vm._v(\"正文\")]),_c('json-editor',{on:{\"submit\":_vm.beforeSubmit}})],1),_c('div',{staticClass:\"qaq-editor-footer\"},[_c('div',{staticClass:\"container\"},[(!_vm.published)?_c('el-button',{attrs:{\"loading\":_vm.saving,\"plain\":\"\",\"size\":\"medium\"},on:{\"click\":function($event){_vm.$channel.$emit('write-save')}}},[_vm._v(\"\\n        \"+_vm._s(_vm.id ? '更新草稿' : '存草稿')+\"\\n      \")]):_vm._e(),_c('el-button',{attrs:{\"loading\":_vm.saving,\"size\":\"medium\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.$channel.$emit('write-publish')}}},[_vm._v(_vm._s(_vm.published ? '更新回答' : _vm.id ? '发布回答' : '提交回答'))])],1)])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var question_CreateAnswerForm = (esExports);\n// CONCATENATED MODULE: ./src/components/question/CreateAnswerForm.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(177),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"0e1add50\"\nvar Component = normalizeComponent(\n  CreateAnswerForm,\n  question_CreateAnswerForm,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_question_CreateAnswerForm = (Component.exports);\n\n// EXTERNAL MODULE: ./src/components/comments/CommentMain.vue + 8 modules\nvar CommentMain = __webpack_require__(101);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/question/QuestionPanel.vue\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n/* harmony default export */ var QuestionPanel = ({\n  name: \"QuestionPanel\",\n  components: {\n    FollowButton: FollowButton[\"a\" /* default */],\n    CommentMain: CommentMain[\"a\" /* default */],\n    CreateAnswerForm: components_question_CreateAnswerForm\n  },\n\n  data() {\n    return {\n      collapsed: true,\n      showCommentModal: false,\n      showCreateAnswerForm: false\n    };\n  },\n\n  computed: {\n    id() {\n      return this.qaq.id;\n    },\n\n    qaq() {\n      return this.$store.state.question.qaq;\n    },\n\n    collapsedContent() {\n      var text = this.qaq.intro.substring(0, 78);\n\n      if (this.qaq.images.length) {\n        text += \"[图片]\";\n      }\n\n      return `${text}...`;\n    },\n\n    answerPage() {\n      return this.$route.name === \"answer-show\";\n    },\n\n    answer() {\n      return this.$store.state.question.answers.list[0];\n    },\n\n    isGuest() {\n      return !this.$store.state.login;\n    },\n\n    isMyAnswer() {\n      if (this.isGuest || !this.answerPage) {\n        return false;\n      }\n\n      return this.answer.user.id === this.$store.state.user.id;\n    },\n\n    isMyQAQ() {\n      if (this.isGuest || this.answerPage) {\n        return false;\n      }\n\n      return this.qaq.user.id === this.$store.state.user.id;\n    }\n\n  },\n\n  created() {\n    this.collapsed = this.qaq.intro || this.qaq.images.length;\n  },\n\n  mounted() {\n    var _this = this;\n\n    this.$channel.$on(\"open-write-answer-dialog\", function () {\n      var isEdit = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      if (!_this.$store.state.login) {\n        _this.$channel.$emit(\"sign-in\");\n\n        return;\n      }\n\n      if (isEdit) {\n        _this.editMyAnswer();\n      } else {\n        _this.showCreateAnswerForm = true;\n      }\n    });\n  },\n\n  methods: {\n    toggleFollowQAQ(result) {\n      var user = this.$store.state.user;\n      this.$store.commit(\"question/QAQ_SOCIAL_TOGGLE\", {\n        key: \"follow\",\n        value: result,\n        user: {\n          id: user.id,\n          zone: user.zone,\n          nickname: user.nickname,\n          avatar: user.avatar\n        }\n      });\n    },\n\n    editMyAnswer() {\n      var _this2 = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee() {\n        return regenerator__default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return _this2.$store.dispatch(\"editor/getData\", {\n                  api: new questionApi[\"a\" /* default */](_this2),\n                  id: _this2.qaq.my_answer.id\n                });\n\n              case 3:\n                _this2.showCreateAnswerForm = true;\n                _context.next = 9;\n                break;\n\n              case 6:\n                _context.prev = 6;\n                _context.t0 = _context[\"catch\"](0);\n\n                _this2.$toast.error(_context.t0);\n\n              case 9:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 6]]);\n      }))();\n    },\n\n    loadQAQComment() {\n      this.showCommentModal = true;\n      this.$nextTick(() => {\n        this.$channel.$emit(`fire-load-comment-question-${this.id}`);\n      });\n    },\n\n    collapsedQAQ() {\n      this.collapsed = true;\n      window.scrollTo(0, 0);\n    },\n\n    handleCommentChange(count) {\n      this.$store.commit(\"question/COMMENT_CHANGE_COUNT\", {\n        id: this.id,\n        key: \"qaq\",\n        value: count\n      });\n    },\n\n    beginWriteAnswer() {\n      if (!this.$store.state.login) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      this.showCreateAnswerForm = true;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5b78d23a\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/question/QuestionPanel.vue\nvar QuestionPanel_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.qaq)?_c('div',{attrs:{\"id\":\"question-panel\"}},[_vm._ssrNode(\"<div class=\\\"qaq-question\\\">\",\"</div>\",[_vm._ssrNode(\"<ul class=\\\"qaq-tags\\\">\"+(_vm._ssrList((_vm.qaq.tags),function(tag){return (\"<li><a\"+(_vm._ssrAttr(\"href\",_vm.$alias.bangumi(tag.id)))+\">\"+_vm._ssrEscape(_vm._s(tag.name))+\"</a></li>\")}))+\"</ul><div class=\\\"title\\\"><h1>\"+_vm._ssrEscape(_vm._s(_vm.qaq.title))+\"</h1></div>\"),_vm._ssrNode(\"<div class=\\\"content\\\">\",\"</div>\",[(_vm.collapsed)?_vm._ssrNode(\"<div class=\\\"collapsed-content\\\">\",\"</div>\",[_vm._ssrNode(_vm._ssrEscape(\"\\n        \"+_vm._s(_vm.collapsedContent)+\"\\n        \")),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.collapsed = false}}},[_vm._v(\"\\n          显示全部\\n          \"),_c('i',{staticClass:\"el-icon-arrow-down\"})])],2):[_vm._ssrNode(\"<div class=\\\"text-area\\\">\"+(_vm._s(_vm.qaq.content))+\"</div>\"),_vm._l((_vm.qaq.images),function(img,idx){return _vm._ssrNode(\"<div class=\\\"image-package\\\">\",\"</div>\",[_c('v-img',{staticClass:\"image\",attrs:{\"src\":img.url,\"width\":img.width,\"height\":img.height,\"full\":true}})],1)})]],2),_vm._ssrNode(\"<div class=\\\"panel\\\">\",\"</div>\",[_c('follow-button',{attrs:{\"id\":_vm.id,\"followed\":_vm.qaq.followed,\"theme\":_vm.qaq.followed ? 'info' : 'primary',\"round\":false,\"followed-text\":\"取消关注\",\"un-follow-text\":\"关注问题\",\"size\":\"medium\",\"type\":\"question\"},on:{\"submit\":_vm.toggleFollowQAQ}}),_vm._ssrNode(((_vm.qaq.my_answer)?(((_vm.answerPage)?(((_vm.isMyAnswer)?(\"<button class=\\\"footer-btn\\\"><i class=\\\"el-icon-edit\\\"></i>\\n            编辑回答\\n          </button>\"):(_vm.qaq.my_answer.published_at)?(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.answer(_vm.qaq.my_answer.id)))+\" class=\\\"footer-btn\\\"><i class=\\\"el-icon-view\\\"></i>\\n            查看回答\\n          </a>\"):\"<!---->\")):(((_vm.qaq.my_answer.published_at)?(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.answer(_vm.qaq.my_answer.id)))+\" class=\\\"footer-btn\\\"><i class=\\\"el-icon-view\\\"></i>\\n            查看回答\\n          </a>\"):(\"<button class=\\\"footer-btn\\\"><i class=\\\"el-icon-edit\\\"></i>\\n            编辑回答\\n          </button>\"))))):(\"<button class=\\\"footer-btn\\\"><i class=\\\"el-icon-edit\\\"></i>\\n        写回答\\n      </button>\"))+\"<button class=\\\"footer-btn\\\"><i class=\\\"iconfont icon-pinglun1\\\"></i>\"+_vm._ssrEscape(\"\\n        \"+_vm._s(_vm.qaq.comment_count ? _vm.qaq.comment_count + '条评论' : '添加评论')+\"\\n      \")+\"</button>\"),(!_vm.collapsed)?_vm._ssrNode(\"<div>\",\"</div>\",[_vm._ssrNode(\"<button class=\\\"collapse-btn\\\"><i class=\\\"el-icon-arrow-up\\\"></i>\\n          收起\\n        </button>\"),_c('v-popover',{attrs:{\"report-id\":_vm.qaq.id,\"report-type\":\"question\"}},[_c('button',{staticClass:\"collapse-btn\"},[_c('i',{staticClass:\"el-icon-phone\"}),_vm._v(\"\\n            举报\\n          \")])])],2):_vm._e()],2)],2),_c('create-answer-form',{attrs:{\"title\":_vm.qaq.title,\"question-id\":_vm.id,\"answer-id\":_vm.qaq.my_answer ? _vm.qaq.my_answer.id : 0,\"published\":_vm.qaq.my_answer ? !!_vm.qaq.published_at : false},model:{value:(_vm.showCreateAnswerForm),callback:function ($$v) {_vm.showCreateAnswerForm=$$v},expression:\"showCreateAnswerForm\"}}),_c('v-drawer',{attrs:{\"from\":\"bottom\",\"size\":\"100%\"},model:{value:(_vm.showCommentModal),callback:function ($$v) {_vm.showCommentModal=$$v},expression:\"showCommentModal\"}},[_c('div',{staticClass:\"container\"},[_c('comment-main',{attrs:{\"id\":_vm.id,\"master-id\":_vm.qaq.user_id,\"auto\":true,\"empty-text\":\"还没有评论\",\"type\":\"question\"},on:{\"delete-main-comment\":function($event){_vm.handleCommentChange(-1)},\"create-main-comment\":function($event){_vm.handleCommentChange(1)}}},[_c('button',{staticClass:\"write-btn\",staticStyle:{\"margin-left\":\"15px\"},attrs:{\"slot\":\"header-btn\"},on:{\"click\":function($event){_vm.showCommentModal = false}},slot:\"header-btn\"},[_vm._v(\"关闭\")])])],1)])],1):_vm._e()}\nvar QuestionPanel_staticRenderFns = []\nvar QuestionPanel_esExports = { render: QuestionPanel_render, staticRenderFns: QuestionPanel_staticRenderFns }\n/* harmony default export */ var question_QuestionPanel = (QuestionPanel_esExports);\n// CONCATENATED MODULE: ./src/components/question/QuestionPanel.vue\nfunction QuestionPanel_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(175),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar QuestionPanel_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar QuestionPanel___vue_template_functional__ = false\n/* styles */\nvar QuestionPanel___vue_styles__ = QuestionPanel_injectStyle\n/* scopeId */\nvar QuestionPanel___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar QuestionPanel___vue_module_identifier__ = \"629972d8\"\nvar QuestionPanel_Component = QuestionPanel_normalizeComponent(\n  QuestionPanel,\n  question_QuestionPanel,\n  QuestionPanel___vue_template_functional__,\n  QuestionPanel___vue_styles__,\n  QuestionPanel___vue_scopeId__,\n  QuestionPanel___vue_module_identifier__\n)\n\n/* harmony default export */ var components_question_QuestionPanel = __webpack_exports__[\"a\"] = (QuestionPanel_Component.exports);\n\n\n/***/ }),\n\n/***/ 175:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(176);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"287eb2bc\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 176:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#question-panel .qaq-question .qaq-tags:after,#question-panel .qaq-question .qaq-tags:before{content:\\\"\\\";clear:both;display:table}#question-panel .qaq-question .content .collapsed-content,#question-panel .qaq-question .content .text-area p{word-break:break-word!important;word-break:break-all}@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}#question-panel{background-color:#fff;-webkit-box-shadow:0 1px 3px rgba(26,26,26,.1);box-shadow:0 1px 3px rgba(26,26,26,.1);padding:16px 15px;margin-bottom:10px}#question-panel .qaq-question .qaq-tags li{float:left;margin-right:8px;margin-bottom:6px}#question-panel .qaq-question .qaq-tags a{display:inline-block;padding:0 5px;height:24px;line-height:22px;font-size:12px;color:#ff8eb3;border-radius:4px;border:1px solid #ff8eb3;font-weight:700}#question-panel .qaq-question .title h1{margin-top:2px;margin-bottom:4px;font-weight:500;font-size:17px;line-height:1.6;color:#1a1a1a}#question-panel .qaq-question .content .collapsed-content{margin-bottom:1em;font-size:15px;line-height:1.6}#question-panel .qaq-question .content .text-area p{margin:1em 0;font-size:15px;line-height:1.6}#question-panel .qaq-question .content .text-area p:first-child{margin-top:0}#question-panel .qaq-question .content .image-package .image{margin:15px 0}#question-panel .qaq-question .panel .footer-btn{margin-left:7px;position:relative;padding:4px 10px;font-size:14px;color:#6d757a;background-color:transparent;border-radius:8px;white-space:nowrap}#question-panel .qaq-question .panel .footer-btn:after{content:\\\"\\\";position:absolute;top:0;left:0;border:1px solid #6d757a;width:200%;height:200%;-webkit-transform:scale(.5);-ms-transform:scale(.5);transform:scale(.5);-webkit-transform-origin:left top;-ms-transform-origin:left top;transform-origin:left top;border-radius:8px}#question-panel .qaq-question .panel .collapse-btn{color:#6d757a;font-size:14px;margin-left:10px;margin-top:10px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 177:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(178);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"6cfb0451\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 178:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}#create-answer-form .source-url{margin-bottom:15px}#create-answer-form .source-url input{border-top:none;border-right:none;border-left:none}#create-answer-form .json-editor-main{margin-bottom:55px}#create-answer-form .json-editor-main .text-preview{padding-bottom:0}#create-answer-form .json-editor-main .image-preview .save-btn,#create-answer-form .json-editor-main .text-preview .footer{display:none}.qaq-editor-footer{position:fixed;left:0;bottom:0;width:100%;height:52px;border-top:1px solid #f6f9fa;padding-top:7px;text-align:right;background-color:#fff}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 282:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(283);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"ddf671ac\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 283:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}#question-show{background-color:#f6f6f6}#question-show .answers-title{height:50px;line-height:50px;padding:0 20px;border-bottom:1px solid #f6f6f6;background-color:#fff;-webkit-box-shadow:0 -1px 3px rgba(26,26,26,.1);box-shadow:0 -1px 3px rgba(26,26,26,.1)}#question-show .answers-title h2{font-weight:600;font-size:15px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 284:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(285);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"4dc9a33f\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 285:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}#answer-flow-list{overflow:hidden}#answer-flow-list .nomore-wraper{background-color:#fff;margin-top:20px;margin-bottom:20px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 344:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: external \"@babel/runtime/regenerator\"\nvar regenerator_ = __webpack_require__(0);\nvar regenerator__default = /*#__PURE__*/__webpack_require__.n(regenerator_);\n\n// EXTERNAL MODULE: external \"core-js/modules/es6.promise\"\nvar es6_promise_ = __webpack_require__(21);\nvar es6_promise__default = /*#__PURE__*/__webpack_require__.n(es6_promise_);\n\n// EXTERNAL MODULE: external \"core-js/modules/web.dom.iterable\"\nvar web_dom_iterable_ = __webpack_require__(3);\nvar web_dom_iterable__default = /*#__PURE__*/__webpack_require__.n(web_dom_iterable_);\n\n// EXTERNAL MODULE: external \"regenerator-runtime/runtime\"\nvar runtime_ = __webpack_require__(1);\nvar runtime__default = /*#__PURE__*/__webpack_require__.n(runtime_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/asyncToGenerator\"\nvar asyncToGenerator_ = __webpack_require__(2);\nvar asyncToGenerator__default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator_);\n\n// EXTERNAL MODULE: ./src/components/flow/item/AnswerFlowItem.vue + 2 modules\nvar AnswerFlowItem = __webpack_require__(171);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/flow/list/AnswerFlowList.vue\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var AnswerFlowList = ({\n  name: \"AnswerFlowList\",\n  components: {\n    AnswerFlowItem: AnswerFlowItem[\"a\" /* default */]\n  },\n  props: {\n    bangumiId: {\n      type: Number,\n      default: 0\n    },\n    userZone: {\n      type: String,\n      default: \"\"\n    }\n  },\n\n  data() {\n    return {\n      loading: false\n    };\n  },\n\n  computed: {\n    source() {\n      return this.$store.state.question.answers;\n    }\n\n  },\n  methods: {\n    loadMore() {\n      var _this = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee() {\n        return regenerator__default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!_this.loading) {\n                  _context.next = 2;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 2:\n                _this.loading = true;\n                _context.prev = 3;\n                _context.next = 6;\n                return _this.$store.dispatch(\"question/getAnswers\", {\n                  ctx: _this,\n                  userZone: _this.userZone,\n                  questionId: _this.bangumiId\n                });\n\n              case 6:\n                _context.next = 11;\n                break;\n\n              case 8:\n                _context.prev = 8;\n                _context.t0 = _context[\"catch\"](3);\n\n                _this.$toast.error(_context.t0);\n\n              case 11:\n                _context.prev = 11;\n                _this.loading = false;\n                return _context.finish(11);\n\n              case 14:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[3, 8, 11, 14]]);\n      }))();\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6592c2b0\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/flow/list/AnswerFlowList.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.source)?_c('div',{attrs:{\"id\":\"answer-flow-list\"}},[_vm._ssrNode(\"<ul>\",\"</ul>\",_vm._l((_vm.source.list),function(item){return _c('answer-flow-item',{key:item.id,attrs:{\"item\":item,\"bangumi-id\":_vm.bangumiId,\"user-zone\":_vm.userZone}})})),_c('more-btn',{attrs:{\"no-more\":_vm.source.noMore,\"length\":_vm.source.list.length,\"loading\":_vm.loading,\"auto\":true},on:{\"fetch\":_vm.loadMore}})],1):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var list_AnswerFlowList = (esExports);\n// CONCATENATED MODULE: ./src/components/flow/list/AnswerFlowList.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(284),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"70e1ff39\"\nvar Component = normalizeComponent(\n  AnswerFlowList,\n  list_AnswerFlowList,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var flow_list_AnswerFlowList = (Component.exports);\n\n// EXTERNAL MODULE: ./src/components/question/QuestionPanel.vue + 5 modules\nvar QuestionPanel = __webpack_require__(174);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/question/show.vue\n\n\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var show = ({\n  name: \"QuestionShow\",\n\n  asyncData(_ref) {\n    return asyncToGenerator__default()(\n    /*#__PURE__*/\n    regenerator__default.a.mark(function _callee() {\n      var store, route, ctx, id;\n      return regenerator__default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              store = _ref.store, route = _ref.route, ctx = _ref.ctx;\n              id = route.params.id;\n              _context.next = 4;\n              return Promise.all([store.dispatch(\"question/getQAQ\", {\n                id,\n                ctx\n              }), store.dispatch(\"question/getAnswers\", {\n                questionId: id,\n                ctx\n              })]);\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }))();\n  },\n\n  head() {\n    return {\n      title: `${this.qaq.title} - 提问`\n    };\n  },\n\n  components: {\n    AnswerFlowList: flow_list_AnswerFlowList,\n    QuestionPanel: QuestionPanel[\"a\" /* default */]\n  },\n  computed: {\n    id() {\n      return +this.$route.params.id;\n    },\n\n    qaq() {\n      return this.$store.state.question.qaq;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-16b0e125\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/question/show.vue\nvar show_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"question-show\"}},[_c('question-panel'),(_vm.qaq.answer_count)?_vm._ssrNode(\"<div class=\\\"answers\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"answers-title\\\"><h2>\"+_vm._ssrEscape(\"\\n        \"+_vm._s(_vm.qaq.answer_count)+\" 个回答\\n      \")+\"</h2></div>\"),_c('answer-flow-list',{attrs:{\"bangumi-id\":_vm.id}})],2):_c('more-btn',{attrs:{\"no-more\":true,\"loading\":false,\"length\":0}},[_c('button',{on:{\"click\":function($event){_vm.$channel.$emit('open-write-answer-dialog')}}},[_vm._v(\"开始写第一个回答\")])])],1)}\nvar show_staticRenderFns = []\nvar show_esExports = { render: show_render, staticRenderFns: show_staticRenderFns }\n/* harmony default export */ var question_show = (show_esExports);\n// CONCATENATED MODULE: ./src/views/question/show.vue\nfunction show_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(282),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar show_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar show___vue_template_functional__ = false\n/* styles */\nvar show___vue_styles__ = show_injectStyle\n/* scopeId */\nvar show___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar show___vue_module_identifier__ = \"561a96eb\"\nvar show_Component = show_normalizeComponent(\n  show,\n  question_show,\n  show___vue_template_functional__,\n  show___vue_styles__,\n  show___vue_scopeId__,\n  show___vue_module_identifier__\n)\n\n/* harmony default export */ var views_question_show = __webpack_exports__[\"default\"] = (show_Component.exports);\n\n\n/***/ })\n\n};;",
    "2.server-bundle.js": "exports.ids = [2];\nexports.modules = {\n\n/***/ 100:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_core_js_modules_web_dom_iterable__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_core_js_modules_web_dom_iterable___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_core_js_modules_web_dom_iterable__);\n\n\n/**\n * [ scrollToY 指定的 DOM 过度滚动到指定的 Y 轴 ]\n * @param targetY\n * @param timer\n * @param dom\n * @param ease\n */\n/* harmony default export */ __webpack_exports__[\"a\"] = ((targetY, timer, dom, ease) => {\n  var currentTime = 0;\n  var element = dom ? [dom] : [document.getElementsByTagName(\"html\")[0], document.body];\n  var scrollY = dom ? dom.scrollTop : window.scrollY;\n  var scrollTargetY = targetY || 0;\n  var speed = timer || 2000;\n  var easing = ease || \"easeOutSine\";\n  var time = Math.max(0.1, Math.min(Math.abs(scrollY - scrollTargetY) / speed, 0.8));\n  var easingEquations = {\n    easeOutSine(pos) {\n      return Math.sin(pos * (Math.PI / 2));\n    },\n\n    easeInOutSine(pos) {\n      return -0.5 * (Math.cos(Math.PI * pos) - 1);\n    },\n\n    easeInOutQuint(pos) {\n      // eslint-disable-next-line\n      if ((pos /= 0.5) < 1) {\n        return 0.5 * Math.pow(pos, 5);\n      }\n\n      return 0.5 * (Math.pow(pos - 2, 5) + 2);\n    }\n\n  };\n  element.forEach(ele => {\n    if (!ele.requestAnimFrame) {\n      ele.requestAnimFrame = function () {\n        return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || function (callback) {\n          window.setTimeout(callback, 1000 / 60);\n        };\n      }().bind(window);\n    }\n  });\n\n  function tick() {\n    currentTime += 1 / 60;\n    var p = currentTime / time;\n    var t = easingEquations[easing](p);\n    element.forEach(ele => {\n      if (p < 1) {\n        ele.requestAnimFrame(tick);\n        ele.scrollTop = scrollY + (scrollTargetY - scrollY) * t;\n      } else {\n        ele.scrollTop = scrollTargetY;\n      }\n    });\n  }\n\n  tick();\n});\n\n/***/ }),\n\n/***/ 101:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: external \"@babel/runtime/regenerator\"\nvar regenerator_ = __webpack_require__(0);\nvar regenerator__default = /*#__PURE__*/__webpack_require__.n(regenerator_);\n\n// EXTERNAL MODULE: external \"regenerator-runtime/runtime\"\nvar runtime_ = __webpack_require__(1);\nvar runtime__default = /*#__PURE__*/__webpack_require__.n(runtime_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/asyncToGenerator\"\nvar asyncToGenerator_ = __webpack_require__(2);\nvar asyncToGenerator__default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator_);\n\n// EXTERNAL MODULE: ./src/assets/js/scrollToY.js\nvar scrollToY = __webpack_require__(100);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/CommentCreateForm.vue\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var CommentCreateForm = ({\n  name: \"CommentCreateForm\",\n  props: {\n    type: {\n      required: true,\n      type: String\n    },\n    id: {\n      required: true,\n      type: Number\n    },\n    masterId: {\n      required: true,\n      type: Number\n    }\n  },\n\n  data() {\n    return {\n      content: \"\"\n    };\n  },\n\n  computed: {\n    isGuest() {\n      return !this.$store.state.login;\n    },\n\n    submitting() {\n      return this.$store.state.comment.submitting;\n    }\n\n  },\n  methods: {\n    submit() {\n      var _this = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee() {\n        var result;\n        return regenerator__default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!_this.isGuest) {\n                  _context.next = 3;\n                  break;\n                }\n\n                _this.$channel.$emit(\"sign-in\");\n\n                return _context.abrupt(\"return\");\n\n              case 3:\n                if (_this.content) {\n                  _context.next = 6;\n                  break;\n                }\n\n                _this.$emit(\"close\");\n\n                return _context.abrupt(\"return\");\n\n              case 6:\n                if (!_this.submitting) {\n                  _context.next = 8;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 8:\n                _this.$store.commit(\"comment/SET_SUBMITTING\", {\n                  result: true\n                });\n\n                _context.prev = 9;\n                _context.next = 12;\n                return _this.$store.dispatch(\"comment/createMainComment\", {\n                  content: _this.content,\n                  images: [],\n                  type: _this.type,\n                  id: _this.id,\n                  ctx: _this\n                });\n\n              case 12:\n                result = _context.sent;\n\n                _this.$toast.success(result.message);\n\n                _this.$store.commit(\"UPDATE_USER_EXP\", result.exp);\n\n                _this.$emit(\"submit\");\n\n                _this.content = \"\";\n                setTimeout(() => {\n                  var dom = document.getElementById(`comment-${result.data.id}`);\n                  dom && Object(scrollToY[\"a\" /* default */])(_this.$utils.getOffsetTop(dom) - 100, 600);\n                }, 400);\n                _context.next = 23;\n                break;\n\n              case 20:\n                _context.prev = 20;\n                _context.t0 = _context[\"catch\"](9);\n\n                _this.$toast.error(_context.t0);\n\n              case 23:\n                _context.prev = 23;\n\n                _this.$store.commit(\"comment/SET_SUBMITTING\", {\n                  result: false\n                });\n\n                return _context.finish(23);\n\n              case 26:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[9, 20, 23, 26]]);\n      }))();\n    },\n\n    handleAreaFocus() {\n      document.body.scrollTop = 0;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-33995f98\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/CommentCreateForm.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"comment-create-form\"},[_vm._ssrNode(\"<textarea placeholder=\\\"来吧，尽情的（在1000字以内）发挥吧\\\" maxlength=\\\"1000\\\" class=\\\"content\\\"></textarea>\"),_c('el-button',{staticClass:\"submit-btn\",attrs:{\"loading\":_vm.submitting,\"type\":\"primary\"},on:{\"click\":_vm.submit}},[_vm._v(\"发布\")])],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var comments_CommentCreateForm = (esExports);\n// CONCATENATED MODULE: ./src/components/comments/CommentCreateForm.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(105),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"1d31a883\"\nvar Component = normalizeComponent(\n  CommentCreateForm,\n  comments_CommentCreateForm,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_CommentCreateForm = (Component.exports);\n\n// EXTERNAL MODULE: ./src/components/comments/SubCommentList.vue + 5 modules\nvar SubCommentList = __webpack_require__(102);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/CommentItem.vue\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var CommentItem = ({\n  name: \"CommentCommentItem\",\n  components: {\n    SubCommentList: SubCommentList[\"a\" /* default */]\n  },\n  props: {\n    comment: {\n      required: true,\n      type: Object\n    },\n    masterId: {\n      required: true,\n      type: Number\n    },\n    type: {\n      required: true,\n      type: String\n    }\n  },\n\n  data() {\n    return {\n      deleting: false,\n      liking: false\n    };\n  },\n\n  computed: {\n    currentUserId() {\n      return this.$store.state.login ? this.$store.state.user.id : 0;\n    },\n\n    isMine() {\n      return this.currentUserId === this.comment.from_user_id;\n    },\n\n    canDelete() {\n      return this.isMine || this.currentUserId === this.masterId;\n    },\n\n    actions() {\n      var result = [];\n\n      if (this.canDelete) {\n        result.push({\n          name: \"删除\",\n          method: this.deleteComment\n        });\n      }\n\n      result.push({\n        name: this.comment.liked ? \"取消赞\" : \"点赞\",\n        method: this.toggleLike\n      });\n      return result;\n    }\n\n  },\n  methods: {\n    toggleLike() {\n      var _this = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee() {\n        return regenerator__default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (_this.currentUserId) {\n                  _context.next = 3;\n                  break;\n                }\n\n                _this.$channel.$emit(\"sign-in\");\n\n                return _context.abrupt(\"return\");\n\n              case 3:\n                if (!_this.liking) {\n                  _context.next = 5;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 5:\n                _this.liking = true;\n                _context.prev = 6;\n                _context.next = 9;\n                return _this.$store.dispatch(\"comment/toggleLikeMainComment\", {\n                  ctx: _this,\n                  type: _this.type,\n                  id: _this.comment.id\n                });\n\n              case 9:\n                _context.next = 13;\n                break;\n\n              case 11:\n                _context.prev = 11;\n                _context.t0 = _context[\"catch\"](6);\n\n              case 13:\n                _context.prev = 13;\n                _this.liking = false;\n                return _context.finish(13);\n\n              case 16:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[6, 11, 13, 16]]);\n      }))();\n    },\n\n    deleteComment() {\n      if (this.deleting) {\n        return;\n      }\n\n      this.deleting = true;\n      this.$confirm(\"删除后无法找回, 是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(() => {\n        this.$store.dispatch(\"comment/deleteMainComment\", {\n          ctx: this,\n          type: this.type,\n          id: this.comment.id\n        });\n        this.$emit(\"delete\");\n      }).catch(e => {\n        this.deleting = false;\n\n        if (e === \"cancel\") {\n          return;\n        }\n\n        this.$toast.error(e);\n      });\n    },\n\n    handleCommentBtnClick() {\n      this.$channel.$emit(\"reply-comment\", {\n        id: this.comment.id,\n        targetUserId: this.comment.from_user_id,\n        targetUserName: this.comment.from_user_name\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-041aa410\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/CommentItem.vue\nvar CommentItem_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"comment-item\",attrs:{\"id\":(\"comment-\" + (_vm.comment.id))}},[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.comment.from_user_zone)))+\" class=\\\"avatar\\\">\",\"</a>\",[_c('v-img',{attrs:{\"src\":_vm.comment.from_user_avatar,\"avatar\":true,\"size\":\"35\"}})],1),_vm._ssrNode(\"<div class=\\\"content\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"header\\\">\",\"</div>\",[_c('v-popover',{attrs:{\"actions\":_vm.actions,\"report-id\":_vm.comment.id,\"report-type\":_vm.type + '_comment'}},[_c('button',{staticClass:\"tools-btn\"},[_vm._v(\"···\")])]),_vm._ssrNode(\"<div class=\\\"user\\\">\",\"</div>\",[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.comment.from_user_zone)))+\" class=\\\"nickname oneline\\\">\"+_vm._ssrEscape(_vm._s(_vm.comment.from_user_name))+\"</a>\"),_vm._ssrNode(\"<div class=\\\"info\\\">\",\"</div>\",[_vm._ssrNode(\"<span>\"+_vm._ssrEscape(\"第\"+_vm._s(_vm.comment.floor_count - 1)+\"楼\")+\"</span><span>·</span>\"),_c('v-time',{model:{value:(_vm.comment.created_at),callback:function ($$v) {_vm.$set(_vm.comment, \"created_at\", $$v)},expression:\"comment.created_at\"}})],2)],2)],1),_vm._ssrNode(\"<div class=\\\"main\\\">\"+(_vm._s(_vm.comment.content))+\"</div>\"),_vm._ssrNode(\"<div class=\\\"footer\\\">\",\"</div>\",[_c('sub-comment-list',{attrs:{\"parent-comment\":_vm.comment,\"type\":_vm.type}}),_vm._ssrNode(\"<div class=\\\"social\\\"><button\"+(_vm._ssrClass(null,[ _vm.comment.liked ? 'reply-liked-btn' : 'reply-like-btn' ]))+\"><i class=\\\"iconfont icon-icon_good\\\"></i>\"+_vm._ssrEscape(\"\\n          \"+_vm._s(_vm.comment.liked ? '已赞' : '赞')+\"\\n          \")+((_vm.comment.like_count)?(\"<span>\"+_vm._ssrEscape(\"(\"+_vm._s(_vm.comment.like_count)+\")\")+\"</span>\"):\"<!---->\")+\"</button><button class=\\\"reply-btn fr\\\">\\n          回复\\n        </button></div>\")],2)],2)])}\nvar CommentItem_staticRenderFns = []\nvar CommentItem_esExports = { render: CommentItem_render, staticRenderFns: CommentItem_staticRenderFns }\n/* harmony default export */ var comments_CommentItem = (CommentItem_esExports);\n// CONCATENATED MODULE: ./src/components/comments/CommentItem.vue\nfunction CommentItem_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(107),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar CommentItem_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar CommentItem___vue_template_functional__ = false\n/* styles */\nvar CommentItem___vue_styles__ = CommentItem_injectStyle\n/* scopeId */\nvar CommentItem___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar CommentItem___vue_module_identifier__ = \"8f3d9b14\"\nvar CommentItem_Component = CommentItem_normalizeComponent(\n  CommentItem,\n  comments_CommentItem,\n  CommentItem___vue_template_functional__,\n  CommentItem___vue_styles__,\n  CommentItem___vue_scopeId__,\n  CommentItem___vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_CommentItem = (CommentItem_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/CommentMain.vue\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ var CommentMain = ({\n  name: \"VCommentMain\",\n  components: {\n    CommentCreateForm: components_comments_CommentCreateForm,\n    CommentItem: components_comments_CommentItem\n  },\n  props: {\n    id: {\n      required: true,\n      type: [Number, String]\n    },\n    type: {\n      required: true,\n      type: String,\n      validator: val => ~[\"post\", \"video\", \"image\", \"score\", \"question\", \"answer\", \"role\"].indexOf(val)\n    },\n    onlySeeMaster: {\n      type: Boolean,\n      default: false\n    },\n    emptyText: {\n      type: String,\n      default: \"暂无评论，快来抢沙发吧╮(￣▽￣)╭！\"\n    },\n    masterId: {\n      required: true,\n      type: Number\n    },\n    bottomAppendComment: {\n      type: Boolean,\n      default: true\n    },\n    auto: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  data() {\n    return {\n      loadingMainComment: false,\n      focusCommentId: 0,\n      openFocusCommentDrawer: false,\n      loadingSubComment: false,\n      replyForm: {\n        id: \"\",\n        content: \"\",\n        targetUserId: 0,\n        targetUserName: \"\",\n        open: false,\n        replying: false,\n        liking: false\n      },\n      openCreateCommentDrawer: false\n    };\n  },\n\n  computed: {\n    store() {\n      return this.$store.state.comment;\n    },\n\n    list() {\n      return this.store.list;\n    },\n\n    noMore() {\n      return this.store.noMore;\n    },\n\n    total() {\n      return this.store.total;\n    },\n\n    focusComment() {\n      return this.focusCommentId ? this.list.filter(_ => _.id === this.focusCommentId)[0] : null;\n    },\n\n    currentUserId() {\n      return this.$store.state.login ? this.$store.state.user.id : 0;\n    }\n\n  },\n\n  mounted() {\n    this.scrollToReply();\n\n    if (this.auto) {\n      this.$channel.$on(`fire-load-comment-${this.type}-${this.id}`, () => {\n        this.loadMoreMainComment(true);\n      });\n    }\n\n    this.$channel.$on(\"load-all-sub-comment\", (_ref) => {\n      var id = _ref.id;\n      this.focusCommentId = id;\n      this.openFocusCommentDrawer = true;\n    });\n    this.$channel.$on(`open-create-comment-drawer-${this.type}-${this.id}`, () => {\n      if (!this.currentUserId) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      this.openCreateCommentDrawer = true;\n    });\n    this.$channel.$on(\"reply-comment\", (_ref2) => {\n      var id = _ref2.id,\n          targetUserId = _ref2.targetUserId,\n          targetUserName = _ref2.targetUserName;\n      this.handleSubCommentReply({\n        id,\n        targetUserId,\n        targetUserName\n      });\n    });\n    document.getElementById(\"comment-wrap\").addEventListener(\"click\", e => {\n      if (/reply-btn/.test(e.target.className) && this.$el.contains(e.target)) {\n        var area = document.getElementById(\"reply-comment-textarea\");\n        area.style.display = \"block\";\n        area.focus();\n      }\n    });\n  },\n\n  methods: {\n    loadMoreMainComment() {\n      var _this = this,\n          _arguments = arguments;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee() {\n        var firstRequest;\n        return regenerator__default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                firstRequest = _arguments.length > 0 && _arguments[0] !== undefined ? _arguments[0] : false;\n\n                if (!_this.loadingMainComment) {\n                  _context.next = 3;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 3:\n                _this.loadingMainComment = true;\n                _context.prev = 4;\n                _context.next = 7;\n                return _this.$store.dispatch(\"comment/getMainComments\", {\n                  ctx: _this,\n                  type: _this.type,\n                  id: _this.id,\n                  onlySeeMaster: _this.onlySeeMaster ? 1 : 0,\n                  firstRequest\n                });\n\n              case 7:\n                _context.next = 12;\n                break;\n\n              case 9:\n                _context.prev = 9;\n                _context.t0 = _context[\"catch\"](4);\n\n                _this.$toast.error(_context.t0);\n\n              case 12:\n                _context.prev = 12;\n                _this.loadingMainComment = false;\n                return _context.finish(12);\n\n              case 15:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[4, 9, 12, 15]]);\n      }))();\n    },\n\n    loadMoreSubComment() {\n      var _this2 = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee2() {\n        return regenerator__default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!_this2.loadingSubComment) {\n                  _context2.next = 2;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\");\n\n              case 2:\n                _this2.loadingSubComment = true;\n                _context2.prev = 3;\n                _context2.next = 6;\n                return _this2.$store.dispatch(\"comment/getSubComments\", {\n                  ctx: _this2,\n                  type: _this2.type,\n                  id: _this2.focusCommentId\n                });\n\n              case 6:\n                _context2.next = 11;\n                break;\n\n              case 8:\n                _context2.prev = 8;\n                _context2.t0 = _context2[\"catch\"](3);\n\n                _this2.$toast.error(_context2.t0);\n\n              case 11:\n                _context2.prev = 11;\n                _this2.loadingSubComment = false;\n                return _context2.finish(11);\n\n              case 14:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[3, 8, 11, 14]]);\n      }))();\n    },\n\n    commentToComment(data) {\n      this.handleSubCommentReply({\n        id: data.parent_id,\n        targetUserId: data.from_user_id,\n        targetUserName: data.from_user_name\n      });\n    },\n\n    handleCommentBtnClick() {\n      this.handleSubCommentReply({\n        id: this.focusComment.id,\n        targetUserId: this.focusComment.from_user_id,\n        targetUserName: this.focusComment.from_user_name\n      });\n    },\n\n    handleSubCommentReply(_ref3) {\n      var id = _ref3.id,\n          targetUserId = _ref3.targetUserId,\n          targetUserName = _ref3.targetUserName;\n\n      if (!this.currentUserId) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      this.replyForm.id = id;\n      this.replyForm.targetUserId = targetUserId;\n      this.replyForm.targetUserName = targetUserName;\n      this.replyForm.open = true;\n      setTimeout(() => {\n        document.body.scrollTop = 0;\n      }, 200);\n    },\n\n    toggleFocusCommentLike() {\n      var _this3 = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee3() {\n        return regenerator__default.a.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (_this3.currentUserId) {\n                  _context3.next = 3;\n                  break;\n                }\n\n                _this3.$channel.$emit(\"sign-in\");\n\n                return _context3.abrupt(\"return\");\n\n              case 3:\n                if (!_this3.replyForm.liking) {\n                  _context3.next = 5;\n                  break;\n                }\n\n                return _context3.abrupt(\"return\");\n\n              case 5:\n                _this3.replyForm.liking = true;\n                _context3.prev = 6;\n                _context3.next = 9;\n                return _this3.$store.dispatch(\"comment/toggleLikeMainComment\", {\n                  ctx: _this3,\n                  type: _this3.type,\n                  id: _this3.focusCommentId\n                });\n\n              case 9:\n                _context3.next = 13;\n                break;\n\n              case 11:\n                _context3.prev = 11;\n                _context3.t0 = _context3[\"catch\"](6);\n\n              case 13:\n                _context3.prev = 13;\n                _this3.replyForm.liking = false;\n                return _context3.finish(13);\n\n              case 16:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[6, 11, 13, 16]]);\n      }))();\n    },\n\n    handleReplyDrawerClose() {\n      document.getElementById(\"reply-comment-textarea\").style.display = \"none\";\n    },\n\n    handleReplySubmit() {\n      var _this4 = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee4() {\n        var result;\n        return regenerator__default.a.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                if (_this4.currentUserId) {\n                  _context4.next = 3;\n                  break;\n                }\n\n                _this4.$channel.$emit(\"sign-in\");\n\n                return _context4.abrupt(\"return\");\n\n              case 3:\n                if (_this4.replyForm.content) {\n                  _context4.next = 5;\n                  break;\n                }\n\n                return _context4.abrupt(\"return\");\n\n              case 5:\n                if (!_this4.replyForm.replying) {\n                  _context4.next = 7;\n                  break;\n                }\n\n                return _context4.abrupt(\"return\");\n\n              case 7:\n                _this4.replyForm.replying = true;\n                _context4.prev = 8;\n                _context4.next = 11;\n                return _this4.$store.dispatch(\"comment/createSubComment\", {\n                  ctx: _this4,\n                  id: _this4.replyForm.id,\n                  type: _this4.type,\n                  content: _this4.replyForm.content,\n                  targetUserId: _this4.replyForm.targetUserId\n                });\n\n              case 11:\n                result = _context4.sent;\n                _this4.replyForm.open = false;\n                _this4.replyForm.content = \"\";\n\n                _this4.$toast.success(result.message);\n\n                _this4.$store.commit(\"UPDATE_USER_EXP\", result.exp);\n\n                _context4.next = 21;\n                break;\n\n              case 18:\n                _context4.prev = 18;\n                _context4.t0 = _context4[\"catch\"](8);\n\n                _this4.$toast.error(_context4.t0);\n\n              case 21:\n                _context4.prev = 21;\n                _this4.replyForm.replying = false;\n\n                _this4.handleReplyDrawerClose();\n\n                return _context4.finish(21);\n\n              case 25:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this, [[8, 18, 21, 25]]);\n      }))();\n    },\n\n    writeComment() {\n      this.$channel.$emit(`open-create-comment-drawer-${this.type}-${this.id}`);\n    },\n\n    closeCommentDrawer() {\n      this.openCreateCommentDrawer = false;\n    },\n\n    submitCommentCallback() {\n      this.openCreateCommentDrawer = false;\n      this.$emit(\"create-main-comment\");\n    },\n\n    deleteCommentCallback() {\n      this.$emit(\"delete-main-comment\");\n    },\n\n    scrollToReply() {\n      var replyId = this.$route.query[\"comment-id\"];\n\n      if (!replyId) {\n        return;\n      }\n\n      var reply = document.getElementById(`comment-${replyId}`);\n\n      if (!reply) {\n        return;\n      }\n\n      setTimeout(() => {\n        Object(scrollToY[\"a\" /* default */])(this.$utils.getOffsetTop(reply) - 100, 600);\n      }, 400);\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-dbd4bc0e\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/CommentMain.vue\nvar CommentMain_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"comment-wrap\"}},[_vm._t(\"header\",[(!_vm.auto)?_c('div',{staticClass:\"hr\"}):_vm._e(),_c('h3',{staticClass:\"sub-title\"},[_vm._v(\"\\n      评论\"+_vm._s(_vm.total ? (\"(\" + _vm.total + \")\") : '')+\"\\n      \"),_vm._t(\"header-btn\"),_c('button',{staticClass:\"write-btn\",on:{\"click\":_vm.writeComment}},[_vm._v(\"写评论\")])],2)]),(_vm.list.length)?[_vm._ssrNode(\"<div id=\\\"comment-list-wrap\\\">\",\"</div>\",_vm._l((_vm.list),function(comment){return _vm._ssrNode(\"<div class=\\\"comment-item-wrap\\\">\",\"</div>\",[_vm._t(\"comment-item\",[_c('comment-item',{attrs:{\"type\":_vm.type,\"comment\":comment,\"master-id\":_vm.masterId},on:{\"delete\":_vm.deleteCommentCallback}})],{comment:comment,reply:_vm.handleSubCommentReply})],2)})),_vm._ssrNode(\"<div id=\\\"comment-list-footer\\\">\",\"</div>\",[_vm._ssrNode(((_vm.bottomAppendComment)?(\"<button class=\\\"append-comment-btn\\\">写评论</button>\"):\"<!---->\")),_c('more-btn',{attrs:{\"no-more\":_vm.noMore,\"loading\":_vm.loadingMainComment,\"auto\":true},on:{\"fetch\":function($event){_vm.loadMoreMainComment(false)}}})],2)]:(_vm.emptyText)?_vm._ssrNode((\"<p class=\\\"no-content\\\">\"+_vm._ssrEscape(_vm._s(_vm.emptyText))+\"</p>\")):_vm._e(),_c('v-drawer',{staticClass:\"focus-comment-drawer\",attrs:{\"header-text\":(\"评论列表\" + (_vm.focusComment && _vm.focusComment.floor_count ? (\" - \" + (_vm.focusComment.floor_count) + \" 楼\") : '')),\"backdrop\":false,\"from\":\"bottom\",\"size\":\"100%\"},model:{value:(_vm.openFocusCommentDrawer),callback:function ($$v) {_vm.openFocusCommentDrawer=$$v},expression:\"openFocusCommentDrawer\"}},[(_vm.focusComment)?[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"reply\"},[_c('div',{staticClass:\"user clearfix\"},[_c('a',{staticClass:\"avatar\",attrs:{\"href\":_vm.$alias.user(_vm.focusComment.from_user_zone)}},[_c('v-img',{attrs:{\"src\":_vm.focusComment.from_user_avatar,\"avatar\":true,\"size\":\"35\"}})],1),_c('div',{staticClass:\"summary\"},[_c('a',{staticClass:\"nickname\",attrs:{\"href\":_vm.$alias.user(_vm.focusComment.from_user_zone)},domProps:{\"textContent\":_vm._s(_vm.focusComment.from_user_name)}}),_c('div',{staticClass:\"info\"},[_c('v-time',{model:{value:(_vm.focusComment.created_at),callback:function ($$v) {_vm.$set(_vm.focusComment, \"created_at\", $$v)},expression:\"focusComment.created_at\"}})],1)])]),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"text-area\",domProps:{\"innerHTML\":_vm._s(_vm.focusComment.content)}}),_c('div',{staticClass:\"image-area\"},_vm._l((_vm.focusComment.images),function(img,idx){return _c('div',{key:idx,staticClass:\"image-package\"},[_c('v-img',{attrs:{\"src\":img.url,\"width\":img.width,\"height\":img.height,\"full\":true}})],1)}))]),_c('div',{staticClass:\"social\"},[_c('button',{class:[ _vm.focusComment.liked ? 'reply-liked-btn' : 'reply-like-btn' ],on:{\"click\":_vm.toggleFocusCommentLike}},[_c('i',{staticClass:\"iconfont icon-icon_good\"}),_vm._v(\"\\n              \"+_vm._s(_vm.focusComment.liked ? '已赞' : '赞')+\"\\n              \"),(_vm.focusComment.like_count)?_c('span',[_vm._v(\"(\"+_vm._s(_vm.focusComment.like_count)+\")\")]):_vm._e()]),_c('button',{staticClass:\"reply-btn fr\",on:{\"click\":_vm.handleCommentBtnClick}},[_vm._v(\"\\n              回复\\n            \")])])]),_c('div',{staticClass:\"hr\"}),_c('p',{staticClass:\"total\"},[_vm._v(_vm._s(_vm.focusComment.comments.total)+\"条回复\")]),_c('ul',{staticClass:\"comments\"},_vm._l((_vm.focusComment.comments.list),function(item){return _c('li',{key:item.id},[_c('div',{staticClass:\"from-user\"},[_c('a',{staticClass:\"avatar\",attrs:{\"href\":_vm.$alias.user(item.from_user_zone)}},[_c('v-img',{attrs:{\"src\":item.from_user_avatar,\"avatar\":true,\"size\":\"35\"}})],1),_c('div',{staticClass:\"summary\"},[_c('div',{staticClass:\"users oneline\"},[_c('a',{staticClass:\"nickname\",attrs:{\"href\":_vm.$alias.user(item.from_user_zone)},domProps:{\"textContent\":_vm._s(item.from_user_name)}}),(item.to_user_zone)?[_vm._v(\"\\n                    回复\\n                    \"),_c('a',{staticClass:\"nickname\",attrs:{\"href\":_vm.$alias.user(item.to_user_zone)},domProps:{\"textContent\":_vm._s(item.to_user_name)}})]:_vm._e(),_vm._v(\"\\n                  :\\n                \")],2),_c('div',{staticClass:\"info\"},[_c('v-time',{model:{value:(item.created_at),callback:function ($$v) {_vm.$set(item, \"created_at\", $$v)},expression:\"item.created_at\"}})],1)])]),_c('div',{staticClass:\"main\"},[_c('div',{staticClass:\"content reply-btn\",domProps:{\"textContent\":_vm._s(item.content)},on:{\"click\":function($event){_vm.commentToComment(item)}}})])])}))]),_c('more-btn',{attrs:{\"no-more\":_vm.focusComment.comments.noMore,\"loading\":_vm.loadingSubComment},on:{\"fetch\":_vm.loadMoreSubComment}})]:_vm._e()],2),_vm._ssrNode(\"<div class=\\\"reply-comment-drawer-wrap\\\">\",\"</div>\",[_c('v-drawer',{staticClass:\"reply-comment-drawer\",attrs:{\"header-text\":_vm.currentUserId === _vm.replyForm.targetUserId ? '回复' : (\"回复：\" + (_vm.replyForm.targetUserName)),\"backdrop\":false,\"from\":\"right\",\"size\":\"100%\",\"submit-text\":\"发布\"},on:{\"cancel\":_vm.handleReplyDrawerClose,\"submit\":_vm.handleReplySubmit},model:{value:(_vm.replyForm.open),callback:function ($$v) {_vm.$set(_vm.replyForm, \"open\", $$v)},expression:\"replyForm.open\"}}),_vm._ssrNode(\"<textarea id=\\\"reply-comment-textarea\\\" placeholder=\\\"100字以内任意发挥\\\" maxlength=\\\"100\\\"\"+(_vm._ssrClass(null,{ 'fade-in': _vm.replyForm.open }))+\"></textarea>\")],2),_c('v-drawer',{attrs:{\"from\":\"right\",\"size\":\"100%\",\"header-text\":\"发表评论\"},model:{value:(_vm.openCreateCommentDrawer),callback:function ($$v) {_vm.openCreateCommentDrawer=$$v},expression:\"openCreateCommentDrawer\"}},[(_vm.openCreateCommentDrawer)?_c('div',{staticClass:\"container\"},[_vm._t(\"reply-form\",[(_vm.openCreateCommentDrawer)?_c('comment-create-form',{attrs:{\"id\":_vm.id,\"type\":_vm.type,\"master-id\":_vm.masterId},on:{\"close\":_vm.closeCommentDrawer,\"submit\":_vm.submitCommentCallback}}):_vm._e()],{close:_vm.closeCommentDrawer})],2):_vm._e()])],2)}\nvar CommentMain_staticRenderFns = []\nvar CommentMain_esExports = { render: CommentMain_render, staticRenderFns: CommentMain_staticRenderFns }\n/* harmony default export */ var comments_CommentMain = (CommentMain_esExports);\n// CONCATENATED MODULE: ./src/components/comments/CommentMain.vue\nfunction CommentMain_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(103),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar CommentMain_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar CommentMain___vue_template_functional__ = false\n/* styles */\nvar CommentMain___vue_styles__ = CommentMain_injectStyle\n/* scopeId */\nvar CommentMain___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar CommentMain___vue_module_identifier__ = \"71b0fa1c\"\nvar CommentMain_Component = CommentMain_normalizeComponent(\n  CommentMain,\n  comments_CommentMain,\n  CommentMain___vue_template_functional__,\n  CommentMain___vue_styles__,\n  CommentMain___vue_scopeId__,\n  CommentMain___vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_CommentMain = __webpack_exports__[\"a\"] = (CommentMain_Component.exports);\n\n\n/***/ }),\n\n/***/ 102:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/SubCommentItem.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var SubCommentItem = ({\n  name: \"SubCommentItem\",\n  props: {\n    comment: {\n      required: true,\n      type: Object\n    },\n    parentUserId: {\n      required: true,\n      type: Number\n    },\n    parentCommentId: {\n      required: true,\n      type: Number\n    },\n    type: {\n      required: true,\n      type: String\n    }\n  },\n\n  data() {\n    return {\n      deleting: false\n    };\n  },\n\n  computed: {\n    currentUserId() {\n      return this.$store.state.login ? this.$store.state.user.id : 0;\n    },\n\n    isMine() {\n      return this.currentUserId === this.comment.from_user_id;\n    },\n\n    canDelete() {\n      return this.isMine || this.currentUserId === this.parentUserId;\n    }\n\n  },\n  methods: {\n    handleSubCommentClick() {\n      if (this.isMine) {\n        this.deleteComment();\n        this.$nextTick(() => {\n          document.getElementById(\"reply-comment-textarea\").style.display = \"none\";\n        });\n        return;\n      }\n\n      if (this.currentUserId) {\n        this.$channel.$emit(\"reply-comment\", {\n          id: this.parentCommentId,\n          targetUserId: this.comment.from_user_id,\n          targetUserName: this.comment.from_user_name\n        });\n      }\n    },\n\n    deleteComment() {\n      if (!this.canDelete) {\n        return;\n      }\n\n      if (this.deleting) {\n        return;\n      }\n\n      this.deleting = true;\n      this.$confirm(\"删除后无法找回, 是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(() => {\n        this.$store.dispatch(\"comment/deleteSubComment\", {\n          ctx: this,\n          type: this.type,\n          id: this.comment.id,\n          parentId: this.comment.parent_id\n        });\n      }).catch(e => {\n        this.deleting = false;\n\n        if (e === \"cancel\") {\n          return;\n        }\n\n        this.$toast.error(e);\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3bb44ec9\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/SubCommentItem.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sub-comment-item\"},[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.comment.from_user_zone)))+\" class=\\\"nickname\\\">\"+_vm._ssrEscape(_vm._s(_vm.comment.from_user_name))+\"</a>\"+((_vm.comment.to_user_zone)?(\"\\n    回复\\n    <a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.comment.to_user_zone)))+\" class=\\\"nickname\\\">\"+_vm._ssrEscape(_vm._s(_vm.comment.to_user_name))+\"</a>\"):\"<!---->\")+\"\\n  :\\n  <span class=\\\"reply-btn comment-content\\\">\"+_vm._ssrEscape(_vm._s(_vm.comment.content))+\"</span>\")])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var comments_SubCommentItem = (esExports);\n// CONCATENATED MODULE: ./src/components/comments/SubCommentItem.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(111),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"3fc64a04\"\nvar Component = normalizeComponent(\n  SubCommentItem,\n  comments_SubCommentItem,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_SubCommentItem = (Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/SubCommentList.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var SubCommentList = ({\n  name: \"PostSubCommentList\",\n  components: {\n    SubCommentItem: components_comments_SubCommentItem\n  },\n  props: {\n    parentComment: {\n      required: true,\n      type: Object\n    },\n    type: {\n      required: true,\n      type: String\n    }\n  },\n  computed: {\n    comments() {\n      return this.parentComment.comments;\n    },\n\n    authorId() {\n      return this.parentComment.from_user_id;\n    },\n\n    hasComment() {\n      return !!this.comments.list.length;\n    },\n\n    filterComments() {\n      var data = this.comments;\n      var comments = data.list;\n      var result = comments.slice(0, 5);\n\n      if (comments.every(_ => _.id <= data.maxId)) {\n        return result;\n      }\n\n      var ids = result.map(_ => _.id);\n      return result.concat(comments.filter(_ => _.id > data.maxId && ids.indexOf(_.id) === -1));\n    }\n\n  },\n  methods: {\n    loadAllComment() {\n      this.$channel.$emit(\"load-all-sub-comment\", {\n        id: this.parentComment.id\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-14eb249e\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/SubCommentList.vue\nvar SubCommentList_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sub-comment-list-wrap\"},[(_vm.hasComment)?_vm._ssrNode(\"<div class=\\\"sub-comment-list\\\">\",\"</div>\",[_vm._l((_vm.filterComments),function(comment){return _c('sub-comment-item',{key:comment.id,attrs:{\"comment\":comment,\"parent-user-id\":_vm.authorId,\"parent-comment-id\":_vm.parentComment.id,\"type\":_vm.type}})}),_vm._ssrNode(((!_vm.comments.noMore || _vm.comments.list.length > 5)?(\"<button class=\\\"load-all-comment\\\">\"+_vm._ssrEscape(\"\\n      查看全部\"+_vm._s(_vm.comments.total)+\"条评论\\n    \")+\"</button>\"):\"<!---->\"))],2):_vm._e()])}\nvar SubCommentList_staticRenderFns = []\nvar SubCommentList_esExports = { render: SubCommentList_render, staticRenderFns: SubCommentList_staticRenderFns }\n/* harmony default export */ var comments_SubCommentList = (SubCommentList_esExports);\n// CONCATENATED MODULE: ./src/components/comments/SubCommentList.vue\nfunction SubCommentList_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(109),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar SubCommentList_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar SubCommentList___vue_template_functional__ = false\n/* styles */\nvar SubCommentList___vue_styles__ = SubCommentList_injectStyle\n/* scopeId */\nvar SubCommentList___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar SubCommentList___vue_module_identifier__ = \"2bbb59ee\"\nvar SubCommentList_Component = SubCommentList_normalizeComponent(\n  SubCommentList,\n  comments_SubCommentList,\n  SubCommentList___vue_template_functional__,\n  SubCommentList___vue_styles__,\n  SubCommentList___vue_scopeId__,\n  SubCommentList___vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_SubCommentList = __webpack_exports__[\"a\"] = (SubCommentList_Component.exports);\n\n\n/***/ }),\n\n/***/ 103:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(104);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"beeeca2c\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 104:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}#comment-wrap .sub-title{margin-top:15px;margin-bottom:15px}#comment-wrap .sub-title .write-btn{float:right;font-weight:700;font-size:13px}#comment-wrap #comment-list-footer{margin-left:-15px;margin-right:-15px}#comment-wrap .focus-comment-drawer .reply .user{padding-top:5px}#comment-wrap .focus-comment-drawer .reply .user .avatar{float:left;margin-right:9px}#comment-wrap .focus-comment-drawer .reply .user .summary{overflow:hidden}#comment-wrap .focus-comment-drawer .reply .user .summary .nickname{font-size:14px;color:#333}#comment-wrap .focus-comment-drawer .reply .user .summary .info{line-height:16px;font-size:12px;color:#999}#comment-wrap .focus-comment-drawer .reply .user .summary .info span{margin-right:5px}#comment-wrap .focus-comment-drawer .reply .content{font-size:16px;line-height:24px;padding-top:16px;margin-bottom:16px;color:#000}#comment-wrap .focus-comment-drawer .reply .content .image-area{margin:16px 0}#comment-wrap .focus-comment-drawer .reply .content .image-area img{width:100%;height:auto}#comment-wrap .focus-comment-drawer .reply .social{margin-bottom:15px;font-size:12px}#comment-wrap .focus-comment-drawer .reply .social .reply-liked-btn{color:#0381aa}#comment-wrap .focus-comment-drawer .reply .social button{color:#666;margin-left:3px}#comment-wrap .focus-comment-drawer .total{height:40px;line-height:40px;color:#000;font-size:16px}#comment-wrap .focus-comment-drawer .comments li{padding:17px 0 13px;position:relative}#comment-wrap .focus-comment-drawer .comments li:after{content:\\\"\\\";position:absolute;left:0;right:0;bottom:0;height:1px;background-color:#f0f0f0;-webkit-transform:scaleY(.5);-ms-transform:scaleY(.5);transform:scaleY(.5);margin-left:-15px;margin-right:-15px}#comment-wrap .focus-comment-drawer .comments li .from-user .avatar{float:left;display:block;margin-right:9px}#comment-wrap .focus-comment-drawer .comments li .from-user .summary{overflow:hidden}#comment-wrap .focus-comment-drawer .comments li .from-user .summary .users{font-size:14px;margin-bottom:6px;margin-top:2px;line-height:14px}#comment-wrap .focus-comment-drawer .comments li .from-user .summary .users .nickname{color:#0381aa}#comment-wrap .focus-comment-drawer .comments li .from-user .summary .info{font-size:12px;line-height:12px;color:#999}#comment-wrap .focus-comment-drawer .comments li .main{margin-left:45px;padding-top:10px}#comment-wrap .focus-comment-drawer .comments li .main .content{font-size:14px;line-height:21px;word-break:break-all}#comment-wrap .reply-comment-drawer-wrap #reply-comment-textarea{position:fixed;left:0;top:60px;width:100%;height:250px;background-color:transparent;font-size:16px;line-height:24px;color:#000;font-weight:400;z-index:101;padding-left:15px;padding-right:15px;display:none;opacity:0}#comment-wrap .reply-comment-drawer-wrap #reply-comment-textarea.fade-in{opacity:1;-webkit-transition-delay:.4s;-o-transition-delay:.4s;transition-delay:.4s}#comment-wrap .append-comment-btn{width:100%;padding:15px 0;font-size:13px}#comment-wrap .no-content{text-align:center;margin-top:30px;margin-bottom:30px;font-size:12px;color:#99a2aa}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 105:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(106);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"303ce1cc\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 106:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.comment-create-form .content{font-size:16px;line-height:24px;color:#000;font-weight:400;height:250px;margin-bottom:5px}.comment-create-form .submit-btn{margin-top:15px;width:100%}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 107:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(108);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"23a510bc\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 108:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.comment-item{position:relative;margin-top:15px;padding-bottom:15px}.comment-item:after{content:\\\"\\\";position:absolute;left:0;right:0;bottom:0;height:1px;background-color:#f0f0f0;-webkit-transform:scaleY(.5);-ms-transform:scaleY(.5);transform:scaleY(.5);margin-left:-15px;margin-right:-15px}.comment-item .avatar{float:left;margin-right:9px}.comment-item .content{overflow:hidden}.comment-item .content .header .tools-btn{float:right;line-height:16px;font-size:12px;color:#535353;margin-top:9px;margin-left:4px}.comment-item .content .header .user .nickname{font-size:14px;line-height:21px;display:block;color:#333}.comment-item .content .header .user .info{color:#999;line-height:14px;font-size:12px}.comment-item .content .header .user .info span{margin-right:5px}.comment-item .content .main{font-size:16px;margin:10px 0 4px;color:#333;line-height:24px;min-height:65px}.comment-item .content .main .image-area{margin:10px 0}.comment-item .content .main .image-area img{width:100%;height:auto}.comment-item .content .footer .social{margin-top:15px;font-size:12px}.comment-item .content .footer .social .reply-liked-btn{color:#0381aa}.comment-item .content .footer .social button{color:#666;margin-left:3px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 109:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(110);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"75d7965e\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 110:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.sub-comment-list-wrap{position:relative;background-color:#f7f8fa;border-radius:5px}.sub-comment-list-wrap .sub-comment-list{padding:7px 0 7.5px;margin-top:5px}.sub-comment-list-wrap .load-all-comment{position:relative;margin-top:6px;font-size:12px;margin-bottom:0;padding:0 10px;color:#999;width:100%;text-align:left}.sub-comment-list-wrap .load-all-comment:after{content:\\\"\\\";position:absolute;top:50%;border:3px solid #f5f5f5;border-left-color:#999;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);margin-left:4px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 111:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(112);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"6b8bda44\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 112:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.sub-comment-item{padding:2px 10px;font-size:14px;line-height:18px}.sub-comment-item .nickname{color:#0381aa}.sub-comment-item .comment-content{margin-right:6px;word-break:break-all}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 113:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: external \"@babel/runtime/regenerator\"\nvar regenerator_ = __webpack_require__(0);\nvar regenerator__default = /*#__PURE__*/__webpack_require__.n(regenerator_);\n\n// EXTERNAL MODULE: external \"regenerator-runtime/runtime\"\nvar runtime_ = __webpack_require__(1);\nvar runtime__default = /*#__PURE__*/__webpack_require__.n(runtime_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/asyncToGenerator\"\nvar asyncToGenerator_ = __webpack_require__(2);\nvar asyncToGenerator__default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator_);\n\n// EXTERNAL MODULE: ./src/api/toggleApi.js\nvar toggleApi = __webpack_require__(22);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/common/SocialPanel.vue\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var SocialPanel = ({\n  name: \"SocialPanel\",\n  props: {\n    id: {\n      required: true,\n      type: Number\n    },\n    type: {\n      required: true,\n      type: String,\n      validator: val => ~[\"post\", \"video\", \"image\", \"score\", \"answer\", \"video\"].indexOf(val)\n    },\n    isCreator: {\n      required: true,\n      type: Boolean\n    },\n    userId: {\n      required: true,\n      type: Number\n    },\n    liked: {\n      type: Boolean,\n      default: false\n    },\n    marked: {\n      type: Boolean,\n      default: false\n    },\n    rewarded: {\n      type: Boolean,\n      default: false\n    },\n    likeUsers: {\n      required: true,\n      type: Object\n    },\n    rewardUsers: {\n      required: true,\n      type: Object\n    },\n    markUsers: {\n      required: true,\n      type: Object\n    }\n  },\n\n  data() {\n    return {\n      loadingReward: false,\n      loadingLike: false,\n      loadingMark: false,\n      displayCount: 7\n    };\n  },\n\n  computed: {\n    currentUserId() {\n      return this.$store.state.login ? this.$store.state.user.id : 0;\n    },\n\n    isMine() {\n      return this.userId === this.currentUserId;\n    },\n\n    displayUsers() {\n      var users = this.isCreator ? this.rewardUsers.list : this.likeUsers.list;\n      return users.slice(0, this.displayCount);\n    }\n\n  },\n  methods: {\n    toggleReward() {\n      var _this = this;\n\n      if (!this.currentUserId) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      if (this.isMine) {\n        this.$toast.info(\"不能给自己打赏\");\n        return;\n      }\n\n      this.$confirm(this.rewarded ? \"即使取消投食你的金币也不会回到你的钱包, 是否继续?\" : \"向TA投食需要消耗你一枚金币，是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(\n      /*#__PURE__*/\n      asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee() {\n        var api, user, result;\n        return regenerator__default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!_this.loadingReward) {\n                  _context.next = 2;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 2:\n                _this.loadingReward = true;\n                api = new toggleApi[\"a\" /* default */](_this);\n                user = _this.$store.state.user;\n                _context.prev = 5;\n                _context.next = 8;\n                return api.reward({\n                  id: _this.id,\n                  type: _this.type\n                });\n\n              case 8:\n                result = _context.sent;\n\n                if (result) {\n                  _this.$store.commit(\"USE_COIN\");\n                }\n\n                _this.$store.commit(`${_this.type}/SOCIAL_TOGGLE`, {\n                  key: \"reward\",\n                  value: result,\n                  user: {\n                    id: user.id,\n                    zone: user.zone,\n                    nickname: user.nickname,\n                    avatar: user.avatar\n                  }\n                });\n\n                _this.$toast.success(\"操作成功\");\n\n                _this.$emit(\"reward-callback\");\n\n                _context.next = 18;\n                break;\n\n              case 15:\n                _context.prev = 15;\n                _context.t0 = _context[\"catch\"](5);\n\n                _this.$toast.error(_context.t0);\n\n              case 18:\n                _context.prev = 18;\n                _this.loadingReward = false;\n                return _context.finish(18);\n\n              case 21:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[5, 15, 18, 21]]);\n      }))).catch(() => {});\n    },\n\n    toggleLike() {\n      var _this2 = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee2() {\n        var api, user, result;\n        return regenerator__default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (_this2.currentUserId) {\n                  _context2.next = 3;\n                  break;\n                }\n\n                _this2.$channel.$emit(\"sign-in\");\n\n                return _context2.abrupt(\"return\");\n\n              case 3:\n                if (!_this2.isMine) {\n                  _context2.next = 6;\n                  break;\n                }\n\n                _this2.$toast.info(\"不能喜欢自己的内容\");\n\n                return _context2.abrupt(\"return\");\n\n              case 6:\n                if (!_this2.loadingLike) {\n                  _context2.next = 8;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\");\n\n              case 8:\n                _this2.loadingLike = true;\n                api = new toggleApi[\"a\" /* default */](_this2);\n                user = _this2.$store.state.user;\n                _context2.prev = 11;\n                _context2.next = 14;\n                return api.like({\n                  id: _this2.id,\n                  type: _this2.type\n                });\n\n              case 14:\n                result = _context2.sent;\n\n                _this2.$store.commit(`${_this2.type}/SOCIAL_TOGGLE`, {\n                  key: \"like\",\n                  value: result,\n                  user: {\n                    id: user.id,\n                    zone: user.zone,\n                    nickname: user.nickname,\n                    avatar: user.avatar\n                  }\n                });\n\n                _this2.$toast.success(\"操作成功\");\n\n                _context2.next = 22;\n                break;\n\n              case 19:\n                _context2.prev = 19;\n                _context2.t0 = _context2[\"catch\"](11);\n\n                _this2.$toast.error(_context2.t0);\n\n              case 22:\n                _context2.prev = 22;\n                _this2.loadingLike = false;\n                return _context2.finish(22);\n\n              case 25:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[11, 19, 22, 25]]);\n      }))();\n    },\n\n    toggleMark() {\n      var _this3 = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee3() {\n        var api, user, result;\n        return regenerator__default.a.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (_this3.currentUserId) {\n                  _context3.next = 3;\n                  break;\n                }\n\n                _this3.$channel.$emit(\"sign-in\");\n\n                return _context3.abrupt(\"return\");\n\n              case 3:\n                if (!_this3.isMine) {\n                  _context3.next = 6;\n                  break;\n                }\n\n                _this3.$toast.info(\"不能收藏自己的内容\");\n\n                return _context3.abrupt(\"return\");\n\n              case 6:\n                if (!_this3.loadingMark) {\n                  _context3.next = 8;\n                  break;\n                }\n\n                return _context3.abrupt(\"return\");\n\n              case 8:\n                _this3.loadingMark = true;\n                api = new toggleApi[\"a\" /* default */](_this3);\n                user = _this3.$store.state.user;\n                _context3.prev = 11;\n                _context3.next = 14;\n                return api.mark({\n                  id: _this3.id,\n                  type: _this3.type\n                });\n\n              case 14:\n                result = _context3.sent;\n\n                _this3.$store.commit(`${_this3.type}/SOCIAL_TOGGLE`, {\n                  key: \"mark\",\n                  value: result,\n                  user: {\n                    id: user.id,\n                    zone: user.zone,\n                    nickname: user.nickname,\n                    avatar: user.avatar\n                  }\n                });\n\n                _this3.$toast.success(\"操作成功\");\n\n                _context3.next = 22;\n                break;\n\n              case 19:\n                _context3.prev = 19;\n                _context3.t0 = _context3[\"catch\"](11);\n\n                _this3.$toast.error(_context3.t0);\n\n              case 22:\n                _context3.prev = 22;\n                _this3.loadingMark = false;\n                return _context3.finish(22);\n\n              case 25:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[11, 19, 22, 25]]);\n      }))();\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-200e0634\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/SocialPanel.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"social-panel\"},[_vm._ssrNode(\"<div class=\\\"buttons\\\">\",\"</div>\",[(_vm.isCreator)?_c('el-button',{class:{ 'is-plain': _vm.rewarded },attrs:{\"loading\":_vm.loadingReward,\"type\":\"warning\",\"round\":\"\",\"size\":\"mini\"},on:{\"click\":_vm.toggleReward}},[_c('i',{staticClass:\"iconfont icon-guanzhu\"}),_vm._v(\"\\n      \"+_vm._s(_vm.rewarded ? '已投食' : '投食')+_vm._s(_vm.rewardUsers.total ? (\"  |  \" + (_vm.rewardUsers.total)) : '')+\"\\n    \")]):_c('el-button',{class:{ 'is-plain': _vm.liked },attrs:{\"loading\":_vm.loadingLike,\"type\":\"danger\",\"size\":\"mini\",\"round\":\"\"},on:{\"click\":_vm.toggleLike}},[_c('i',{staticClass:\"iconfont icon-guanzhu\"}),_vm._v(\"\\n      \"+_vm._s(_vm.liked ? '已喜欢' : '喜欢')+_vm._s(_vm.likeUsers.total ? (\"  |  \" + (_vm.likeUsers.total)) : '')+\"\\n    \")]),_c('el-button',{class:{ 'is-plain': _vm.marked },attrs:{\"loading\":_vm.loadingMark,\"type\":\"success\",\"size\":\"mini\",\"round\":\"\"},on:{\"click\":_vm.toggleMark}},[_c('i',{staticClass:\"iconfont icon-shoucang\"}),_vm._v(\"\\n      \"+_vm._s(_vm.marked ? '已收藏' : '收藏')+_vm._s(_vm.markUsers.total ? (\"  |  \" + (_vm.markUsers.total)) : '')+\"\\n    \")]),_vm._t(\"default\")],2),_vm._ssrNode(\"<div class=\\\"users\\\"><ul>\"+(_vm._ssrList((_vm.displayUsers),function(user){return (\"<li class=\\\"user-face\\\"><img\"+(_vm._ssrAttr(\"src\",_vm.$resize(user.avatar, { width: 60 })))+\"></li>\")}))+\"</ul></div>\")],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var common_SocialPanel = (esExports);\n// CONCATENATED MODULE: ./src/components/common/SocialPanel.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(114),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"786d8432\"\nvar Component = normalizeComponent(\n  SocialPanel,\n  common_SocialPanel,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_common_SocialPanel = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 114:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(115);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"6bcd6949\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 115:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.social-panel{margin:40px 0}.social-panel .buttons{text-align:center}.social-panel .buttons button{padding:5px 7px;font-size:11px!important}.social-panel .users{margin-top:25px;text-align:center}.social-panel .users .user-face{margin:0 -5px;display:inline-block;vertical-align:middle}.social-panel .users .user-face img{width:30px;height:30px;border-radius:50%;border:3px solid #fff}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 117:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: external \"@babel/runtime/regenerator\"\nvar regenerator_ = __webpack_require__(0);\nvar regenerator__default = /*#__PURE__*/__webpack_require__.n(regenerator_);\n\n// EXTERNAL MODULE: external \"regenerator-runtime/runtime\"\nvar runtime_ = __webpack_require__(1);\nvar runtime__default = /*#__PURE__*/__webpack_require__.n(runtime_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/asyncToGenerator\"\nvar asyncToGenerator_ = __webpack_require__(2);\nvar asyncToGenerator__default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator_);\n\n// EXTERNAL MODULE: ./src/api/toggleApi.js\nvar toggleApi = __webpack_require__(22);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/common/VoteButton.vue\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var VoteButton = ({\n  name: \"VoteButton\",\n  props: {\n    type: {\n      required: true,\n      type: String,\n      validator: val => ~[\"answer\"].indexOf(val)\n    },\n    id: {\n      required: true,\n      type: Number\n    },\n    score: {\n      required: true,\n      type: Number\n    },\n    total: {\n      required: true,\n      type: Number\n    },\n    authorId: {\n      required: true,\n      type: Number\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  data() {\n    return {\n      loading: false\n    };\n  },\n\n  computed: {\n    currentUserId() {\n      if (this.$store.state.login) {\n        return this.$store.state.user.id;\n      }\n\n      return 0;\n    }\n\n  },\n  methods: {\n    voteAction(is_agree) {\n      var _this = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee() {\n        var api, result;\n        return regenerator__default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!_this.disabled) {\n                  _context.next = 2;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 2:\n                if (_this.currentUserId) {\n                  _context.next = 5;\n                  break;\n                }\n\n                _this.$channel.$emit(\"sign-in\");\n\n                return _context.abrupt(\"return\");\n\n              case 5:\n                if (!(_this.currentUserId === _this.authorId)) {\n                  _context.next = 8;\n                  break;\n                }\n\n                _this.$toast.error(is_agree ? \"不能给自己点赞\" : \"不能给自己点反对\");\n\n                return _context.abrupt(\"return\");\n\n              case 8:\n                if (!_this.loading) {\n                  _context.next = 10;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 10:\n                _this.loading = true;\n                api = new toggleApi[\"a\" /* default */](_this);\n                _context.prev = 12;\n                _context.next = 15;\n                return api.vote({\n                  type: _this.type,\n                  id: _this.id,\n                  is_agree\n                });\n\n              case 15:\n                result = _context.sent;\n\n                _this.$emit(\"vote\", result);\n\n                _context.next = 22;\n                break;\n\n              case 19:\n                _context.prev = 19;\n                _context.t0 = _context[\"catch\"](12);\n\n                _this.$toast.error(_context.t0);\n\n              case 22:\n                _context.prev = 22;\n                _this.loading = false;\n                return _context.finish(22);\n\n              case 25:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[12, 19, 22, 25]]);\n      }))();\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3b7bf57c\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/VoteButton.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vote-button\"},[_vm._ssrNode(\"<button\"+(_vm._ssrClass(\"vote-btn vote-up\",{ 'active': _vm.score > 0 }))+\"><i class=\\\"el-icon-caret-top\\\"></i>\"+_vm._ssrEscape(\"\\n    赞同\\n    \"+_vm._s(_vm.total)+\"\\n  \")+\"</button><button\"+(_vm._ssrClass(\"vote-btn vote-down\",{ 'active': _vm.score < 0 }))+\"><i class=\\\"el-icon-caret-bottom\\\"></i></button>\")])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var common_VoteButton = (esExports);\n// CONCATENATED MODULE: ./src/components/common/VoteButton.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(118),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"27695f1e\"\nvar Component = normalizeComponent(\n  VoteButton,\n  common_VoteButton,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_common_VoteButton = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 118:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(119);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"17ebc120\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 119:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.vote-button{display:inline-block}.vote-button .vote-btn{padding:0 10px;color:#00a1d6;background-color:rgba(0,161,214,.1);font-size:14px;line-height:32px;text-align:center;border-radius:3px;font-weight:700}.vote-button .vote-btn.vote-down{margin-left:4px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 129:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/jsonEditor/parser/TxtParser.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var TxtParser = ({\n  name: \"JsonContentTxtParser\",\n  props: {\n    item: {\n      type: Object,\n      required: true\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-41cbc7b4\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/jsonEditor/parser/TxtParser.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',{staticClass:\"json-content-txt-parser\",domProps:{\"innerHTML\":_vm._s(_vm.item.text)}},[])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var parser_TxtParser = (esExports);\n// CONCATENATED MODULE: ./src/components/jsonEditor/parser/TxtParser.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(130),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"2dd15a2a\"\nvar Component = normalizeComponent(\n  TxtParser,\n  parser_TxtParser,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var jsonEditor_parser_TxtParser = (Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/jsonEditor/parser/ImgParser.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var ImgParser = ({\n  name: \"JsonContentImgParser\",\n  props: {\n    item: {\n      type: Object,\n      required: true\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-b8da67b0\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/jsonEditor/parser/ImgParser.vue\nvar ImgParser_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"json-content-img-parser\"},[_c('v-img',{attrs:{\"src\":_vm.item.url,\"width\":_vm.item.width,\"height\":_vm.item.height,\"full\":true}}),_vm._ssrNode(((_vm.item.text)?(\"<p class=\\\"img-tip\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.text))+\"</p>\"):\"<!---->\"))],2)}\nvar ImgParser_staticRenderFns = []\nvar ImgParser_esExports = { render: ImgParser_render, staticRenderFns: ImgParser_staticRenderFns }\n/* harmony default export */ var parser_ImgParser = (ImgParser_esExports);\n// CONCATENATED MODULE: ./src/components/jsonEditor/parser/ImgParser.vue\nfunction ImgParser_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(132),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar ImgParser_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar ImgParser___vue_template_functional__ = false\n/* styles */\nvar ImgParser___vue_styles__ = ImgParser_injectStyle\n/* scopeId */\nvar ImgParser___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar ImgParser___vue_module_identifier__ = \"09f0e3bd\"\nvar ImgParser_Component = ImgParser_normalizeComponent(\n  ImgParser,\n  parser_ImgParser,\n  ImgParser___vue_template_functional__,\n  ImgParser___vue_styles__,\n  ImgParser___vue_scopeId__,\n  ImgParser___vue_module_identifier__\n)\n\n/* harmony default export */ var jsonEditor_parser_ImgParser = (ImgParser_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/jsonEditor/JsonContent.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var JsonContent = ({\n  name: \"JsonContent\",\n  components: {\n    TxtParser: jsonEditor_parser_TxtParser,\n    ImgParser: jsonEditor_parser_ImgParser\n  },\n  props: {\n    content: {\n      required: true,\n      type: Array\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5f646859\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/jsonEditor/JsonContent.vue\nvar JsonContent_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"json-content\"},_vm._l((_vm.content),function(item,index){return _c(((item.type) + \"-parser\"),{key:index,tag:\"component\",attrs:{\"item\":item}})}))}\nvar JsonContent_staticRenderFns = []\nvar JsonContent_esExports = { render: JsonContent_render, staticRenderFns: JsonContent_staticRenderFns }\n/* harmony default export */ var jsonEditor_JsonContent = (JsonContent_esExports);\n// CONCATENATED MODULE: ./src/components/jsonEditor/JsonContent.vue\nvar JsonContent_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar JsonContent___vue_template_functional__ = false\n/* styles */\nvar JsonContent___vue_styles__ = null\n/* scopeId */\nvar JsonContent___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar JsonContent___vue_module_identifier__ = \"17cce616\"\nvar JsonContent_Component = JsonContent_normalizeComponent(\n  JsonContent,\n  jsonEditor_JsonContent,\n  JsonContent___vue_template_functional__,\n  JsonContent___vue_styles__,\n  JsonContent___vue_scopeId__,\n  JsonContent___vue_module_identifier__\n)\n\n/* harmony default export */ var components_jsonEditor_JsonContent = __webpack_exports__[\"a\"] = (JsonContent_Component.exports);\n\n\n/***/ }),\n\n/***/ 130:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(131);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"14343790\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 131:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".json-content-txt-parser{word-break:break-word!important;word-break:break-all}@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.json-content-txt-parser{margin-bottom:25px;margin-left:15px;margin-right:15px;font-size:16px;font-weight:400;line-height:1.7;color:#2f2f2f}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 132:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(133);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"74f17a30\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 133:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".json-content-img-parser .img-tip{word-break:break-word!important;word-break:break-all}@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.json-content-img-parser{margin-bottom:25px;text-align:center}.json-content-img-parser .img-tip{min-width:20%;max-width:80%;min-height:22px;padding:10px 10px 6px;border-bottom:1px solid #d9d9d9;font-size:14px;color:#969696;line-height:1.7;text-align:center;display:inline-block}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 150:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: external \"core-js/modules/es6.regexp.replace\"\nvar es6_regexp_replace_ = __webpack_require__(9);\nvar es6_regexp_replace__default = /*#__PURE__*/__webpack_require__.n(es6_regexp_replace_);\n\n// EXTERNAL MODULE: external \"core-js/modules/web.dom.iterable\"\nvar web_dom_iterable_ = __webpack_require__(3);\nvar web_dom_iterable__default = /*#__PURE__*/__webpack_require__.n(web_dom_iterable_);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/jsonEditor/JsonItem.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var JsonItem = ({\n  name: \"JsonItem\",\n  props: {\n    item: {\n      type: Object,\n      required: true\n    },\n    selected: {\n      type: Boolean,\n      required: true,\n      default: false\n    },\n    index: {\n      type: Number,\n      required: true\n    }\n  },\n  computed: {\n    sectionCount() {\n      return this.$store.state.editor.sections.length;\n    }\n\n  },\n  methods: {\n    emitPreview(type) {\n      this.$emit(\"preview\", {\n        index: this.index,\n        type\n      });\n    },\n\n    emitCreate(type) {\n      this.$emit(\"create\", {\n        index: this.index,\n        type\n      });\n    },\n\n    emitDelete() {\n      this.$emit(\"delete\", {\n        index: this.index\n      });\n    },\n\n    emitSort() {\n      this.$emit(\"sort\", {\n        index: this.index\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-d6951c8c\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/jsonEditor/JsonItem.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"json-item\",class:{ selected: _vm.selected }},[_vm._ssrNode(((_vm.sectionCount > 1)?(\"<button class=\\\"delete-btn\\\"><span><i class=\\\"el-icon-delete\\\"></i></span></button>\"):\"<!---->\")+((_vm.index)?(\"<button class=\\\"up-btn\\\"><span><i class=\\\"el-icon-arrow-up\\\"></i></span></button>\"):\"<!---->\")+\"<div class=\\\"show-area\\\"><div class=\\\"capture\\\">\"+((_vm.item.type === 'img')?(((_vm.item.url)?(\"<div class=\\\"poster\\\"\"+(_vm._ssrStyle(null,{ backgroundImage: (\"url(\" + (_vm.$resize(_vm.item.url, { width: 150 })) + \")\") }, null))+\"></div>\"):\"<!---->\")+((!_vm.item.url)?(\"<div class=\\\"default green\\\"><i class=\\\"el-icon-picture-outline\\\"></i></div>\"):\"<!---->\")):(_vm.item.type === 'txt')?(\"<div class=\\\"default yellow\\\"><i class=\\\"el-icon-document\\\"></i></div>\"):\"<!---->\")+\"</div><div class=\\\"content\\\">\"+((_vm.item.text)?(\"<div class=\\\"text\\\">\"+(_vm._s(_vm.item.text))+\"</div>\"):(\"<div class=\\\"text\\\">\"+_vm._ssrEscape(\"\\n        \"+_vm._s(_vm.item.type === 'txt' ? '点击添加文字' : '点击上传图片')+\"\\n      \")+\"</div>\"))+\"</div></div><div class=\\\"append-area\\\"><button><span><i class=\\\"el-icon-edit\\\"></i></span></button><button><span><i class=\\\"el-icon-picture\\\"></i></span></button></div>\")])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var jsonEditor_JsonItem = (esExports);\n// CONCATENATED MODULE: ./src/components/jsonEditor/JsonItem.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(153),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"637bbec6\"\nvar Component = normalizeComponent(\n  JsonItem,\n  jsonEditor_JsonItem,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_jsonEditor_JsonItem = (Component.exports);\n\n// EXTERNAL MODULE: ./.env.js\nvar _env = __webpack_require__(15);\nvar _env_default = /*#__PURE__*/__webpack_require__.n(_env);\n\n// EXTERNAL MODULE: ./src/mixins/upload.js\nvar upload = __webpack_require__(24);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/jsonEditor/preview/ImgPreview.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var ImgPreview = ({\n  name: \"ImgPreview\",\n  mixins: [upload[\"a\" /* default */]],\n  props: {\n    item: {\n      required: true,\n      type: Object\n    }\n  },\n\n  data() {\n    return {\n      show: false,\n      saving: false\n    };\n  },\n\n  computed: {\n    desc: {\n      get() {\n        return this.item.text;\n      },\n\n      set(value) {\n        this.$store.commit(\"editor/UPDATE_SECTION_TEXT\", {\n          value\n        });\n      }\n\n    },\n\n    imageWrapperHeight() {\n      return {\n        height: `${this.item.height * window.innerWidth / this.item.width + 60}px`\n      };\n    }\n\n  },\n\n  mounted() {\n    this.$channel.$on(\"write-save-done\", () => {\n      this.saving = false;\n    });\n    this.$channel.$on(\"write-open-drawer\", (_ref) => {\n      var type = _ref.type;\n\n      if (type === \"img\") {\n        this.show = true;\n      }\n    });\n    this.getUpToken();\n  },\n\n  methods: {\n    imageUploadSuccess(res, file) {\n      this.handleImageUploadSuccess(res, file);\n      this.$store.commit(\"editor/UPDATE_SECTION_IMAGE\", {\n        url: `${_env[\"cdn\"].image}${res.data.url}`,\n        width: res.data.width,\n        height: res.data.height,\n        size: res.data.size,\n        mime: res.data.type\n      });\n      this.$toast.success(\"上传成功\");\n    },\n\n    emitSave() {\n      if (!this.item.url) {\n        return;\n      }\n\n      this.$channel.$emit(\"write-save\");\n      this.saving = true;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-337e31bd\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/jsonEditor/preview/ImgPreview.vue\nvar ImgPreview_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-drawer',{attrs:{\"from\":\"right\",\"size\":\"100%\",\"header-text\":\"编辑图片段落\",\"submit-text\":\"确定\"},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[(_vm.show)?_c('div',{staticClass:\"image-preview container\"},[_c('div',{staticClass:\"body\"},[(_vm.item.url)?_c('div',{staticClass:\"wrapper\",style:(_vm.imageWrapperHeight)},[_c('v-img',{attrs:{\"src\":_vm.$resize(_vm.item.url),\"width\":_vm.item.width,\"height\":_vm.item.height,\"full\":true}}),_c('el-input',{attrs:{\"maxlength\":\"45\",\"placeholder\":\"添加图片描述\"},model:{value:(_vm.desc),callback:function ($$v) {_vm.desc=$$v},expression:\"desc\"}})],1):_c('el-upload',{staticClass:\"uploader\",attrs:{\"data\":_vm.uploadHeaders,\"action\":_vm.imageUploadAction,\"accept\":_vm.imageUploadAccept,\"before-upload\":_vm.handleImageUploadBefore,\"on-error\":_vm.handleImageUploadError,\"on-success\":_vm.imageUploadSuccess,\"disabled\":true}},[_c('i',{staticClass:\"el-icon-plus\"}),_c('div',{staticClass:\"el-upload__text\"},[_vm._v(\"点击上传\")])])],1),_c('div',{staticClass:\"footer\"},[_c('el-upload',{attrs:{\"data\":_vm.uploadHeaders,\"action\":_vm.imageUploadAction,\"accept\":_vm.imageUploadAccept,\"show-file-list\":false,\"before-upload\":_vm.handleImageUploadBefore,\"on-error\":_vm.handleImageUploadError,\"on-success\":_vm.imageUploadSuccess,\"disabled\":true}},[(_vm.item.url)?_c('el-button',{attrs:{\"size\":\"small\",\"plain\":\"\",\"round\":\"\"}},[_vm._v(\"更换图片\")]):_vm._e()],1)],1)]):_vm._e()])}\nvar ImgPreview_staticRenderFns = []\nvar ImgPreview_esExports = { render: ImgPreview_render, staticRenderFns: ImgPreview_staticRenderFns }\n/* harmony default export */ var preview_ImgPreview = (ImgPreview_esExports);\n// CONCATENATED MODULE: ./src/components/jsonEditor/preview/ImgPreview.vue\nfunction ImgPreview_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(155),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar ImgPreview_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar ImgPreview___vue_template_functional__ = false\n/* styles */\nvar ImgPreview___vue_styles__ = ImgPreview_injectStyle\n/* scopeId */\nvar ImgPreview___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar ImgPreview___vue_module_identifier__ = \"05299d97\"\nvar ImgPreview_Component = ImgPreview_normalizeComponent(\n  ImgPreview,\n  preview_ImgPreview,\n  ImgPreview___vue_template_functional__,\n  ImgPreview___vue_styles__,\n  ImgPreview___vue_scopeId__,\n  ImgPreview___vue_module_identifier__\n)\n\n/* harmony default export */ var jsonEditor_preview_ImgPreview = (ImgPreview_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/jsonEditor/preview/TxtPreview.vue\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var TxtPreview = ({\n  name: \"TxtPreview\",\n  props: {\n    item: {\n      required: true,\n      type: Object\n    }\n  },\n\n  data() {\n    return {\n      show: false,\n      saving: false\n    };\n  },\n\n  computed: {\n    text: {\n      get() {\n        return this.item.text.replace(/<br>/g, \"\\n\");\n      },\n\n      set(value) {\n        this.$store.commit(\"editor/UPDATE_SECTION_TEXT\", {\n          value: value.replace(/\\n/g, \"<br>\")\n        });\n      }\n\n    }\n  },\n\n  mounted() {\n    this.$channel.$on(\"write-save-done\", () => {\n      this.saving = false;\n    });\n    this.$channel.$on(\"write-open-drawer\", (_ref) => {\n      var type = _ref.type;\n\n      if (type === \"txt\") {\n        this.show = true;\n      }\n    });\n  },\n\n  methods: {\n    textAreaFocus() {\n      if (this.text.length < 100) {\n        document.body.scrollTop = 0;\n      }\n    },\n\n    emitSave() {\n      if (!this.text.replace(/\\n/g, \"\")) {\n        return;\n      }\n\n      this.$channel.$emit(\"write-save\");\n      this.saving = true;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-25cc5013\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/jsonEditor/preview/TxtPreview.vue\nvar TxtPreview_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-drawer',{attrs:{\"from\":\"right\",\"size\":\"100%\",\"header-text\":\"编辑文本段落\",\"submit-text\":\"确定\"},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[(_vm.show)?_c('div',{staticClass:\"text-preview\"},[_c('pre',{staticClass:\"shim\",domProps:{\"innerHTML\":_vm._s(_vm.item.text)}}),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.text),expression:\"text\"}],attrs:{\"placeholder\":\"添加文字内容\"},domProps:{\"value\":(_vm.text)},on:{\"focus\":_vm.textAreaFocus,\"input\":function($event){if($event.target.composing){ return; }_vm.text=$event.target.value}}})]):_vm._e()])}\nvar TxtPreview_staticRenderFns = []\nvar TxtPreview_esExports = { render: TxtPreview_render, staticRenderFns: TxtPreview_staticRenderFns }\n/* harmony default export */ var preview_TxtPreview = (TxtPreview_esExports);\n// CONCATENATED MODULE: ./src/components/jsonEditor/preview/TxtPreview.vue\nfunction TxtPreview_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(157),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar TxtPreview_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar TxtPreview___vue_template_functional__ = false\n/* styles */\nvar TxtPreview___vue_styles__ = TxtPreview_injectStyle\n/* scopeId */\nvar TxtPreview___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar TxtPreview___vue_module_identifier__ = \"5d57f4ca\"\nvar TxtPreview_Component = TxtPreview_normalizeComponent(\n  TxtPreview,\n  preview_TxtPreview,\n  TxtPreview___vue_template_functional__,\n  TxtPreview___vue_styles__,\n  TxtPreview___vue_scopeId__,\n  TxtPreview___vue_module_identifier__\n)\n\n/* harmony default export */ var jsonEditor_preview_TxtPreview = (TxtPreview_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/jsonEditor/index.vue\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ var jsonEditor = ({\n  name: \"JsonEditorMain\",\n  components: {\n    JsonItem: components_jsonEditor_JsonItem,\n    ImgPreview: jsonEditor_preview_ImgPreview,\n    TxtPreview: jsonEditor_preview_TxtPreview\n  },\n  computed: {\n    id() {\n      return +(this.$route.params.id || 0);\n    },\n\n    sections() {\n      return this.$store.state.editor.sections;\n    },\n\n    selectedIndex() {\n      return this.$store.state.editor.selectedIndex;\n    },\n\n    curPreview() {\n      return this.selectedIndex >= 0 ? this.sections[this.selectedIndex] : {};\n    }\n\n  },\n\n  mounted() {\n    this.$channel.$on(\"write-save\", () => {\n      var richContent = this.getRichContent();\n\n      if (!richContent.length) {\n        this.$toast.info(\"内容不能为空！\");\n        return;\n      }\n\n      this.$emit(\"submit\", {\n        content: richContent,\n        desc: this.getPureContent(),\n        publish: false,\n        id: this.id\n      });\n    });\n    this.$channel.$on(\"write-publish\", () => {\n      var richContent = this.getRichContent();\n\n      if (!richContent.length) {\n        this.$toast.info(\"内容不能为空！\");\n        return;\n      }\n\n      this.$emit(\"submit\", {\n        content: richContent,\n        desc: this.getPureContent(),\n        publish: true,\n        id: this.id\n      });\n    });\n  },\n\n  methods: {\n    getRichContent() {\n      var result = [];\n      this.sections.forEach(item => {\n        if (item.type === \"img\") {\n          if (item.url) {\n            result.push(item);\n          }\n        } else if (item.type === \"txt\") {\n          if (item.text) {\n            result.push(item);\n          }\n        }\n      });\n      return result;\n    },\n\n    getPureContent() {\n      var result = \"\";\n      this.sections.forEach(item => {\n        if (item.type === \"txt\" && item.text) {\n          result += item.text.replace(/<br>/g, \"\\n\");\n        }\n      });\n      return result;\n    },\n\n    handleItemPreview(_ref) {\n      var index = _ref.index,\n          type = _ref.type;\n      this.$store.commit(\"editor/SWITCH_SECTION\", {\n        index\n      });\n      this.$channel.$emit(\"write-open-drawer\", {\n        type\n      });\n    },\n\n    handleItemAppend(_ref2) {\n      var index = _ref2.index,\n          type = _ref2.type;\n      this.$store.commit(\"editor/APPEND_SECTION\", {\n        index,\n        type\n      });\n    },\n\n    handleItemDelete(_ref3) {\n      var index = _ref3.index;\n      this.$store.commit(\"editor/DELETE_SECTION\", {\n        index\n      });\n    },\n\n    handleItemSort(_ref4) {\n      var index = _ref4.index;\n      this.$store.commit(\"editor/SORT_SECTION\", {\n        index\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-07399045\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/jsonEditor/index.vue\nvar jsonEditor_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"json-editor-main\"},[_c('transition-group',{staticClass:\"editor-tabs\",attrs:{\"name\":\"list-complete\",\"tag\":\"div\"}},_vm._l((_vm.sections),function(item,index){return _c('json-item',{key:item.id,staticClass:\"list-complete-item\",attrs:{\"item\":item,\"index\":index,\"selected\":index === _vm.selectedIndex},on:{\"preview\":_vm.handleItemPreview,\"create\":_vm.handleItemAppend,\"delete\":_vm.handleItemDelete,\"sort\":_vm.handleItemSort}})})),_c('img-preview',{attrs:{\"item\":_vm.curPreview}}),_c('txt-preview',{attrs:{\"item\":_vm.curPreview}})],1)}\nvar jsonEditor_staticRenderFns = []\nvar jsonEditor_esExports = { render: jsonEditor_render, staticRenderFns: jsonEditor_staticRenderFns }\n/* harmony default export */ var components_jsonEditor = (jsonEditor_esExports);\n// CONCATENATED MODULE: ./src/components/jsonEditor/index.vue\nfunction jsonEditor_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(151),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar jsonEditor_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar jsonEditor___vue_template_functional__ = false\n/* styles */\nvar jsonEditor___vue_styles__ = jsonEditor_injectStyle\n/* scopeId */\nvar jsonEditor___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar jsonEditor___vue_module_identifier__ = \"43a639d7\"\nvar jsonEditor_Component = jsonEditor_normalizeComponent(\n  jsonEditor,\n  components_jsonEditor,\n  jsonEditor___vue_template_functional__,\n  jsonEditor___vue_styles__,\n  jsonEditor___vue_scopeId__,\n  jsonEditor___vue_module_identifier__\n)\n\n/* harmony default export */ var src_components_jsonEditor = __webpack_exports__[\"a\"] = (jsonEditor_Component.exports);\n\n\n/***/ }),\n\n/***/ 151:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(152);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"0ea71284\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 152:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.json-editor-main{margin-bottom:30px}.json-editor-main .editor-tabs{position:relative}.json-editor-main .list-complete-item{-webkit-transition:all .5s;-o-transition:all .5s;transition:all .5s}.json-editor-main .list-complete-enter,.json-editor-main .list-complete-leave-to{opacity:0;-webkit-transform:translateY(30px);-ms-transform:translateY(30px);transform:translateY(30px)}.json-editor-main .list-complete-leave-active{position:absolute}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 153:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(154);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"6c887340\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 154:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".json-item .show-area .content .text{word-break:break-word!important;word-break:break-all}@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.json-item{position:relative;height:110px;width:100%}.json-item.selected .show-area{border-color:#ff8eb3;-webkit-box-shadow:0 0 0 2px rgba(255,142,179,.2);box-shadow:0 0 0 2px rgba(255,142,179,.2)}.json-item .delete-btn{position:absolute;left:56px;top:18px;width:40px;height:40px;padding:10px;text-align:center;color:#fff;font-size:11px;line-height:20px}.json-item .delete-btn span{display:block;width:100%;height:100%;background-color:#f56c6c;border-radius:50%;opacity:.8}.json-item .up-btn{position:absolute;width:40px;height:40px;padding:10px;right:-18px;top:-18px;line-height:20px}.json-item .up-btn span{display:block;width:100%;height:100%;background-color:#f6f9fa;border-radius:50%;-webkit-box-shadow:0 0 0 1px #e5e9ef;box-shadow:0 0 0 1px #e5e9ef;font-weight:700;color:#333;font-size:11px}.json-item .show-area{background-color:#e5e9ef;border:1px solid transparent;-webkit-transition-duration:.3s;-o-transition-duration:.3s;transition-duration:.3s;border-radius:5px;overflow:hidden;cursor:pointer}.json-item .show-area .capture{float:left;width:76px;height:76px;margin-right:10px}.json-item .show-area .capture .poster{background-position:50%;background-repeat:no-repeat;background-size:cover;width:100%;height:100%}.json-item .show-area .capture .default{width:100%;height:100%;text-align:center;line-height:76px;font-size:30px;color:#fff}.json-item .show-area .capture .default.yellow{background-color:gold}.json-item .show-area .capture .default.green{background-color:#67c23a}.json-item .show-area .content{overflow:hidden;height:76px;padding-top:6px;padding-bottom:6px;padding-right:6px}.json-item .show-area .content .text{font-size:13px;line-height:16px;-webkit-line-clamp:4;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;color:#6d757a}.json-item .append-area{text-align:center}.json-item .append-area button{width:50px;height:30px;line-height:20px;padding:5px;margin:0 3px}.json-item .append-area button span{display:block;width:100%;height:100%;background-color:#ccd0d7;color:#fff;font-size:12px;border-radius:10px}.json-item .append-area button i{font-weight:700}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 155:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(156);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"0176f8a2\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 156:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.image-preview .body .el-input{margin-top:20px;padding:0 30px}.image-preview .body .el-input__inner{border-top:none;border-left:none;border-right:none;text-align:center}.image-preview .body .uploader{margin-top:30vh;text-align:center}.image-preview .body .uploader .el-upload__text{margin-top:5px}.image-preview .footer{text-align:center;line-height:15px;height:15px;margin-bottom:40px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 157:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(158);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"25a8ce21\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 158:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".text-preview .shim,.text-preview textarea{word-break:break-word!important;word-break:break-all}@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.text-preview{position:relative;z-index:1}.text-preview .shim,.text-preview textarea{width:100%;display:block;font-weight:400;font-size:14px;line-height:25px;letter-spacing:0;padding-left:15px;padding-right:15px;margin-bottom:46px}.text-preview .shim{height:auto;position:relative;visibility:hidden;white-space:pre-wrap;min-height:300px}.text-preview textarea{position:absolute;top:0;left:0;height:100%;overflow-y:auto;border:none;resize:none;color:#333}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 171:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: external \"@babel/runtime/regenerator\"\nvar regenerator_ = __webpack_require__(0);\nvar regenerator__default = /*#__PURE__*/__webpack_require__.n(regenerator_);\n\n// EXTERNAL MODULE: external \"regenerator-runtime/runtime\"\nvar runtime_ = __webpack_require__(1);\nvar runtime__default = /*#__PURE__*/__webpack_require__.n(runtime_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/asyncToGenerator\"\nvar asyncToGenerator_ = __webpack_require__(2);\nvar asyncToGenerator__default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator_);\n\n// EXTERNAL MODULE: ./src/components/jsonEditor/JsonContent.vue + 8 modules\nvar JsonContent = __webpack_require__(129);\n\n// EXTERNAL MODULE: ./src/components/common/VoteButton.vue + 2 modules\nvar VoteButton = __webpack_require__(117);\n\n// EXTERNAL MODULE: ./src/components/comments/CommentMain.vue + 8 modules\nvar CommentMain = __webpack_require__(101);\n\n// EXTERNAL MODULE: ./src/components/common/SocialPanel.vue + 2 modules\nvar SocialPanel = __webpack_require__(113);\n\n// EXTERNAL MODULE: ./src/api/questionApi.js\nvar questionApi = __webpack_require__(18);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/flow/item/AnswerFlowItem.vue\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n/* harmony default export */ var AnswerFlowItem = ({\n  name: \"AnswerFlowItem\",\n  components: {\n    JsonContent: JsonContent[\"a\" /* default */],\n    VoteButton: VoteButton[\"a\" /* default */],\n    CommentMain: CommentMain[\"a\" /* default */],\n    SocialPanel: SocialPanel[\"a\" /* default */]\n  },\n  props: {\n    item: {\n      required: true,\n      type: Object\n    }\n  },\n\n  data() {\n    return {\n      showCommentModal: false\n    };\n  },\n\n  computed: {\n    qaq() {\n      return this.$store.state.question.qaq;\n    },\n\n    isMine() {\n      return this.$store.state.login ? this.$store.state.user.id === this.item.user.id : false;\n    }\n\n  },\n  methods: {\n    handleVoted(result) {\n      this.$store.commit(\"question/TOGGLE_ANSWER_VOTE\", {\n        id: this.item.id,\n        data: result\n      });\n    },\n\n    loadAnswerComment() {\n      this.showCommentModal = true;\n      this.$nextTick(() => {\n        this.$channel.$emit(`fire-load-comment-answer-${this.item.id}`);\n      });\n    },\n\n    deleteAnswer() {\n      var _this = this;\n\n      this.$confirm(\"删除后无法找回, 是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(\n      /*#__PURE__*/\n      asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee() {\n        var api;\n        return regenerator__default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                api = new questionApi[\"a\" /* default */](_this);\n                _context.prev = 1;\n                _context.next = 4;\n                return api.deleteAnswer({\n                  id: _this.item.id\n                });\n\n              case 4:\n                window.location.reload();\n                _context.next = 10;\n                break;\n\n              case 7:\n                _context.prev = 7;\n                _context.t0 = _context[\"catch\"](1);\n\n                _this.$toast.error(_context.t0);\n\n              case 10:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[1, 7]]);\n      }))).catch(() => {});\n    },\n\n    handleCommentChange(count) {\n      this.$store.commit(\"question/COMMENT_CHANGE_COUNT\", {\n        id: this.item.id,\n        key: \"answer\",\n        value: count\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-517d5776\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/flow/item/AnswerFlowItem.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"answer-flow-item\",attrs:{\"id\":(\"answer-\" + (_vm.item.id))}},[_vm._ssrNode(\"<header class=\\\"answer-header\\\">\",\"</header>\",[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.item.user.zone)))+\" class=\\\"avatar\\\">\",\"</a>\",[_c('v-img',{attrs:{\"src\":_vm.item.user.avatar,\"avatar\":true,\"size\":\"38\"}})],1),_vm._ssrNode(\"<div class=\\\"info\\\"><a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.item.user.zone)))+\" class=\\\"nickname\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.user.nickname))+\"</a><p class=\\\"oneline signature\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.user.signature))+\"</p></div>\")],2),(_vm.item.vote_count)?_vm._ssrNode(\"<div class=\\\"answer-meta\\\">\",\"</div>\",[_vm._ssrNode(((_vm.item.source_url)?(\"<span><a\"+(_vm._ssrAttr(\"href\",_vm.item.source_url))+\" target=\\\"_blank\\\">\\n        原文链接\\n      </a>\\n      ·\\n    </span>\"):\"<!---->\")),(_vm.item.created_at === _vm.item.published_at)?_vm._ssrNode(\"<span>\",\"</span>\",[_vm._ssrNode(\"\\n      发布于\\n      \"),_c('v-time',{model:{value:(_vm.item.created_at),callback:function ($$v) {_vm.$set(_vm.item, \"created_at\", $$v)},expression:\"item.created_at\"}})],2):_vm._ssrNode(\"<span>\",\"</span>\",[_vm._ssrNode(\"\\n      编辑于\\n      \"),_c('v-time',{model:{value:(_vm.item.published_at),callback:function ($$v) {_vm.$set(_vm.item, \"published_at\", $$v)},expression:\"item.published_at\"}})],2),_vm._ssrNode(\"\\n    ·\\n    <span>\"+_vm._ssrEscape(\"\\n      \"+_vm._s(_vm.item.vote_count)+\" 赞同了该回答\\n    \")+\"</span>\")],2):_vm._e(),_vm._ssrNode(\"<main class=\\\"answer-content\\\">\",\"</main>\",[_c('json-content',{attrs:{\"content\":_vm.item.content}}),_c('social-panel',{attrs:{\"id\":_vm.item.id,\"is-creator\":!_vm.item.source_url,\"user-id\":_vm.item.user.id,\"liked\":_vm.item.liked,\"marked\":_vm.item.marked,\"rewarded\":_vm.item.rewarded,\"reward-users\":_vm.item.reward_users,\"like-users\":_vm.item.like_users,\"mark-users\":_vm.item.mark_users,\"type\":\"answer\",\"social-commit-path\":\"question/ANSWER_SOCIAL_TOGGLE\",\"user-commit-path\":\"question/FETCH_ANSWER_SOCIAL_USERS\"}})],1),_vm._ssrNode(\"<footer class=\\\"answer-footer\\\">\",\"</footer>\",[_c('vote-button',{attrs:{\"id\":_vm.item.id,\"total\":_vm.item.vote_count,\"score\":_vm.item.voted,\"author-id\":_vm.item.user.id,\"type\":\"answer\"},on:{\"vote\":_vm.handleVoted}}),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"medium\"},on:{\"click\":_vm.loadAnswerComment}},[_c('i',{staticClass:\"iconfont icon-pinglun1\"}),_vm._v(\"\\n      \"+_vm._s(_vm.item.comment_count ? _vm.item.comment_count + ' 条评论' : '添加评论')+\"\\n    \")]),(_vm.isMine)?[_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"medium\"},on:{\"click\":function($event){_vm.$channel.$emit('open-write-answer-dialog', true)}}},[_vm._v(\"\\n        编辑\\n      \")]),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"medium\"},on:{\"click\":_vm.deleteAnswer}},[_vm._v(\"\\n        删除\\n      \")])]:_c('v-popover',{attrs:{\"report-id\":_vm.item.id,\"is-creator\":!_vm.item.source_url,\"report-type\":\"answer\"}},[_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"medium\"}},[_c('i',{staticClass:\"el-icon-phone\"}),_vm._v(\"\\n        举报\\n      \")])],1)],2),_c('v-drawer',{attrs:{\"from\":\"bottom\",\"size\":\"80%\"},model:{value:(_vm.showCommentModal),callback:function ($$v) {_vm.showCommentModal=$$v},expression:\"showCommentModal\"}},[_c('div',{staticClass:\"container\"},[_c('comment-main',{attrs:{\"id\":_vm.item.id,\"master-id\":_vm.item.user.id,\"auto\":true,\"empty-text\":\"还没有评论\",\"type\":\"answer\"},on:{\"delete-main-comment\":function($event){_vm.handleCommentChange(-1)},\"create-main-comment\":function($event){_vm.handleCommentChange(1)}}},[_c('button',{staticClass:\"write-btn\",staticStyle:{\"margin-left\":\"15px\"},attrs:{\"slot\":\"header-btn\"},on:{\"click\":function($event){_vm.showCommentModal = false}},slot:\"header-btn\"},[_vm._v(\"关闭\")])])],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var item_AnswerFlowItem = (esExports);\n// CONCATENATED MODULE: ./src/components/flow/item/AnswerFlowItem.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(172),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"4a3c7699\"\nvar Component = normalizeComponent(\n  AnswerFlowItem,\n  item_AnswerFlowItem,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var flow_item_AnswerFlowItem = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 172:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(173);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"ac716ec2\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 173:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.answer-flow-item{padding:16px 0;position:relative;margin-bottom:10px;background-color:#fff;-webkit-box-shadow:0 -1px 3px rgba(26,26,26,.1);box-shadow:0 -1px 3px rgba(26,26,26,.1);overflow:hidden}.answer-flow-item .answer-header{height:40px;margin-bottom:10px;padding:0 15px}.answer-flow-item .answer-header .avatar{float:left;margin-right:10px;width:38px;height:38px}.answer-flow-item .answer-header .info{overflow:hidden}.answer-flow-item .answer-header .info .nickname{color:#444;font-weight:600;font-size:15px;line-height:1.4}.answer-flow-item .answer-header .info .signature{line-height:1.3;font-size:14px;color:#646464}.answer-flow-item .answer-meta{font-size:12px;line-height:16px;margin-bottom:10px;color:#8590a6;padding:0 15px}.answer-flow-item .answer-meta a{font-size:inherit}.answer-flow-item .answer-footer{position:absolute;left:0;bottom:0;width:100%;height:54px;padding:10px 15px}.answer-flow-item .answer-footer .el-button{margin-left:10px;color:#6d757a}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 174:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: external \"@babel/runtime/regenerator\"\nvar regenerator_ = __webpack_require__(0);\nvar regenerator__default = /*#__PURE__*/__webpack_require__.n(regenerator_);\n\n// EXTERNAL MODULE: external \"regenerator-runtime/runtime\"\nvar runtime_ = __webpack_require__(1);\nvar runtime__default = /*#__PURE__*/__webpack_require__.n(runtime_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/asyncToGenerator\"\nvar asyncToGenerator_ = __webpack_require__(2);\nvar asyncToGenerator__default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator_);\n\n// EXTERNAL MODULE: ./src/components/common/FollowButton.vue + 2 modules\nvar FollowButton = __webpack_require__(23);\n\n// EXTERNAL MODULE: external \"core-js/modules/es6.regexp.split\"\nvar es6_regexp_split_ = __webpack_require__(10);\nvar es6_regexp_split__default = /*#__PURE__*/__webpack_require__.n(es6_regexp_split_);\n\n// EXTERNAL MODULE: ./src/api/questionApi.js\nvar questionApi = __webpack_require__(18);\n\n// EXTERNAL MODULE: ./src/components/jsonEditor/index.vue + 11 modules\nvar jsonEditor = __webpack_require__(150);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/question/CreateAnswerForm.vue\n\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var CreateAnswerForm = ({\n  name: \"CreateAnswerForm\",\n  components: {\n    JsonEditor: jsonEditor[\"a\" /* default */]\n  },\n  props: {\n    title: {\n      required: true,\n      type: String\n    },\n    questionId: {\n      required: true,\n      type: Number\n    },\n    value: {\n      required: true,\n      type: Boolean\n    },\n    answerId: {\n      type: Number,\n      default: 0\n    },\n    published: {\n      required: true,\n      type: Boolean\n    }\n  },\n\n  data() {\n    return {\n      id: this.answerId,\n      show: this.value,\n      source_url: \"\",\n      saving: false\n    };\n  },\n\n  computed: {\n    resource() {\n      return this.$store.state.editor.resource;\n    }\n\n  },\n\n  mounted() {\n    this.$watch(\"show\", val => {\n      this.$emit(\"input\", val);\n    });\n    this.$watch(\"value\", val => {\n      this.show = val;\n    });\n    this.loadEditContent();\n  },\n\n  methods: {\n    beforeSubmit(richContent) {\n      if (this.source_url && !/^https?:\\/\\/(([a-zA-Z0-9_-])+(\\.)?)*(:\\d+)?(\\/((\\.)?(\\?)?=?&?[a-zA-Z0-9_-](\\?)?)*)*$/i.test(this.source_url)) {\n        this.$toast.error(\"请输入合法转载链接\");\n        return;\n      }\n\n      if (this.saving) {\n        return;\n      }\n\n      this.saving = true;\n\n      if (this.id) {\n        this.submit(richContent);\n      } else {\n        this.$captcha({\n          success: (_ref) => {\n            var data = _ref.data;\n            this.submit(richContent, data);\n          },\n          error: e => {\n            this.$toast.error(e);\n            this.saving = false;\n          },\n          close: () => {\n            this.saving = false;\n          }\n        });\n      }\n    },\n\n    submit(richContent) {\n      var _this = this,\n          _arguments = arguments;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee() {\n        var geetest, api, form, _result;\n\n        return regenerator__default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                geetest = _arguments.length > 1 && _arguments[1] !== undefined ? _arguments[1] : {};\n\n                _this.$toast.loading(\"保存中\");\n\n                _this.$channel.$emit(\"write-submit\", true);\n\n                api = new questionApi[\"a\" /* default */](_this);\n                _context.prev = 4;\n                form = {\n                  question_id: _this.questionId,\n                  content: richContent.content,\n                  intro: richContent.desc.substring(0, 120),\n                  do_publish: richContent.publish,\n                  source_url: _this.source_url.split(\"?\")[0],\n                  geetest\n                };\n\n                if (!_this.id) {\n                  _context.next = 12;\n                  break;\n                }\n\n                form.id = _this.id;\n                _context.next = 10;\n                return api.updateAnswer(form);\n\n              case 10:\n                _context.next = 16;\n                break;\n\n              case 12:\n                _context.next = 14;\n                return api.createAnswer(form);\n\n              case 14:\n                _result = _context.sent;\n                _this.id = _result.data;\n\n              case 16:\n                if (richContent.publish) {\n                  _this.$store.commit(\"UPDATE_USER_EXP\", 4);\n\n                  _this.$toast.success(typeof result !== \"undefined\" ? result.message : \"发布成功\").then(() => {\n                    window.location.href = _this.$alias.answer(_this.id);\n                  });\n                } else {\n                  _this.$toast.success(typeof result !== \"undefined\" ? result.message : \"保存成功\");\n\n                  _this.$store.commit(\"question/EDIT_ANSWER\", {\n                    id: _this.id\n                  });\n\n                  _this.closeEditor();\n                }\n\n                _context.next = 22;\n                break;\n\n              case 19:\n                _context.prev = 19;\n                _context.t0 = _context[\"catch\"](4);\n\n                _this.$toast.error(_context.t0);\n\n              case 22:\n                _context.prev = 22;\n                _this.saving = false;\n                return _context.finish(22);\n\n              case 25:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[4, 19, 22, 25]]);\n      }))();\n    },\n\n    loadEditContent() {\n      if (this.resource) {\n        this.source_url = this.resource.source_url;\n      }\n    },\n\n    closeEditor() {\n      this.show = false;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-27c0d418\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/question/CreateAnswerForm.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-drawer',{attrs:{\"header-text\":_vm.answerId ? '编辑回答' : '写回答',\"from\":\"bottom\",\"size\":\"100%\"},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('div',{staticClass:\"container\",attrs:{\"id\":\"create-answer-form\"}},[_c('h3',{staticClass:\"sub-title\"},[_vm._v(\"转载\")]),_c('el-input',{staticClass:\"source-url\",attrs:{\"placeholder\":\"如果是转载，请复制原文链接至此\",\"size\":\"medium\"},model:{value:(_vm.source_url),callback:function ($$v) {_vm.source_url=$$v},expression:\"source_url\"}}),_c('h3',{staticClass:\"sub-title\"},[_vm._v(\"正文\")]),_c('json-editor',{on:{\"submit\":_vm.beforeSubmit}})],1),_c('div',{staticClass:\"qaq-editor-footer\"},[_c('div',{staticClass:\"container\"},[(!_vm.published)?_c('el-button',{attrs:{\"loading\":_vm.saving,\"plain\":\"\",\"size\":\"medium\"},on:{\"click\":function($event){_vm.$channel.$emit('write-save')}}},[_vm._v(\"\\n        \"+_vm._s(_vm.id ? '更新草稿' : '存草稿')+\"\\n      \")]):_vm._e(),_c('el-button',{attrs:{\"loading\":_vm.saving,\"size\":\"medium\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.$channel.$emit('write-publish')}}},[_vm._v(_vm._s(_vm.published ? '更新回答' : _vm.id ? '发布回答' : '提交回答'))])],1)])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var question_CreateAnswerForm = (esExports);\n// CONCATENATED MODULE: ./src/components/question/CreateAnswerForm.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(177),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"0e1add50\"\nvar Component = normalizeComponent(\n  CreateAnswerForm,\n  question_CreateAnswerForm,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_question_CreateAnswerForm = (Component.exports);\n\n// EXTERNAL MODULE: ./src/components/comments/CommentMain.vue + 8 modules\nvar CommentMain = __webpack_require__(101);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/question/QuestionPanel.vue\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n/* harmony default export */ var QuestionPanel = ({\n  name: \"QuestionPanel\",\n  components: {\n    FollowButton: FollowButton[\"a\" /* default */],\n    CommentMain: CommentMain[\"a\" /* default */],\n    CreateAnswerForm: components_question_CreateAnswerForm\n  },\n\n  data() {\n    return {\n      collapsed: true,\n      showCommentModal: false,\n      showCreateAnswerForm: false\n    };\n  },\n\n  computed: {\n    id() {\n      return this.qaq.id;\n    },\n\n    qaq() {\n      return this.$store.state.question.qaq;\n    },\n\n    collapsedContent() {\n      var text = this.qaq.intro.substring(0, 78);\n\n      if (this.qaq.images.length) {\n        text += \"[图片]\";\n      }\n\n      return `${text}...`;\n    },\n\n    answerPage() {\n      return this.$route.name === \"answer-show\";\n    },\n\n    answer() {\n      return this.$store.state.question.answers.list[0];\n    },\n\n    isGuest() {\n      return !this.$store.state.login;\n    },\n\n    isMyAnswer() {\n      if (this.isGuest || !this.answerPage) {\n        return false;\n      }\n\n      return this.answer.user.id === this.$store.state.user.id;\n    },\n\n    isMyQAQ() {\n      if (this.isGuest || this.answerPage) {\n        return false;\n      }\n\n      return this.qaq.user.id === this.$store.state.user.id;\n    }\n\n  },\n\n  created() {\n    this.collapsed = this.qaq.intro || this.qaq.images.length;\n  },\n\n  mounted() {\n    var _this = this;\n\n    this.$channel.$on(\"open-write-answer-dialog\", function () {\n      var isEdit = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      if (!_this.$store.state.login) {\n        _this.$channel.$emit(\"sign-in\");\n\n        return;\n      }\n\n      if (isEdit) {\n        _this.editMyAnswer();\n      } else {\n        _this.showCreateAnswerForm = true;\n      }\n    });\n  },\n\n  methods: {\n    toggleFollowQAQ(result) {\n      var user = this.$store.state.user;\n      this.$store.commit(\"question/QAQ_SOCIAL_TOGGLE\", {\n        key: \"follow\",\n        value: result,\n        user: {\n          id: user.id,\n          zone: user.zone,\n          nickname: user.nickname,\n          avatar: user.avatar\n        }\n      });\n    },\n\n    editMyAnswer() {\n      var _this2 = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee() {\n        return regenerator__default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return _this2.$store.dispatch(\"editor/getData\", {\n                  api: new questionApi[\"a\" /* default */](_this2),\n                  id: _this2.qaq.my_answer.id\n                });\n\n              case 3:\n                _this2.showCreateAnswerForm = true;\n                _context.next = 9;\n                break;\n\n              case 6:\n                _context.prev = 6;\n                _context.t0 = _context[\"catch\"](0);\n\n                _this2.$toast.error(_context.t0);\n\n              case 9:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 6]]);\n      }))();\n    },\n\n    loadQAQComment() {\n      this.showCommentModal = true;\n      this.$nextTick(() => {\n        this.$channel.$emit(`fire-load-comment-question-${this.id}`);\n      });\n    },\n\n    collapsedQAQ() {\n      this.collapsed = true;\n      window.scrollTo(0, 0);\n    },\n\n    handleCommentChange(count) {\n      this.$store.commit(\"question/COMMENT_CHANGE_COUNT\", {\n        id: this.id,\n        key: \"qaq\",\n        value: count\n      });\n    },\n\n    beginWriteAnswer() {\n      if (!this.$store.state.login) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      this.showCreateAnswerForm = true;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5b78d23a\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/question/QuestionPanel.vue\nvar QuestionPanel_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.qaq)?_c('div',{attrs:{\"id\":\"question-panel\"}},[_vm._ssrNode(\"<div class=\\\"qaq-question\\\">\",\"</div>\",[_vm._ssrNode(\"<ul class=\\\"qaq-tags\\\">\"+(_vm._ssrList((_vm.qaq.tags),function(tag){return (\"<li><a\"+(_vm._ssrAttr(\"href\",_vm.$alias.bangumi(tag.id)))+\">\"+_vm._ssrEscape(_vm._s(tag.name))+\"</a></li>\")}))+\"</ul><div class=\\\"title\\\"><h1>\"+_vm._ssrEscape(_vm._s(_vm.qaq.title))+\"</h1></div>\"),_vm._ssrNode(\"<div class=\\\"content\\\">\",\"</div>\",[(_vm.collapsed)?_vm._ssrNode(\"<div class=\\\"collapsed-content\\\">\",\"</div>\",[_vm._ssrNode(_vm._ssrEscape(\"\\n        \"+_vm._s(_vm.collapsedContent)+\"\\n        \")),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.collapsed = false}}},[_vm._v(\"\\n          显示全部\\n          \"),_c('i',{staticClass:\"el-icon-arrow-down\"})])],2):[_vm._ssrNode(\"<div class=\\\"text-area\\\">\"+(_vm._s(_vm.qaq.content))+\"</div>\"),_vm._l((_vm.qaq.images),function(img,idx){return _vm._ssrNode(\"<div class=\\\"image-package\\\">\",\"</div>\",[_c('v-img',{staticClass:\"image\",attrs:{\"src\":img.url,\"width\":img.width,\"height\":img.height,\"full\":true}})],1)})]],2),_vm._ssrNode(\"<div class=\\\"panel\\\">\",\"</div>\",[_c('follow-button',{attrs:{\"id\":_vm.id,\"followed\":_vm.qaq.followed,\"theme\":_vm.qaq.followed ? 'info' : 'primary',\"round\":false,\"followed-text\":\"取消关注\",\"un-follow-text\":\"关注问题\",\"size\":\"medium\",\"type\":\"question\"},on:{\"submit\":_vm.toggleFollowQAQ}}),_vm._ssrNode(((_vm.qaq.my_answer)?(((_vm.answerPage)?(((_vm.isMyAnswer)?(\"<button class=\\\"footer-btn\\\"><i class=\\\"el-icon-edit\\\"></i>\\n            编辑回答\\n          </button>\"):(_vm.qaq.my_answer.published_at)?(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.answer(_vm.qaq.my_answer.id)))+\" class=\\\"footer-btn\\\"><i class=\\\"el-icon-view\\\"></i>\\n            查看回答\\n          </a>\"):\"<!---->\")):(((_vm.qaq.my_answer.published_at)?(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.answer(_vm.qaq.my_answer.id)))+\" class=\\\"footer-btn\\\"><i class=\\\"el-icon-view\\\"></i>\\n            查看回答\\n          </a>\"):(\"<button class=\\\"footer-btn\\\"><i class=\\\"el-icon-edit\\\"></i>\\n            编辑回答\\n          </button>\"))))):(\"<button class=\\\"footer-btn\\\"><i class=\\\"el-icon-edit\\\"></i>\\n        写回答\\n      </button>\"))+\"<button class=\\\"footer-btn\\\"><i class=\\\"iconfont icon-pinglun1\\\"></i>\"+_vm._ssrEscape(\"\\n        \"+_vm._s(_vm.qaq.comment_count ? _vm.qaq.comment_count + '条评论' : '添加评论')+\"\\n      \")+\"</button>\"),(!_vm.collapsed)?_vm._ssrNode(\"<div>\",\"</div>\",[_vm._ssrNode(\"<button class=\\\"collapse-btn\\\"><i class=\\\"el-icon-arrow-up\\\"></i>\\n          收起\\n        </button>\"),_c('v-popover',{attrs:{\"report-id\":_vm.qaq.id,\"report-type\":\"question\"}},[_c('button',{staticClass:\"collapse-btn\"},[_c('i',{staticClass:\"el-icon-phone\"}),_vm._v(\"\\n            举报\\n          \")])])],2):_vm._e()],2)],2),_c('create-answer-form',{attrs:{\"title\":_vm.qaq.title,\"question-id\":_vm.id,\"answer-id\":_vm.qaq.my_answer ? _vm.qaq.my_answer.id : 0,\"published\":_vm.qaq.my_answer ? !!_vm.qaq.published_at : false},model:{value:(_vm.showCreateAnswerForm),callback:function ($$v) {_vm.showCreateAnswerForm=$$v},expression:\"showCreateAnswerForm\"}}),_c('v-drawer',{attrs:{\"from\":\"bottom\",\"size\":\"100%\"},model:{value:(_vm.showCommentModal),callback:function ($$v) {_vm.showCommentModal=$$v},expression:\"showCommentModal\"}},[_c('div',{staticClass:\"container\"},[_c('comment-main',{attrs:{\"id\":_vm.id,\"master-id\":_vm.qaq.user_id,\"auto\":true,\"empty-text\":\"还没有评论\",\"type\":\"question\"},on:{\"delete-main-comment\":function($event){_vm.handleCommentChange(-1)},\"create-main-comment\":function($event){_vm.handleCommentChange(1)}}},[_c('button',{staticClass:\"write-btn\",staticStyle:{\"margin-left\":\"15px\"},attrs:{\"slot\":\"header-btn\"},on:{\"click\":function($event){_vm.showCommentModal = false}},slot:\"header-btn\"},[_vm._v(\"关闭\")])])],1)])],1):_vm._e()}\nvar QuestionPanel_staticRenderFns = []\nvar QuestionPanel_esExports = { render: QuestionPanel_render, staticRenderFns: QuestionPanel_staticRenderFns }\n/* harmony default export */ var question_QuestionPanel = (QuestionPanel_esExports);\n// CONCATENATED MODULE: ./src/components/question/QuestionPanel.vue\nfunction QuestionPanel_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(175),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar QuestionPanel_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar QuestionPanel___vue_template_functional__ = false\n/* styles */\nvar QuestionPanel___vue_styles__ = QuestionPanel_injectStyle\n/* scopeId */\nvar QuestionPanel___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar QuestionPanel___vue_module_identifier__ = \"629972d8\"\nvar QuestionPanel_Component = QuestionPanel_normalizeComponent(\n  QuestionPanel,\n  question_QuestionPanel,\n  QuestionPanel___vue_template_functional__,\n  QuestionPanel___vue_styles__,\n  QuestionPanel___vue_scopeId__,\n  QuestionPanel___vue_module_identifier__\n)\n\n/* harmony default export */ var components_question_QuestionPanel = __webpack_exports__[\"a\"] = (QuestionPanel_Component.exports);\n\n\n/***/ }),\n\n/***/ 175:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(176);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"287eb2bc\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 176:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#question-panel .qaq-question .qaq-tags:after,#question-panel .qaq-question .qaq-tags:before{content:\\\"\\\";clear:both;display:table}#question-panel .qaq-question .content .collapsed-content,#question-panel .qaq-question .content .text-area p{word-break:break-word!important;word-break:break-all}@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}#question-panel{background-color:#fff;-webkit-box-shadow:0 1px 3px rgba(26,26,26,.1);box-shadow:0 1px 3px rgba(26,26,26,.1);padding:16px 15px;margin-bottom:10px}#question-panel .qaq-question .qaq-tags li{float:left;margin-right:8px;margin-bottom:6px}#question-panel .qaq-question .qaq-tags a{display:inline-block;padding:0 5px;height:24px;line-height:22px;font-size:12px;color:#ff8eb3;border-radius:4px;border:1px solid #ff8eb3;font-weight:700}#question-panel .qaq-question .title h1{margin-top:2px;margin-bottom:4px;font-weight:500;font-size:17px;line-height:1.6;color:#1a1a1a}#question-panel .qaq-question .content .collapsed-content{margin-bottom:1em;font-size:15px;line-height:1.6}#question-panel .qaq-question .content .text-area p{margin:1em 0;font-size:15px;line-height:1.6}#question-panel .qaq-question .content .text-area p:first-child{margin-top:0}#question-panel .qaq-question .content .image-package .image{margin:15px 0}#question-panel .qaq-question .panel .footer-btn{margin-left:7px;position:relative;padding:4px 10px;font-size:14px;color:#6d757a;background-color:transparent;border-radius:8px;white-space:nowrap}#question-panel .qaq-question .panel .footer-btn:after{content:\\\"\\\";position:absolute;top:0;left:0;border:1px solid #6d757a;width:200%;height:200%;-webkit-transform:scale(.5);-ms-transform:scale(.5);transform:scale(.5);-webkit-transform-origin:left top;-ms-transform-origin:left top;transform-origin:left top;border-radius:8px}#question-panel .qaq-question .panel .collapse-btn{color:#6d757a;font-size:14px;margin-left:10px;margin-top:10px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 177:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(178);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"6cfb0451\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 178:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}#create-answer-form .source-url{margin-bottom:15px}#create-answer-form .source-url input{border-top:none;border-right:none;border-left:none}#create-answer-form .json-editor-main{margin-bottom:55px}#create-answer-form .json-editor-main .text-preview{padding-bottom:0}#create-answer-form .json-editor-main .image-preview .save-btn,#create-answer-form .json-editor-main .text-preview .footer{display:none}.qaq-editor-footer{position:fixed;left:0;bottom:0;width:100%;height:52px;border-top:1px solid #f6f9fa;padding-top:7px;text-align:right;background-color:#fff}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 286:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(287);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"1e72e5d5\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 287:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}#answer-show{background-color:#f6f6f6}#answer-show .read-all-btn{width:100%;background-color:#fff;-webkit-box-shadow:0 1px 3px rgba(26,26,26,.1);box-shadow:0 1px 3px rgba(26,26,26,.1);height:40px;margin-top:10px;margin-bottom:20px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 345:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: external \"@babel/runtime/regenerator\"\nvar regenerator_ = __webpack_require__(0);\nvar regenerator__default = /*#__PURE__*/__webpack_require__.n(regenerator_);\n\n// EXTERNAL MODULE: external \"regenerator-runtime/runtime\"\nvar runtime_ = __webpack_require__(1);\nvar runtime__default = /*#__PURE__*/__webpack_require__.n(runtime_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/asyncToGenerator\"\nvar asyncToGenerator_ = __webpack_require__(2);\nvar asyncToGenerator__default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator_);\n\n// EXTERNAL MODULE: ./src/components/question/QuestionPanel.vue + 5 modules\nvar QuestionPanel = __webpack_require__(174);\n\n// EXTERNAL MODULE: ./src/components/flow/item/AnswerFlowItem.vue + 2 modules\nvar AnswerFlowItem = __webpack_require__(171);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/answer/show.vue\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var show = ({\n  name: \"AnswerShow\",\n\n  asyncData(_ref) {\n    return asyncToGenerator__default()(\n    /*#__PURE__*/\n    regenerator__default.a.mark(function _callee() {\n      var route, store, ctx;\n      return regenerator__default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              route = _ref.route, store = _ref.store, ctx = _ref.ctx;\n              _context.next = 3;\n              return store.dispatch(\"question/getAnswer\", {\n                ctx,\n                id: route.params.id\n              });\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }))();\n  },\n\n  components: {\n    QuestionPanel: QuestionPanel[\"a\" /* default */],\n    AnswerFlowItem: AnswerFlowItem[\"a\" /* default */]\n  },\n  computed: {\n    id() {\n      return +this.$route.params.id;\n    },\n\n    qaq() {\n      return this.$store.state.question.qaq;\n    },\n\n    answer() {\n      return this.$store.state.question.answers.list[0];\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7bd0e014\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/answer/show.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"answer-show\"}},[_c('question-panel'),(_vm.answer)?_vm._ssrNode(\"<div class=\\\"answer\\\">\",\"</div>\",[_c('answer-flow-item',{attrs:{\"item\":_vm.answer}}),_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.question(_vm.qaq.id)))+\">\"+((_vm.qaq.answer_count > 1)?(\"<button class=\\\"read-all-btn\\\">\"+_vm._ssrEscape(\"查看全部 \"+_vm._s(_vm.qaq.answer_count)+\" 个回答\")+\"</button>\"):\"<!---->\")+\"</a>\")],2):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var answer_show = (esExports);\n// CONCATENATED MODULE: ./src/views/answer/show.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(286),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"400ef553\"\nvar Component = normalizeComponent(\n  show,\n  answer_show,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_answer_show = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n};;",
    "3.server-bundle.js": "exports.ids = [3];\nexports.modules = {\n\n/***/ 135:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/search/Input.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var Input = ({\n  name: \"SearchInput\",\n  props: {\n    value: {\n      type: String,\n      default: \"\"\n    },\n    type: {\n      type: String,\n      default: \"all\"\n    },\n    showSuggestion: {\n      type: Boolean,\n      default: true\n    }\n  },\n\n  data() {\n    return {\n      word: this.value,\n      selectedType: this.type,\n      cacheKey: \"search-history\",\n      typing: false,\n      filteredSelect: [],\n      selectedIndex: -1\n    };\n  },\n\n  computed: {\n    bangumis() {\n      return this.$store.state.bangumi.all;\n    },\n\n    displaySuggestion() {\n      return this.showSuggestion && this.word.length && this.typing && this.filteredSelect.length;\n    }\n\n  },\n\n  mounted() {\n    this.$watch(\"value\", val => {\n      this.word = val;\n      this.typing = true;\n      this.selectedIndex = -1;\n      this.handleEnter(val);\n    });\n    this.$watch(\"word\", val => {\n      this.$emit(\"input\", val);\n    });\n    this.$watch(\"$route\", val => {\n      if (val.name === \"search-index\") {\n        this.word = val.query.q;\n        this.selectedType = val.query.type;\n        setTimeout(() => {\n          this.typing = false;\n        }, 0);\n      }\n    });\n  },\n\n  methods: {\n    handleInputBlur() {\n      this.$emit(\"input-blur\");\n      document.body.scrollTop = 0;\n    },\n\n    handleInputFocus() {\n      this.$emit(\"input-focus\");\n      document.body.scrollTop = 0;\n    },\n\n    clear() {\n      this.word = \"\";\n    },\n\n    submit() {\n      var q = this.selectedIndex !== -1 ? this.filteredSelect[this.selectedIndex].name : this.word;\n\n      if (!q) {\n        return;\n      }\n\n      this.setHistory(q);\n      this.$router.push({\n        name: \"search-index\",\n        query: {\n          q,\n          type: this.selectedType\n        }\n      });\n    },\n\n    setHistory(q) {\n      setTimeout(() => {\n        var list = this.getHistory();\n        var index = list.indexOf(q);\n\n        if (index !== -1) {\n          list.splice(index, 1);\n        }\n\n        list.unshift(q);\n\n        if (list.length > 10) {\n          list.pop();\n        }\n\n        try {\n          localStorage.setItem(this.cacheKey, JSON.stringify(list));\n        } catch (e) {}\n      }, 0);\n    },\n\n    getHistory() {\n      try {\n        return JSON.parse(localStorage.getItem(this.cacheKey)) || [];\n      } catch (e) {\n        return [];\n      }\n    },\n\n    clickToSearch(index) {\n      this.selectedIndex = index;\n      this.submit();\n    },\n\n    handleEnter(query) {\n      if (!query) {\n        this.filteredSelect = [];\n        return;\n      }\n\n      this.filteredSelect = this.bangumis.filter(option => {\n        return option.alias.indexOf(query) > -1 || option.name.indexOf(query) > -1;\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-456587b5\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/search/Input.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{staticClass:\"search-input-wrap\",attrs:{\"method\":\"get\",\"action\":\"#\"},on:{\"submit\":function($event){$event.preventDefault();_vm.submit($event)}}},[_vm._ssrNode(\"<button type=\\\"submit\\\" class=\\\"search-btn\\\"><i class=\\\"iconfont icon-sousuo\\\"></i></button>\"+((_vm.word)?(\"<button type=\\\"button\\\" class=\\\"clear-btn\\\">×</button>\"):\"<!---->\")+\"<div class=\\\"input-wrap\\\"><input maxlength=\\\"200\\\" name=\\\"q\\\" type=\\\"search\\\" aria-autocomplete=\\\"both\\\" aria-haspopup=\\\"false\\\" autocapitalize=\\\"off\\\" autocomplete=\\\"off\\\" autocorrect=\\\"off\\\" role=\\\"combobox\\\" spellcheck=\\\"false\\\" placeholder=\\\"搜索二次元的一切\\\" aria-label=\\\"搜索\\\"\"+(_vm._ssrAttr(\"value\",(_vm.word)))+\"></div><ul class=\\\"search-suggestion\\\"\"+(_vm._ssrStyle(null,null, { display: (_vm.displaySuggestion) ? '' : 'none' }))+\">\"+(_vm._ssrList((_vm.filteredSelect),function(item,index){return (\"<li\"+(_vm._ssrClass(null,{ active: index === _vm.selectedIndex }))+\"><img\"+(_vm._ssrAttr(\"src\",_vm.$resize(item.avatar, { width: 60 })))+\"><span>\"+_vm._ssrEscape(_vm._s(item.name))+\"</span></li>\")}))+\"</ul>\")])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var search_Input = (esExports);\n// CONCATENATED MODULE: ./src/components/search/Input.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(136),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"2f4cbda2\"\nvar Component = normalizeComponent(\n  Input,\n  search_Input,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_search_Input = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 136:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(137);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"9ae8ae98\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 137:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.search-input-wrap{position:relative;border-radius:8px}.search-input-wrap .clear-btn{float:right;color:#757575;font:27px/25px arial,sans-serif;padding:0 15px 0 5px;line-height:38px;border-top:1px solid #d9d9d9;border-bottom:1px solid #d9d9d9;height:40px}.search-input-wrap .search-btn{float:right;height:40px;width:40px;background-color:#ffafc9;border-top-right-radius:8px;border-bottom-right-radius:8px;font-weight:700;font-size:20px;color:#fff}.search-input-wrap .input-wrap{overflow:hidden;padding:7px 0 6px;border:1px solid #d9d9d9;border-right:0;border-top-left-radius:8px;border-bottom-left-radius:8px;height:40px}.search-input-wrap .input-wrap input{width:100%;height:100%;font-size:18px;color:rgba(0,0,0,.87);word-wrap:break-word;padding:0 0 0 16px}.search-input-wrap .search-suggestion{position:absolute;left:0;top:110%;width:100%;z-index:999;max-height:160px;background-color:#fff;overflow-y:scroll;border:1px solid #d9d9d9;border-radius:5px}.search-input-wrap .search-suggestion li{height:40px;padding:5px 0}.search-input-wrap .search-suggestion li img{height:30px;width:30px;border-radius:3px;vertical-align:middle;margin-left:10px;margin-right:8px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 138:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: external \"@babel/runtime/regenerator\"\nvar regenerator_ = __webpack_require__(0);\nvar regenerator__default = /*#__PURE__*/__webpack_require__.n(regenerator_);\n\n// EXTERNAL MODULE: external \"regenerator-runtime/runtime\"\nvar runtime_ = __webpack_require__(1);\nvar runtime__default = /*#__PURE__*/__webpack_require__.n(runtime_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/asyncToGenerator\"\nvar asyncToGenerator_ = __webpack_require__(2);\nvar asyncToGenerator__default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator_);\n\n// EXTERNAL MODULE: external \"core-js/modules/web.dom.iterable\"\nvar web_dom_iterable_ = __webpack_require__(3);\nvar web_dom_iterable__default = /*#__PURE__*/__webpack_require__.n(web_dom_iterable_);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/bangumi/BangumiPicker.vue\n\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var BangumiPicker = ({\n  name: \"BangumiPicker\",\n  props: {\n    display: {\n      required: true,\n      type: Boolean\n    },\n    value: {\n      required: true,\n      type: [Number, String]\n    },\n    label: {\n      type: Boolean,\n      default: true\n    }\n  },\n\n  data() {\n    return {\n      show: false,\n      loading: false,\n      fetched: false,\n      selected: false,\n      isFirst: true,\n      list: [{\n        flex: 1,\n        defaultIndex: -1,\n        values: [],\n        textAlign: \"center\"\n      }]\n    };\n  },\n\n  computed: {\n    notInit() {\n      return !this.list[0].values.length;\n    },\n\n    placeholder() {\n      if (this.loading) {\n        return \"加载中...\";\n      }\n\n      if (this.notInit) {\n        return \"请先关注番剧\";\n      }\n\n      if (!this.selected) {\n        return \"点击选择番剧\";\n      }\n\n      return this.list[0].values[this.list[0].defaultIndex][\"name\"];\n    },\n\n    user() {\n      return this.$store.state.user;\n    }\n\n  },\n\n  mounted() {\n    this.$watch(\"value\", val => {\n      this.autoSelect(val);\n    });\n    this.$watch(\"display\", val => {\n      if (val && this.notInit) {\n        this.getData();\n      }\n    });\n  },\n\n  methods: {\n    onClickSelect() {\n      this.selected = true;\n      this.$emit(\"input\", this.list[0].values[this.list[0].defaultIndex][\"id\"]);\n    },\n\n    onSlideSelect(picker, values) {\n      if (!values[0]) {\n        return;\n      }\n\n      var id = values[0].id;\n      this.list[0].values.forEach((item, index) => {\n        if (item.id === id) {\n          this.list[0].defaultIndex = index;\n\n          if (!this.isFirst) {\n            this.selected = true;\n            this.$emit(\"input\", item.id);\n          } else {\n            this.isFirst = false;\n          }\n        }\n      });\n    },\n\n    openPicker() {\n      if (!this.fetched) {\n        this.getData();\n      } else if (this.notInit) {\n        this.$toast.error(\"请先关注番剧\");\n      } else {\n        this.show = true;\n      }\n    },\n\n    getData() {\n      var _this = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee() {\n        return regenerator__default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!(_this.loading || !_this.user)) {\n                  _context.next = 2;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 2:\n                _this.loading = true;\n                _context.prev = 3;\n                _context.next = 6;\n                return _this.$store.dispatch(\"users/getFollowBangumis\", {\n                  zone: _this.user.zone\n                });\n\n              case 6:\n                _this.list[0].values = _context.sent;\n\n                _this.autoSelect(_this.value);\n\n                _this.fetched = true;\n                _context.next = 14;\n                break;\n\n              case 11:\n                _context.prev = 11;\n                _context.t0 = _context[\"catch\"](3);\n\n                _this.$toast.error(_context.t0);\n\n              case 14:\n                _context.prev = 14;\n                _this.loading = false;\n                return _context.finish(14);\n\n              case 17:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[3, 11, 14, 17]]);\n      }))();\n    },\n\n    autoSelect(id) {\n      this.list[0].values.forEach((item, index) => {\n        if (!(item.id - id)) {\n          this.selected = true;\n          this.list[0].defaultIndex = index;\n        }\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5ccb8476\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/bangumi/BangumiPicker.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"bangumi-picker\"},[_vm._ssrNode(((_vm.label)?(\"<span>番剧：</span>\"):\"<!---->\")+\"<div>\"+_vm._ssrEscape(_vm._s(_vm.placeholder))+\"</div>\"),_c('v-drawer',{attrs:{\"from\":\"bottom\",\"size\":\"250px\",\"header-text\":\"选择番剧\",\"submit-text\":\"确认\"},on:{\"submit\":_vm.onClickSelect},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('mt-picker',{attrs:{\"slots\":_vm.list,\"value-key\":\"name\"},on:{\"change\":_vm.onSlideSelect}})],1)],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var bangumi_BangumiPicker = (esExports);\n// CONCATENATED MODULE: ./src/components/bangumi/BangumiPicker.vue\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"0aded362\"\nvar Component = normalizeComponent(\n  BangumiPicker,\n  bangumi_BangumiPicker,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_bangumi_BangumiPicker = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 159:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/common/Radio.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/**\n * mt-radio\n * @module components/radio\n * @desc 单选框列表，依赖 cell 组件\n *\n * @param {string[], object[]} options - 选项数组，可以传入 [{label: 'label', value: 'value', disabled: true}] 或者 ['ab', 'cd', 'ef']\n * @param {string} value - 选中值\n * @param {string} title - 标题\n * @param {string} [align=left] - checkbox 对齐位置，`left`, `right`\n *\n * @example\n * <mt-radio v-model=\"value\" :options=\"['a', 'b', 'c']\"></mt-radio>\n */\n/* harmony default export */ var Radio = ({\n  name: \"VRadio\",\n  props: {\n    title: {\n      type: String,\n      default: \"\"\n    },\n    align: {\n      type: String,\n      default: \"\"\n    },\n    options: {\n      type: Array,\n      required: true\n    },\n    value: {\n      type: [String, Number],\n      default: \"\"\n    }\n  },\n\n  data() {\n    return {\n      currentValue: this.value\n    };\n  },\n\n  watch: {\n    value(val) {\n      this.currentValue = val;\n    },\n\n    currentValue(val) {\n      this.$emit(\"input\", val);\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-a846a36e\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/Radio.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mint-radiolist\",on:{\"change\":function($event){_vm.$emit('change', _vm.currentValue)}}},[_vm._ssrNode(((_vm.title)?(\"<label class=\\\"mint-radiolist-title\\\">\"+_vm._ssrEscape(_vm._s(_vm.title))+\"</label>\"):\"<!---->\")+(_vm._ssrList((_vm.options),function(option,index){return (\"<div class=\\\"mint-radio-wrap\\\"><label class=\\\"mint-radiolist-label\\\"><span\"+(_vm._ssrClass(\"mint-radio\",{'is-right': _vm.align === 'right'}))+\"><input\"+(_vm._ssrAttr(\"disabled\",option.disabled))+\" type=\\\"radio\\\"\"+(_vm._ssrAttr(\"value\",option.value || option))+(_vm._ssrAttr(\"checked\",_vm._q(_vm.currentValue,option.value || option)))+\" class=\\\"mint-radio-input\\\"><span class=\\\"mint-radio-core\\\"></span></span><span class=\\\"mint-radio-label\\\">\"+_vm._ssrEscape(_vm._s(option.label || option))+\"</span></label></div>\")})))])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var common_Radio = (esExports);\n// CONCATENATED MODULE: ./src/components/common/Radio.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(161),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"7e96f454\"\nvar Component = normalizeComponent(\n  Radio,\n  common_Radio,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_common_Radio = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 161:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(162);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"125c3291\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 162:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.mint-radiolist{text-align:left}.mint-radiolist .mint-radiolist-label{height:48px;display:block;padding:0 10px;position:relative}.mint-radiolist .mint-radiolist-label:before{content:\\\"\\\";position:absolute;left:0;height:1px;width:100%;background-color:#f0f0f0;bottom:0}.mint-radiolist .mint-radiolist-title{font-size:12px;padding:8px;display:block;color:#888;position:relative}.mint-radiolist .mint-radiolist-title:before{content:\\\"\\\";position:absolute;left:0;height:1px;width:100%;background-color:#f0f0f0;bottom:0}.mint-radio-wrap{height:48px;background-color:#fff}.mint-radio{display:inline-block;vertical-align:middle;line-height:48px;height:48px}.mint-radio.is-right{float:right}.mint-radio .mint-radio-input{opacity:0;width:0;height:0}.mint-radio .mint-radio-input:checked+.mint-radio-core{background-color:#26a2ff;border-color:#26a2ff}.mint-radio .mint-radio-input:checked+.mint-radio-core:after{background-color:#fff;-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1)}.mint-radio .mint-radio-input[disabled]+.mint-radio-core{background-color:#d9d9d9;border-color:#ccc}.mint-radio .mint-radio-core{-webkit-box-sizing:border-box;box-sizing:border-box;display:inline-block;background-color:#fff;border-radius:100%;border:1px solid #ccc;position:relative;width:20px;height:20px;vertical-align:middle;top:-2px}.mint-radio .mint-radio-core:after{content:\\\"\\\";border-radius:100%;position:absolute;left:5px;top:5px;width:8px;height:8px;-webkit-transition:-webkit-transform .2s;transition:-webkit-transform .2s;-o-transition:transform .2s;transition:transform .2s;transition:transform .2s,-webkit-transform .2s;-webkit-transform:scale(0);-ms-transform:scale(0);transform:scale(0)}.mint-radio-label{display:inline-block;height:48px;line-height:48px;vertical-align:middle;margin-left:6px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 163:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: external \"@babel/runtime/regenerator\"\nvar regenerator_ = __webpack_require__(0);\nvar regenerator__default = /*#__PURE__*/__webpack_require__.n(regenerator_);\n\n// EXTERNAL MODULE: external \"regenerator-runtime/runtime\"\nvar runtime_ = __webpack_require__(1);\nvar runtime__default = /*#__PURE__*/__webpack_require__.n(runtime_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/asyncToGenerator\"\nvar asyncToGenerator_ = __webpack_require__(2);\nvar asyncToGenerator__default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator_);\n\n// EXTERNAL MODULE: ./src/api/userApi.js\nvar userApi = __webpack_require__(12);\n\n// EXTERNAL MODULE: ./src/components/common/Radio.vue + 2 modules\nvar Radio = __webpack_require__(159);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/user/UserReportForm.vue\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var UserReportForm = ({\n  name: \"UserReportForm\",\n  components: {\n    VRadio: Radio[\"a\" /* default */]\n  },\n  props: {\n    id: {\n      type: [Number, String],\n      default: 0\n    },\n    model: {\n      type: [Number, String],\n      default: 0\n    }\n  },\n\n  data() {\n    return {\n      selectedType: -1,\n      loading: false,\n      content: \"\"\n    };\n  },\n\n  computed: {\n    options1() {\n      return [{\n        label: \"违法违规\",\n        value: 1\n      }, {\n        label: \"色情低俗\",\n        value: 2\n      }, {\n        label: \"赌博诈骗\",\n        value: 3\n      }];\n    },\n\n    options2() {\n      return [{\n        label: \"人身攻击\",\n        value: 4\n      }, {\n        label: \"侵犯隐私\",\n        value: 5\n      }, {\n        label: \"内容抄袭\",\n        value: 6\n      }];\n    },\n\n    options3() {\n      return [{\n        label: \"垃圾广告\",\n        value: 7\n      }, {\n        label: \"恶意引战\",\n        value: 8\n      }, {\n        label: \"重复内容/刷屏\",\n        value: 9\n      }, {\n        label: \"内容不相关\",\n        value: 10\n      }, {\n        label: \"互刷金币\",\n        value: 11\n      }, {\n        label: \"其它\",\n        value: 99\n      }];\n    },\n\n    needContent() {\n      return this.selectedType === 99 || this.selectedType === 6;\n    }\n\n  },\n  methods: {\n    submit() {\n      var _this = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee() {\n        var api;\n        return regenerator__default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!(!_this.id || !_this.model)) {\n                  _context.next = 3;\n                  break;\n                }\n\n                _this.$toast.error(\"参数错误\");\n\n                return _context.abrupt(\"return\");\n\n              case 3:\n                if (!(_this.selectedType < 0)) {\n                  _context.next = 6;\n                  break;\n                }\n\n                _this.$toast.error(\"请选择正确的分类\");\n\n                return _context.abrupt(\"return\");\n\n              case 6:\n                if (!(_this.needContent && !_this.content)) {\n                  _context.next = 9;\n                  break;\n                }\n\n                _this.$toast.error(\"请填写具体情况\");\n\n                return _context.abrupt(\"return\");\n\n              case 9:\n                if (!_this.loading) {\n                  _context.next = 11;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 11:\n                _this.loading = true;\n                api = new userApi[\"a\" /* default */](_this);\n\n                try {\n                  api.report({\n                    id: _this.id,\n                    message: _this.content,\n                    type: _this.selectedType === 99 ? 0 : _this.selectedType,\n                    model: _this.model\n                  });\n                } finally {\n                  _this.loading = false;\n\n                  _this.$toast.success(\"感谢您的反馈！\");\n\n                  _this.content = \"\";\n                  _this.selectedType = -1;\n\n                  _this.$emit(\"success\");\n                }\n\n              case 14:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }))();\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5509bc0e\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/user/UserReportForm.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\",attrs:{\"id\":\"user-report-form\"}},[_c('v-radio',{attrs:{\"options\":_vm.options1,\"title\":\"违反法律法规\"},model:{value:(_vm.selectedType),callback:function ($$v) {_vm.selectedType=$$v},expression:\"selectedType\"}}),_c('v-radio',{attrs:{\"options\":_vm.options2,\"title\":\"侵犯个人权益\"},model:{value:(_vm.selectedType),callback:function ($$v) {_vm.selectedType=$$v},expression:\"selectedType\"}}),_c('v-radio',{attrs:{\"options\":_vm.options3,\"title\":\"有害社区环境\"},model:{value:(_vm.selectedType),callback:function ($$v) {_vm.selectedType=$$v},expression:\"selectedType\"}}),_vm._ssrNode(((_vm.needContent)?(\"<div><p>留言：</p><textarea placeholder=\\\"请说明情况\\\"></textarea></div>\"):\"<!---->\")),_c('el-button',{staticClass:\"submit-btn\",attrs:{\"loading\":_vm.loading,\"type\":\"primary\"},on:{\"click\":_vm.submit}},[_vm._v(\"提交\")])],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var user_UserReportForm = (esExports);\n// CONCATENATED MODULE: ./src/components/user/UserReportForm.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(164),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"de46f350\"\nvar Component = normalizeComponent(\n  UserReportForm,\n  user_UserReportForm,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_user_UserReportForm = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 164:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(165);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"59e87b36\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 165:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}#user-report-form{margin-top:10px}#user-report-form p{font-size:12px;padding:8px;color:#888}#user-report-form textarea{min-height:120px;background-color:#fafafa;padding:10px}#user-report-form .submit-btn{margin-top:15px;margin-bottom:30px;width:100%}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 179:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(180);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"1d08d650\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 180:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}#layout-default{min-height:100%;overflow-y:auto;overflow-x:hidden;-webkit-overflow-scrolling:auto}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 181:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(182);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"048df008\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 182:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}#header{height:48px}#header .header-text{position:fixed;left:0;top:0;width:100%;height:48px;z-index:9;background-color:#fff;padding:0 10px}#header .header-text.border-header{-webkit-box-shadow:0 2px 4px rgba(0,0,0,.1);box-shadow:0 2px 4px rgba(0,0,0,.1)}#header .header-text .nav-left{float:left}#header .header-text .nav-left .logo{width:24px;height:24px;margin-right:8px;margin-left:5px;vertical-align:middle}#header .header-text .nav-left .link{color:#757575;display:inline-block;-webkit-box-flex:0;font-size:12px;font-weight:600;line-height:48px;padding:0 8px;text-align:center}#header .header-text .nav-left .link.active{color:#f25d8e}#header .header-text .nav-right{overflow:hidden;text-align:right;height:100%}#header .header-text .nav-right .icon-apps{font-size:22px;color:#757575;margin-right:12px;line-height:48px}#header .header-text .nav-right .sign-btn{display:block;background-color:#f8f8f8;border:1px solid #c6c6c6;line-height:28px;padding:0 9px;border-radius:2px;margin-top:9px;float:right}#header .header-text .nav-right .open-search-btn{display:inline-block;vertical-align:middle;height:100%;margin-right:12px;float:right}#header .header-text .nav-right .open-search-btn i{font-size:24px;line-height:24px;color:#757575}#header .header-text .nav-right .nav-avatar{position:relative;margin-top:11px;float:right}#header .header-text .nav-right .nav-avatar .badge{display:block;position:absolute;top:0;right:0;width:10px;height:10px;border-radius:50%;background-color:red;pointer-events:none}#header .header-text .nav-right .nav-avatar .badge:after{content:\\\"\\\";position:absolute;top:0;left:0;border:1px solid #fff;width:200%;height:200%;-webkit-transform:scale(.5);-ms-transform:scale(.5);transform:scale(.5);-webkit-transform-origin:left top;-ms-transform-origin:left top;transform-origin:left top;border-radius:50%}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 183:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(184);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"3af09fe1\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 184:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.search-drawer{text-align:left}.search-drawer .search-input-wrap{margin-bottom:10px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 185:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(186);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"032dc702\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 186:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.search-history .title{margin-top:10px;height:30px;line-height:30px;font-size:12px;color:#999}.search-history li{position:relative;color:#505050;height:40px;line-height:39px;font-size:12px}.search-history li:after{content:\\\"\\\";position:absolute;left:0;right:0;bottom:0;height:1px;background-color:#f0f0f0;-webkit-transform:scaleY(.5);-ms-transform:scaleY(.5);transform:scaleY(.5);margin-left:0;margin-right:0}.search-history .clear-btn{width:100%;height:40px;line-height:40px;text-align:center;font-size:12px;color:#999}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 187:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(188);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"38cd6264\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 188:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}#creator-menu-wrap{z-index:94;position:fixed;left:0;top:0;width:100%;height:100%;pointer-events:none}#creator-menu-wrap .backdrop{pointer-events:auto}#creator-menu-wrap .palette-button{pointer-events:auto;position:absolute;bottom:20px;left:50%;width:48px;height:48px;margin-left:-24px;z-index:100;color:#fff;-webkit-transform:translateY(200px);-ms-transform:translateY(200px);transform:translateY(200px)}#creator-menu-wrap .palette-button.isScrollTop{-webkit-transform:translateY(0);-ms-transform:translateY(0);transform:translateY(0)}#creator-menu-wrap .mint-main-button{background-color:#ff8eb3;line-height:48px;-webkit-box-shadow:0 2px 5px rgba(26,26,26,.25);box-shadow:0 2px 5px rgba(26,26,26,.25)}#creator-menu-wrap .mint-main-button:after{content:\\\"\\\";position:absolute;left:50%;top:50%;width:40%;height:2px;-webkit-transform:translate(-50%,-1px);-ms-transform:translate(-50%,-1px);transform:translate(-50%,-1px);background-color:#fff;border-radius:2px}#creator-menu-wrap .mint-main-button:before{content:\\\"\\\";position:absolute;left:50%;top:50%;width:2px;height:40%;-webkit-transform:translate(-1px,-50%);-ms-transform:translate(-1px,-50%);transform:translate(-1px,-50%);background-color:#fff;border-radius:2px}#creator-menu-wrap .ic-btn{width:30px;height:30px;line-height:30px;border-radius:50%;color:#fff;text-align:center;pointer-events:auto}#creator-menu-wrap .ic-btn.el-icon-picture{background-color:#ec414d}#creator-menu-wrap .ic-btn.score-btn{background-color:#30a080}#creator-menu-wrap .ic-btn.score-btn a{width:100%;height:100%;display:block}#creator-menu-wrap .ic-btn.score-btn i{font-weight:700}#creator-menu-wrap .ic-btn.icon-pinglun1{background-color:RGB(60,134,247);font-weight:700}#creator-menu-wrap .ic-btn.el-icon-question{background-color:#0084ff;color:#fff}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 189:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 190:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(191);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"ebea35c4\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 191:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.post-write-drawer{text-align:left;line-height:40px}.post-write-drawer .title{font-size:16px;color:#000;line-height:20px}.post-write-drawer .bangumi{font-size:16px}.post-write-drawer .bangumi>span{color:#666;float:left}.post-write-drawer .bangumi>div{color:#000;overflow:hidden}.post-write-drawer .bangumi .mint-switch{height:40px}.post-write-drawer .content{font-size:16px;line-height:24px;color:#000;font-weight:400;height:120px;padding-top:10px}.post-write-drawer .el-upload--picture-card,.post-write-drawer .el-upload-list__item{width:15vw;height:15vw;line-height:15vw}.post-write-drawer .btn-submit{margin-top:15px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 192:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(193);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"1a12a1d2\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 193:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.create-image-drawer .field{font-size:16px;line-height:48px}.create-image-drawer .field>span{float:left}.create-image-drawer .field>div{color:#000;overflow:hidden}.create-image-drawer .field .mint-switch{height:48px}.create-image-drawer .field .mint-switch .mint-switch-input:checked+.mint-switch-core{background-color:#00b5e5}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 194:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(195);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"3735a0b2\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 195:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.v-field{width:100%;height:48px}.v-field .label{float:left;height:100%;font-size:16px;line-height:48px}.v-field .input{overflow:hidden;height:100%}.v-field .input input{width:100%;height:100%;font-size:16px;line-height:20px;padding-top:14px;padding-bottom:14px;background-color:transparent;border:0}.v-field .close{float:right;width:48px;height:48px;position:relative}.v-field .close span{width:16px;height:16px;font-size:14px;line-height:14px;border-radius:50%;position:absolute;left:50%;top:50%;margin-left:-8px;margin-top:-8px;background-color:gray;text-align:center;color:#fff}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 196:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(197);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"023aa5a5\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 197:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}#create-question-form .el-form-item{margin-bottom:25px}#create-question-form .el-form-item input{border-top:none;border-left:none;border-right:none}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 198:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(199);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"4127fe2f\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 199:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.feedback-drawer{text-align:left}.feedback-drawer .desc p{margin:8px 0}.feedback-drawer .desc textarea{min-height:120px;background-color:#fafafa;padding:10px}.feedback-drawer .btn-submit{margin-top:15px;margin-bottom:30px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 200:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(201);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"342b3509\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 201:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.share-tips-drawer{border-radius:10px 10px 0 0}.share-tips-drawer .container{text-align:left}.share-tips-drawer .container p{margin-top:20px;margin-bottom:20px;line-height:20px;color:#333}.share-tips-drawer .container .btn-submit{margin-top:10px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 202:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(203);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"faa8e726\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 203:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.report-drawer p{font-size:12px;padding:8px;color:#888}.report-drawer textarea{min-height:120px;background-color:#fafafa;padding:10px}.report-drawer .submit-btn{margin-top:15px;margin-bottom:30px;width:100%}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 301:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/components/search/Input.vue + 2 modules\nvar Input = __webpack_require__(135);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/search/History.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var History = ({\n  name: \"VSearchHistory\",\n\n  data() {\n    return {\n      cacheKey: \"search-history\",\n      list: [],\n      maxLen: 10\n    };\n  },\n\n  mounted() {\n    this.list = this.get();\n  },\n\n  methods: {\n    query(q) {\n      this.$router.push({\n        name: \"search-index\",\n        query: {\n          q,\n          type: \"all\"\n        }\n      });\n    },\n\n    set(q) {\n      setTimeout(() => {\n        var list = this.get();\n        var index = list.indexOf(q);\n\n        if (index !== -1) {\n          list.splice(index, 1);\n        }\n\n        list.unshift(q);\n\n        if (list.length > this.maxLen) {\n          list.pop();\n        }\n\n        this.list = list;\n\n        try {\n          localStorage.setItem(this.cacheKey, JSON.stringify(list));\n        } catch (e) {}\n      }, 0);\n    },\n\n    get() {\n      try {\n        return JSON.parse(localStorage.getItem(this.cacheKey)) || [];\n      } catch (e) {\n        return [];\n      }\n    },\n\n    clear() {\n      try {\n        localStorage.removeItem(this.cacheKey);\n      } catch (e) {}\n\n      this.list = [];\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0f66c20c\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/search/History.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.list.length)?_c('div',{staticClass:\"search-history\"},[_vm._ssrNode(\"<p class=\\\"title\\\">搜索历史</p><ul>\"+(_vm._ssrList((_vm.list),function(item,index){return (\"<li><i class=\\\"iconfont icon-lishijilu\\\"></i>\"+_vm._ssrEscape(\"\\n      \"+_vm._s(item)+\"\\n    \")+\"</li>\")}))+\"</ul><button class=\\\"clear-btn\\\">清除历史记录</button>\")]):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var search_History = (esExports);\n// CONCATENATED MODULE: ./src/components/search/History.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(185),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"157e7528\"\nvar Component = normalizeComponent(\n  History,\n  search_History,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_search_History = (Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/drawers/SearchDrawer.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var SearchDrawer = ({\n  name: \"VSearchDrawer\",\n  components: {\n    vSearch: Input[\"a\" /* default */],\n    vSearchHistory: components_search_History\n  },\n  props: {\n    value: {\n      required: true,\n      type: Boolean\n    }\n  },\n\n  data() {\n    return {\n      open: this.value,\n      query: \"\"\n    };\n  },\n\n  mounted() {\n    this.$watch(\"value\", val => {\n      this.open = val;\n    });\n    this.$watch(\"open\", val => {\n      this.$emit(\"input\", val);\n    });\n  },\n\n  methods: {}\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-59b2fd0a\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/drawers/SearchDrawer.vue\nvar SearchDrawer_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-drawer',{staticClass:\"search-drawer\",attrs:{\"from\":\"bottom\",\"size\":\"100%\",\"header-text\":\"搜索\"},model:{value:(_vm.open),callback:function ($$v) {_vm.open=$$v},expression:\"open\"}},[_c('div',{staticClass:\"container\"},[_c('v-search',{model:{value:(_vm.query),callback:function ($$v) {_vm.query=$$v},expression:\"query\"}}),_c('div',{staticClass:\"hr\"}),_c('v-search-history')],1)])}\nvar SearchDrawer_staticRenderFns = []\nvar SearchDrawer_esExports = { render: SearchDrawer_render, staticRenderFns: SearchDrawer_staticRenderFns }\n/* harmony default export */ var drawers_SearchDrawer = (SearchDrawer_esExports);\n// CONCATENATED MODULE: ./src/components/drawers/SearchDrawer.vue\nfunction SearchDrawer_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(183),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar SearchDrawer_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar SearchDrawer___vue_template_functional__ = false\n/* styles */\nvar SearchDrawer___vue_styles__ = SearchDrawer_injectStyle\n/* scopeId */\nvar SearchDrawer___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar SearchDrawer___vue_module_identifier__ = \"4ef80cc5\"\nvar SearchDrawer_Component = SearchDrawer_normalizeComponent(\n  SearchDrawer,\n  drawers_SearchDrawer,\n  SearchDrawer___vue_template_functional__,\n  SearchDrawer___vue_styles__,\n  SearchDrawer___vue_scopeId__,\n  SearchDrawer___vue_module_identifier__\n)\n\n/* harmony default export */ var components_drawers_SearchDrawer = (SearchDrawer_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/layouts/Header.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var Header = ({\n  name: \"VHeader\",\n  components: {\n    SearchDrawer: components_drawers_SearchDrawer\n  },\n\n  data() {\n    return {\n      openSearchDrawer: false\n    };\n  },\n\n  computed: {\n    currentUser() {\n      return this.$store.state.user;\n    },\n\n    notificationCount() {\n      if (!this.currentUser) {\n        return 0;\n      }\n\n      var result = this.currentUser.notification - this.$store.state.users.notifications.checked;\n      return result < 0 ? 0 : result;\n    },\n\n    path() {\n      return this.$route.path;\n    },\n\n    homePage() {\n      return this.path === \"/\";\n    },\n\n    worldPage() {\n      return /^\\/world/.test(this.path);\n    },\n\n    bangumiPage() {\n      return /^\\/bangumi/.test(this.path);\n    },\n\n    rolePage() {\n      return /^\\/role/.test(this.path);\n    },\n\n    appPage() {\n      return /^\\/app/.test(this.path);\n    },\n\n    noBorderPage() {\n      return this.homePage || this.appPage;\n    }\n\n  },\n  methods: {\n    openSignDrawer() {\n      this.$channel.$emit(\"sign-in\", false);\n    },\n\n    openUserDrawer() {\n      this.$channel.$emit(\"open-user-drawer\");\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1107a3d4\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/layouts/Header.vue\nvar Header_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('header',{attrs:{\"id\":\"header\"}},[_vm._ssrNode(\"<div\"+(_vm._ssrClass(\"header-text\",{ 'border-header': !_vm.noBorderPage }))+\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"nav-left\\\">\",\"</div>\",[_c('router-link',{attrs:{\"to\":\"/\"}},[_c('img',{staticClass:\"logo\",attrs:{\"src\":\"https://image.calibur.tv/owner/logo-new/logo.png?imageMogr2/auto-orient/strip|imageView2/1/w/200/h/200/format/jpg\",\"alt\":\"logo\"}})]),_c('router-link',{staticClass:\"link\",class:{ 'active': _vm.worldPage },attrs:{\"to\":\"/world\"}},[_vm._v(\"社区\")]),_c('router-link',{staticClass:\"link\",class:{ 'active': _vm.bangumiPage },attrs:{\"to\":\"/bangumi/news\"}},[_vm._v(\"番剧\")]),_c('router-link',{staticClass:\"link\",class:{ 'active': _vm.rolePage },attrs:{\"to\":\"/role/trending\"}},[_vm._v(\"偶像\")]),_c('router-link',{staticClass:\"link\",class:{ 'active': _vm.appPage },attrs:{\"to\":\"/app/download\"}},[_vm._v(\"APP\")])],1),_vm._ssrNode(\"<div class=\\\"nav-right\\\">\",\"</div>\",[(_vm.currentUser)?_vm._ssrNode(\"<div class=\\\"nav-avatar\\\">\",\"</div>\",[_vm._ssrNode(\"<button>\",\"</button>\",[_c('v-img',{attrs:{\"src\":_vm.currentUser.avatar,\"avatar\":true,\"size\":\"24\"}})],1),_vm._ssrNode(((_vm.notificationCount)?(\"<span class=\\\"badge\\\"></span>\"):\"<!---->\"))],2):_vm._ssrNode((\"<button class=\\\"sign-btn\\\">登录</button>\")),(!_vm.homePage)?[_vm._ssrNode(\"<button class=\\\"open-search-btn\\\"><i class=\\\"iconfont icon-sousuo\\\"></i></button>\"),_c('search-drawer',{model:{value:(_vm.openSearchDrawer),callback:function ($$v) {_vm.openSearchDrawer=$$v},expression:\"openSearchDrawer\"}})]:_vm._e()],2)])])}\nvar Header_staticRenderFns = []\nvar Header_esExports = { render: Header_render, staticRenderFns: Header_staticRenderFns }\n/* harmony default export */ var layouts_Header = (Header_esExports);\n// CONCATENATED MODULE: ./src/components/layouts/Header.vue\nfunction Header_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(181),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar Header_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar Header___vue_template_functional__ = false\n/* styles */\nvar Header___vue_styles__ = Header_injectStyle\n/* scopeId */\nvar Header___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar Header___vue_module_identifier__ = \"4feb7452\"\nvar Header_Component = Header_normalizeComponent(\n  Header,\n  layouts_Header,\n  Header___vue_template_functional__,\n  Header___vue_styles__,\n  Header___vue_scopeId__,\n  Header___vue_module_identifier__\n)\n\n/* harmony default export */ var components_layouts_Header = (Header_Component.exports);\n\n// EXTERNAL MODULE: ./node_modules/mint-ui/lib/palette-button/style.css\nvar style = __webpack_require__(189);\nvar style_default = /*#__PURE__*/__webpack_require__.n(style);\n\n// EXTERNAL MODULE: external \"mint-ui/lib/palette-button\"\nvar palette_button_ = __webpack_require__(90);\nvar palette_button__default = /*#__PURE__*/__webpack_require__.n(palette_button_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/regenerator\"\nvar regenerator_ = __webpack_require__(0);\nvar regenerator__default = /*#__PURE__*/__webpack_require__.n(regenerator_);\n\n// EXTERNAL MODULE: external \"regenerator-runtime/runtime\"\nvar runtime_ = __webpack_require__(1);\nvar runtime__default = /*#__PURE__*/__webpack_require__.n(runtime_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/asyncToGenerator\"\nvar asyncToGenerator_ = __webpack_require__(2);\nvar asyncToGenerator__default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator_);\n\n// EXTERNAL MODULE: ./src/components/bangumi/BangumiPicker.vue + 2 modules\nvar BangumiPicker = __webpack_require__(138);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/creators/CreatePostDrawer.vue\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var CreatePostDrawer = ({\n  name: \"CreatePostDrawer\",\n  components: {\n    BangumiPicker: BangumiPicker[\"a\" /* default */]\n  },\n\n  data() {\n    return {\n      open: false,\n      exceed: 4,\n      content: \"\",\n      title: \"\",\n      bangumiId: \"\",\n      is_creator: false,\n      submitting: false\n    };\n  },\n\n  mounted() {\n    this.$channel.$on(\"drawer-open-write-post\", () => {\n      this.open = true;\n    });\n  },\n\n  methods: {\n    submit(images) {\n      var _this = this;\n\n      if (this.submitting) {\n        return;\n      }\n\n      if (!this.content) {\n        this.$toast.error(\"内容不能为空！\");\n        return;\n      }\n\n      if (!this.title) {\n        this.$toast.error(\"标题不能为空！\");\n        return;\n      }\n\n      if (!this.bangumiId) {\n        this.$toast.error(\"请选择要投稿的番剧！\");\n        return;\n      }\n\n      this.submitting = true;\n      this.$toast.loading(\"加载中\");\n      this.$captcha({\n        success: function () {\n          var _success = asyncToGenerator__default()(\n          /*#__PURE__*/\n          regenerator__default.a.mark(function _callee(_ref) {\n            var data, result;\n            return regenerator__default.a.wrap(function _callee$(_context) {\n              while (1) {\n                switch (_context.prev = _context.next) {\n                  case 0:\n                    data = _ref.data;\n                    _context.prev = 1;\n                    _context.next = 4;\n                    return _this.$store.dispatch(\"post/create\", {\n                      title: _this.title,\n                      bangumiId: _this.bangumiId,\n                      desc: _this.content.substring(0, 120),\n                      content: _this.content,\n                      geetest: data,\n                      is_creator: _this.is_creator,\n                      ctx: _this,\n                      images\n                    });\n\n                  case 4:\n                    result = _context.sent;\n                    _this.title = \"\";\n                    _this.content = \"\";\n\n                    _this.$channel.$emit(\"image-upload-done\");\n\n                    _this.open = false;\n\n                    _this.$store.commit(\"UPDATE_USER_EXP\", result.exp);\n\n                    _this.$toast.success(result.message).then(() => {\n                      window.location = _this.$alias.post(result.data);\n                    });\n\n                    _context.next = 16;\n                    break;\n\n                  case 13:\n                    _context.prev = 13;\n                    _context.t0 = _context[\"catch\"](1);\n\n                    _this.$toast.error(_context.t0);\n\n                  case 16:\n                    _context.prev = 16;\n                    _this.submitting = false;\n                    return _context.finish(16);\n\n                  case 19:\n                  case \"end\":\n                    return _context.stop();\n                }\n              }\n            }, _callee, this, [[1, 13, 16, 19]]);\n          }));\n\n          return function success(_x) {\n            return _success.apply(this, arguments);\n          };\n        }(),\n        ready: () => {\n          this.$toast.stop();\n        },\n        error: e => {\n          this.$toast.error(e);\n          this.submitting = false;\n        },\n        close: () => {\n          this.submitting = false;\n        }\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3bc90f22\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/creators/CreatePostDrawer.vue\nvar CreatePostDrawer_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-drawer',{staticClass:\"post-write-drawer\",attrs:{\"header-text\":\"发帖\",\"from\":\"right\",\"size\":\"100%\"},model:{value:(_vm.open),callback:function ($$v) {_vm.open=$$v},expression:\"open\"}},[_c('div',{staticClass:\"container\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.title),expression:\"title\",modifiers:{\"trim\":true}}],staticClass:\"title\",attrs:{\"type\":\"text\",\"maxlength\":\"40\",\"placeholder\":\"加个标题哟~\"},domProps:{\"value\":(_vm.title)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.title=$event.target.value.trim()},\"blur\":function($event){_vm.$forceUpdate()}}}),_c('div',{staticClass:\"bangumi\"},[_c('span',[_vm._v(\"发布到：\")]),_c('bangumi-picker',{attrs:{\"label\":false,\"display\":_vm.open},model:{value:(_vm.bangumiId),callback:function ($$v) {_vm.bangumiId=$$v},expression:\"bangumiId\"}})],1),_c('div',{staticClass:\"bangumi\"},[_c('span',[_vm._v(\"原创：\")]),_c('mt-switch',{model:{value:(_vm.is_creator),callback:function ($$v) {_vm.is_creator=$$v},expression:\"is_creator\"}})],1),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.content),expression:\"content\",modifiers:{\"trim\":true}}],staticClass:\"content\",attrs:{\"placeholder\":\"来吧，尽情的（在1000字以内）发挥吧\",\"maxlength\":\"1000\"},domProps:{\"value\":(_vm.content)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.content=$event.target.value.trim()},\"blur\":function($event){_vm.$forceUpdate()}}}),_c('image-uploader',{attrs:{\"loading\":_vm.submitting,\"limit\":_vm.exceed,\"required\":false},on:{\"submit\":_vm.submit}})],1)])}\nvar CreatePostDrawer_staticRenderFns = []\nvar CreatePostDrawer_esExports = { render: CreatePostDrawer_render, staticRenderFns: CreatePostDrawer_staticRenderFns }\n/* harmony default export */ var creators_CreatePostDrawer = (CreatePostDrawer_esExports);\n// CONCATENATED MODULE: ./src/components/creators/CreatePostDrawer.vue\nfunction CreatePostDrawer_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(190),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar CreatePostDrawer_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar CreatePostDrawer___vue_template_functional__ = false\n/* styles */\nvar CreatePostDrawer___vue_styles__ = CreatePostDrawer_injectStyle\n/* scopeId */\nvar CreatePostDrawer___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar CreatePostDrawer___vue_module_identifier__ = \"c30dbab4\"\nvar CreatePostDrawer_Component = CreatePostDrawer_normalizeComponent(\n  CreatePostDrawer,\n  creators_CreatePostDrawer,\n  CreatePostDrawer___vue_template_functional__,\n  CreatePostDrawer___vue_styles__,\n  CreatePostDrawer___vue_scopeId__,\n  CreatePostDrawer___vue_module_identifier__\n)\n\n/* harmony default export */ var components_creators_CreatePostDrawer = (CreatePostDrawer_Component.exports);\n\n// EXTERNAL MODULE: external \"core-js/modules/web.dom.iterable\"\nvar web_dom_iterable_ = __webpack_require__(3);\nvar web_dom_iterable__default = /*#__PURE__*/__webpack_require__.n(web_dom_iterable_);\n\n// EXTERNAL MODULE: ./src/api/imageApi.js\nvar imageApi = __webpack_require__(16);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/common/Field.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var Field = ({\n  name: \"VField\",\n  props: {\n    label: {\n      type: String,\n      default: \"\"\n    },\n    value: {\n      required: true,\n      type: [Number, String]\n    },\n    placeholder: {\n      type: String,\n      default: \"\"\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    type: {\n      type: String,\n      default: \"text\"\n    },\n    labelSize: {\n      type: String,\n      default: \"100px\"\n    }\n  },\n\n  data() {\n    return {\n      text: this.value\n    };\n  },\n\n  watch: {\n    value(val) {\n      this.text = val;\n    },\n\n    text(val) {\n      this.$emit(\"input\", val);\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-ecac8d6a\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/Field.vue\nvar Field_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"v-field\"},[_vm._ssrNode(\"<div class=\\\"label\\\"\"+(_vm._ssrStyle(null,{ width: _vm.labelSize }, null))+\">\"+_vm._ssrEscape(_vm._s(_vm.label))+\"</div><div class=\\\"close\\\"\"+(_vm._ssrStyle(null,null, { display: (_vm.text && !_vm.disabled) ? '' : 'none' }))+\"><span>×</span></div><div class=\\\"input\\\">\"+(((_vm.type)==='checkbox')?(\"<input\"+(_vm._ssrAttr(\"placeholder\",_vm.placeholder))+\" type=\\\"checkbox\\\"\"+(_vm._ssrAttr(\"checked\",Array.isArray(_vm.text)?_vm._i(_vm.text,null)>-1:(_vm.text)))+\">\"):((_vm.type)==='radio')?(\"<input\"+(_vm._ssrAttr(\"placeholder\",_vm.placeholder))+\" type=\\\"radio\\\"\"+(_vm._ssrAttr(\"checked\",_vm._q(_vm.text,null)))+\">\"):(\"<input\"+(_vm._ssrAttr(\"placeholder\",_vm.placeholder))+(_vm._ssrAttr(\"type\",_vm.type))+(_vm._ssrAttr(\"value\",(_vm.text)))+\">\"))+\"</div>\")])}\nvar Field_staticRenderFns = []\nvar Field_esExports = { render: Field_render, staticRenderFns: Field_staticRenderFns }\n/* harmony default export */ var common_Field = (Field_esExports);\n// CONCATENATED MODULE: ./src/components/common/Field.vue\nfunction Field_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(194),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar Field_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar Field___vue_template_functional__ = false\n/* styles */\nvar Field___vue_styles__ = Field_injectStyle\n/* scopeId */\nvar Field___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar Field___vue_module_identifier__ = \"45f27b55\"\nvar Field_Component = Field_normalizeComponent(\n  Field,\n  common_Field,\n  Field___vue_template_functional__,\n  Field___vue_styles__,\n  Field___vue_scopeId__,\n  Field___vue_module_identifier__\n)\n\n/* harmony default export */ var components_common_Field = (Field_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/creators/CreateImageDrawer.vue\n\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ var CreateImageDrawer = ({\n  name: \"CreateImageDrawer\",\n  components: {\n    \"v-field\": components_common_Field,\n    BangumiPicker: BangumiPicker[\"a\" /* default */]\n  },\n\n  data() {\n    return {\n      show: false,\n      sort: \"image\",\n      loadedUserAlbum: false,\n      loadingBangumi: false,\n      loadingUserAlbum: false,\n      openPickerDrawer: false,\n      openBangumisDrawer: false,\n      openImageAlbumDrawer: false,\n      submitting: false,\n      albumSlots: [{\n        flex: 1,\n        defaultIndex: 0,\n        values: [],\n        textAlign: \"center\"\n      }],\n      album: {\n        name: \"\",\n        bangumiId: \"\",\n        creator: false,\n        cartoon: false\n      },\n      image: {\n        name: \"\",\n        creator: false,\n        bangumiId: \"\",\n        selectedAlbum: false\n      },\n      isSingleModel: true\n    };\n  },\n\n  computed: {\n    imageAlbumPlaceholder() {\n      if (this.loadingUserAlbum) {\n        return \"加载中...\";\n      }\n\n      if (!this.albumSlots[0].values.length) {\n        return \"请先创建相册\";\n      }\n\n      if (!this.image.selectedAlbum) {\n        return \"点击选择相册\";\n      }\n\n      return this.getSelectedMeta(\"album\", \"name\");\n    },\n\n    pickerDrawerHeaderText() {\n      if (this.openBangumisDrawer) {\n        return \"番剧\";\n      } else if (this.openImageAlbumDrawer) {\n        return \"相册\";\n      }\n\n      return \"选项卡\";\n    },\n\n    user() {\n      return this.$store.state.user || {};\n    }\n\n  },\n\n  mounted() {\n    this.$channel.$on(\"open-create-image-drawer\", () => {\n      this.getUserAlbum();\n      this.show = true;\n    });\n  },\n\n  methods: {\n    switchTab(tab) {\n      this.sort = tab;\n      this.$channel.$emit(\"image-upload-done\");\n    },\n\n    switchPickerDrawer(name) {\n      this.openBangumisDrawer = false;\n      this.openImageAlbumDrawer = false;\n      this[name] = true;\n      this.openPickerDrawer = true;\n    },\n\n    handleAlbumPickerBtnClick() {\n      if (this.loadingUserAlbum) {\n        this.$toast.error(\"数据加载中\");\n        return;\n      }\n\n      if (!this.albumSlots[0].values.length) {\n        this.$toast.error(\"还没有创建相册\");\n        return;\n      }\n\n      this.image.selectedAlbum = true;\n      this.switchPickerDrawer(\"openImageAlbumDrawer\");\n    },\n\n    onAlbumValuesChange(picker, values) {\n      if (!values[0]) {\n        return;\n      }\n\n      var id = values[0].id;\n      this.albumSlots[0].values.forEach((item, index) => {\n        if (item.id === id) {\n          this.albumSlots[0].defaultIndex = index;\n        }\n      });\n    },\n\n    createAlbum(poster) {\n      var _this = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee() {\n        var api, result, data;\n        return regenerator__default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (_this.album.name) {\n                  _context.next = 3;\n                  break;\n                }\n\n                _this.$toast.error(\"请填写相册名字\");\n\n                return _context.abrupt(\"return\");\n\n              case 3:\n                if (!(_this.album.name.length > 30)) {\n                  _context.next = 6;\n                  break;\n                }\n\n                _this.$toast.error(\"相册名字请缩减至 30 字以内\");\n\n                return _context.abrupt(\"return\");\n\n              case 6:\n                if (_this.album.bangumiId) {\n                  _context.next = 9;\n                  break;\n                }\n\n                _this.$toast.error(\"请选择要投稿的番剧\");\n\n                return _context.abrupt(\"return\");\n\n              case 9:\n                if (!_this.submitting) {\n                  _context.next = 11;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 11:\n                _this.submitting = true;\n\n                _this.$toast.loading(\"创建中\");\n\n                api = new imageApi[\"a\" /* default */](_this);\n                _context.prev = 14;\n                _context.next = 17;\n                return api.createAlbum(Object.assign({}, poster, {\n                  bangumi_id: _this.album.bangumiId,\n                  is_cartoon: false,\n                  name: _this.album.name,\n                  is_creator: _this.album.creator,\n                  part: 0\n                }));\n\n              case 17:\n                result = _context.sent;\n                data = result.data;\n\n                _this.albumSlots[0].values.unshift(data);\n\n                _this.albumSlots[0].defaultIndex = 0;\n\n                _this.$toast.success(result.message);\n\n                _this.$store.commit(\"UPDATE_USER_EXP\", result.exp);\n\n                _this.image.albumId = data.id;\n                _this.image.selectedAlbum = true;\n                _this.isSingleModel = false;\n\n                _this.switchTab(\"image\");\n\n                _this.album = {\n                  name: \"\",\n                  bangumiId: \"\",\n                  creator: false,\n                  cartoon: false\n                };\n\n                _this.$channel.$emit(\"image-upload-done\");\n\n                _context.next = 34;\n                break;\n\n              case 31:\n                _context.prev = 31;\n                _context.t0 = _context[\"catch\"](14);\n\n                _this.$toast.error(_context.t0);\n\n              case 34:\n                _context.prev = 34;\n                _this.submitting = false;\n                return _context.finish(34);\n\n              case 37:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[14, 31, 34, 37]]);\n      }))();\n    },\n\n    getUserAlbum() {\n      var _this2 = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee2() {\n        return regenerator__default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!(_this2.loadingUserAlbum || _this2.loadedUserAlbum)) {\n                  _context2.next = 2;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\");\n\n              case 2:\n                _this2.loadingUserAlbum = true;\n                _context2.prev = 3;\n                _context2.next = 6;\n                return _this2.$store.dispatch(\"image/userAlbum\", {\n                  ctx: _this2\n                });\n\n              case 6:\n                _this2.albumSlots[0].values = _context2.sent;\n                _this2.loadedUserAlbum = true;\n\n              case 8:\n                _context2.prev = 8;\n                _this2.loadingUserAlbum = false;\n                return _context2.finish(8);\n\n              case 11:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[3,, 8, 11]]);\n      }))();\n    },\n\n    createImage(images) {\n      var _this3 = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee4() {\n        var newId, api;\n        return regenerator__default.a.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                if (!_this3.isSingleModel) {\n                  _context4.next = 9;\n                  break;\n                }\n\n                if (_this3.image.bangumiId) {\n                  _context4.next = 4;\n                  break;\n                }\n\n                _this3.$toast.error(\"请选择要投稿的番剧\");\n\n                return _context4.abrupt(\"return\");\n\n              case 4:\n                if (!(_this3.image.name.length > 30)) {\n                  _context4.next = 7;\n                  break;\n                }\n\n                _this3.$toast.error(\"图片名字请缩减至 30 字以内\");\n\n                return _context4.abrupt(\"return\");\n\n              case 7:\n                _context4.next = 12;\n                break;\n\n              case 9:\n                if (_this3.image.selectedAlbum) {\n                  _context4.next = 12;\n                  break;\n                }\n\n                _this3.$toast.error(\"请选择要上传的相册\");\n\n                return _context4.abrupt(\"return\");\n\n              case 12:\n                if (!_this3.submitting) {\n                  _context4.next = 14;\n                  break;\n                }\n\n                return _context4.abrupt(\"return\");\n\n              case 14:\n                _this3.submitting = true;\n\n                _this3.$toast.loading(\"上传中...\");\n\n                api = new imageApi[\"a\" /* default */](_this3);\n                _context4.prev = 17;\n\n                if (!_this3.isSingleModel) {\n                  _context4.next = 22;\n                  break;\n                }\n\n                _this3.$captcha({\n                  success: function () {\n                    var _success = asyncToGenerator__default()(\n                    /*#__PURE__*/\n                    regenerator__default.a.mark(function _callee3(_ref) {\n                      var data, result;\n                      return regenerator__default.a.wrap(function _callee3$(_context3) {\n                        while (1) {\n                          switch (_context3.prev = _context3.next) {\n                            case 0:\n                              data = _ref.data;\n                              _context3.next = 3;\n                              return api.uploadSingleImage(Object.assign({}, images, {\n                                is_creator: _this3.image.creator,\n                                bangumi_id: _this3.image.bangumiId,\n                                name: _this3.image.name,\n                                geetest: data\n                              }));\n\n                            case 3:\n                              result = _context3.sent;\n                              newId = result.data;\n                              _this3.show = false;\n\n                              _this3.$store.commit(\"UPDATE_USER_EXP\", result.exp);\n\n                              _this3.$toast.success(result.message).then(() => {\n                                window.location = _this3.$alias.image(newId);\n                              });\n\n                              _this3.$channel.$emit(\"image-upload-done\");\n\n                            case 9:\n                            case \"end\":\n                              return _context3.stop();\n                          }\n                        }\n                      }, _callee3, this);\n                    }));\n\n                    return function success(_x) {\n                      return _success.apply(this, arguments);\n                    };\n                  }(),\n                  close: () => {\n                    _this3.submitting = false;\n                  },\n                  error: err => {\n                    _this3.submitting = false;\n\n                    _this3.$toast.error(err);\n                  }\n                });\n\n                _context4.next = 29;\n                break;\n\n              case 22:\n                newId = _this3.getSelectedMeta(\"album\", \"id\");\n                _context4.next = 25;\n                return api.uploadManyImage({\n                  album_id: newId,\n                  images\n                });\n\n              case 25:\n                _this3.$toast.success(\"上传成功\");\n\n                _this3.show = false;\n                setTimeout(() => {\n                  window.location = _this3.$alias.image(newId);\n                }, 400);\n\n                _this3.$channel.$emit(\"image-upload-done\");\n\n              case 29:\n                _context4.next = 34;\n                break;\n\n              case 31:\n                _context4.prev = 31;\n                _context4.t0 = _context4[\"catch\"](17);\n\n                _this3.$toast.error(_context4.t0);\n\n              case 34:\n                _context4.prev = 34;\n                _this3.submitting = false;\n                return _context4.finish(34);\n\n              case 37:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this, [[17, 31, 34, 37]]);\n      }))();\n    },\n\n    getSelectedMeta(name, value) {\n      var key = `${name}Slots`;\n\n      if (!this[key][0].values.length) {\n        return 0;\n      }\n\n      return this[key][0].values[this[key][0].defaultIndex][value];\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-93295762\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/creators/CreateImageDrawer.vue\nvar CreateImageDrawer_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-drawer',{staticClass:\"create-image-drawer\",attrs:{\"from\":\"bottom\",\"size\":\"100%\",\"header-text\":\"上传图片\"},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('div',{staticClass:\"tabs\"},[_c('button',{class:{ 'active': _vm.sort === 'image' },on:{\"click\":function($event){_vm.switchTab('image')}}},[_vm._v(\"上传图片\")]),_c('button',{class:{ 'active': _vm.sort === 'album' },on:{\"click\":function($event){_vm.switchTab('album')}}},[_vm._v(\"新建相册\")])]),_c('div',{staticClass:\"container\"},[_c('v-drawer',{staticClass:\"bangumis-drawer\",attrs:{\"header-text\":_vm.pickerDrawerHeaderText,\"from\":\"bottom\",\"size\":\"250px\"},model:{value:(_vm.openPickerDrawer),callback:function ($$v) {_vm.openPickerDrawer=$$v},expression:\"openPickerDrawer\"}},[(_vm.openImageAlbumDrawer)?_c('mt-picker',{attrs:{\"slots\":_vm.albumSlots,\"value-key\":\"name\"},on:{\"change\":_vm.onAlbumValuesChange}}):_vm._e()],1),(_vm.sort === 'image')?[_c('div',{staticClass:\"field\"},[_c('span',[_vm._v(\"单张模式：\")]),_c('mt-switch',{model:{value:(_vm.isSingleModel),callback:function ($$v) {_vm.isSingleModel=$$v},expression:\"isSingleModel\"}})],1),(_vm.isSingleModel)?[_c('v-field',{attrs:{\"label\":\"名字\",\"placeholder\":\"请给图片起个名字\",\"label-size\":\"48px\"},model:{value:(_vm.image.name),callback:function ($$v) {_vm.$set(_vm.image, \"name\", $$v)},expression:\"image.name\"}}),_c('div',{staticClass:\"field\"},[_c('span',[_vm._v(\"番剧：\")]),_c('bangumi-picker',{attrs:{\"label\":false,\"display\":_vm.show && _vm.sort === 'image'},model:{value:(_vm.image.bangumiId),callback:function ($$v) {_vm.$set(_vm.image, \"bangumiId\", $$v)},expression:\"image.bangumiId\"}})],1),_c('div',{staticClass:\"field\"},[_c('span',[_vm._v(\"原创：\")]),_c('mt-switch',{model:{value:(_vm.image.creator),callback:function ($$v) {_vm.$set(_vm.image, \"creator\", $$v)},expression:\"image.creator\"}})],1),_c('div',{staticClass:\"field\"},[_c('span',[_vm._v(\"图片：\")]),_c('image-uploader',{on:{\"submit\":_vm.createImage}})],1)]:[_c('div',{staticClass:\"field\"},[_c('span',[_vm._v(\"相册：\")]),_c('div',{domProps:{\"textContent\":_vm._s(_vm.imageAlbumPlaceholder)},on:{\"click\":_vm.handleAlbumPickerBtnClick}})]),_c('div',{staticClass:\"field\"},[_c('span',[_vm._v(\"图片：\")]),_c('image-uploader',{attrs:{\"limit\":7},on:{\"submit\":_vm.createImage}})],1)]]:(_vm.sort === 'album')?[_c('v-field',{attrs:{\"label\":\"名字\",\"placeholder\":\"请填写相册名字\",\"label-size\":\"48px\"},model:{value:(_vm.album.name),callback:function ($$v) {_vm.$set(_vm.album, \"name\", $$v)},expression:\"album.name\"}}),_c('div',{staticClass:\"field\"},[_c('span',[_vm._v(\"番剧：\")]),_c('bangumi-picker',{attrs:{\"label\":false,\"display\":_vm.show && _vm.sort === 'album'},model:{value:(_vm.album.bangumiId),callback:function ($$v) {_vm.$set(_vm.album, \"bangumiId\", $$v)},expression:\"album.bangumiId\"}})],1),_c('div',{staticClass:\"field\"},[_c('span',[_vm._v(\"原创：\")]),_c('mt-switch',{model:{value:(_vm.album.creator),callback:function ($$v) {_vm.$set(_vm.album, \"creator\", $$v)},expression:\"album.creator\"}})],1),_c('div',{staticClass:\"field\"},[_c('span',[_vm._v(\"封面：\")]),_c('image-uploader',{on:{\"submit\":_vm.createAlbum}})],1)]:_vm._e()],2)])}\nvar CreateImageDrawer_staticRenderFns = []\nvar CreateImageDrawer_esExports = { render: CreateImageDrawer_render, staticRenderFns: CreateImageDrawer_staticRenderFns }\n/* harmony default export */ var creators_CreateImageDrawer = (CreateImageDrawer_esExports);\n// CONCATENATED MODULE: ./src/components/creators/CreateImageDrawer.vue\nfunction CreateImageDrawer_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(192),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar CreateImageDrawer_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar CreateImageDrawer___vue_template_functional__ = false\n/* styles */\nvar CreateImageDrawer___vue_styles__ = CreateImageDrawer_injectStyle\n/* scopeId */\nvar CreateImageDrawer___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar CreateImageDrawer___vue_module_identifier__ = \"a86668f2\"\nvar CreateImageDrawer_Component = CreateImageDrawer_normalizeComponent(\n  CreateImageDrawer,\n  creators_CreateImageDrawer,\n  CreateImageDrawer___vue_template_functional__,\n  CreateImageDrawer___vue_styles__,\n  CreateImageDrawer___vue_scopeId__,\n  CreateImageDrawer___vue_module_identifier__\n)\n\n/* harmony default export */ var components_creators_CreateImageDrawer = (CreateImageDrawer_Component.exports);\n\n// EXTERNAL MODULE: ./src/api/questionApi.js\nvar questionApi = __webpack_require__(18);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/creators/CreateQuestionDrawer.vue\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var CreateQuestionDrawer = ({\n  name: \"CreateQuestionDrawer\",\n  components: {\n    BangumiPicker: BangumiPicker[\"a\" /* default */]\n  },\n\n  data() {\n    var validateTitle = (rule, value, callback) => {\n      if (!value) {\n        callback(new Error(\"请输入问题标题\"));\n      }\n\n      if (value.length > 30) {\n        callback(new Error(\"标题最多 30 个字\"));\n      }\n\n      callback();\n    };\n\n    var validateBangumi = (rule, value, callback) => {\n      if (!value) {\n        callback(new Error(\"至少选择 1 个番剧\"));\n      }\n\n      callback();\n    };\n\n    var validateContent = (rule, value, callback) => {\n      if (!value) {\n        callback(new Error(\"问题不能为空\"));\n      }\n\n      callback();\n    };\n\n    return {\n      form: {\n        title: \"\",\n        bangumiId: \"\",\n        content: \"\"\n      },\n      rules: {\n        title: [{\n          validator: validateTitle,\n          trigger: \"change\"\n        }],\n        bangumiId: [{\n          validator: validateBangumi,\n          trigger: \"submit\"\n        }],\n        content: [{\n          validator: validateContent,\n          trigger: \"submit\"\n        }]\n      },\n      exceed: 7,\n      submitting: false,\n      show: false\n    };\n  },\n\n  mounted() {\n    this.$channel.$on(\"drawer-open-write-question\", () => {\n      this.show = true;\n    });\n  },\n\n  methods: {\n    submit(images) {\n      var _this = this;\n\n      this.$refs.form.validate(valid => {\n        if (valid) {\n          if (this.submitting) {\n            return;\n          }\n\n          this.submitting = true;\n          this.$captcha({\n            success: function () {\n              var _success = asyncToGenerator__default()(\n              /*#__PURE__*/\n              regenerator__default.a.mark(function _callee(_ref) {\n                var data, api, result;\n                return regenerator__default.a.wrap(function _callee$(_context) {\n                  while (1) {\n                    switch (_context.prev = _context.next) {\n                      case 0:\n                        data = _ref.data;\n                        api = new questionApi[\"a\" /* default */](_this);\n                        _context.prev = 2;\n                        _context.next = 5;\n                        return api.createQuestion({\n                          title: _this.form.title,\n                          tags: [_this.form.bangumiId],\n                          intro: _this.form.content.substring(0, 120),\n                          content: _this.form.content,\n                          images,\n                          geetest: data\n                        });\n\n                      case 5:\n                        result = _context.sent;\n                        _this.images = [];\n\n                        _this.$emit(\"submit\");\n\n                        _this.submitting = false;\n\n                        _this.$store.commit(\"UPDATE_USER_EXP\", result.exp);\n\n                        _this.$toast.success(result.message).then(() => {\n                          window.location = _this.$alias.question(result.data);\n                        });\n\n                        _context.next = 17;\n                        break;\n\n                      case 13:\n                        _context.prev = 13;\n                        _context.t0 = _context[\"catch\"](2);\n\n                        _this.$toast.error(_context.t0);\n\n                        _this.submitting = false;\n\n                      case 17:\n                      case \"end\":\n                        return _context.stop();\n                    }\n                  }\n                }, _callee, this, [[2, 13]]);\n              }));\n\n              return function success(_x) {\n                return _success.apply(this, arguments);\n              };\n            }(),\n            error: e => {\n              this.submitting = false;\n              this.$toast.error(e);\n            },\n            close: () => {\n              this.submitting = false;\n            }\n          });\n        } else {\n          return false;\n        }\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-514a831a\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/creators/CreateQuestionDrawer.vue\nvar CreateQuestionDrawer_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-drawer',{attrs:{\"from\":\"bottom\",\"size\":\"100%\",\"header-text\":\"提问\"},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('div',{staticClass:\"container\"},[_c('el-form',{ref:\"form\",attrs:{\"id\":\"create-question-form\",\"model\":_vm.form,\"rules\":_vm.rules,\"disabled\":_vm.submitting,\"label-width\":\"45px\"}},[_c('el-form-item',{attrs:{\"label\":\"标题\",\"prop\":\"title\"}},[_c('el-input',{attrs:{\"maxlength\":\"30\",\"placeholder\":\"问题标题\"},model:{value:(_vm.form.title),callback:function ($$v) {_vm.$set(_vm.form, \"title\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.title\"}})],1),_c('el-form-item',{attrs:{\"label\":\"番剧\",\"prop\":\"bangumiId\"}},[_c('bangumi-picker',{attrs:{\"label\":false,\"display\":_vm.show},model:{value:(_vm.form.bangumiId),callback:function ($$v) {_vm.$set(_vm.form, \"bangumiId\", $$v)},expression:\"form.bangumiId\"}})],1),_c('el-form-item',{attrs:{\"label\":\"描述\",\"prop\":\"content\"}},[_c('el-input',{attrs:{\"rows\":5,\"placeholder\":\"问题背景，条件等详细信息\",\"type\":\"textarea\",\"maxlength\":\"1000\"},model:{value:(_vm.form.content),callback:function ($$v) {_vm.$set(_vm.form, \"content\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.content\"}})],1),_c('el-form-item',{attrs:{\"label\":\"图片\"}},[_c('image-uploader',{attrs:{\"loading\":_vm.submitting,\"limit\":_vm.exceed,\"required\":false},on:{\"submit\":_vm.submit}})],1)],1)],1)])}\nvar CreateQuestionDrawer_staticRenderFns = []\nvar CreateQuestionDrawer_esExports = { render: CreateQuestionDrawer_render, staticRenderFns: CreateQuestionDrawer_staticRenderFns }\n/* harmony default export */ var creators_CreateQuestionDrawer = (CreateQuestionDrawer_esExports);\n// CONCATENATED MODULE: ./src/components/creators/CreateQuestionDrawer.vue\nfunction CreateQuestionDrawer_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(196),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar CreateQuestionDrawer_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar CreateQuestionDrawer___vue_template_functional__ = false\n/* styles */\nvar CreateQuestionDrawer___vue_styles__ = CreateQuestionDrawer_injectStyle\n/* scopeId */\nvar CreateQuestionDrawer___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar CreateQuestionDrawer___vue_module_identifier__ = \"10652fec\"\nvar CreateQuestionDrawer_Component = CreateQuestionDrawer_normalizeComponent(\n  CreateQuestionDrawer,\n  creators_CreateQuestionDrawer,\n  CreateQuestionDrawer___vue_template_functional__,\n  CreateQuestionDrawer___vue_styles__,\n  CreateQuestionDrawer___vue_scopeId__,\n  CreateQuestionDrawer___vue_module_identifier__\n)\n\n/* harmony default export */ var components_creators_CreateQuestionDrawer = (CreateQuestionDrawer_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/common/Creator.vue\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ var Creator = ({\n  name: \"VCreatorMenu\",\n  components: {\n    PaletteButton: palette_button__default.a,\n    CreatePostDrawer: components_creators_CreatePostDrawer,\n    CreateImageDrawer: components_creators_CreateImageDrawer,\n    CreateQuestionDrawer: components_creators_CreateQuestionDrawer\n  },\n\n  data() {\n    return {\n      backdropId: 0,\n      lastScroll: 0,\n      isScrollTop: true\n    };\n  },\n\n  computed: {\n    isGuest() {\n      return !this.$store.state.login;\n    },\n\n    pageName() {\n      return this.$route.name;\n    },\n\n    showCreator() {\n      return [\"homepage\", \"download-app\"].indexOf(this.pageName) === -1;\n    },\n\n    userLevel() {\n      if (this.isGuest) {\n        return 0;\n      }\n\n      return this.$store.state.user.exp.level;\n    }\n\n  },\n\n  mounted() {\n    window.addEventListener(\"scroll\", this.$utils.throttle(() => {\n      var scrollTop = document.documentElement.scrollTop || document.body.scrollTop;\n      this.isScrollTop = this.lastScroll > scrollTop;\n      this.lastScroll = scrollTop;\n    }, 200));\n  },\n\n  methods: {\n    handlePaletteOpen() {\n      this.backdropId = this.$backdrop.show({\n        ele: this.$refs.palette.$el,\n        click: () => {\n          this.close();\n        }\n      });\n    },\n\n    close() {\n      this.$refs.palette.collapse();\n    },\n\n    handlePaletteClose() {\n      this.$backdrop.hide(this.backdropId);\n    },\n\n    handleImageClick() {\n      this.close();\n\n      if (this.isGuest) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      this.$channel.$emit(\"open-create-image-drawer\");\n    },\n\n    handlePostClick() {\n      this.close();\n\n      if (this.isGuest) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      if (~[\"post-show\"].indexOf(this.pageName)) {\n        this.$channel.$emit(\"open-create-comment-drawer\");\n        return;\n      }\n\n      this.$channel.$emit(\"drawer-open-write-post\");\n    },\n\n    handleQuestionClick() {\n      this.close();\n\n      if (this.isGuest) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      if (this.userLevel < 3) {\n        this.$toast.error(\"3级以上才能提问\");\n        return;\n      }\n\n      this.$channel.$emit(\"drawer-open-write-question\");\n    },\n\n    handleScoreClick() {\n      if (this.userLevel < 3) {\n        this.$toast.error(\"3级以上才能写漫评\");\n        return;\n      }\n\n      window.location = this.$alias.createScore;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-791e25f6\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/Creator.vue\nvar Creator_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.showCreator)?_c('div',{staticClass:\"creators-container\"},[_vm._ssrNode(\"<div id=\\\"creator-menu-wrap\\\">\",\"</div>\",[_c('palette-button',{ref:\"palette\",staticClass:\"palette-button\",class:{ isScrollTop: _vm.isScrollTop },attrs:{\"content\":\"\",\"direction\":\"t\"},on:{\"expand\":_vm.handlePaletteOpen,\"collapse\":_vm.handlePaletteClose}},[_c('button',{staticClass:\"ic-btn el-icon-picture\",on:{\"click\":_vm.handleImageClick}}),(_vm.userLevel > 2)?_c('button',{staticClass:\"ic-btn score-btn\"},[_c('a',{attrs:{\"href\":_vm.$alias.createScore}},[_c('i',{staticClass:\"el-icon-edit\"})])]):_c('button',{staticClass:\"ic-btn score-btn\",on:{\"click\":_vm.handleScoreClick}},[_c('i',{staticClass:\"el-icon-edit\"})]),_c('button',{staticClass:\"ic-btn iconfont icon-pinglun1\",on:{\"click\":_vm.handlePostClick}}),_c('button',{staticClass:\"ic-btn el-icon-question\",on:{\"click\":_vm.handleQuestionClick}})])],1),(!_vm.isGuest)?[_c('create-post-drawer'),_c('create-image-drawer'),_c('create-question-drawer')]:_vm._e()],2):_vm._e()}\nvar Creator_staticRenderFns = []\nvar Creator_esExports = { render: Creator_render, staticRenderFns: Creator_staticRenderFns }\n/* harmony default export */ var common_Creator = (Creator_esExports);\n// CONCATENATED MODULE: ./src/components/common/Creator.vue\nfunction Creator_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(187),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar Creator_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar Creator___vue_template_functional__ = false\n/* styles */\nvar Creator___vue_styles__ = Creator_injectStyle\n/* scopeId */\nvar Creator___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar Creator___vue_module_identifier__ = \"9d1d6672\"\nvar Creator_Component = Creator_normalizeComponent(\n  Creator,\n  common_Creator,\n  Creator___vue_template_functional__,\n  Creator___vue_styles__,\n  Creator___vue_scopeId__,\n  Creator___vue_module_identifier__\n)\n\n/* harmony default export */ var components_common_Creator = (Creator_Component.exports);\n\n// EXTERNAL MODULE: external \"core-js/modules/es6.regexp.replace\"\nvar es6_regexp_replace_ = __webpack_require__(9);\nvar es6_regexp_replace__default = /*#__PURE__*/__webpack_require__.n(es6_regexp_replace_);\n\n// EXTERNAL MODULE: ./src/api/userApi.js\nvar userApi = __webpack_require__(12);\n\n// EXTERNAL MODULE: ./src/components/common/Radio.vue + 2 modules\nvar Radio = __webpack_require__(159);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/drawers/FeedbackDrawer.vue\n\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var FeedbackDrawer = ({\n  name: \"FeedbackDrawer\",\n  components: {\n    VRadio: Radio[\"a\" /* default */]\n  },\n\n  data() {\n    return {\n      show: false,\n      options: [{\n        label: \"功能建议\",\n        value: 1\n      }, {\n        label: \"遇到错误\",\n        value: 2\n      }, {\n        label: \"资源报错\",\n        value: 4\n      }, {\n        label: \"求资源\",\n        value: 5\n      }, {\n        label: \"求偶像\",\n        value: 6\n      }, {\n        label: \"其它问题\",\n        value: 3\n      }],\n      selectedType: 1,\n      placeholder: \"\",\n      content: \"\",\n      preContent: \"\"\n    };\n  },\n\n  mounted() {\n    var _this = this;\n\n    this.$channel.$on(\"open-feedback\", function () {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          type = _ref.type,\n          desc = _ref.desc,\n          placeholder = _ref.placeholder;\n\n      _this.selectedType = type || 1;\n      _this.preContent = desc || \"{?}\";\n      _this.placeholder = placeholder || \"非常感谢您的反馈，请填写详细信息方便我们解决\";\n      _this.show = true;\n    });\n  },\n\n  methods: {\n    submitFeedback() {\n      var _this2 = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee() {\n        var api;\n        return regenerator__default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (_this2.content.length) {\n                  _context.next = 3;\n                  break;\n                }\n\n                _this2.$toast.error(\"请先填写反馈信息！\");\n\n                return _context.abrupt(\"return\");\n\n              case 3:\n                api = new userApi[\"a\" /* default */](_this2);\n                _context.next = 6;\n                return api.feedback({\n                  type: _this2.selectedType,\n                  desc: _this2.preContent.replace(\"{?}\", _this2.content),\n                  ua: navigator.userAgent\n                });\n\n              case 6:\n                _this2.$toast.success(\"反馈成功，感谢您的反馈！\");\n\n                _this2.content = \"\";\n                _this2.show = false;\n\n              case 9:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }))();\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0882b4ad\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/drawers/FeedbackDrawer.vue\nvar FeedbackDrawer_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-drawer',{staticClass:\"feedback-drawer\",attrs:{\"backdrop\":false,\"from\":\"bottom\",\"size\":\"100%\",\"header-text\":\"反馈\"},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"desc\"},[_c('p',[_vm._v(\"详细信息\")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.content),expression:\"content\",modifiers:{\"trim\":true}}],attrs:{\"placeholder\":_vm.placeholder},domProps:{\"value\":(_vm.content)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.content=$event.target.value.trim()},\"blur\":function($event){_vm.$forceUpdate()}}})]),_c('v-radio',{attrs:{\"options\":_vm.options,\"title\":\"反馈类型\"},model:{value:(_vm.selectedType),callback:function ($$v) {_vm.selectedType=$$v},expression:\"selectedType\"}}),_c('button',{staticClass:\"btn-submit\",on:{\"click\":_vm.submitFeedback}},[_vm._v(\"提交\")])],1)])}\nvar FeedbackDrawer_staticRenderFns = []\nvar FeedbackDrawer_esExports = { render: FeedbackDrawer_render, staticRenderFns: FeedbackDrawer_staticRenderFns }\n/* harmony default export */ var drawers_FeedbackDrawer = (FeedbackDrawer_esExports);\n// CONCATENATED MODULE: ./src/components/drawers/FeedbackDrawer.vue\nfunction FeedbackDrawer_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(198),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar FeedbackDrawer_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar FeedbackDrawer___vue_template_functional__ = false\n/* styles */\nvar FeedbackDrawer___vue_styles__ = FeedbackDrawer_injectStyle\n/* scopeId */\nvar FeedbackDrawer___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar FeedbackDrawer___vue_module_identifier__ = \"88aa153c\"\nvar FeedbackDrawer_Component = FeedbackDrawer_normalizeComponent(\n  FeedbackDrawer,\n  drawers_FeedbackDrawer,\n  FeedbackDrawer___vue_template_functional__,\n  FeedbackDrawer___vue_styles__,\n  FeedbackDrawer___vue_scopeId__,\n  FeedbackDrawer___vue_module_identifier__\n)\n\n/* harmony default export */ var components_drawers_FeedbackDrawer = (FeedbackDrawer_Component.exports);\n\n// EXTERNAL MODULE: external \"clipboard\"\nvar external__clipboard_ = __webpack_require__(91);\nvar external__clipboard__default = /*#__PURE__*/__webpack_require__.n(external__clipboard_);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/drawers/ShareDrawer.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var ShareDrawer = ({\n  name: \"ShareDrawer\",\n\n  data() {\n    return {\n      show: false\n    };\n  },\n\n  mounted() {\n    this.$channel.$on(\"open-share\", () => {\n      this.show = true;\n      this.bindShareEvent();\n    });\n  },\n\n  methods: {\n    bindShareEvent() {\n      this.$nextTick(() => {\n        var clipboard = new external__clipboard__default.a(this.$refs.shareBtn);\n        clipboard.on(\"success\", e => {\n          this.$toast.success(\"复制成功\");\n          this.show = false;\n          clipboard.destroy();\n          e.clearSelection();\n        });\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-71bb39dc\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/drawers/ShareDrawer.vue\nvar ShareDrawer_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-drawer',{staticClass:\"share-tips-drawer\",attrs:{\"from\":\"bottom\",\"size\":\"80%\",\"header-text\":\"分享语\"},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('div',{staticClass:\"container\"},[_c('p',[_vm._v(\"\\n      【calibur.tv】一个纯粹的二次元社区网站，致力于实现\\\"天下漫友是一家\\\"！\\n    \")]),_c('p',[_vm._v(\"\\n      站内海量动漫资源在线播放，更有看漫画、cosplay、发帖、为偶像应援等功能，每天签到送金币（1金币 = 1人民币）！\\n    \")]),_c('p',[_vm._v(\"\\n      快来加入我们吧~\\\\(^o^)/~ 网址：http://calibur.tv\\n    \")]),_c('button',{ref:\"shareBtn\",staticClass:\"btn-submit\",attrs:{\"data-clipboard-text\":\"【calibur.tv】一个纯粹的二次元社区网站，致力于实现'天下漫友是一家'！站内海量动漫资源在线播放，更有看漫画、cosplay、发帖、为偶像应援等功能，每天签到送金币（1金币 = 1人民币）！快来加入我们吧~\\\\(^o^)/~ 网址：http://calibur.tv\"}},[_vm._v(\"点击复制\")])])])}\nvar ShareDrawer_staticRenderFns = []\nvar ShareDrawer_esExports = { render: ShareDrawer_render, staticRenderFns: ShareDrawer_staticRenderFns }\n/* harmony default export */ var drawers_ShareDrawer = (ShareDrawer_esExports);\n// CONCATENATED MODULE: ./src/components/drawers/ShareDrawer.vue\nfunction ShareDrawer_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(200),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar ShareDrawer_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar ShareDrawer___vue_template_functional__ = false\n/* styles */\nvar ShareDrawer___vue_styles__ = ShareDrawer_injectStyle\n/* scopeId */\nvar ShareDrawer___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar ShareDrawer___vue_module_identifier__ = \"06b6ebd4\"\nvar ShareDrawer_Component = ShareDrawer_normalizeComponent(\n  ShareDrawer,\n  drawers_ShareDrawer,\n  ShareDrawer___vue_template_functional__,\n  ShareDrawer___vue_styles__,\n  ShareDrawer___vue_scopeId__,\n  ShareDrawer___vue_module_identifier__\n)\n\n/* harmony default export */ var components_drawers_ShareDrawer = (ShareDrawer_Component.exports);\n\n// EXTERNAL MODULE: ./src/components/user/UserReportForm.vue + 2 modules\nvar UserReportForm = __webpack_require__(163);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/drawers/ReportDrawer.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var ReportDrawer = ({\n  name: \"ReportDrawer\",\n  components: {\n    UserReportForm: UserReportForm[\"a\" /* default */]\n  },\n\n  data() {\n    return {\n      show: false,\n      title: \"\",\n      id: 0,\n      model: 0,\n      isCreator: false\n    };\n  },\n\n  computed: {\n    drawerTitle() {\n      return this.title || \"举报\";\n    }\n\n  },\n\n  mounted() {\n    this.$channel.$on(\"open-report-drawer\", (_ref) => {\n      var id = _ref.id,\n          model = _ref.model,\n          title = _ref.title,\n          isCreator = _ref.isCreator;\n      this.id = id;\n      this.model = model;\n      this.title = title;\n      this.isCreator = isCreator;\n      this.show = true;\n    });\n  }\n\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2bbaef07\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/drawers/ReportDrawer.vue\nvar ReportDrawer_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-drawer',{staticClass:\"report-drawer\",attrs:{\"header-text\":_vm.drawerTitle,\"backdrop\":false,\"from\":\"bottom\",\"size\":\"100%\"},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('user-report-form',{attrs:{\"id\":_vm.id,\"model\":_vm.model},on:{\"success\":function($event){_vm.show = false}}})],1)}\nvar ReportDrawer_staticRenderFns = []\nvar ReportDrawer_esExports = { render: ReportDrawer_render, staticRenderFns: ReportDrawer_staticRenderFns }\n/* harmony default export */ var drawers_ReportDrawer = (ReportDrawer_esExports);\n// CONCATENATED MODULE: ./src/components/drawers/ReportDrawer.vue\nfunction ReportDrawer_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(202),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar ReportDrawer_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar ReportDrawer___vue_template_functional__ = false\n/* styles */\nvar ReportDrawer___vue_styles__ = ReportDrawer_injectStyle\n/* scopeId */\nvar ReportDrawer___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar ReportDrawer___vue_module_identifier__ = \"4bfcfd51\"\nvar ReportDrawer_Component = ReportDrawer_normalizeComponent(\n  ReportDrawer,\n  drawers_ReportDrawer,\n  ReportDrawer___vue_template_functional__,\n  ReportDrawer___vue_styles__,\n  ReportDrawer___vue_scopeId__,\n  ReportDrawer___vue_module_identifier__\n)\n\n/* harmony default export */ var components_drawers_ReportDrawer = (ReportDrawer_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/layouts/default.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n/* harmony default export */ var layouts_default = ({\n  components: {\n    vHeader: components_layouts_Header,\n    CreatorMenu: components_common_Creator,\n    FeedbackDrawer: components_drawers_FeedbackDrawer,\n    ShareDrawer: components_drawers_ShareDrawer,\n    ReportDrawer: components_drawers_ReportDrawer\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-58ac65bc\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/layouts/default.vue\nvar default_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"layout-default\"}},[_c('v-header'),_c('router-view',{staticClass:\"main-view\"}),_c('no-ssr',[_c('creator-menu')],1),_c('feedback-drawer'),_c('share-drawer'),_c('report-drawer')],1)}\nvar default_staticRenderFns = []\nvar default_esExports = { render: default_render, staticRenderFns: default_staticRenderFns }\n/* harmony default export */ var selectortype_template_index_0_src_layouts_default = (default_esExports);\n// CONCATENATED MODULE: ./src/layouts/default.vue\nfunction default_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(179),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar default_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar default___vue_template_functional__ = false\n/* styles */\nvar default___vue_styles__ = default_injectStyle\n/* scopeId */\nvar default___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar default___vue_module_identifier__ = \"00da1201\"\nvar default_Component = default_normalizeComponent(\n  layouts_default,\n  selectortype_template_index_0_src_layouts_default,\n  default___vue_template_functional__,\n  default___vue_styles__,\n  default___vue_scopeId__,\n  default___vue_module_identifier__\n)\n\n/* harmony default export */ var src_layouts_default = __webpack_exports__[\"default\"] = (default_Component.exports);\n\n\n/***/ })\n\n};;",
    "4.server-bundle.js": "exports.ids = [4];\nexports.modules = {\n\n/***/ 100:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_core_js_modules_web_dom_iterable__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_core_js_modules_web_dom_iterable___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_core_js_modules_web_dom_iterable__);\n\n\n/**\n * [ scrollToY 指定的 DOM 过度滚动到指定的 Y 轴 ]\n * @param targetY\n * @param timer\n * @param dom\n * @param ease\n */\n/* harmony default export */ __webpack_exports__[\"a\"] = ((targetY, timer, dom, ease) => {\n  var currentTime = 0;\n  var element = dom ? [dom] : [document.getElementsByTagName(\"html\")[0], document.body];\n  var scrollY = dom ? dom.scrollTop : window.scrollY;\n  var scrollTargetY = targetY || 0;\n  var speed = timer || 2000;\n  var easing = ease || \"easeOutSine\";\n  var time = Math.max(0.1, Math.min(Math.abs(scrollY - scrollTargetY) / speed, 0.8));\n  var easingEquations = {\n    easeOutSine(pos) {\n      return Math.sin(pos * (Math.PI / 2));\n    },\n\n    easeInOutSine(pos) {\n      return -0.5 * (Math.cos(Math.PI * pos) - 1);\n    },\n\n    easeInOutQuint(pos) {\n      // eslint-disable-next-line\n      if ((pos /= 0.5) < 1) {\n        return 0.5 * Math.pow(pos, 5);\n      }\n\n      return 0.5 * (Math.pow(pos - 2, 5) + 2);\n    }\n\n  };\n  element.forEach(ele => {\n    if (!ele.requestAnimFrame) {\n      ele.requestAnimFrame = function () {\n        return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || function (callback) {\n          window.setTimeout(callback, 1000 / 60);\n        };\n      }().bind(window);\n    }\n  });\n\n  function tick() {\n    currentTime += 1 / 60;\n    var p = currentTime / time;\n    var t = easingEquations[easing](p);\n    element.forEach(ele => {\n      if (p < 1) {\n        ele.requestAnimFrame(tick);\n        ele.scrollTop = scrollY + (scrollTargetY - scrollY) * t;\n      } else {\n        ele.scrollTop = scrollTargetY;\n      }\n    });\n  }\n\n  tick();\n});\n\n/***/ }),\n\n/***/ 101:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: external \"@babel/runtime/regenerator\"\nvar regenerator_ = __webpack_require__(0);\nvar regenerator__default = /*#__PURE__*/__webpack_require__.n(regenerator_);\n\n// EXTERNAL MODULE: external \"regenerator-runtime/runtime\"\nvar runtime_ = __webpack_require__(1);\nvar runtime__default = /*#__PURE__*/__webpack_require__.n(runtime_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/asyncToGenerator\"\nvar asyncToGenerator_ = __webpack_require__(2);\nvar asyncToGenerator__default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator_);\n\n// EXTERNAL MODULE: ./src/assets/js/scrollToY.js\nvar scrollToY = __webpack_require__(100);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/CommentCreateForm.vue\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var CommentCreateForm = ({\n  name: \"CommentCreateForm\",\n  props: {\n    type: {\n      required: true,\n      type: String\n    },\n    id: {\n      required: true,\n      type: Number\n    },\n    masterId: {\n      required: true,\n      type: Number\n    }\n  },\n\n  data() {\n    return {\n      content: \"\"\n    };\n  },\n\n  computed: {\n    isGuest() {\n      return !this.$store.state.login;\n    },\n\n    submitting() {\n      return this.$store.state.comment.submitting;\n    }\n\n  },\n  methods: {\n    submit() {\n      var _this = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee() {\n        var result;\n        return regenerator__default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!_this.isGuest) {\n                  _context.next = 3;\n                  break;\n                }\n\n                _this.$channel.$emit(\"sign-in\");\n\n                return _context.abrupt(\"return\");\n\n              case 3:\n                if (_this.content) {\n                  _context.next = 6;\n                  break;\n                }\n\n                _this.$emit(\"close\");\n\n                return _context.abrupt(\"return\");\n\n              case 6:\n                if (!_this.submitting) {\n                  _context.next = 8;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 8:\n                _this.$store.commit(\"comment/SET_SUBMITTING\", {\n                  result: true\n                });\n\n                _context.prev = 9;\n                _context.next = 12;\n                return _this.$store.dispatch(\"comment/createMainComment\", {\n                  content: _this.content,\n                  images: [],\n                  type: _this.type,\n                  id: _this.id,\n                  ctx: _this\n                });\n\n              case 12:\n                result = _context.sent;\n\n                _this.$toast.success(result.message);\n\n                _this.$store.commit(\"UPDATE_USER_EXP\", result.exp);\n\n                _this.$emit(\"submit\");\n\n                _this.content = \"\";\n                setTimeout(() => {\n                  var dom = document.getElementById(`comment-${result.data.id}`);\n                  dom && Object(scrollToY[\"a\" /* default */])(_this.$utils.getOffsetTop(dom) - 100, 600);\n                }, 400);\n                _context.next = 23;\n                break;\n\n              case 20:\n                _context.prev = 20;\n                _context.t0 = _context[\"catch\"](9);\n\n                _this.$toast.error(_context.t0);\n\n              case 23:\n                _context.prev = 23;\n\n                _this.$store.commit(\"comment/SET_SUBMITTING\", {\n                  result: false\n                });\n\n                return _context.finish(23);\n\n              case 26:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[9, 20, 23, 26]]);\n      }))();\n    },\n\n    handleAreaFocus() {\n      document.body.scrollTop = 0;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-33995f98\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/CommentCreateForm.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"comment-create-form\"},[_vm._ssrNode(\"<textarea placeholder=\\\"来吧，尽情的（在1000字以内）发挥吧\\\" maxlength=\\\"1000\\\" class=\\\"content\\\"></textarea>\"),_c('el-button',{staticClass:\"submit-btn\",attrs:{\"loading\":_vm.submitting,\"type\":\"primary\"},on:{\"click\":_vm.submit}},[_vm._v(\"发布\")])],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var comments_CommentCreateForm = (esExports);\n// CONCATENATED MODULE: ./src/components/comments/CommentCreateForm.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(105),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"1d31a883\"\nvar Component = normalizeComponent(\n  CommentCreateForm,\n  comments_CommentCreateForm,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_CommentCreateForm = (Component.exports);\n\n// EXTERNAL MODULE: ./src/components/comments/SubCommentList.vue + 5 modules\nvar SubCommentList = __webpack_require__(102);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/CommentItem.vue\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var CommentItem = ({\n  name: \"CommentCommentItem\",\n  components: {\n    SubCommentList: SubCommentList[\"a\" /* default */]\n  },\n  props: {\n    comment: {\n      required: true,\n      type: Object\n    },\n    masterId: {\n      required: true,\n      type: Number\n    },\n    type: {\n      required: true,\n      type: String\n    }\n  },\n\n  data() {\n    return {\n      deleting: false,\n      liking: false\n    };\n  },\n\n  computed: {\n    currentUserId() {\n      return this.$store.state.login ? this.$store.state.user.id : 0;\n    },\n\n    isMine() {\n      return this.currentUserId === this.comment.from_user_id;\n    },\n\n    canDelete() {\n      return this.isMine || this.currentUserId === this.masterId;\n    },\n\n    actions() {\n      var result = [];\n\n      if (this.canDelete) {\n        result.push({\n          name: \"删除\",\n          method: this.deleteComment\n        });\n      }\n\n      result.push({\n        name: this.comment.liked ? \"取消赞\" : \"点赞\",\n        method: this.toggleLike\n      });\n      return result;\n    }\n\n  },\n  methods: {\n    toggleLike() {\n      var _this = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee() {\n        return regenerator__default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (_this.currentUserId) {\n                  _context.next = 3;\n                  break;\n                }\n\n                _this.$channel.$emit(\"sign-in\");\n\n                return _context.abrupt(\"return\");\n\n              case 3:\n                if (!_this.liking) {\n                  _context.next = 5;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 5:\n                _this.liking = true;\n                _context.prev = 6;\n                _context.next = 9;\n                return _this.$store.dispatch(\"comment/toggleLikeMainComment\", {\n                  ctx: _this,\n                  type: _this.type,\n                  id: _this.comment.id\n                });\n\n              case 9:\n                _context.next = 13;\n                break;\n\n              case 11:\n                _context.prev = 11;\n                _context.t0 = _context[\"catch\"](6);\n\n              case 13:\n                _context.prev = 13;\n                _this.liking = false;\n                return _context.finish(13);\n\n              case 16:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[6, 11, 13, 16]]);\n      }))();\n    },\n\n    deleteComment() {\n      if (this.deleting) {\n        return;\n      }\n\n      this.deleting = true;\n      this.$confirm(\"删除后无法找回, 是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(() => {\n        this.$store.dispatch(\"comment/deleteMainComment\", {\n          ctx: this,\n          type: this.type,\n          id: this.comment.id\n        });\n        this.$emit(\"delete\");\n      }).catch(e => {\n        this.deleting = false;\n\n        if (e === \"cancel\") {\n          return;\n        }\n\n        this.$toast.error(e);\n      });\n    },\n\n    handleCommentBtnClick() {\n      this.$channel.$emit(\"reply-comment\", {\n        id: this.comment.id,\n        targetUserId: this.comment.from_user_id,\n        targetUserName: this.comment.from_user_name\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-041aa410\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/CommentItem.vue\nvar CommentItem_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"comment-item\",attrs:{\"id\":(\"comment-\" + (_vm.comment.id))}},[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.comment.from_user_zone)))+\" class=\\\"avatar\\\">\",\"</a>\",[_c('v-img',{attrs:{\"src\":_vm.comment.from_user_avatar,\"avatar\":true,\"size\":\"35\"}})],1),_vm._ssrNode(\"<div class=\\\"content\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"header\\\">\",\"</div>\",[_c('v-popover',{attrs:{\"actions\":_vm.actions,\"report-id\":_vm.comment.id,\"report-type\":_vm.type + '_comment'}},[_c('button',{staticClass:\"tools-btn\"},[_vm._v(\"···\")])]),_vm._ssrNode(\"<div class=\\\"user\\\">\",\"</div>\",[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.comment.from_user_zone)))+\" class=\\\"nickname oneline\\\">\"+_vm._ssrEscape(_vm._s(_vm.comment.from_user_name))+\"</a>\"),_vm._ssrNode(\"<div class=\\\"info\\\">\",\"</div>\",[_vm._ssrNode(\"<span>\"+_vm._ssrEscape(\"第\"+_vm._s(_vm.comment.floor_count - 1)+\"楼\")+\"</span><span>·</span>\"),_c('v-time',{model:{value:(_vm.comment.created_at),callback:function ($$v) {_vm.$set(_vm.comment, \"created_at\", $$v)},expression:\"comment.created_at\"}})],2)],2)],1),_vm._ssrNode(\"<div class=\\\"main\\\">\"+(_vm._s(_vm.comment.content))+\"</div>\"),_vm._ssrNode(\"<div class=\\\"footer\\\">\",\"</div>\",[_c('sub-comment-list',{attrs:{\"parent-comment\":_vm.comment,\"type\":_vm.type}}),_vm._ssrNode(\"<div class=\\\"social\\\"><button\"+(_vm._ssrClass(null,[ _vm.comment.liked ? 'reply-liked-btn' : 'reply-like-btn' ]))+\"><i class=\\\"iconfont icon-icon_good\\\"></i>\"+_vm._ssrEscape(\"\\n          \"+_vm._s(_vm.comment.liked ? '已赞' : '赞')+\"\\n          \")+((_vm.comment.like_count)?(\"<span>\"+_vm._ssrEscape(\"(\"+_vm._s(_vm.comment.like_count)+\")\")+\"</span>\"):\"<!---->\")+\"</button><button class=\\\"reply-btn fr\\\">\\n          回复\\n        </button></div>\")],2)],2)])}\nvar CommentItem_staticRenderFns = []\nvar CommentItem_esExports = { render: CommentItem_render, staticRenderFns: CommentItem_staticRenderFns }\n/* harmony default export */ var comments_CommentItem = (CommentItem_esExports);\n// CONCATENATED MODULE: ./src/components/comments/CommentItem.vue\nfunction CommentItem_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(107),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar CommentItem_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar CommentItem___vue_template_functional__ = false\n/* styles */\nvar CommentItem___vue_styles__ = CommentItem_injectStyle\n/* scopeId */\nvar CommentItem___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar CommentItem___vue_module_identifier__ = \"8f3d9b14\"\nvar CommentItem_Component = CommentItem_normalizeComponent(\n  CommentItem,\n  comments_CommentItem,\n  CommentItem___vue_template_functional__,\n  CommentItem___vue_styles__,\n  CommentItem___vue_scopeId__,\n  CommentItem___vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_CommentItem = (CommentItem_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/CommentMain.vue\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ var CommentMain = ({\n  name: \"VCommentMain\",\n  components: {\n    CommentCreateForm: components_comments_CommentCreateForm,\n    CommentItem: components_comments_CommentItem\n  },\n  props: {\n    id: {\n      required: true,\n      type: [Number, String]\n    },\n    type: {\n      required: true,\n      type: String,\n      validator: val => ~[\"post\", \"video\", \"image\", \"score\", \"question\", \"answer\", \"role\"].indexOf(val)\n    },\n    onlySeeMaster: {\n      type: Boolean,\n      default: false\n    },\n    emptyText: {\n      type: String,\n      default: \"暂无评论，快来抢沙发吧╮(￣▽￣)╭！\"\n    },\n    masterId: {\n      required: true,\n      type: Number\n    },\n    bottomAppendComment: {\n      type: Boolean,\n      default: true\n    },\n    auto: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  data() {\n    return {\n      loadingMainComment: false,\n      focusCommentId: 0,\n      openFocusCommentDrawer: false,\n      loadingSubComment: false,\n      replyForm: {\n        id: \"\",\n        content: \"\",\n        targetUserId: 0,\n        targetUserName: \"\",\n        open: false,\n        replying: false,\n        liking: false\n      },\n      openCreateCommentDrawer: false\n    };\n  },\n\n  computed: {\n    store() {\n      return this.$store.state.comment;\n    },\n\n    list() {\n      return this.store.list;\n    },\n\n    noMore() {\n      return this.store.noMore;\n    },\n\n    total() {\n      return this.store.total;\n    },\n\n    focusComment() {\n      return this.focusCommentId ? this.list.filter(_ => _.id === this.focusCommentId)[0] : null;\n    },\n\n    currentUserId() {\n      return this.$store.state.login ? this.$store.state.user.id : 0;\n    }\n\n  },\n\n  mounted() {\n    this.scrollToReply();\n\n    if (this.auto) {\n      this.$channel.$on(`fire-load-comment-${this.type}-${this.id}`, () => {\n        this.loadMoreMainComment(true);\n      });\n    }\n\n    this.$channel.$on(\"load-all-sub-comment\", (_ref) => {\n      var id = _ref.id;\n      this.focusCommentId = id;\n      this.openFocusCommentDrawer = true;\n    });\n    this.$channel.$on(`open-create-comment-drawer-${this.type}-${this.id}`, () => {\n      if (!this.currentUserId) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      this.openCreateCommentDrawer = true;\n    });\n    this.$channel.$on(\"reply-comment\", (_ref2) => {\n      var id = _ref2.id,\n          targetUserId = _ref2.targetUserId,\n          targetUserName = _ref2.targetUserName;\n      this.handleSubCommentReply({\n        id,\n        targetUserId,\n        targetUserName\n      });\n    });\n    document.getElementById(\"comment-wrap\").addEventListener(\"click\", e => {\n      if (/reply-btn/.test(e.target.className) && this.$el.contains(e.target)) {\n        var area = document.getElementById(\"reply-comment-textarea\");\n        area.style.display = \"block\";\n        area.focus();\n      }\n    });\n  },\n\n  methods: {\n    loadMoreMainComment() {\n      var _this = this,\n          _arguments = arguments;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee() {\n        var firstRequest;\n        return regenerator__default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                firstRequest = _arguments.length > 0 && _arguments[0] !== undefined ? _arguments[0] : false;\n\n                if (!_this.loadingMainComment) {\n                  _context.next = 3;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 3:\n                _this.loadingMainComment = true;\n                _context.prev = 4;\n                _context.next = 7;\n                return _this.$store.dispatch(\"comment/getMainComments\", {\n                  ctx: _this,\n                  type: _this.type,\n                  id: _this.id,\n                  onlySeeMaster: _this.onlySeeMaster ? 1 : 0,\n                  firstRequest\n                });\n\n              case 7:\n                _context.next = 12;\n                break;\n\n              case 9:\n                _context.prev = 9;\n                _context.t0 = _context[\"catch\"](4);\n\n                _this.$toast.error(_context.t0);\n\n              case 12:\n                _context.prev = 12;\n                _this.loadingMainComment = false;\n                return _context.finish(12);\n\n              case 15:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[4, 9, 12, 15]]);\n      }))();\n    },\n\n    loadMoreSubComment() {\n      var _this2 = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee2() {\n        return regenerator__default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!_this2.loadingSubComment) {\n                  _context2.next = 2;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\");\n\n              case 2:\n                _this2.loadingSubComment = true;\n                _context2.prev = 3;\n                _context2.next = 6;\n                return _this2.$store.dispatch(\"comment/getSubComments\", {\n                  ctx: _this2,\n                  type: _this2.type,\n                  id: _this2.focusCommentId\n                });\n\n              case 6:\n                _context2.next = 11;\n                break;\n\n              case 8:\n                _context2.prev = 8;\n                _context2.t0 = _context2[\"catch\"](3);\n\n                _this2.$toast.error(_context2.t0);\n\n              case 11:\n                _context2.prev = 11;\n                _this2.loadingSubComment = false;\n                return _context2.finish(11);\n\n              case 14:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[3, 8, 11, 14]]);\n      }))();\n    },\n\n    commentToComment(data) {\n      this.handleSubCommentReply({\n        id: data.parent_id,\n        targetUserId: data.from_user_id,\n        targetUserName: data.from_user_name\n      });\n    },\n\n    handleCommentBtnClick() {\n      this.handleSubCommentReply({\n        id: this.focusComment.id,\n        targetUserId: this.focusComment.from_user_id,\n        targetUserName: this.focusComment.from_user_name\n      });\n    },\n\n    handleSubCommentReply(_ref3) {\n      var id = _ref3.id,\n          targetUserId = _ref3.targetUserId,\n          targetUserName = _ref3.targetUserName;\n\n      if (!this.currentUserId) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      this.replyForm.id = id;\n      this.replyForm.targetUserId = targetUserId;\n      this.replyForm.targetUserName = targetUserName;\n      this.replyForm.open = true;\n      setTimeout(() => {\n        document.body.scrollTop = 0;\n      }, 200);\n    },\n\n    toggleFocusCommentLike() {\n      var _this3 = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee3() {\n        return regenerator__default.a.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (_this3.currentUserId) {\n                  _context3.next = 3;\n                  break;\n                }\n\n                _this3.$channel.$emit(\"sign-in\");\n\n                return _context3.abrupt(\"return\");\n\n              case 3:\n                if (!_this3.replyForm.liking) {\n                  _context3.next = 5;\n                  break;\n                }\n\n                return _context3.abrupt(\"return\");\n\n              case 5:\n                _this3.replyForm.liking = true;\n                _context3.prev = 6;\n                _context3.next = 9;\n                return _this3.$store.dispatch(\"comment/toggleLikeMainComment\", {\n                  ctx: _this3,\n                  type: _this3.type,\n                  id: _this3.focusCommentId\n                });\n\n              case 9:\n                _context3.next = 13;\n                break;\n\n              case 11:\n                _context3.prev = 11;\n                _context3.t0 = _context3[\"catch\"](6);\n\n              case 13:\n                _context3.prev = 13;\n                _this3.replyForm.liking = false;\n                return _context3.finish(13);\n\n              case 16:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[6, 11, 13, 16]]);\n      }))();\n    },\n\n    handleReplyDrawerClose() {\n      document.getElementById(\"reply-comment-textarea\").style.display = \"none\";\n    },\n\n    handleReplySubmit() {\n      var _this4 = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee4() {\n        var result;\n        return regenerator__default.a.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                if (_this4.currentUserId) {\n                  _context4.next = 3;\n                  break;\n                }\n\n                _this4.$channel.$emit(\"sign-in\");\n\n                return _context4.abrupt(\"return\");\n\n              case 3:\n                if (_this4.replyForm.content) {\n                  _context4.next = 5;\n                  break;\n                }\n\n                return _context4.abrupt(\"return\");\n\n              case 5:\n                if (!_this4.replyForm.replying) {\n                  _context4.next = 7;\n                  break;\n                }\n\n                return _context4.abrupt(\"return\");\n\n              case 7:\n                _this4.replyForm.replying = true;\n                _context4.prev = 8;\n                _context4.next = 11;\n                return _this4.$store.dispatch(\"comment/createSubComment\", {\n                  ctx: _this4,\n                  id: _this4.replyForm.id,\n                  type: _this4.type,\n                  content: _this4.replyForm.content,\n                  targetUserId: _this4.replyForm.targetUserId\n                });\n\n              case 11:\n                result = _context4.sent;\n                _this4.replyForm.open = false;\n                _this4.replyForm.content = \"\";\n\n                _this4.$toast.success(result.message);\n\n                _this4.$store.commit(\"UPDATE_USER_EXP\", result.exp);\n\n                _context4.next = 21;\n                break;\n\n              case 18:\n                _context4.prev = 18;\n                _context4.t0 = _context4[\"catch\"](8);\n\n                _this4.$toast.error(_context4.t0);\n\n              case 21:\n                _context4.prev = 21;\n                _this4.replyForm.replying = false;\n\n                _this4.handleReplyDrawerClose();\n\n                return _context4.finish(21);\n\n              case 25:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this, [[8, 18, 21, 25]]);\n      }))();\n    },\n\n    writeComment() {\n      this.$channel.$emit(`open-create-comment-drawer-${this.type}-${this.id}`);\n    },\n\n    closeCommentDrawer() {\n      this.openCreateCommentDrawer = false;\n    },\n\n    submitCommentCallback() {\n      this.openCreateCommentDrawer = false;\n      this.$emit(\"create-main-comment\");\n    },\n\n    deleteCommentCallback() {\n      this.$emit(\"delete-main-comment\");\n    },\n\n    scrollToReply() {\n      var replyId = this.$route.query[\"comment-id\"];\n\n      if (!replyId) {\n        return;\n      }\n\n      var reply = document.getElementById(`comment-${replyId}`);\n\n      if (!reply) {\n        return;\n      }\n\n      setTimeout(() => {\n        Object(scrollToY[\"a\" /* default */])(this.$utils.getOffsetTop(reply) - 100, 600);\n      }, 400);\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-dbd4bc0e\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/CommentMain.vue\nvar CommentMain_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"comment-wrap\"}},[_vm._t(\"header\",[(!_vm.auto)?_c('div',{staticClass:\"hr\"}):_vm._e(),_c('h3',{staticClass:\"sub-title\"},[_vm._v(\"\\n      评论\"+_vm._s(_vm.total ? (\"(\" + _vm.total + \")\") : '')+\"\\n      \"),_vm._t(\"header-btn\"),_c('button',{staticClass:\"write-btn\",on:{\"click\":_vm.writeComment}},[_vm._v(\"写评论\")])],2)]),(_vm.list.length)?[_vm._ssrNode(\"<div id=\\\"comment-list-wrap\\\">\",\"</div>\",_vm._l((_vm.list),function(comment){return _vm._ssrNode(\"<div class=\\\"comment-item-wrap\\\">\",\"</div>\",[_vm._t(\"comment-item\",[_c('comment-item',{attrs:{\"type\":_vm.type,\"comment\":comment,\"master-id\":_vm.masterId},on:{\"delete\":_vm.deleteCommentCallback}})],{comment:comment,reply:_vm.handleSubCommentReply})],2)})),_vm._ssrNode(\"<div id=\\\"comment-list-footer\\\">\",\"</div>\",[_vm._ssrNode(((_vm.bottomAppendComment)?(\"<button class=\\\"append-comment-btn\\\">写评论</button>\"):\"<!---->\")),_c('more-btn',{attrs:{\"no-more\":_vm.noMore,\"loading\":_vm.loadingMainComment,\"auto\":true},on:{\"fetch\":function($event){_vm.loadMoreMainComment(false)}}})],2)]:(_vm.emptyText)?_vm._ssrNode((\"<p class=\\\"no-content\\\">\"+_vm._ssrEscape(_vm._s(_vm.emptyText))+\"</p>\")):_vm._e(),_c('v-drawer',{staticClass:\"focus-comment-drawer\",attrs:{\"header-text\":(\"评论列表\" + (_vm.focusComment && _vm.focusComment.floor_count ? (\" - \" + (_vm.focusComment.floor_count) + \" 楼\") : '')),\"backdrop\":false,\"from\":\"bottom\",\"size\":\"100%\"},model:{value:(_vm.openFocusCommentDrawer),callback:function ($$v) {_vm.openFocusCommentDrawer=$$v},expression:\"openFocusCommentDrawer\"}},[(_vm.focusComment)?[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"reply\"},[_c('div',{staticClass:\"user clearfix\"},[_c('a',{staticClass:\"avatar\",attrs:{\"href\":_vm.$alias.user(_vm.focusComment.from_user_zone)}},[_c('v-img',{attrs:{\"src\":_vm.focusComment.from_user_avatar,\"avatar\":true,\"size\":\"35\"}})],1),_c('div',{staticClass:\"summary\"},[_c('a',{staticClass:\"nickname\",attrs:{\"href\":_vm.$alias.user(_vm.focusComment.from_user_zone)},domProps:{\"textContent\":_vm._s(_vm.focusComment.from_user_name)}}),_c('div',{staticClass:\"info\"},[_c('v-time',{model:{value:(_vm.focusComment.created_at),callback:function ($$v) {_vm.$set(_vm.focusComment, \"created_at\", $$v)},expression:\"focusComment.created_at\"}})],1)])]),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"text-area\",domProps:{\"innerHTML\":_vm._s(_vm.focusComment.content)}}),_c('div',{staticClass:\"image-area\"},_vm._l((_vm.focusComment.images),function(img,idx){return _c('div',{key:idx,staticClass:\"image-package\"},[_c('v-img',{attrs:{\"src\":img.url,\"width\":img.width,\"height\":img.height,\"full\":true}})],1)}))]),_c('div',{staticClass:\"social\"},[_c('button',{class:[ _vm.focusComment.liked ? 'reply-liked-btn' : 'reply-like-btn' ],on:{\"click\":_vm.toggleFocusCommentLike}},[_c('i',{staticClass:\"iconfont icon-icon_good\"}),_vm._v(\"\\n              \"+_vm._s(_vm.focusComment.liked ? '已赞' : '赞')+\"\\n              \"),(_vm.focusComment.like_count)?_c('span',[_vm._v(\"(\"+_vm._s(_vm.focusComment.like_count)+\")\")]):_vm._e()]),_c('button',{staticClass:\"reply-btn fr\",on:{\"click\":_vm.handleCommentBtnClick}},[_vm._v(\"\\n              回复\\n            \")])])]),_c('div',{staticClass:\"hr\"}),_c('p',{staticClass:\"total\"},[_vm._v(_vm._s(_vm.focusComment.comments.total)+\"条回复\")]),_c('ul',{staticClass:\"comments\"},_vm._l((_vm.focusComment.comments.list),function(item){return _c('li',{key:item.id},[_c('div',{staticClass:\"from-user\"},[_c('a',{staticClass:\"avatar\",attrs:{\"href\":_vm.$alias.user(item.from_user_zone)}},[_c('v-img',{attrs:{\"src\":item.from_user_avatar,\"avatar\":true,\"size\":\"35\"}})],1),_c('div',{staticClass:\"summary\"},[_c('div',{staticClass:\"users oneline\"},[_c('a',{staticClass:\"nickname\",attrs:{\"href\":_vm.$alias.user(item.from_user_zone)},domProps:{\"textContent\":_vm._s(item.from_user_name)}}),(item.to_user_zone)?[_vm._v(\"\\n                    回复\\n                    \"),_c('a',{staticClass:\"nickname\",attrs:{\"href\":_vm.$alias.user(item.to_user_zone)},domProps:{\"textContent\":_vm._s(item.to_user_name)}})]:_vm._e(),_vm._v(\"\\n                  :\\n                \")],2),_c('div',{staticClass:\"info\"},[_c('v-time',{model:{value:(item.created_at),callback:function ($$v) {_vm.$set(item, \"created_at\", $$v)},expression:\"item.created_at\"}})],1)])]),_c('div',{staticClass:\"main\"},[_c('div',{staticClass:\"content reply-btn\",domProps:{\"textContent\":_vm._s(item.content)},on:{\"click\":function($event){_vm.commentToComment(item)}}})])])}))]),_c('more-btn',{attrs:{\"no-more\":_vm.focusComment.comments.noMore,\"loading\":_vm.loadingSubComment},on:{\"fetch\":_vm.loadMoreSubComment}})]:_vm._e()],2),_vm._ssrNode(\"<div class=\\\"reply-comment-drawer-wrap\\\">\",\"</div>\",[_c('v-drawer',{staticClass:\"reply-comment-drawer\",attrs:{\"header-text\":_vm.currentUserId === _vm.replyForm.targetUserId ? '回复' : (\"回复：\" + (_vm.replyForm.targetUserName)),\"backdrop\":false,\"from\":\"right\",\"size\":\"100%\",\"submit-text\":\"发布\"},on:{\"cancel\":_vm.handleReplyDrawerClose,\"submit\":_vm.handleReplySubmit},model:{value:(_vm.replyForm.open),callback:function ($$v) {_vm.$set(_vm.replyForm, \"open\", $$v)},expression:\"replyForm.open\"}}),_vm._ssrNode(\"<textarea id=\\\"reply-comment-textarea\\\" placeholder=\\\"100字以内任意发挥\\\" maxlength=\\\"100\\\"\"+(_vm._ssrClass(null,{ 'fade-in': _vm.replyForm.open }))+\"></textarea>\")],2),_c('v-drawer',{attrs:{\"from\":\"right\",\"size\":\"100%\",\"header-text\":\"发表评论\"},model:{value:(_vm.openCreateCommentDrawer),callback:function ($$v) {_vm.openCreateCommentDrawer=$$v},expression:\"openCreateCommentDrawer\"}},[(_vm.openCreateCommentDrawer)?_c('div',{staticClass:\"container\"},[_vm._t(\"reply-form\",[(_vm.openCreateCommentDrawer)?_c('comment-create-form',{attrs:{\"id\":_vm.id,\"type\":_vm.type,\"master-id\":_vm.masterId},on:{\"close\":_vm.closeCommentDrawer,\"submit\":_vm.submitCommentCallback}}):_vm._e()],{close:_vm.closeCommentDrawer})],2):_vm._e()])],2)}\nvar CommentMain_staticRenderFns = []\nvar CommentMain_esExports = { render: CommentMain_render, staticRenderFns: CommentMain_staticRenderFns }\n/* harmony default export */ var comments_CommentMain = (CommentMain_esExports);\n// CONCATENATED MODULE: ./src/components/comments/CommentMain.vue\nfunction CommentMain_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(103),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar CommentMain_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar CommentMain___vue_template_functional__ = false\n/* styles */\nvar CommentMain___vue_styles__ = CommentMain_injectStyle\n/* scopeId */\nvar CommentMain___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar CommentMain___vue_module_identifier__ = \"71b0fa1c\"\nvar CommentMain_Component = CommentMain_normalizeComponent(\n  CommentMain,\n  comments_CommentMain,\n  CommentMain___vue_template_functional__,\n  CommentMain___vue_styles__,\n  CommentMain___vue_scopeId__,\n  CommentMain___vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_CommentMain = __webpack_exports__[\"a\"] = (CommentMain_Component.exports);\n\n\n/***/ }),\n\n/***/ 102:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/SubCommentItem.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var SubCommentItem = ({\n  name: \"SubCommentItem\",\n  props: {\n    comment: {\n      required: true,\n      type: Object\n    },\n    parentUserId: {\n      required: true,\n      type: Number\n    },\n    parentCommentId: {\n      required: true,\n      type: Number\n    },\n    type: {\n      required: true,\n      type: String\n    }\n  },\n\n  data() {\n    return {\n      deleting: false\n    };\n  },\n\n  computed: {\n    currentUserId() {\n      return this.$store.state.login ? this.$store.state.user.id : 0;\n    },\n\n    isMine() {\n      return this.currentUserId === this.comment.from_user_id;\n    },\n\n    canDelete() {\n      return this.isMine || this.currentUserId === this.parentUserId;\n    }\n\n  },\n  methods: {\n    handleSubCommentClick() {\n      if (this.isMine) {\n        this.deleteComment();\n        this.$nextTick(() => {\n          document.getElementById(\"reply-comment-textarea\").style.display = \"none\";\n        });\n        return;\n      }\n\n      if (this.currentUserId) {\n        this.$channel.$emit(\"reply-comment\", {\n          id: this.parentCommentId,\n          targetUserId: this.comment.from_user_id,\n          targetUserName: this.comment.from_user_name\n        });\n      }\n    },\n\n    deleteComment() {\n      if (!this.canDelete) {\n        return;\n      }\n\n      if (this.deleting) {\n        return;\n      }\n\n      this.deleting = true;\n      this.$confirm(\"删除后无法找回, 是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(() => {\n        this.$store.dispatch(\"comment/deleteSubComment\", {\n          ctx: this,\n          type: this.type,\n          id: this.comment.id,\n          parentId: this.comment.parent_id\n        });\n      }).catch(e => {\n        this.deleting = false;\n\n        if (e === \"cancel\") {\n          return;\n        }\n\n        this.$toast.error(e);\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3bb44ec9\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/SubCommentItem.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sub-comment-item\"},[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.comment.from_user_zone)))+\" class=\\\"nickname\\\">\"+_vm._ssrEscape(_vm._s(_vm.comment.from_user_name))+\"</a>\"+((_vm.comment.to_user_zone)?(\"\\n    回复\\n    <a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.comment.to_user_zone)))+\" class=\\\"nickname\\\">\"+_vm._ssrEscape(_vm._s(_vm.comment.to_user_name))+\"</a>\"):\"<!---->\")+\"\\n  :\\n  <span class=\\\"reply-btn comment-content\\\">\"+_vm._ssrEscape(_vm._s(_vm.comment.content))+\"</span>\")])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var comments_SubCommentItem = (esExports);\n// CONCATENATED MODULE: ./src/components/comments/SubCommentItem.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(111),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"3fc64a04\"\nvar Component = normalizeComponent(\n  SubCommentItem,\n  comments_SubCommentItem,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_SubCommentItem = (Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/SubCommentList.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var SubCommentList = ({\n  name: \"PostSubCommentList\",\n  components: {\n    SubCommentItem: components_comments_SubCommentItem\n  },\n  props: {\n    parentComment: {\n      required: true,\n      type: Object\n    },\n    type: {\n      required: true,\n      type: String\n    }\n  },\n  computed: {\n    comments() {\n      return this.parentComment.comments;\n    },\n\n    authorId() {\n      return this.parentComment.from_user_id;\n    },\n\n    hasComment() {\n      return !!this.comments.list.length;\n    },\n\n    filterComments() {\n      var data = this.comments;\n      var comments = data.list;\n      var result = comments.slice(0, 5);\n\n      if (comments.every(_ => _.id <= data.maxId)) {\n        return result;\n      }\n\n      var ids = result.map(_ => _.id);\n      return result.concat(comments.filter(_ => _.id > data.maxId && ids.indexOf(_.id) === -1));\n    }\n\n  },\n  methods: {\n    loadAllComment() {\n      this.$channel.$emit(\"load-all-sub-comment\", {\n        id: this.parentComment.id\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-14eb249e\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/SubCommentList.vue\nvar SubCommentList_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sub-comment-list-wrap\"},[(_vm.hasComment)?_vm._ssrNode(\"<div class=\\\"sub-comment-list\\\">\",\"</div>\",[_vm._l((_vm.filterComments),function(comment){return _c('sub-comment-item',{key:comment.id,attrs:{\"comment\":comment,\"parent-user-id\":_vm.authorId,\"parent-comment-id\":_vm.parentComment.id,\"type\":_vm.type}})}),_vm._ssrNode(((!_vm.comments.noMore || _vm.comments.list.length > 5)?(\"<button class=\\\"load-all-comment\\\">\"+_vm._ssrEscape(\"\\n      查看全部\"+_vm._s(_vm.comments.total)+\"条评论\\n    \")+\"</button>\"):\"<!---->\"))],2):_vm._e()])}\nvar SubCommentList_staticRenderFns = []\nvar SubCommentList_esExports = { render: SubCommentList_render, staticRenderFns: SubCommentList_staticRenderFns }\n/* harmony default export */ var comments_SubCommentList = (SubCommentList_esExports);\n// CONCATENATED MODULE: ./src/components/comments/SubCommentList.vue\nfunction SubCommentList_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(109),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar SubCommentList_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar SubCommentList___vue_template_functional__ = false\n/* styles */\nvar SubCommentList___vue_styles__ = SubCommentList_injectStyle\n/* scopeId */\nvar SubCommentList___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar SubCommentList___vue_module_identifier__ = \"2bbb59ee\"\nvar SubCommentList_Component = SubCommentList_normalizeComponent(\n  SubCommentList,\n  comments_SubCommentList,\n  SubCommentList___vue_template_functional__,\n  SubCommentList___vue_styles__,\n  SubCommentList___vue_scopeId__,\n  SubCommentList___vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_SubCommentList = __webpack_exports__[\"a\"] = (SubCommentList_Component.exports);\n\n\n/***/ }),\n\n/***/ 103:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(104);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"beeeca2c\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 104:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}#comment-wrap .sub-title{margin-top:15px;margin-bottom:15px}#comment-wrap .sub-title .write-btn{float:right;font-weight:700;font-size:13px}#comment-wrap #comment-list-footer{margin-left:-15px;margin-right:-15px}#comment-wrap .focus-comment-drawer .reply .user{padding-top:5px}#comment-wrap .focus-comment-drawer .reply .user .avatar{float:left;margin-right:9px}#comment-wrap .focus-comment-drawer .reply .user .summary{overflow:hidden}#comment-wrap .focus-comment-drawer .reply .user .summary .nickname{font-size:14px;color:#333}#comment-wrap .focus-comment-drawer .reply .user .summary .info{line-height:16px;font-size:12px;color:#999}#comment-wrap .focus-comment-drawer .reply .user .summary .info span{margin-right:5px}#comment-wrap .focus-comment-drawer .reply .content{font-size:16px;line-height:24px;padding-top:16px;margin-bottom:16px;color:#000}#comment-wrap .focus-comment-drawer .reply .content .image-area{margin:16px 0}#comment-wrap .focus-comment-drawer .reply .content .image-area img{width:100%;height:auto}#comment-wrap .focus-comment-drawer .reply .social{margin-bottom:15px;font-size:12px}#comment-wrap .focus-comment-drawer .reply .social .reply-liked-btn{color:#0381aa}#comment-wrap .focus-comment-drawer .reply .social button{color:#666;margin-left:3px}#comment-wrap .focus-comment-drawer .total{height:40px;line-height:40px;color:#000;font-size:16px}#comment-wrap .focus-comment-drawer .comments li{padding:17px 0 13px;position:relative}#comment-wrap .focus-comment-drawer .comments li:after{content:\\\"\\\";position:absolute;left:0;right:0;bottom:0;height:1px;background-color:#f0f0f0;-webkit-transform:scaleY(.5);-ms-transform:scaleY(.5);transform:scaleY(.5);margin-left:-15px;margin-right:-15px}#comment-wrap .focus-comment-drawer .comments li .from-user .avatar{float:left;display:block;margin-right:9px}#comment-wrap .focus-comment-drawer .comments li .from-user .summary{overflow:hidden}#comment-wrap .focus-comment-drawer .comments li .from-user .summary .users{font-size:14px;margin-bottom:6px;margin-top:2px;line-height:14px}#comment-wrap .focus-comment-drawer .comments li .from-user .summary .users .nickname{color:#0381aa}#comment-wrap .focus-comment-drawer .comments li .from-user .summary .info{font-size:12px;line-height:12px;color:#999}#comment-wrap .focus-comment-drawer .comments li .main{margin-left:45px;padding-top:10px}#comment-wrap .focus-comment-drawer .comments li .main .content{font-size:14px;line-height:21px;word-break:break-all}#comment-wrap .reply-comment-drawer-wrap #reply-comment-textarea{position:fixed;left:0;top:60px;width:100%;height:250px;background-color:transparent;font-size:16px;line-height:24px;color:#000;font-weight:400;z-index:101;padding-left:15px;padding-right:15px;display:none;opacity:0}#comment-wrap .reply-comment-drawer-wrap #reply-comment-textarea.fade-in{opacity:1;-webkit-transition-delay:.4s;-o-transition-delay:.4s;transition-delay:.4s}#comment-wrap .append-comment-btn{width:100%;padding:15px 0;font-size:13px}#comment-wrap .no-content{text-align:center;margin-top:30px;margin-bottom:30px;font-size:12px;color:#99a2aa}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 105:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(106);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"303ce1cc\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 106:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.comment-create-form .content{font-size:16px;line-height:24px;color:#000;font-weight:400;height:250px;margin-bottom:5px}.comment-create-form .submit-btn{margin-top:15px;width:100%}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 107:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(108);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"23a510bc\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 108:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.comment-item{position:relative;margin-top:15px;padding-bottom:15px}.comment-item:after{content:\\\"\\\";position:absolute;left:0;right:0;bottom:0;height:1px;background-color:#f0f0f0;-webkit-transform:scaleY(.5);-ms-transform:scaleY(.5);transform:scaleY(.5);margin-left:-15px;margin-right:-15px}.comment-item .avatar{float:left;margin-right:9px}.comment-item .content{overflow:hidden}.comment-item .content .header .tools-btn{float:right;line-height:16px;font-size:12px;color:#535353;margin-top:9px;margin-left:4px}.comment-item .content .header .user .nickname{font-size:14px;line-height:21px;display:block;color:#333}.comment-item .content .header .user .info{color:#999;line-height:14px;font-size:12px}.comment-item .content .header .user .info span{margin-right:5px}.comment-item .content .main{font-size:16px;margin:10px 0 4px;color:#333;line-height:24px;min-height:65px}.comment-item .content .main .image-area{margin:10px 0}.comment-item .content .main .image-area img{width:100%;height:auto}.comment-item .content .footer .social{margin-top:15px;font-size:12px}.comment-item .content .footer .social .reply-liked-btn{color:#0381aa}.comment-item .content .footer .social button{color:#666;margin-left:3px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 109:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(110);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"75d7965e\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 110:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.sub-comment-list-wrap{position:relative;background-color:#f7f8fa;border-radius:5px}.sub-comment-list-wrap .sub-comment-list{padding:7px 0 7.5px;margin-top:5px}.sub-comment-list-wrap .load-all-comment{position:relative;margin-top:6px;font-size:12px;margin-bottom:0;padding:0 10px;color:#999;width:100%;text-align:left}.sub-comment-list-wrap .load-all-comment:after{content:\\\"\\\";position:absolute;top:50%;border:3px solid #f5f5f5;border-left-color:#999;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);margin-left:4px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 111:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(112);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"6b8bda44\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 112:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.sub-comment-item{padding:2px 10px;font-size:14px;line-height:18px}.sub-comment-item .nickname{color:#0381aa}.sub-comment-item .comment-content{margin-right:6px;word-break:break-all}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 113:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: external \"@babel/runtime/regenerator\"\nvar regenerator_ = __webpack_require__(0);\nvar regenerator__default = /*#__PURE__*/__webpack_require__.n(regenerator_);\n\n// EXTERNAL MODULE: external \"regenerator-runtime/runtime\"\nvar runtime_ = __webpack_require__(1);\nvar runtime__default = /*#__PURE__*/__webpack_require__.n(runtime_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/asyncToGenerator\"\nvar asyncToGenerator_ = __webpack_require__(2);\nvar asyncToGenerator__default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator_);\n\n// EXTERNAL MODULE: ./src/api/toggleApi.js\nvar toggleApi = __webpack_require__(22);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/common/SocialPanel.vue\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var SocialPanel = ({\n  name: \"SocialPanel\",\n  props: {\n    id: {\n      required: true,\n      type: Number\n    },\n    type: {\n      required: true,\n      type: String,\n      validator: val => ~[\"post\", \"video\", \"image\", \"score\", \"answer\", \"video\"].indexOf(val)\n    },\n    isCreator: {\n      required: true,\n      type: Boolean\n    },\n    userId: {\n      required: true,\n      type: Number\n    },\n    liked: {\n      type: Boolean,\n      default: false\n    },\n    marked: {\n      type: Boolean,\n      default: false\n    },\n    rewarded: {\n      type: Boolean,\n      default: false\n    },\n    likeUsers: {\n      required: true,\n      type: Object\n    },\n    rewardUsers: {\n      required: true,\n      type: Object\n    },\n    markUsers: {\n      required: true,\n      type: Object\n    }\n  },\n\n  data() {\n    return {\n      loadingReward: false,\n      loadingLike: false,\n      loadingMark: false,\n      displayCount: 7\n    };\n  },\n\n  computed: {\n    currentUserId() {\n      return this.$store.state.login ? this.$store.state.user.id : 0;\n    },\n\n    isMine() {\n      return this.userId === this.currentUserId;\n    },\n\n    displayUsers() {\n      var users = this.isCreator ? this.rewardUsers.list : this.likeUsers.list;\n      return users.slice(0, this.displayCount);\n    }\n\n  },\n  methods: {\n    toggleReward() {\n      var _this = this;\n\n      if (!this.currentUserId) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      if (this.isMine) {\n        this.$toast.info(\"不能给自己打赏\");\n        return;\n      }\n\n      this.$confirm(this.rewarded ? \"即使取消投食你的金币也不会回到你的钱包, 是否继续?\" : \"向TA投食需要消耗你一枚金币，是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(\n      /*#__PURE__*/\n      asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee() {\n        var api, user, result;\n        return regenerator__default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!_this.loadingReward) {\n                  _context.next = 2;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 2:\n                _this.loadingReward = true;\n                api = new toggleApi[\"a\" /* default */](_this);\n                user = _this.$store.state.user;\n                _context.prev = 5;\n                _context.next = 8;\n                return api.reward({\n                  id: _this.id,\n                  type: _this.type\n                });\n\n              case 8:\n                result = _context.sent;\n\n                if (result) {\n                  _this.$store.commit(\"USE_COIN\");\n                }\n\n                _this.$store.commit(`${_this.type}/SOCIAL_TOGGLE`, {\n                  key: \"reward\",\n                  value: result,\n                  user: {\n                    id: user.id,\n                    zone: user.zone,\n                    nickname: user.nickname,\n                    avatar: user.avatar\n                  }\n                });\n\n                _this.$toast.success(\"操作成功\");\n\n                _this.$emit(\"reward-callback\");\n\n                _context.next = 18;\n                break;\n\n              case 15:\n                _context.prev = 15;\n                _context.t0 = _context[\"catch\"](5);\n\n                _this.$toast.error(_context.t0);\n\n              case 18:\n                _context.prev = 18;\n                _this.loadingReward = false;\n                return _context.finish(18);\n\n              case 21:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[5, 15, 18, 21]]);\n      }))).catch(() => {});\n    },\n\n    toggleLike() {\n      var _this2 = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee2() {\n        var api, user, result;\n        return regenerator__default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (_this2.currentUserId) {\n                  _context2.next = 3;\n                  break;\n                }\n\n                _this2.$channel.$emit(\"sign-in\");\n\n                return _context2.abrupt(\"return\");\n\n              case 3:\n                if (!_this2.isMine) {\n                  _context2.next = 6;\n                  break;\n                }\n\n                _this2.$toast.info(\"不能喜欢自己的内容\");\n\n                return _context2.abrupt(\"return\");\n\n              case 6:\n                if (!_this2.loadingLike) {\n                  _context2.next = 8;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\");\n\n              case 8:\n                _this2.loadingLike = true;\n                api = new toggleApi[\"a\" /* default */](_this2);\n                user = _this2.$store.state.user;\n                _context2.prev = 11;\n                _context2.next = 14;\n                return api.like({\n                  id: _this2.id,\n                  type: _this2.type\n                });\n\n              case 14:\n                result = _context2.sent;\n\n                _this2.$store.commit(`${_this2.type}/SOCIAL_TOGGLE`, {\n                  key: \"like\",\n                  value: result,\n                  user: {\n                    id: user.id,\n                    zone: user.zone,\n                    nickname: user.nickname,\n                    avatar: user.avatar\n                  }\n                });\n\n                _this2.$toast.success(\"操作成功\");\n\n                _context2.next = 22;\n                break;\n\n              case 19:\n                _context2.prev = 19;\n                _context2.t0 = _context2[\"catch\"](11);\n\n                _this2.$toast.error(_context2.t0);\n\n              case 22:\n                _context2.prev = 22;\n                _this2.loadingLike = false;\n                return _context2.finish(22);\n\n              case 25:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[11, 19, 22, 25]]);\n      }))();\n    },\n\n    toggleMark() {\n      var _this3 = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee3() {\n        var api, user, result;\n        return regenerator__default.a.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (_this3.currentUserId) {\n                  _context3.next = 3;\n                  break;\n                }\n\n                _this3.$channel.$emit(\"sign-in\");\n\n                return _context3.abrupt(\"return\");\n\n              case 3:\n                if (!_this3.isMine) {\n                  _context3.next = 6;\n                  break;\n                }\n\n                _this3.$toast.info(\"不能收藏自己的内容\");\n\n                return _context3.abrupt(\"return\");\n\n              case 6:\n                if (!_this3.loadingMark) {\n                  _context3.next = 8;\n                  break;\n                }\n\n                return _context3.abrupt(\"return\");\n\n              case 8:\n                _this3.loadingMark = true;\n                api = new toggleApi[\"a\" /* default */](_this3);\n                user = _this3.$store.state.user;\n                _context3.prev = 11;\n                _context3.next = 14;\n                return api.mark({\n                  id: _this3.id,\n                  type: _this3.type\n                });\n\n              case 14:\n                result = _context3.sent;\n\n                _this3.$store.commit(`${_this3.type}/SOCIAL_TOGGLE`, {\n                  key: \"mark\",\n                  value: result,\n                  user: {\n                    id: user.id,\n                    zone: user.zone,\n                    nickname: user.nickname,\n                    avatar: user.avatar\n                  }\n                });\n\n                _this3.$toast.success(\"操作成功\");\n\n                _context3.next = 22;\n                break;\n\n              case 19:\n                _context3.prev = 19;\n                _context3.t0 = _context3[\"catch\"](11);\n\n                _this3.$toast.error(_context3.t0);\n\n              case 22:\n                _context3.prev = 22;\n                _this3.loadingMark = false;\n                return _context3.finish(22);\n\n              case 25:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[11, 19, 22, 25]]);\n      }))();\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-200e0634\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/SocialPanel.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"social-panel\"},[_vm._ssrNode(\"<div class=\\\"buttons\\\">\",\"</div>\",[(_vm.isCreator)?_c('el-button',{class:{ 'is-plain': _vm.rewarded },attrs:{\"loading\":_vm.loadingReward,\"type\":\"warning\",\"round\":\"\",\"size\":\"mini\"},on:{\"click\":_vm.toggleReward}},[_c('i',{staticClass:\"iconfont icon-guanzhu\"}),_vm._v(\"\\n      \"+_vm._s(_vm.rewarded ? '已投食' : '投食')+_vm._s(_vm.rewardUsers.total ? (\"  |  \" + (_vm.rewardUsers.total)) : '')+\"\\n    \")]):_c('el-button',{class:{ 'is-plain': _vm.liked },attrs:{\"loading\":_vm.loadingLike,\"type\":\"danger\",\"size\":\"mini\",\"round\":\"\"},on:{\"click\":_vm.toggleLike}},[_c('i',{staticClass:\"iconfont icon-guanzhu\"}),_vm._v(\"\\n      \"+_vm._s(_vm.liked ? '已喜欢' : '喜欢')+_vm._s(_vm.likeUsers.total ? (\"  |  \" + (_vm.likeUsers.total)) : '')+\"\\n    \")]),_c('el-button',{class:{ 'is-plain': _vm.marked },attrs:{\"loading\":_vm.loadingMark,\"type\":\"success\",\"size\":\"mini\",\"round\":\"\"},on:{\"click\":_vm.toggleMark}},[_c('i',{staticClass:\"iconfont icon-shoucang\"}),_vm._v(\"\\n      \"+_vm._s(_vm.marked ? '已收藏' : '收藏')+_vm._s(_vm.markUsers.total ? (\"  |  \" + (_vm.markUsers.total)) : '')+\"\\n    \")]),_vm._t(\"default\")],2),_vm._ssrNode(\"<div class=\\\"users\\\"><ul>\"+(_vm._ssrList((_vm.displayUsers),function(user){return (\"<li class=\\\"user-face\\\"><img\"+(_vm._ssrAttr(\"src\",_vm.$resize(user.avatar, { width: 60 })))+\"></li>\")}))+\"</ul></div>\")],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var common_SocialPanel = (esExports);\n// CONCATENATED MODULE: ./src/components/common/SocialPanel.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(114),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"786d8432\"\nvar Component = normalizeComponent(\n  SocialPanel,\n  common_SocialPanel,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_common_SocialPanel = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 114:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(115);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"6bcd6949\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 115:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.social-panel{margin:40px 0}.social-panel .buttons{text-align:center}.social-panel .buttons button{padding:5px 7px;font-size:11px!important}.social-panel .users{margin-top:25px;text-align:center}.social-panel .users .user-face{margin:0 -5px;display:inline-block;vertical-align:middle}.social-panel .users .user-face img{width:30px;height:30px;border-radius:50%;border:3px solid #fff}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 160:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: external \"core-js/modules/web.dom.iterable\"\nvar web_dom_iterable_ = __webpack_require__(3);\nvar web_dom_iterable__default = /*#__PURE__*/__webpack_require__.n(web_dom_iterable_);\n\n// EXTERNAL MODULE: external \"core-js/modules/es6.regexp.split\"\nvar es6_regexp_split_ = __webpack_require__(10);\nvar es6_regexp_split__default = /*#__PURE__*/__webpack_require__.n(es6_regexp_split_);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/common/ImagePreview/ImagePreview.vue\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var ImagePreview = ({\n  name: \"ImagePreview\",\n  props: {\n    images: {\n      type: Array,\n      default: () => []\n    },\n    query: {\n      type: String,\n      default: \"\"\n    },\n    download: {\n      type: Boolean,\n      default: true\n    }\n  },\n\n  data() {\n    return {\n      show: false,\n      currentIndex: -1,\n      maxWidth: 0,\n      maxHeight: 0,\n      displayImages: this.images.map(_ => Object.assign({\n        finalWidth: 0,\n        finalHeight: 0,\n        loading: true\n      }, _))\n    };\n  },\n\n  computed: {\n    total() {\n      return this.images.length;\n    },\n\n    currentImage() {\n      if (this.currentIndex === -1) {\n        return null;\n      }\n\n      return this.displayImages[this.currentIndex];\n    }\n\n  },\n\n  mounted() {\n    this.getScreenSize();\n    window.addEventListener(\"resize\", this.getScreenSize);\n  },\n\n  methods: {\n    handleClose() {\n      this.show = false;\n    },\n\n    handleClick(e) {\n      if (!this.total) {\n        return;\n      }\n\n      var target = e.target;\n      var isIMG = target.tagName.toLowerCase() === \"img\";\n\n      if (!this.query && !isIMG) {\n        return;\n      }\n\n      if (this.query && target.className.indexOf(this.query) === -1) {\n        return;\n      }\n\n      var imageUrl = \"\";\n\n      if (isIMG) {\n        imageUrl = target.getAttribute(\"src\").split(\"?\")[0];\n      } else {\n        var img = target.querySelector(\"img\");\n\n        if (!img) {\n          return;\n        }\n\n        imageUrl = img.getAttribute(\"src\").split(\"?\")[0];\n      }\n\n      this.getClickImageIndex(imageUrl);\n      this.computeDisplaySize(this.currentIndex);\n      /*\n      if (this.total <= 3) {\n        this.computeDisplaySize(0);\n        this.computeDisplaySize(1);\n        this.computeDisplaySize(2);\n      } else {\n        const index = this.getSiblingsIndex(this.currentIndex);\n        this.computeDisplaySize(index[0]);\n        this.computeDisplaySize(index[2]);\n      }\n      */\n\n      this.show = true;\n    },\n\n    getClickImageIndex(src) {\n      this.images.forEach((image, index) => {\n        if (image.url === src) {\n          this.currentIndex = index;\n        }\n      });\n    },\n\n    getScreenSize() {\n      this.maxWidth = window.innerWidth;\n      this.maxHeight = window.innerHeight - 88;\n    },\n\n    switchImage(isNext) {\n      if (isNext && this.currentIndex === this.total - 1) {\n        return;\n      }\n\n      if (!isNext && this.currentIndex === 0) {\n        return;\n      }\n\n      var newIndex = isNext ? this.currentIndex + 1 : this.currentIndex - 1;\n      this.computeDisplaySize(newIndex);\n      this.currentIndex = newIndex;\n    },\n\n    getSiblingsIndex(currentIndex) {\n      var prevIndex;\n      var nextIndex;\n\n      if (this.currentIndex === 0) {\n        prevIndex = this.total - 1;\n        nextIndex = 1;\n      } else if (this.currentIndex === this.total - 1) {\n        prevIndex = this.total - 2;\n        nextIndex = 0;\n      } else {\n        prevIndex = this.currentIndex - 1;\n        nextIndex = this.currentIndex + 1;\n      }\n\n      return [prevIndex, currentIndex, nextIndex];\n    },\n\n    computeDisplaySize(index) {\n      if (typeof this.images[index] === \"undefined\") {\n        return;\n      }\n\n      var image = this.images[index];\n\n      if (image.finalWidth && image.finalHeight) {\n        return;\n      }\n\n      var imageWidth = image.width;\n      var imageHeight = image.height;\n      var maxWidth = this.maxWidth;\n      var maxHeight = this.maxHeight;\n      var finalWidth;\n      var finalHeight;\n\n      if (maxWidth >= imageWidth && maxHeight >= imageHeight) {\n        // 小图，展示原图大小\n        finalWidth = imageWidth;\n        finalHeight = imageHeight;\n      } else if (maxWidth < imageWidth && maxHeight < imageHeight) {\n        // 超大图，计算一个缩放比例\n        var widthRadio = imageWidth / maxHeight;\n        var heightRadio = imageHeight / maxHeight;\n\n        if (widthRadio >= heightRadio) {\n          finalWidth = maxWidth;\n          finalHeight = parseInt(imageHeight / widthRadio, 10);\n        } else {\n          finalWidth = parseInt(imageWidth / heightRadio, 10);\n          finalHeight = maxHeight;\n        }\n      } else if (imageHeight < maxHeight) {\n        // 超宽图\n        var _widthRadio = imageWidth / maxHeight;\n\n        finalWidth = maxWidth;\n        finalHeight = parseInt(imageHeight / _widthRadio, 10);\n      } else {\n        // 超宽图\n        var _heightRadio = imageHeight / maxHeight;\n\n        finalWidth = parseInt(imageWidth / _heightRadio, 10);\n        finalHeight = maxHeight;\n      }\n\n      this.displayImages[index].finalWidth = finalWidth || maxWidth;\n      this.displayImages[index].finalHeight = finalHeight || maxHeight;\n    },\n\n    handleSwitch(oldVal, val) {\n      this.currentIndex = val;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2b6cac88\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/ImagePreview/ImagePreview.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:_vm.$style.imagePreview,on:{\"click\":_vm.handleClick}},[_vm._ssrNode(((_vm.show)?(\"<div\"+(_vm._ssrClass(null,_vm.$style.container))+\"><div\"+(_vm._ssrClass(null,[_vm.$style.bar, _vm.$style.topBar]))+\">\"+((_vm.total)?(\"<span\"+(_vm._ssrClass(null,_vm.$style.total))+\">\"+_vm._ssrEscape(\"\\n        \"+_vm._s(_vm.currentIndex + 1)+\"/\"+_vm._s(_vm.total)+\"\\n      \")+\"</span>\"):\"<!---->\")+\"<span\"+(_vm._ssrClass(null,_vm.$style.close))+\">\\n        ×\\n      </span></div><div\"+(_vm._ssrClass(null,[_vm.$style.bar, _vm.$style.footBar]))+\">\"+((_vm.currentImage && _vm.download)?(\"<a\"+(_vm._ssrAttr(\"href\",_vm.currentImage.url))+\" target=\\\"_blank\\\"\"+(_vm._ssrClass(null,_vm.$style.download))+\">\\n        下载原图\\n      </a>\"):\"<!---->\")+\"</div>\"+((_vm.currentImage)?(\"<div\"+(_vm._ssrClass(null,_vm.$style.wrap))+\"><div\"+(_vm._ssrClass(null,_vm.$style.item))+(_vm._ssrStyle(null,{\n          backgroundImage: (\"url(\" + (_vm.$resize(_vm.currentImage.url, { webP: !_vm.download })) + \")\"),\n          width: ((_vm.currentImage.finalWidth) + \"px\"),\n          height: ((_vm.currentImage.finalHeight) + \"px\")\n        }, null))+\"></div>\"+((_vm.total > 1)?(\"<button\"+(_vm._ssrClass(null,_vm.$style.prevBtn))+\"><i class=\\\"el-icon-caret-left\\\"></i></button><button\"+(_vm._ssrClass(null,_vm.$style.nextBtn))+\"><i class=\\\"el-icon-caret-right\\\"></i></button>\"):\"<!---->\")+\"</div>\"):\"<!---->\")+\"</div>\"):\"<!---->\")),_vm._t(\"default\")],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var ImagePreview_ImagePreview = (esExports);\n// CONCATENATED MODULE: ./src/components/common/ImagePreview/ImagePreview.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=this[\"$style\"] = __webpack_require__(169),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"a6b7b16c\"\nvar Component = normalizeComponent(\n  ImagePreview,\n  ImagePreview_ImagePreview,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var common_ImagePreview_ImagePreview = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 169:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(170);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"05955a9c\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 170:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling-3oQq-_0{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling-3oQq-_0{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.image-preview-3a_aB_0 .container-GXSF2_0{position:fixed;left:0;top:0;width:100%;height:100%;background-color:#000;z-index:2009}.image-preview-3a_aB_0 .bar-1K_E1_0{background-color:rgba(0,0,0,.3);position:absolute;left:0;height:44px;width:100%;color:#fff;z-index:1}.image-preview-3a_aB_0 .bar-1K_E1_0.top-bar-1SCSl_0{top:0}.image-preview-3a_aB_0 .bar-1K_E1_0.foot-bar-2cKOT_0{bottom:0}.image-preview-3a_aB_0 .wrap-13lqx_0{position:absolute;top:44px;bottom:44px;width:100%;z-index:0}.image-preview-3a_aB_0 .item-2Y1k1_0{position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);background-position:50%;background-repeat:no-repeat;background-size:contain;cursor:-webkit-zoom-out;cursor:zoom-out}.image-preview-3a_aB_0 .top-bar-1SCSl_0{padding:0 12px;height:44px;font-size:13px;line-height:44px}.image-preview-3a_aB_0 .top-bar-1SCSl_0 .close-ZWlyi_0{float:right;font-size:20px;cursor:pointer}.image-preview-3a_aB_0 .foot-bar-2cKOT_0{text-align:center}.image-preview-3a_aB_0 .foot-bar-2cKOT_0 .download-3rvVN_0{display:block;color:#fff;width:100px;height:34px;line-height:32px;border-radius:17px;border:1px solid #fff;margin:5px auto}.image-preview-3a_aB_0 .foot-bar-2cKOT_0 .download-3rvVN_0:hover{background-color:hsla(0,0%,100%,.2)}.image-preview-3a_aB_0 .next-btn-301zO_0,.image-preview-3a_aB_0 .prev-btn-1NkW8_0{color:#fff;width:70px;height:100px;background-color:transparent;position:absolute;top:50%;margin-top:-50px}.image-preview-3a_aB_0 .next-btn-301zO_0 i,.image-preview-3a_aB_0 .prev-btn-1NkW8_0 i{display:inline-block;height:32px;width:32px;background-color:rgba(0,0,0,.3);text-align:center;line-height:32px;font-size:20px}.image-preview-3a_aB_0 .next-btn-301zO_0 i:hover,.image-preview-3a_aB_0 .prev-btn-1NkW8_0 i:hover{background-color:rgba(0,0,0,.5)}.image-preview-3a_aB_0 .prev-btn-1NkW8_0{left:0;text-align:left}.image-preview-3a_aB_0 .prev-btn-1NkW8_0 i{border-radius:0 4px 4px 0}.image-preview-3a_aB_0 .next-btn-301zO_0{right:0;text-align:right}.image-preview-3a_aB_0 .next-btn-301zO_0 i{border-radius:4px 0 0 4px}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"image-preview\": \"image-preview-3a_aB_0\",\n\t\"imagePreview\": \"image-preview-3a_aB_0\",\n\t\"container\": \"container-GXSF2_0\",\n\t\"bar\": \"bar-1K_E1_0\",\n\t\"top-bar\": \"top-bar-1SCSl_0\",\n\t\"topBar\": \"top-bar-1SCSl_0\",\n\t\"foot-bar\": \"foot-bar-2cKOT_0\",\n\t\"footBar\": \"foot-bar-2cKOT_0\",\n\t\"wrap\": \"wrap-13lqx_0\",\n\t\"item\": \"item-2Y1k1_0\",\n\t\"close\": \"close-ZWlyi_0\",\n\t\"download\": \"download-3rvVN_0\",\n\t\"prev-btn\": \"prev-btn-1NkW8_0\",\n\t\"prevBtn\": \"prev-btn-1NkW8_0\",\n\t\"next-btn\": \"next-btn-301zO_0\",\n\t\"nextBtn\": \"next-btn-301zO_0\",\n\t\"rolling\": \"rolling-3oQq-_0\"\n};\n\n/***/ }),\n\n/***/ 262:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(263);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"45ce2d0c\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 263:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}#post-show .post .title{color:#000;font-size:18px;font-weight:700;line-height:28px;margin:8px 0 15px}#post-show .post .title .nice_badge{float:left;height:22px;line-height:20px;color:#fff;cursor:default;font-size:12px;font-weight:700;text-align:center;padding:1px 6px;border-radius:4px;margin:4px 5px 0 0;background-color:#f25d8e}#post-show .post .user{position:relative}#post-show .post .user .avatar{float:left;margin-right:9px}#post-show .post .user .tool-btn{position:absolute;right:5px;top:0;line-height:16px;font-size:12px;color:#535353}#post-show .post .user .summary{overflow:hidden}#post-show .post .user .summary .nickname{overflow:hidden;display:inline-block;font-size:14px;color:#333}#post-show .post .user .summary .info{line-height:16px;font-size:12px;color:#999}#post-show .post .user .summary .info span{margin-right:5px}#post-show .post .content{color:#000;font-size:16px;margin:22px 0;line-height:24px}#post-show .post .content .image-area{margin:16px 0}#post-show .post .content .image-area img{width:100%;height:auto}#post-show .post .footer{text-align:center;margin-bottom:30px}#post-show .post .footer button{margin:0 5px;font-size:13px}#post-show .post .footer button i{font-size:12px;line-height:16px}#post-show .post .footer .post-like-btn{position:relative;padding:4px 10px;font-size:14px;color:#fff;background-color:#fa5555;border-radius:8px;white-space:nowrap}#post-show .post .footer .post-like-btn:after{content:\\\"\\\";position:absolute;top:0;left:0;border:1px solid #fff;width:200%;height:200%;-webkit-transform:scale(.5);-ms-transform:scale(.5);transform:scale(.5);-webkit-transform-origin:left top;-ms-transform-origin:left top;transform-origin:left top;border-radius:8px}#post-show .post .footer .post-liked-btn{position:relative;padding:4px 10px;font-size:14px;color:#fa5555;background-color:transparent;border-radius:8px;white-space:nowrap}#post-show .post .footer .post-liked-btn:after{content:\\\"\\\";position:absolute;top:0;left:0;border:1px solid #fa5555;width:200%;height:200%;-webkit-transform:scale(.5);-ms-transform:scale(.5);transform:scale(.5);-webkit-transform-origin:left top;-ms-transform-origin:left top;transform-origin:left top;border-radius:8px}#post-show .post .footer .post-mark-btn{position:relative;padding:4px 10px;font-size:14px;color:#fff;background-color:#eb9e05;border-radius:8px;white-space:nowrap}#post-show .post .footer .post-mark-btn:after{content:\\\"\\\";position:absolute;top:0;left:0;border:1px solid #fff;width:200%;height:200%;-webkit-transform:scale(.5);-ms-transform:scale(.5);transform:scale(.5);-webkit-transform-origin:left top;-ms-transform-origin:left top;transform-origin:left top;border-radius:8px}#post-show .post .footer .post-marked-btn{position:relative;padding:4px 10px;font-size:14px;color:#eb9e05;background-color:transparent;border-radius:8px;white-space:nowrap}#post-show .post .footer .post-marked-btn:after{content:\\\"\\\";position:absolute;top:0;left:0;border:1px solid #eb9e05;width:200%;height:200%;-webkit-transform:scale(.5);-ms-transform:scale(.5);transform:scale(.5);-webkit-transform-origin:left top;-ms-transform-origin:left top;transform-origin:left top;border-radius:8px}#post-show .post .footer .post-comment-btn{position:relative;padding:4px 10px;font-size:14px;color:#fff;background-color:#00a1d6;border-radius:8px;white-space:nowrap}#post-show .post .footer .post-comment-btn:after{content:\\\"\\\";position:absolute;top:0;left:0;border:1px solid #fff;width:200%;height:200%;-webkit-transform:scale(.5);-ms-transform:scale(.5);transform:scale(.5);-webkit-transform-origin:left top;-ms-transform-origin:left top;transform-origin:left top;border-radius:8px}#post-show .bangumi-panel{padding-top:15px;padding-bottom:15px}#post-show .bangumi-panel .summary{font-size:12px;color:#666;line-height:13px;max-height:26px;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 264:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(265);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"7fa3437a\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 265:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.post-reply-item{position:relative;margin-top:15px;padding-bottom:15px}.post-reply-item:after{content:\\\"\\\";position:absolute;left:0;right:0;bottom:0;height:1px;background-color:#f0f0f0;-webkit-transform:scaleY(.5);-ms-transform:scaleY(.5);transform:scaleY(.5);margin-left:-15px;margin-right:-15px}.post-reply-item .avatar{float:left;margin-right:9px}.post-reply-item .content{overflow:hidden}.post-reply-item .content .header .tools-btn{float:right;line-height:16px;font-size:12px;color:#535353;margin-top:9px;margin-left:4px}.post-reply-item .content .header .user .nickname{font-size:14px;line-height:21px;display:block;color:#333}.post-reply-item .content .header .user .info{color:#999;line-height:14px;font-size:12px}.post-reply-item .content .header .user .info span{margin-right:5px}.post-reply-item .content .main{font-size:16px;margin:10px 0 4px;color:#333;line-height:24px;min-height:65px}.post-reply-item .content .main .image-area{margin:10px 0}.post-reply-item .content .main .image-area img{width:100%;height:auto}.post-reply-item .content .footer .social{margin-top:15px;font-size:12px}.post-reply-item .content .footer .social .reply-liked-btn{color:#0381aa}.post-reply-item .content .footer .social button{color:#666;margin-left:3px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 266:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(267);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"37aece67\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 267:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.post-comment-form .content{font-size:16px;line-height:24px;color:#000;font-weight:400;height:250px;margin-bottom:5px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 335:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: external \"@babel/runtime/regenerator\"\nvar regenerator_ = __webpack_require__(0);\nvar regenerator__default = /*#__PURE__*/__webpack_require__.n(regenerator_);\n\n// EXTERNAL MODULE: external \"core-js/modules/es6.promise\"\nvar es6_promise_ = __webpack_require__(21);\nvar es6_promise__default = /*#__PURE__*/__webpack_require__.n(es6_promise_);\n\n// EXTERNAL MODULE: external \"core-js/modules/web.dom.iterable\"\nvar web_dom_iterable_ = __webpack_require__(3);\nvar web_dom_iterable__default = /*#__PURE__*/__webpack_require__.n(web_dom_iterable_);\n\n// EXTERNAL MODULE: external \"regenerator-runtime/runtime\"\nvar runtime_ = __webpack_require__(1);\nvar runtime__default = /*#__PURE__*/__webpack_require__.n(runtime_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/asyncToGenerator\"\nvar asyncToGenerator_ = __webpack_require__(2);\nvar asyncToGenerator__default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator_);\n\n// EXTERNAL MODULE: ./src/components/comments/CommentMain.vue + 8 modules\nvar CommentMain = __webpack_require__(101);\n\n// EXTERNAL MODULE: ./src/components/comments/SubCommentList.vue + 5 modules\nvar SubCommentList = __webpack_require__(102);\n\n// EXTERNAL MODULE: ./src/components/common/ImagePreview/ImagePreview.vue + 2 modules\nvar ImagePreview = __webpack_require__(160);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/post/PostCommentItem.vue\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var PostCommentItem = ({\n  name: \"PostCommentItem\",\n  components: {\n    SubCommentList: SubCommentList[\"a\" /* default */],\n    ImagePreview: ImagePreview[\"a\" /* default */]\n  },\n  props: {\n    post: {\n      required: true,\n      type: Object\n    },\n    masterId: {\n      required: true,\n      type: Number\n    },\n    preview: {\n      type: Array,\n      required: true\n    }\n  },\n\n  data() {\n    return {\n      deleting: false,\n      liking: false\n    };\n  },\n\n  computed: {\n    currentUserId() {\n      return this.$store.state.login ? this.$store.state.user.id : 0;\n    },\n\n    isMine() {\n      return this.currentUserId === this.post[\"from_user_id\"];\n    },\n\n    canDelete() {\n      return this.isMine || this.currentUserId === this.masterId;\n    },\n\n    actions() {\n      var result = [];\n\n      if (this.canDelete) {\n        result.push({\n          name: \"删除\",\n          method: this.deletePost\n        });\n      }\n\n      result.push({\n        name: this.post.liked ? \"取消赞\" : \"点赞\",\n        method: this.toggleLike\n      });\n      return result;\n    }\n\n  },\n  methods: {\n    toggleLike() {\n      var _this = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee() {\n        return regenerator__default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (_this.currentUserId) {\n                  _context.next = 3;\n                  break;\n                }\n\n                _this.$channel.$emit(\"sign-in\");\n\n                return _context.abrupt(\"return\");\n\n              case 3:\n                if (!_this.liking) {\n                  _context.next = 5;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 5:\n                _this.liking = true;\n                _context.prev = 6;\n                _context.next = 9;\n                return _this.$store.dispatch(\"comment/toggleLikeMainComment\", {\n                  ctx: _this,\n                  type: \"post\",\n                  id: _this.post.id\n                });\n\n              case 9:\n                _context.next = 13;\n                break;\n\n              case 11:\n                _context.prev = 11;\n                _context.t0 = _context[\"catch\"](6);\n\n              case 13:\n                _context.prev = 13;\n                _this.liking = false;\n                return _context.finish(13);\n\n              case 16:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[6, 11, 13, 16]]);\n      }))();\n    },\n\n    deletePost() {\n      if (this.deleting) {\n        return;\n      }\n\n      this.deleting = true;\n      this.$confirm(\"删除后无法找回, 是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(() => {\n        this.$store.dispatch(\"comment/deleteMainComment\", {\n          type: \"post\",\n          ctx: this,\n          id: this.post.id\n        });\n      }).catch(e => {\n        this.deleting = false;\n\n        if (e === \"cancel\") {\n          return;\n        }\n\n        this.$toast.error(e);\n      });\n    },\n\n    handleCommentBtnClick() {\n      this.$channel.$emit(\"reply-comment\", {\n        id: this.post.id,\n        targetUserId: this.post.from_user_id,\n        targetUserName: this.post.from_user_name\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-62476270\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/post/PostCommentItem.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"post-reply-item\",attrs:{\"id\":(\"comment-\" + (_vm.post.id))}},[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.post.from_user_zone)))+\" class=\\\"avatar\\\">\",\"</a>\",[_c('v-img',{attrs:{\"src\":_vm.post.from_user_avatar,\"avatar\":true,\"size\":\"35\"}})],1),_vm._ssrNode(\"<div class=\\\"content\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"header\\\">\",\"</div>\",[_c('v-popover',{attrs:{\"actions\":_vm.actions,\"report-id\":_vm.post.id,\"report-type\":\"post_comment\"}},[_c('button',{staticClass:\"tools-btn\"},[_vm._v(\"···\")])]),_vm._ssrNode(\"<div class=\\\"user\\\">\",\"</div>\",[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.post.from_user_zone)))+\" class=\\\"nickname oneline\\\">\"+_vm._ssrEscape(_vm._s(_vm.post.from_user_name))+\"</a>\"),_vm._ssrNode(\"<div class=\\\"info\\\">\",\"</div>\",[_vm._ssrNode(\"<span>\"+_vm._ssrEscape(\"第\"+_vm._s(_vm.post.floor_count)+\"楼\")+\"</span><span>·</span>\"),_c('v-time',{model:{value:(_vm.post.created_at),callback:function ($$v) {_vm.$set(_vm.post, \"created_at\", $$v)},expression:\"post.created_at\"}})],2)],2)],1),_vm._ssrNode(\"<div class=\\\"main\\\">\",\"</div>\",[_c('image-preview',{staticClass:\"image-area\",attrs:{\"images\":_vm.post.images,\"download\":false}},_vm._l((_vm.post.images),function(img,idx){return _c('div',{key:idx,staticClass:\"image-package\"},[_c('v-img',{attrs:{\"src\":img.url,\"width\":img.width,\"height\":img.height,\"full\":true}})],1)})),_vm._ssrNode(\"<div class=\\\"text-area\\\">\"+(_vm._s(_vm.post.content))+\"</div>\")],2),_vm._ssrNode(\"<div class=\\\"footer\\\">\",\"</div>\",[_c('sub-comment-list',{attrs:{\"parent-comment\":_vm.post,\"type\":\"post\"}}),_vm._ssrNode(\"<div class=\\\"social\\\"><button\"+(_vm._ssrClass(null,[ _vm.post.liked ? 'reply-liked-btn' : 'reply-like-btn' ]))+\"><i class=\\\"iconfont icon-icon_good\\\"></i>\"+_vm._ssrEscape(\"\\n          \"+_vm._s(_vm.post.liked ? '已赞' : '赞')+\"\\n          \")+((_vm.post.like_count)?(\"<span>\"+_vm._ssrEscape(\"(\"+_vm._s(_vm.post.like_count)+\")\")+\"</span>\"):\"<!---->\")+\"</button><button class=\\\"reply-btn fr\\\">\\n          回复\\n        </button></div>\")],2)])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var post_PostCommentItem = (esExports);\n// CONCATENATED MODULE: ./src/components/post/PostCommentItem.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(264),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"03233fe2\"\nvar Component = normalizeComponent(\n  PostCommentItem,\n  post_PostCommentItem,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_post_PostCommentItem = (Component.exports);\n\n// EXTERNAL MODULE: ./src/assets/js/scrollToY.js\nvar scrollToY = __webpack_require__(100);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/post/PostCommentForm.vue\n\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var PostCommentForm = ({\n  name: \"PostCommentForm\",\n  props: {\n    type: {\n      required: true,\n      type: String\n    },\n    id: {\n      required: true,\n      type: Number\n    },\n    masterId: {\n      required: true,\n      type: Number\n    }\n  },\n\n  data() {\n    return {\n      forms: {\n        content: \"\"\n      },\n      exceed: 5\n    };\n  },\n\n  computed: {\n    isGuest() {\n      return !this.$store.state.login;\n    },\n\n    submitting() {\n      return this.$store.state.comment.submitting;\n    }\n\n  },\n  methods: {\n    submit(images) {\n      var _this = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee() {\n        var result;\n        return regenerator__default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!_this.isGuest) {\n                  _context.next = 3;\n                  break;\n                }\n\n                _this.$channel.$emit(\"sign-in\");\n\n                return _context.abrupt(\"return\");\n\n              case 3:\n                if (_this.forms.content) {\n                  _context.next = 6;\n                  break;\n                }\n\n                if (!images.length) {\n                  _this.$toast.error(\"内容不能为空\");\n                } else {\n                  _this.$emit(\"close\");\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 6:\n                if (!_this.submitting) {\n                  _context.next = 8;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 8:\n                _this.$store.commit(\"comment/SET_SUBMITTING\", {\n                  result: true\n                });\n\n                _context.prev = 9;\n                _context.next = 12;\n                return _this.$store.dispatch(\"comment/createMainComment\", {\n                  content: _this.forms.content,\n                  images: images,\n                  type: _this.type,\n                  id: _this.id,\n                  ctx: _this\n                });\n\n              case 12:\n                result = _context.sent;\n\n                _this.$emit(\"close\");\n\n                _this.forms = {\n                  content: \"\"\n                };\n\n                _this.$toast.success(result.message);\n\n                _this.$store.commit(\"UPDATE_USER_EXP\", result.exp);\n\n                setTimeout(() => {\n                  var dom = document.getElementById(`comment-${result.data.id}`);\n                  dom && Object(scrollToY[\"a\" /* default */])(_this.$utils.getOffsetTop(dom) - 100, 600);\n                }, 400);\n\n                _this.$channel.$emit(\"image-upload-done\");\n\n                _context.next = 24;\n                break;\n\n              case 21:\n                _context.prev = 21;\n                _context.t0 = _context[\"catch\"](9);\n\n                _this.$toast.error(_context.t0);\n\n              case 24:\n                _context.prev = 24;\n\n                _this.$store.commit(\"comment/SET_SUBMITTING\", {\n                  result: false\n                });\n\n                return _context.finish(24);\n\n              case 27:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[9, 21, 24, 27]]);\n      }))();\n    },\n\n    handleRemove(file) {\n      this.images.forEach((item, index) => {\n        if (item.id === file.uid) {\n          this.images.splice(index, 1);\n        }\n      });\n    },\n\n    handleSuccess(res, file) {\n      this.images.push({\n        id: file.uid,\n        img: res.data\n      });\n    },\n\n    handleExceed() {\n      this.$toast.error(`最多可上传 ${this.exceed} 张图片!`);\n    },\n\n    beforeUpload(file) {\n      if (this.isGuest) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      this.uploadConfig.max = 5;\n      this.uploadConfig.params = {\n        userId: this.$store.state.user.id,\n        id: this.id,\n        type: \"post\"\n      };\n      return this.handleImageUploadBefore(file);\n    },\n\n    handleAreaFocus() {\n      document.body.scrollTop = 0;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-fbb916c4\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/post/PostCommentForm.vue\nvar PostCommentForm_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"post-comment-form\"},[_vm._ssrNode(\"<textarea placeholder=\\\"来吧，尽情的（在1000字以内）发挥吧\\\" maxlength=\\\"1000\\\" class=\\\"content\\\"></textarea>\"),_c('image-uploader',{attrs:{\"loading\":_vm.submitting,\"limit\":_vm.exceed,\"required\":false},on:{\"submit\":_vm.submit}})],2)}\nvar PostCommentForm_staticRenderFns = []\nvar PostCommentForm_esExports = { render: PostCommentForm_render, staticRenderFns: PostCommentForm_staticRenderFns }\n/* harmony default export */ var post_PostCommentForm = (PostCommentForm_esExports);\n// CONCATENATED MODULE: ./src/components/post/PostCommentForm.vue\nfunction PostCommentForm_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(266),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar PostCommentForm_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar PostCommentForm___vue_template_functional__ = false\n/* styles */\nvar PostCommentForm___vue_styles__ = PostCommentForm_injectStyle\n/* scopeId */\nvar PostCommentForm___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar PostCommentForm___vue_module_identifier__ = \"4da0ddda\"\nvar PostCommentForm_Component = PostCommentForm_normalizeComponent(\n  PostCommentForm,\n  post_PostCommentForm,\n  PostCommentForm___vue_template_functional__,\n  PostCommentForm___vue_styles__,\n  PostCommentForm___vue_scopeId__,\n  PostCommentForm___vue_module_identifier__\n)\n\n/* harmony default export */ var components_post_PostCommentForm = (PostCommentForm_Component.exports);\n\n// EXTERNAL MODULE: ./src/components/common/SocialPanel.vue + 2 modules\nvar SocialPanel = __webpack_require__(113);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/post/show.vue\n\n\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n/* harmony default export */ var show = ({\n  name: \"PostShow\",\n\n  asyncData(_ref) {\n    return asyncToGenerator__default()(\n    /*#__PURE__*/\n    regenerator__default.a.mark(function _callee() {\n      var route, store, ctx, only, id;\n      return regenerator__default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              route = _ref.route, store = _ref.store, ctx = _ref.ctx;\n              only = route.query.only ? parseInt(route.query.only, 10) ? 1 : 0 : 0;\n              id = route.params.id;\n              _context.next = 5;\n              return Promise.all([store.dispatch(\"post/getPost\", {\n                id,\n                ctx,\n                only\n              }), store.dispatch(\"comment/getMainComments\", {\n                ctx,\n                id,\n                type: \"post\",\n                onlySeeMaster: only,\n                seeReplyId: route.query[\"comment-id\"]\n              })]);\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }))();\n  },\n\n  components: {\n    CommentMain: CommentMain[\"a\" /* default */],\n    PostCommentItem: components_post_PostCommentItem,\n    PostCommentForm: components_post_PostCommentForm,\n    SocialPanel: SocialPanel[\"a\" /* default */],\n    ImagePreview: ImagePreview[\"a\" /* default */]\n  },\n\n  head() {\n    return {\n      title: `${this.post.title} - 帖子`\n    };\n  },\n\n  data() {\n    return {\n      loadingToggleLike: false,\n      loadingToggleMark: false\n    };\n  },\n\n  computed: {\n    resource() {\n      return this.$store.state.post.info;\n    },\n\n    bangumi() {\n      return this.resource.bangumi;\n    },\n\n    post() {\n      return this.resource.post;\n    },\n\n    master() {\n      return this.resource.user;\n    },\n\n    total() {\n      return this.$store.state.comment.total + 1;\n    },\n\n    onlySeeMaster() {\n      return !!parseInt(this.$route.query.only, 10);\n    },\n\n    isMaster() {\n      if (!this.$store.state.login) {\n        return false;\n      }\n\n      return this.$store.state.user.id === this.master.id;\n    },\n\n    actions() {\n      var result = [{\n        name: \"回复\",\n        method: this.handleReplyBtnClick\n      }];\n\n      if (this.isMaster) {\n        result.push({\n          name: \"删除\",\n          method: this.deletePost\n        });\n      }\n\n      result.push({\n        name: this.onlySeeMaster ? \"取消只看楼主\" : \"只看楼主\",\n        method: this.switchOnlyMaster\n      });\n      return result;\n    }\n\n  },\n  methods: {\n    handleBangumiFollow(result) {\n      this.$store.commit(\"post/FOLLOW_BANGUMI\", {\n        id: this.post.id,\n        result\n      });\n    },\n\n    switchOnlyMaster() {\n      window.location = this.$alias.post(this.post.id, {\n        only: this.onlySeeMaster ? 0 : 1\n      });\n    },\n\n    deletePost() {\n      var _this = this;\n\n      this.$confirm(\"删除后无法找回, 是否继续?\").then(\n      /*#__PURE__*/\n      asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee2() {\n        return regenerator__default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return _this.$store.dispatch(\"post/deletePost\", {\n                  ctx: _this,\n                  id: _this.post.id\n                });\n\n              case 2:\n                window.location = _this.$alias.bangumi(_this.bangumi.id);\n\n              case 3:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }))).catch(e => {\n        if (e !== \"cancel\") {\n          this.$toast.error(e);\n        }\n      });\n    },\n\n    handleReplyBtnClick() {\n      this.$channel.$emit(`open-create-comment-drawer-post-${this.post.id}`);\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-56d24b12\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/post/show.vue\nvar show_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"post-show\"}},[_vm._ssrNode(\"<div class=\\\"container\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"post\\\">\",\"</div>\",[_vm._ssrNode(\"<h1 class=\\\"title\\\">\"+((_vm.post.is_nice)?(\"<div class=\\\"nice_badge\\\">精</div>\"):\"<!---->\")+_vm._ssrEscape(\"\\n        \"+_vm._s(_vm.post.title)+\"\\n      \")+\"</h1>\"),_vm._ssrNode(\"<div class=\\\"user\\\">\",\"</div>\",[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.master.zone)))+\" class=\\\"avatar\\\">\",\"</a>\",[_c('v-img',{attrs:{\"src\":_vm.master.avatar,\"avatar\":true,\"size\":\"35\"}})],1),_c('v-popover',{attrs:{\"actions\":_vm.actions,\"report-id\":_vm.post.id,\"is-creator\":_vm.post.is_creator,\"report-type\":\"post\"}},[_c('button',{staticClass:\"tool-btn\"},[_vm._v(\"···\")])]),_vm._ssrNode(\"<div class=\\\"summary\\\">\",\"</div>\",[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.master.zone)))+\" class=\\\"nickname\\\">\"+_vm._ssrEscape(_vm._s(_vm.master.nickname))+\"</a>\"),_vm._ssrNode(\"<div class=\\\"info\\\">\",\"</div>\",[_vm._ssrNode(\"<span>第1楼</span><span>·</span>\"+((_vm.total > 1)?(\"<span>\"+_vm._ssrEscape(\"共\"+_vm._s(_vm.total)+\"楼\")+\"</span><span>·</span>\"):\"<!---->\")),_c('v-time',{model:{value:(_vm.post.created_at),callback:function ($$v) {_vm.$set(_vm.post, \"created_at\", $$v)},expression:\"post.created_at\"}}),_vm._ssrNode(((_vm.post.view_count)?(\"<span class=\\\"fr\\\"><i class=\\\"iconfont icon-yuedu\\\"></i>\"+_vm._ssrEscape(\"\\n              \"+_vm._s(_vm.$utils.shortenNumber(_vm.post.view_count))+\"\\n            \")+\"</span>\"):\"<!---->\"))],2)],2)],1),_vm._ssrNode(\"<div class=\\\"content\\\">\",\"</div>\",[_c('image-preview',{staticClass:\"image-area\",attrs:{\"images\":_vm.post.images,\"download\":false}},_vm._l((_vm.post.images),function(img,idx){return _c('div',{key:idx,staticClass:\"image-package\"},[_c('v-img',{attrs:{\"src\":img.url,\"full\":true,\"width\":img.width,\"height\":img.height}})],1)})),_vm._ssrNode(\"<div class=\\\"text-area\\\">\"+(_vm._s(_vm.post.content))+\"</div>\")],2),_vm._ssrNode(\"<div class=\\\"footer\\\">\",\"</div>\",[_c('social-panel',{attrs:{\"id\":_vm.post.id,\"is-creator\":_vm.post.is_creator,\"user-id\":_vm.master.id,\"liked\":_vm.post.liked,\"marked\":_vm.post.marked,\"rewarded\":_vm.post.rewarded,\"reward-users\":_vm.post.reward_users,\"like-users\":_vm.post.like_users,\"mark-users\":_vm.post.mark_users,\"type\":\"post\"}},[_c('el-button',{staticClass:\"el-button-primary\",attrs:{\"type\":\"primary\",\"size\":\"mini\",\"round\":\"\"},on:{\"click\":_vm.handleReplyBtnClick}},[_c('i',{staticClass:\"iconfont icon-pinglun1\"}),_vm._v(\"\\n            回复\\n          \")])],1)],1)],2),_vm._ssrNode(\"<div class=\\\"hr\\\"></div>\"),_c('comment-main',{attrs:{\"id\":_vm.post.id,\"only-see-master\":_vm.onlySeeMaster,\"bottom-append-comment\":false,\"master-id\":_vm.master.id,\"type\":\"post\",\"empty-text\":\"\"},scopedSlots:_vm._u([{key:\"comment-item\",fn:function(ref){\nvar comment = ref.comment;\nreturn _c('post-comment-item',{attrs:{\"post\":comment,\"master-id\":_vm.master.id,\"preview\":_vm.post.preview_images}})}},{key:\"reply-form\",fn:function(ref){\nvar close = ref.close;\nreturn _c('post-comment-form',{attrs:{\"id\":_vm.post.id,\"master-id\":_vm.master.id,\"type\":\"post\"},on:{\"close\":close}})}}])},[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"})])],2),_vm._ssrNode(\"<div class=\\\"hr\\\"></div>\"),_vm._ssrNode(\"<div class=\\\"container bangumi-panel\\\">\",\"</div>\",[_vm._ssrNode(\"<h3 class=\\\"sub-title\\\">所属番剧：</h3>\"),_c('v-bangumi-panel',{attrs:{\"id\":_vm.bangumi.id,\"avatar\":_vm.bangumi.avatar,\"name\":_vm.bangumi.name,\"followed\":_vm.bangumi.followed},on:{\"follow\":_vm.handleBangumiFollow}},[_c('p',{staticClass:\"summary\",domProps:{\"textContent\":_vm._s(_vm.bangumi.summary)}})])],2)],2)}\nvar show_staticRenderFns = []\nvar show_esExports = { render: show_render, staticRenderFns: show_staticRenderFns }\n/* harmony default export */ var post_show = (show_esExports);\n// CONCATENATED MODULE: ./src/views/post/show.vue\nfunction show_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(262),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar show_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar show___vue_template_functional__ = false\n/* styles */\nvar show___vue_styles__ = show_injectStyle\n/* scopeId */\nvar show___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar show___vue_module_identifier__ = \"4c29d9f1\"\nvar show_Component = show_normalizeComponent(\n  show,\n  post_show,\n  show___vue_template_functional__,\n  show___vue_styles__,\n  show___vue_scopeId__,\n  show___vue_module_identifier__\n)\n\n/* harmony default export */ var views_post_show = __webpack_exports__[\"default\"] = (show_Component.exports);\n\n\n/***/ })\n\n};;",
    "5.server-bundle.js": "exports.ids = [5];\nexports.modules = {\n\n/***/ 100:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_core_js_modules_web_dom_iterable__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_core_js_modules_web_dom_iterable___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_core_js_modules_web_dom_iterable__);\n\n\n/**\n * [ scrollToY 指定的 DOM 过度滚动到指定的 Y 轴 ]\n * @param targetY\n * @param timer\n * @param dom\n * @param ease\n */\n/* harmony default export */ __webpack_exports__[\"a\"] = ((targetY, timer, dom, ease) => {\n  var currentTime = 0;\n  var element = dom ? [dom] : [document.getElementsByTagName(\"html\")[0], document.body];\n  var scrollY = dom ? dom.scrollTop : window.scrollY;\n  var scrollTargetY = targetY || 0;\n  var speed = timer || 2000;\n  var easing = ease || \"easeOutSine\";\n  var time = Math.max(0.1, Math.min(Math.abs(scrollY - scrollTargetY) / speed, 0.8));\n  var easingEquations = {\n    easeOutSine(pos) {\n      return Math.sin(pos * (Math.PI / 2));\n    },\n\n    easeInOutSine(pos) {\n      return -0.5 * (Math.cos(Math.PI * pos) - 1);\n    },\n\n    easeInOutQuint(pos) {\n      // eslint-disable-next-line\n      if ((pos /= 0.5) < 1) {\n        return 0.5 * Math.pow(pos, 5);\n      }\n\n      return 0.5 * (Math.pow(pos - 2, 5) + 2);\n    }\n\n  };\n  element.forEach(ele => {\n    if (!ele.requestAnimFrame) {\n      ele.requestAnimFrame = function () {\n        return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || function (callback) {\n          window.setTimeout(callback, 1000 / 60);\n        };\n      }().bind(window);\n    }\n  });\n\n  function tick() {\n    currentTime += 1 / 60;\n    var p = currentTime / time;\n    var t = easingEquations[easing](p);\n    element.forEach(ele => {\n      if (p < 1) {\n        ele.requestAnimFrame(tick);\n        ele.scrollTop = scrollY + (scrollTargetY - scrollY) * t;\n      } else {\n        ele.scrollTop = scrollTargetY;\n      }\n    });\n  }\n\n  tick();\n});\n\n/***/ }),\n\n/***/ 101:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: external \"@babel/runtime/regenerator\"\nvar regenerator_ = __webpack_require__(0);\nvar regenerator__default = /*#__PURE__*/__webpack_require__.n(regenerator_);\n\n// EXTERNAL MODULE: external \"regenerator-runtime/runtime\"\nvar runtime_ = __webpack_require__(1);\nvar runtime__default = /*#__PURE__*/__webpack_require__.n(runtime_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/asyncToGenerator\"\nvar asyncToGenerator_ = __webpack_require__(2);\nvar asyncToGenerator__default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator_);\n\n// EXTERNAL MODULE: ./src/assets/js/scrollToY.js\nvar scrollToY = __webpack_require__(100);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/CommentCreateForm.vue\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var CommentCreateForm = ({\n  name: \"CommentCreateForm\",\n  props: {\n    type: {\n      required: true,\n      type: String\n    },\n    id: {\n      required: true,\n      type: Number\n    },\n    masterId: {\n      required: true,\n      type: Number\n    }\n  },\n\n  data() {\n    return {\n      content: \"\"\n    };\n  },\n\n  computed: {\n    isGuest() {\n      return !this.$store.state.login;\n    },\n\n    submitting() {\n      return this.$store.state.comment.submitting;\n    }\n\n  },\n  methods: {\n    submit() {\n      var _this = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee() {\n        var result;\n        return regenerator__default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!_this.isGuest) {\n                  _context.next = 3;\n                  break;\n                }\n\n                _this.$channel.$emit(\"sign-in\");\n\n                return _context.abrupt(\"return\");\n\n              case 3:\n                if (_this.content) {\n                  _context.next = 6;\n                  break;\n                }\n\n                _this.$emit(\"close\");\n\n                return _context.abrupt(\"return\");\n\n              case 6:\n                if (!_this.submitting) {\n                  _context.next = 8;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 8:\n                _this.$store.commit(\"comment/SET_SUBMITTING\", {\n                  result: true\n                });\n\n                _context.prev = 9;\n                _context.next = 12;\n                return _this.$store.dispatch(\"comment/createMainComment\", {\n                  content: _this.content,\n                  images: [],\n                  type: _this.type,\n                  id: _this.id,\n                  ctx: _this\n                });\n\n              case 12:\n                result = _context.sent;\n\n                _this.$toast.success(result.message);\n\n                _this.$store.commit(\"UPDATE_USER_EXP\", result.exp);\n\n                _this.$emit(\"submit\");\n\n                _this.content = \"\";\n                setTimeout(() => {\n                  var dom = document.getElementById(`comment-${result.data.id}`);\n                  dom && Object(scrollToY[\"a\" /* default */])(_this.$utils.getOffsetTop(dom) - 100, 600);\n                }, 400);\n                _context.next = 23;\n                break;\n\n              case 20:\n                _context.prev = 20;\n                _context.t0 = _context[\"catch\"](9);\n\n                _this.$toast.error(_context.t0);\n\n              case 23:\n                _context.prev = 23;\n\n                _this.$store.commit(\"comment/SET_SUBMITTING\", {\n                  result: false\n                });\n\n                return _context.finish(23);\n\n              case 26:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[9, 20, 23, 26]]);\n      }))();\n    },\n\n    handleAreaFocus() {\n      document.body.scrollTop = 0;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-33995f98\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/CommentCreateForm.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"comment-create-form\"},[_vm._ssrNode(\"<textarea placeholder=\\\"来吧，尽情的（在1000字以内）发挥吧\\\" maxlength=\\\"1000\\\" class=\\\"content\\\"></textarea>\"),_c('el-button',{staticClass:\"submit-btn\",attrs:{\"loading\":_vm.submitting,\"type\":\"primary\"},on:{\"click\":_vm.submit}},[_vm._v(\"发布\")])],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var comments_CommentCreateForm = (esExports);\n// CONCATENATED MODULE: ./src/components/comments/CommentCreateForm.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(105),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"1d31a883\"\nvar Component = normalizeComponent(\n  CommentCreateForm,\n  comments_CommentCreateForm,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_CommentCreateForm = (Component.exports);\n\n// EXTERNAL MODULE: ./src/components/comments/SubCommentList.vue + 5 modules\nvar SubCommentList = __webpack_require__(102);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/CommentItem.vue\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var CommentItem = ({\n  name: \"CommentCommentItem\",\n  components: {\n    SubCommentList: SubCommentList[\"a\" /* default */]\n  },\n  props: {\n    comment: {\n      required: true,\n      type: Object\n    },\n    masterId: {\n      required: true,\n      type: Number\n    },\n    type: {\n      required: true,\n      type: String\n    }\n  },\n\n  data() {\n    return {\n      deleting: false,\n      liking: false\n    };\n  },\n\n  computed: {\n    currentUserId() {\n      return this.$store.state.login ? this.$store.state.user.id : 0;\n    },\n\n    isMine() {\n      return this.currentUserId === this.comment.from_user_id;\n    },\n\n    canDelete() {\n      return this.isMine || this.currentUserId === this.masterId;\n    },\n\n    actions() {\n      var result = [];\n\n      if (this.canDelete) {\n        result.push({\n          name: \"删除\",\n          method: this.deleteComment\n        });\n      }\n\n      result.push({\n        name: this.comment.liked ? \"取消赞\" : \"点赞\",\n        method: this.toggleLike\n      });\n      return result;\n    }\n\n  },\n  methods: {\n    toggleLike() {\n      var _this = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee() {\n        return regenerator__default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (_this.currentUserId) {\n                  _context.next = 3;\n                  break;\n                }\n\n                _this.$channel.$emit(\"sign-in\");\n\n                return _context.abrupt(\"return\");\n\n              case 3:\n                if (!_this.liking) {\n                  _context.next = 5;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 5:\n                _this.liking = true;\n                _context.prev = 6;\n                _context.next = 9;\n                return _this.$store.dispatch(\"comment/toggleLikeMainComment\", {\n                  ctx: _this,\n                  type: _this.type,\n                  id: _this.comment.id\n                });\n\n              case 9:\n                _context.next = 13;\n                break;\n\n              case 11:\n                _context.prev = 11;\n                _context.t0 = _context[\"catch\"](6);\n\n              case 13:\n                _context.prev = 13;\n                _this.liking = false;\n                return _context.finish(13);\n\n              case 16:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[6, 11, 13, 16]]);\n      }))();\n    },\n\n    deleteComment() {\n      if (this.deleting) {\n        return;\n      }\n\n      this.deleting = true;\n      this.$confirm(\"删除后无法找回, 是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(() => {\n        this.$store.dispatch(\"comment/deleteMainComment\", {\n          ctx: this,\n          type: this.type,\n          id: this.comment.id\n        });\n        this.$emit(\"delete\");\n      }).catch(e => {\n        this.deleting = false;\n\n        if (e === \"cancel\") {\n          return;\n        }\n\n        this.$toast.error(e);\n      });\n    },\n\n    handleCommentBtnClick() {\n      this.$channel.$emit(\"reply-comment\", {\n        id: this.comment.id,\n        targetUserId: this.comment.from_user_id,\n        targetUserName: this.comment.from_user_name\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-041aa410\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/CommentItem.vue\nvar CommentItem_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"comment-item\",attrs:{\"id\":(\"comment-\" + (_vm.comment.id))}},[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.comment.from_user_zone)))+\" class=\\\"avatar\\\">\",\"</a>\",[_c('v-img',{attrs:{\"src\":_vm.comment.from_user_avatar,\"avatar\":true,\"size\":\"35\"}})],1),_vm._ssrNode(\"<div class=\\\"content\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"header\\\">\",\"</div>\",[_c('v-popover',{attrs:{\"actions\":_vm.actions,\"report-id\":_vm.comment.id,\"report-type\":_vm.type + '_comment'}},[_c('button',{staticClass:\"tools-btn\"},[_vm._v(\"···\")])]),_vm._ssrNode(\"<div class=\\\"user\\\">\",\"</div>\",[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.comment.from_user_zone)))+\" class=\\\"nickname oneline\\\">\"+_vm._ssrEscape(_vm._s(_vm.comment.from_user_name))+\"</a>\"),_vm._ssrNode(\"<div class=\\\"info\\\">\",\"</div>\",[_vm._ssrNode(\"<span>\"+_vm._ssrEscape(\"第\"+_vm._s(_vm.comment.floor_count - 1)+\"楼\")+\"</span><span>·</span>\"),_c('v-time',{model:{value:(_vm.comment.created_at),callback:function ($$v) {_vm.$set(_vm.comment, \"created_at\", $$v)},expression:\"comment.created_at\"}})],2)],2)],1),_vm._ssrNode(\"<div class=\\\"main\\\">\"+(_vm._s(_vm.comment.content))+\"</div>\"),_vm._ssrNode(\"<div class=\\\"footer\\\">\",\"</div>\",[_c('sub-comment-list',{attrs:{\"parent-comment\":_vm.comment,\"type\":_vm.type}}),_vm._ssrNode(\"<div class=\\\"social\\\"><button\"+(_vm._ssrClass(null,[ _vm.comment.liked ? 'reply-liked-btn' : 'reply-like-btn' ]))+\"><i class=\\\"iconfont icon-icon_good\\\"></i>\"+_vm._ssrEscape(\"\\n          \"+_vm._s(_vm.comment.liked ? '已赞' : '赞')+\"\\n          \")+((_vm.comment.like_count)?(\"<span>\"+_vm._ssrEscape(\"(\"+_vm._s(_vm.comment.like_count)+\")\")+\"</span>\"):\"<!---->\")+\"</button><button class=\\\"reply-btn fr\\\">\\n          回复\\n        </button></div>\")],2)],2)])}\nvar CommentItem_staticRenderFns = []\nvar CommentItem_esExports = { render: CommentItem_render, staticRenderFns: CommentItem_staticRenderFns }\n/* harmony default export */ var comments_CommentItem = (CommentItem_esExports);\n// CONCATENATED MODULE: ./src/components/comments/CommentItem.vue\nfunction CommentItem_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(107),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar CommentItem_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar CommentItem___vue_template_functional__ = false\n/* styles */\nvar CommentItem___vue_styles__ = CommentItem_injectStyle\n/* scopeId */\nvar CommentItem___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar CommentItem___vue_module_identifier__ = \"8f3d9b14\"\nvar CommentItem_Component = CommentItem_normalizeComponent(\n  CommentItem,\n  comments_CommentItem,\n  CommentItem___vue_template_functional__,\n  CommentItem___vue_styles__,\n  CommentItem___vue_scopeId__,\n  CommentItem___vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_CommentItem = (CommentItem_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/CommentMain.vue\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ var CommentMain = ({\n  name: \"VCommentMain\",\n  components: {\n    CommentCreateForm: components_comments_CommentCreateForm,\n    CommentItem: components_comments_CommentItem\n  },\n  props: {\n    id: {\n      required: true,\n      type: [Number, String]\n    },\n    type: {\n      required: true,\n      type: String,\n      validator: val => ~[\"post\", \"video\", \"image\", \"score\", \"question\", \"answer\", \"role\"].indexOf(val)\n    },\n    onlySeeMaster: {\n      type: Boolean,\n      default: false\n    },\n    emptyText: {\n      type: String,\n      default: \"暂无评论，快来抢沙发吧╮(￣▽￣)╭！\"\n    },\n    masterId: {\n      required: true,\n      type: Number\n    },\n    bottomAppendComment: {\n      type: Boolean,\n      default: true\n    },\n    auto: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  data() {\n    return {\n      loadingMainComment: false,\n      focusCommentId: 0,\n      openFocusCommentDrawer: false,\n      loadingSubComment: false,\n      replyForm: {\n        id: \"\",\n        content: \"\",\n        targetUserId: 0,\n        targetUserName: \"\",\n        open: false,\n        replying: false,\n        liking: false\n      },\n      openCreateCommentDrawer: false\n    };\n  },\n\n  computed: {\n    store() {\n      return this.$store.state.comment;\n    },\n\n    list() {\n      return this.store.list;\n    },\n\n    noMore() {\n      return this.store.noMore;\n    },\n\n    total() {\n      return this.store.total;\n    },\n\n    focusComment() {\n      return this.focusCommentId ? this.list.filter(_ => _.id === this.focusCommentId)[0] : null;\n    },\n\n    currentUserId() {\n      return this.$store.state.login ? this.$store.state.user.id : 0;\n    }\n\n  },\n\n  mounted() {\n    this.scrollToReply();\n\n    if (this.auto) {\n      this.$channel.$on(`fire-load-comment-${this.type}-${this.id}`, () => {\n        this.loadMoreMainComment(true);\n      });\n    }\n\n    this.$channel.$on(\"load-all-sub-comment\", (_ref) => {\n      var id = _ref.id;\n      this.focusCommentId = id;\n      this.openFocusCommentDrawer = true;\n    });\n    this.$channel.$on(`open-create-comment-drawer-${this.type}-${this.id}`, () => {\n      if (!this.currentUserId) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      this.openCreateCommentDrawer = true;\n    });\n    this.$channel.$on(\"reply-comment\", (_ref2) => {\n      var id = _ref2.id,\n          targetUserId = _ref2.targetUserId,\n          targetUserName = _ref2.targetUserName;\n      this.handleSubCommentReply({\n        id,\n        targetUserId,\n        targetUserName\n      });\n    });\n    document.getElementById(\"comment-wrap\").addEventListener(\"click\", e => {\n      if (/reply-btn/.test(e.target.className) && this.$el.contains(e.target)) {\n        var area = document.getElementById(\"reply-comment-textarea\");\n        area.style.display = \"block\";\n        area.focus();\n      }\n    });\n  },\n\n  methods: {\n    loadMoreMainComment() {\n      var _this = this,\n          _arguments = arguments;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee() {\n        var firstRequest;\n        return regenerator__default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                firstRequest = _arguments.length > 0 && _arguments[0] !== undefined ? _arguments[0] : false;\n\n                if (!_this.loadingMainComment) {\n                  _context.next = 3;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 3:\n                _this.loadingMainComment = true;\n                _context.prev = 4;\n                _context.next = 7;\n                return _this.$store.dispatch(\"comment/getMainComments\", {\n                  ctx: _this,\n                  type: _this.type,\n                  id: _this.id,\n                  onlySeeMaster: _this.onlySeeMaster ? 1 : 0,\n                  firstRequest\n                });\n\n              case 7:\n                _context.next = 12;\n                break;\n\n              case 9:\n                _context.prev = 9;\n                _context.t0 = _context[\"catch\"](4);\n\n                _this.$toast.error(_context.t0);\n\n              case 12:\n                _context.prev = 12;\n                _this.loadingMainComment = false;\n                return _context.finish(12);\n\n              case 15:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[4, 9, 12, 15]]);\n      }))();\n    },\n\n    loadMoreSubComment() {\n      var _this2 = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee2() {\n        return regenerator__default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!_this2.loadingSubComment) {\n                  _context2.next = 2;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\");\n\n              case 2:\n                _this2.loadingSubComment = true;\n                _context2.prev = 3;\n                _context2.next = 6;\n                return _this2.$store.dispatch(\"comment/getSubComments\", {\n                  ctx: _this2,\n                  type: _this2.type,\n                  id: _this2.focusCommentId\n                });\n\n              case 6:\n                _context2.next = 11;\n                break;\n\n              case 8:\n                _context2.prev = 8;\n                _context2.t0 = _context2[\"catch\"](3);\n\n                _this2.$toast.error(_context2.t0);\n\n              case 11:\n                _context2.prev = 11;\n                _this2.loadingSubComment = false;\n                return _context2.finish(11);\n\n              case 14:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[3, 8, 11, 14]]);\n      }))();\n    },\n\n    commentToComment(data) {\n      this.handleSubCommentReply({\n        id: data.parent_id,\n        targetUserId: data.from_user_id,\n        targetUserName: data.from_user_name\n      });\n    },\n\n    handleCommentBtnClick() {\n      this.handleSubCommentReply({\n        id: this.focusComment.id,\n        targetUserId: this.focusComment.from_user_id,\n        targetUserName: this.focusComment.from_user_name\n      });\n    },\n\n    handleSubCommentReply(_ref3) {\n      var id = _ref3.id,\n          targetUserId = _ref3.targetUserId,\n          targetUserName = _ref3.targetUserName;\n\n      if (!this.currentUserId) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      this.replyForm.id = id;\n      this.replyForm.targetUserId = targetUserId;\n      this.replyForm.targetUserName = targetUserName;\n      this.replyForm.open = true;\n      setTimeout(() => {\n        document.body.scrollTop = 0;\n      }, 200);\n    },\n\n    toggleFocusCommentLike() {\n      var _this3 = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee3() {\n        return regenerator__default.a.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (_this3.currentUserId) {\n                  _context3.next = 3;\n                  break;\n                }\n\n                _this3.$channel.$emit(\"sign-in\");\n\n                return _context3.abrupt(\"return\");\n\n              case 3:\n                if (!_this3.replyForm.liking) {\n                  _context3.next = 5;\n                  break;\n                }\n\n                return _context3.abrupt(\"return\");\n\n              case 5:\n                _this3.replyForm.liking = true;\n                _context3.prev = 6;\n                _context3.next = 9;\n                return _this3.$store.dispatch(\"comment/toggleLikeMainComment\", {\n                  ctx: _this3,\n                  type: _this3.type,\n                  id: _this3.focusCommentId\n                });\n\n              case 9:\n                _context3.next = 13;\n                break;\n\n              case 11:\n                _context3.prev = 11;\n                _context3.t0 = _context3[\"catch\"](6);\n\n              case 13:\n                _context3.prev = 13;\n                _this3.replyForm.liking = false;\n                return _context3.finish(13);\n\n              case 16:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[6, 11, 13, 16]]);\n      }))();\n    },\n\n    handleReplyDrawerClose() {\n      document.getElementById(\"reply-comment-textarea\").style.display = \"none\";\n    },\n\n    handleReplySubmit() {\n      var _this4 = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee4() {\n        var result;\n        return regenerator__default.a.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                if (_this4.currentUserId) {\n                  _context4.next = 3;\n                  break;\n                }\n\n                _this4.$channel.$emit(\"sign-in\");\n\n                return _context4.abrupt(\"return\");\n\n              case 3:\n                if (_this4.replyForm.content) {\n                  _context4.next = 5;\n                  break;\n                }\n\n                return _context4.abrupt(\"return\");\n\n              case 5:\n                if (!_this4.replyForm.replying) {\n                  _context4.next = 7;\n                  break;\n                }\n\n                return _context4.abrupt(\"return\");\n\n              case 7:\n                _this4.replyForm.replying = true;\n                _context4.prev = 8;\n                _context4.next = 11;\n                return _this4.$store.dispatch(\"comment/createSubComment\", {\n                  ctx: _this4,\n                  id: _this4.replyForm.id,\n                  type: _this4.type,\n                  content: _this4.replyForm.content,\n                  targetUserId: _this4.replyForm.targetUserId\n                });\n\n              case 11:\n                result = _context4.sent;\n                _this4.replyForm.open = false;\n                _this4.replyForm.content = \"\";\n\n                _this4.$toast.success(result.message);\n\n                _this4.$store.commit(\"UPDATE_USER_EXP\", result.exp);\n\n                _context4.next = 21;\n                break;\n\n              case 18:\n                _context4.prev = 18;\n                _context4.t0 = _context4[\"catch\"](8);\n\n                _this4.$toast.error(_context4.t0);\n\n              case 21:\n                _context4.prev = 21;\n                _this4.replyForm.replying = false;\n\n                _this4.handleReplyDrawerClose();\n\n                return _context4.finish(21);\n\n              case 25:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this, [[8, 18, 21, 25]]);\n      }))();\n    },\n\n    writeComment() {\n      this.$channel.$emit(`open-create-comment-drawer-${this.type}-${this.id}`);\n    },\n\n    closeCommentDrawer() {\n      this.openCreateCommentDrawer = false;\n    },\n\n    submitCommentCallback() {\n      this.openCreateCommentDrawer = false;\n      this.$emit(\"create-main-comment\");\n    },\n\n    deleteCommentCallback() {\n      this.$emit(\"delete-main-comment\");\n    },\n\n    scrollToReply() {\n      var replyId = this.$route.query[\"comment-id\"];\n\n      if (!replyId) {\n        return;\n      }\n\n      var reply = document.getElementById(`comment-${replyId}`);\n\n      if (!reply) {\n        return;\n      }\n\n      setTimeout(() => {\n        Object(scrollToY[\"a\" /* default */])(this.$utils.getOffsetTop(reply) - 100, 600);\n      }, 400);\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-dbd4bc0e\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/CommentMain.vue\nvar CommentMain_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"comment-wrap\"}},[_vm._t(\"header\",[(!_vm.auto)?_c('div',{staticClass:\"hr\"}):_vm._e(),_c('h3',{staticClass:\"sub-title\"},[_vm._v(\"\\n      评论\"+_vm._s(_vm.total ? (\"(\" + _vm.total + \")\") : '')+\"\\n      \"),_vm._t(\"header-btn\"),_c('button',{staticClass:\"write-btn\",on:{\"click\":_vm.writeComment}},[_vm._v(\"写评论\")])],2)]),(_vm.list.length)?[_vm._ssrNode(\"<div id=\\\"comment-list-wrap\\\">\",\"</div>\",_vm._l((_vm.list),function(comment){return _vm._ssrNode(\"<div class=\\\"comment-item-wrap\\\">\",\"</div>\",[_vm._t(\"comment-item\",[_c('comment-item',{attrs:{\"type\":_vm.type,\"comment\":comment,\"master-id\":_vm.masterId},on:{\"delete\":_vm.deleteCommentCallback}})],{comment:comment,reply:_vm.handleSubCommentReply})],2)})),_vm._ssrNode(\"<div id=\\\"comment-list-footer\\\">\",\"</div>\",[_vm._ssrNode(((_vm.bottomAppendComment)?(\"<button class=\\\"append-comment-btn\\\">写评论</button>\"):\"<!---->\")),_c('more-btn',{attrs:{\"no-more\":_vm.noMore,\"loading\":_vm.loadingMainComment,\"auto\":true},on:{\"fetch\":function($event){_vm.loadMoreMainComment(false)}}})],2)]:(_vm.emptyText)?_vm._ssrNode((\"<p class=\\\"no-content\\\">\"+_vm._ssrEscape(_vm._s(_vm.emptyText))+\"</p>\")):_vm._e(),_c('v-drawer',{staticClass:\"focus-comment-drawer\",attrs:{\"header-text\":(\"评论列表\" + (_vm.focusComment && _vm.focusComment.floor_count ? (\" - \" + (_vm.focusComment.floor_count) + \" 楼\") : '')),\"backdrop\":false,\"from\":\"bottom\",\"size\":\"100%\"},model:{value:(_vm.openFocusCommentDrawer),callback:function ($$v) {_vm.openFocusCommentDrawer=$$v},expression:\"openFocusCommentDrawer\"}},[(_vm.focusComment)?[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"reply\"},[_c('div',{staticClass:\"user clearfix\"},[_c('a',{staticClass:\"avatar\",attrs:{\"href\":_vm.$alias.user(_vm.focusComment.from_user_zone)}},[_c('v-img',{attrs:{\"src\":_vm.focusComment.from_user_avatar,\"avatar\":true,\"size\":\"35\"}})],1),_c('div',{staticClass:\"summary\"},[_c('a',{staticClass:\"nickname\",attrs:{\"href\":_vm.$alias.user(_vm.focusComment.from_user_zone)},domProps:{\"textContent\":_vm._s(_vm.focusComment.from_user_name)}}),_c('div',{staticClass:\"info\"},[_c('v-time',{model:{value:(_vm.focusComment.created_at),callback:function ($$v) {_vm.$set(_vm.focusComment, \"created_at\", $$v)},expression:\"focusComment.created_at\"}})],1)])]),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"text-area\",domProps:{\"innerHTML\":_vm._s(_vm.focusComment.content)}}),_c('div',{staticClass:\"image-area\"},_vm._l((_vm.focusComment.images),function(img,idx){return _c('div',{key:idx,staticClass:\"image-package\"},[_c('v-img',{attrs:{\"src\":img.url,\"width\":img.width,\"height\":img.height,\"full\":true}})],1)}))]),_c('div',{staticClass:\"social\"},[_c('button',{class:[ _vm.focusComment.liked ? 'reply-liked-btn' : 'reply-like-btn' ],on:{\"click\":_vm.toggleFocusCommentLike}},[_c('i',{staticClass:\"iconfont icon-icon_good\"}),_vm._v(\"\\n              \"+_vm._s(_vm.focusComment.liked ? '已赞' : '赞')+\"\\n              \"),(_vm.focusComment.like_count)?_c('span',[_vm._v(\"(\"+_vm._s(_vm.focusComment.like_count)+\")\")]):_vm._e()]),_c('button',{staticClass:\"reply-btn fr\",on:{\"click\":_vm.handleCommentBtnClick}},[_vm._v(\"\\n              回复\\n            \")])])]),_c('div',{staticClass:\"hr\"}),_c('p',{staticClass:\"total\"},[_vm._v(_vm._s(_vm.focusComment.comments.total)+\"条回复\")]),_c('ul',{staticClass:\"comments\"},_vm._l((_vm.focusComment.comments.list),function(item){return _c('li',{key:item.id},[_c('div',{staticClass:\"from-user\"},[_c('a',{staticClass:\"avatar\",attrs:{\"href\":_vm.$alias.user(item.from_user_zone)}},[_c('v-img',{attrs:{\"src\":item.from_user_avatar,\"avatar\":true,\"size\":\"35\"}})],1),_c('div',{staticClass:\"summary\"},[_c('div',{staticClass:\"users oneline\"},[_c('a',{staticClass:\"nickname\",attrs:{\"href\":_vm.$alias.user(item.from_user_zone)},domProps:{\"textContent\":_vm._s(item.from_user_name)}}),(item.to_user_zone)?[_vm._v(\"\\n                    回复\\n                    \"),_c('a',{staticClass:\"nickname\",attrs:{\"href\":_vm.$alias.user(item.to_user_zone)},domProps:{\"textContent\":_vm._s(item.to_user_name)}})]:_vm._e(),_vm._v(\"\\n                  :\\n                \")],2),_c('div',{staticClass:\"info\"},[_c('v-time',{model:{value:(item.created_at),callback:function ($$v) {_vm.$set(item, \"created_at\", $$v)},expression:\"item.created_at\"}})],1)])]),_c('div',{staticClass:\"main\"},[_c('div',{staticClass:\"content reply-btn\",domProps:{\"textContent\":_vm._s(item.content)},on:{\"click\":function($event){_vm.commentToComment(item)}}})])])}))]),_c('more-btn',{attrs:{\"no-more\":_vm.focusComment.comments.noMore,\"loading\":_vm.loadingSubComment},on:{\"fetch\":_vm.loadMoreSubComment}})]:_vm._e()],2),_vm._ssrNode(\"<div class=\\\"reply-comment-drawer-wrap\\\">\",\"</div>\",[_c('v-drawer',{staticClass:\"reply-comment-drawer\",attrs:{\"header-text\":_vm.currentUserId === _vm.replyForm.targetUserId ? '回复' : (\"回复：\" + (_vm.replyForm.targetUserName)),\"backdrop\":false,\"from\":\"right\",\"size\":\"100%\",\"submit-text\":\"发布\"},on:{\"cancel\":_vm.handleReplyDrawerClose,\"submit\":_vm.handleReplySubmit},model:{value:(_vm.replyForm.open),callback:function ($$v) {_vm.$set(_vm.replyForm, \"open\", $$v)},expression:\"replyForm.open\"}}),_vm._ssrNode(\"<textarea id=\\\"reply-comment-textarea\\\" placeholder=\\\"100字以内任意发挥\\\" maxlength=\\\"100\\\"\"+(_vm._ssrClass(null,{ 'fade-in': _vm.replyForm.open }))+\"></textarea>\")],2),_c('v-drawer',{attrs:{\"from\":\"right\",\"size\":\"100%\",\"header-text\":\"发表评论\"},model:{value:(_vm.openCreateCommentDrawer),callback:function ($$v) {_vm.openCreateCommentDrawer=$$v},expression:\"openCreateCommentDrawer\"}},[(_vm.openCreateCommentDrawer)?_c('div',{staticClass:\"container\"},[_vm._t(\"reply-form\",[(_vm.openCreateCommentDrawer)?_c('comment-create-form',{attrs:{\"id\":_vm.id,\"type\":_vm.type,\"master-id\":_vm.masterId},on:{\"close\":_vm.closeCommentDrawer,\"submit\":_vm.submitCommentCallback}}):_vm._e()],{close:_vm.closeCommentDrawer})],2):_vm._e()])],2)}\nvar CommentMain_staticRenderFns = []\nvar CommentMain_esExports = { render: CommentMain_render, staticRenderFns: CommentMain_staticRenderFns }\n/* harmony default export */ var comments_CommentMain = (CommentMain_esExports);\n// CONCATENATED MODULE: ./src/components/comments/CommentMain.vue\nfunction CommentMain_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(103),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar CommentMain_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar CommentMain___vue_template_functional__ = false\n/* styles */\nvar CommentMain___vue_styles__ = CommentMain_injectStyle\n/* scopeId */\nvar CommentMain___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar CommentMain___vue_module_identifier__ = \"71b0fa1c\"\nvar CommentMain_Component = CommentMain_normalizeComponent(\n  CommentMain,\n  comments_CommentMain,\n  CommentMain___vue_template_functional__,\n  CommentMain___vue_styles__,\n  CommentMain___vue_scopeId__,\n  CommentMain___vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_CommentMain = __webpack_exports__[\"a\"] = (CommentMain_Component.exports);\n\n\n/***/ }),\n\n/***/ 102:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/SubCommentItem.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var SubCommentItem = ({\n  name: \"SubCommentItem\",\n  props: {\n    comment: {\n      required: true,\n      type: Object\n    },\n    parentUserId: {\n      required: true,\n      type: Number\n    },\n    parentCommentId: {\n      required: true,\n      type: Number\n    },\n    type: {\n      required: true,\n      type: String\n    }\n  },\n\n  data() {\n    return {\n      deleting: false\n    };\n  },\n\n  computed: {\n    currentUserId() {\n      return this.$store.state.login ? this.$store.state.user.id : 0;\n    },\n\n    isMine() {\n      return this.currentUserId === this.comment.from_user_id;\n    },\n\n    canDelete() {\n      return this.isMine || this.currentUserId === this.parentUserId;\n    }\n\n  },\n  methods: {\n    handleSubCommentClick() {\n      if (this.isMine) {\n        this.deleteComment();\n        this.$nextTick(() => {\n          document.getElementById(\"reply-comment-textarea\").style.display = \"none\";\n        });\n        return;\n      }\n\n      if (this.currentUserId) {\n        this.$channel.$emit(\"reply-comment\", {\n          id: this.parentCommentId,\n          targetUserId: this.comment.from_user_id,\n          targetUserName: this.comment.from_user_name\n        });\n      }\n    },\n\n    deleteComment() {\n      if (!this.canDelete) {\n        return;\n      }\n\n      if (this.deleting) {\n        return;\n      }\n\n      this.deleting = true;\n      this.$confirm(\"删除后无法找回, 是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(() => {\n        this.$store.dispatch(\"comment/deleteSubComment\", {\n          ctx: this,\n          type: this.type,\n          id: this.comment.id,\n          parentId: this.comment.parent_id\n        });\n      }).catch(e => {\n        this.deleting = false;\n\n        if (e === \"cancel\") {\n          return;\n        }\n\n        this.$toast.error(e);\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3bb44ec9\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/SubCommentItem.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sub-comment-item\"},[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.comment.from_user_zone)))+\" class=\\\"nickname\\\">\"+_vm._ssrEscape(_vm._s(_vm.comment.from_user_name))+\"</a>\"+((_vm.comment.to_user_zone)?(\"\\n    回复\\n    <a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.comment.to_user_zone)))+\" class=\\\"nickname\\\">\"+_vm._ssrEscape(_vm._s(_vm.comment.to_user_name))+\"</a>\"):\"<!---->\")+\"\\n  :\\n  <span class=\\\"reply-btn comment-content\\\">\"+_vm._ssrEscape(_vm._s(_vm.comment.content))+\"</span>\")])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var comments_SubCommentItem = (esExports);\n// CONCATENATED MODULE: ./src/components/comments/SubCommentItem.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(111),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"3fc64a04\"\nvar Component = normalizeComponent(\n  SubCommentItem,\n  comments_SubCommentItem,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_SubCommentItem = (Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/SubCommentList.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var SubCommentList = ({\n  name: \"PostSubCommentList\",\n  components: {\n    SubCommentItem: components_comments_SubCommentItem\n  },\n  props: {\n    parentComment: {\n      required: true,\n      type: Object\n    },\n    type: {\n      required: true,\n      type: String\n    }\n  },\n  computed: {\n    comments() {\n      return this.parentComment.comments;\n    },\n\n    authorId() {\n      return this.parentComment.from_user_id;\n    },\n\n    hasComment() {\n      return !!this.comments.list.length;\n    },\n\n    filterComments() {\n      var data = this.comments;\n      var comments = data.list;\n      var result = comments.slice(0, 5);\n\n      if (comments.every(_ => _.id <= data.maxId)) {\n        return result;\n      }\n\n      var ids = result.map(_ => _.id);\n      return result.concat(comments.filter(_ => _.id > data.maxId && ids.indexOf(_.id) === -1));\n    }\n\n  },\n  methods: {\n    loadAllComment() {\n      this.$channel.$emit(\"load-all-sub-comment\", {\n        id: this.parentComment.id\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-14eb249e\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/SubCommentList.vue\nvar SubCommentList_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sub-comment-list-wrap\"},[(_vm.hasComment)?_vm._ssrNode(\"<div class=\\\"sub-comment-list\\\">\",\"</div>\",[_vm._l((_vm.filterComments),function(comment){return _c('sub-comment-item',{key:comment.id,attrs:{\"comment\":comment,\"parent-user-id\":_vm.authorId,\"parent-comment-id\":_vm.parentComment.id,\"type\":_vm.type}})}),_vm._ssrNode(((!_vm.comments.noMore || _vm.comments.list.length > 5)?(\"<button class=\\\"load-all-comment\\\">\"+_vm._ssrEscape(\"\\n      查看全部\"+_vm._s(_vm.comments.total)+\"条评论\\n    \")+\"</button>\"):\"<!---->\"))],2):_vm._e()])}\nvar SubCommentList_staticRenderFns = []\nvar SubCommentList_esExports = { render: SubCommentList_render, staticRenderFns: SubCommentList_staticRenderFns }\n/* harmony default export */ var comments_SubCommentList = (SubCommentList_esExports);\n// CONCATENATED MODULE: ./src/components/comments/SubCommentList.vue\nfunction SubCommentList_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(109),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar SubCommentList_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar SubCommentList___vue_template_functional__ = false\n/* styles */\nvar SubCommentList___vue_styles__ = SubCommentList_injectStyle\n/* scopeId */\nvar SubCommentList___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar SubCommentList___vue_module_identifier__ = \"2bbb59ee\"\nvar SubCommentList_Component = SubCommentList_normalizeComponent(\n  SubCommentList,\n  comments_SubCommentList,\n  SubCommentList___vue_template_functional__,\n  SubCommentList___vue_styles__,\n  SubCommentList___vue_scopeId__,\n  SubCommentList___vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_SubCommentList = __webpack_exports__[\"a\"] = (SubCommentList_Component.exports);\n\n\n/***/ }),\n\n/***/ 103:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(104);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"beeeca2c\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 104:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}#comment-wrap .sub-title{margin-top:15px;margin-bottom:15px}#comment-wrap .sub-title .write-btn{float:right;font-weight:700;font-size:13px}#comment-wrap #comment-list-footer{margin-left:-15px;margin-right:-15px}#comment-wrap .focus-comment-drawer .reply .user{padding-top:5px}#comment-wrap .focus-comment-drawer .reply .user .avatar{float:left;margin-right:9px}#comment-wrap .focus-comment-drawer .reply .user .summary{overflow:hidden}#comment-wrap .focus-comment-drawer .reply .user .summary .nickname{font-size:14px;color:#333}#comment-wrap .focus-comment-drawer .reply .user .summary .info{line-height:16px;font-size:12px;color:#999}#comment-wrap .focus-comment-drawer .reply .user .summary .info span{margin-right:5px}#comment-wrap .focus-comment-drawer .reply .content{font-size:16px;line-height:24px;padding-top:16px;margin-bottom:16px;color:#000}#comment-wrap .focus-comment-drawer .reply .content .image-area{margin:16px 0}#comment-wrap .focus-comment-drawer .reply .content .image-area img{width:100%;height:auto}#comment-wrap .focus-comment-drawer .reply .social{margin-bottom:15px;font-size:12px}#comment-wrap .focus-comment-drawer .reply .social .reply-liked-btn{color:#0381aa}#comment-wrap .focus-comment-drawer .reply .social button{color:#666;margin-left:3px}#comment-wrap .focus-comment-drawer .total{height:40px;line-height:40px;color:#000;font-size:16px}#comment-wrap .focus-comment-drawer .comments li{padding:17px 0 13px;position:relative}#comment-wrap .focus-comment-drawer .comments li:after{content:\\\"\\\";position:absolute;left:0;right:0;bottom:0;height:1px;background-color:#f0f0f0;-webkit-transform:scaleY(.5);-ms-transform:scaleY(.5);transform:scaleY(.5);margin-left:-15px;margin-right:-15px}#comment-wrap .focus-comment-drawer .comments li .from-user .avatar{float:left;display:block;margin-right:9px}#comment-wrap .focus-comment-drawer .comments li .from-user .summary{overflow:hidden}#comment-wrap .focus-comment-drawer .comments li .from-user .summary .users{font-size:14px;margin-bottom:6px;margin-top:2px;line-height:14px}#comment-wrap .focus-comment-drawer .comments li .from-user .summary .users .nickname{color:#0381aa}#comment-wrap .focus-comment-drawer .comments li .from-user .summary .info{font-size:12px;line-height:12px;color:#999}#comment-wrap .focus-comment-drawer .comments li .main{margin-left:45px;padding-top:10px}#comment-wrap .focus-comment-drawer .comments li .main .content{font-size:14px;line-height:21px;word-break:break-all}#comment-wrap .reply-comment-drawer-wrap #reply-comment-textarea{position:fixed;left:0;top:60px;width:100%;height:250px;background-color:transparent;font-size:16px;line-height:24px;color:#000;font-weight:400;z-index:101;padding-left:15px;padding-right:15px;display:none;opacity:0}#comment-wrap .reply-comment-drawer-wrap #reply-comment-textarea.fade-in{opacity:1;-webkit-transition-delay:.4s;-o-transition-delay:.4s;transition-delay:.4s}#comment-wrap .append-comment-btn{width:100%;padding:15px 0;font-size:13px}#comment-wrap .no-content{text-align:center;margin-top:30px;margin-bottom:30px;font-size:12px;color:#99a2aa}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 105:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(106);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"303ce1cc\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 106:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.comment-create-form .content{font-size:16px;line-height:24px;color:#000;font-weight:400;height:250px;margin-bottom:5px}.comment-create-form .submit-btn{margin-top:15px;width:100%}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 107:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(108);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"23a510bc\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 108:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.comment-item{position:relative;margin-top:15px;padding-bottom:15px}.comment-item:after{content:\\\"\\\";position:absolute;left:0;right:0;bottom:0;height:1px;background-color:#f0f0f0;-webkit-transform:scaleY(.5);-ms-transform:scaleY(.5);transform:scaleY(.5);margin-left:-15px;margin-right:-15px}.comment-item .avatar{float:left;margin-right:9px}.comment-item .content{overflow:hidden}.comment-item .content .header .tools-btn{float:right;line-height:16px;font-size:12px;color:#535353;margin-top:9px;margin-left:4px}.comment-item .content .header .user .nickname{font-size:14px;line-height:21px;display:block;color:#333}.comment-item .content .header .user .info{color:#999;line-height:14px;font-size:12px}.comment-item .content .header .user .info span{margin-right:5px}.comment-item .content .main{font-size:16px;margin:10px 0 4px;color:#333;line-height:24px;min-height:65px}.comment-item .content .main .image-area{margin:10px 0}.comment-item .content .main .image-area img{width:100%;height:auto}.comment-item .content .footer .social{margin-top:15px;font-size:12px}.comment-item .content .footer .social .reply-liked-btn{color:#0381aa}.comment-item .content .footer .social button{color:#666;margin-left:3px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 109:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(110);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"75d7965e\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 110:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.sub-comment-list-wrap{position:relative;background-color:#f7f8fa;border-radius:5px}.sub-comment-list-wrap .sub-comment-list{padding:7px 0 7.5px;margin-top:5px}.sub-comment-list-wrap .load-all-comment{position:relative;margin-top:6px;font-size:12px;margin-bottom:0;padding:0 10px;color:#999;width:100%;text-align:left}.sub-comment-list-wrap .load-all-comment:after{content:\\\"\\\";position:absolute;top:50%;border:3px solid #f5f5f5;border-left-color:#999;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);margin-left:4px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 111:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(112);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"6b8bda44\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 112:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.sub-comment-item{padding:2px 10px;font-size:14px;line-height:18px}.sub-comment-item .nickname{color:#0381aa}.sub-comment-item .comment-content{margin-right:6px;word-break:break-all}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 113:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: external \"@babel/runtime/regenerator\"\nvar regenerator_ = __webpack_require__(0);\nvar regenerator__default = /*#__PURE__*/__webpack_require__.n(regenerator_);\n\n// EXTERNAL MODULE: external \"regenerator-runtime/runtime\"\nvar runtime_ = __webpack_require__(1);\nvar runtime__default = /*#__PURE__*/__webpack_require__.n(runtime_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/asyncToGenerator\"\nvar asyncToGenerator_ = __webpack_require__(2);\nvar asyncToGenerator__default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator_);\n\n// EXTERNAL MODULE: ./src/api/toggleApi.js\nvar toggleApi = __webpack_require__(22);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/common/SocialPanel.vue\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var SocialPanel = ({\n  name: \"SocialPanel\",\n  props: {\n    id: {\n      required: true,\n      type: Number\n    },\n    type: {\n      required: true,\n      type: String,\n      validator: val => ~[\"post\", \"video\", \"image\", \"score\", \"answer\", \"video\"].indexOf(val)\n    },\n    isCreator: {\n      required: true,\n      type: Boolean\n    },\n    userId: {\n      required: true,\n      type: Number\n    },\n    liked: {\n      type: Boolean,\n      default: false\n    },\n    marked: {\n      type: Boolean,\n      default: false\n    },\n    rewarded: {\n      type: Boolean,\n      default: false\n    },\n    likeUsers: {\n      required: true,\n      type: Object\n    },\n    rewardUsers: {\n      required: true,\n      type: Object\n    },\n    markUsers: {\n      required: true,\n      type: Object\n    }\n  },\n\n  data() {\n    return {\n      loadingReward: false,\n      loadingLike: false,\n      loadingMark: false,\n      displayCount: 7\n    };\n  },\n\n  computed: {\n    currentUserId() {\n      return this.$store.state.login ? this.$store.state.user.id : 0;\n    },\n\n    isMine() {\n      return this.userId === this.currentUserId;\n    },\n\n    displayUsers() {\n      var users = this.isCreator ? this.rewardUsers.list : this.likeUsers.list;\n      return users.slice(0, this.displayCount);\n    }\n\n  },\n  methods: {\n    toggleReward() {\n      var _this = this;\n\n      if (!this.currentUserId) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      if (this.isMine) {\n        this.$toast.info(\"不能给自己打赏\");\n        return;\n      }\n\n      this.$confirm(this.rewarded ? \"即使取消投食你的金币也不会回到你的钱包, 是否继续?\" : \"向TA投食需要消耗你一枚金币，是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(\n      /*#__PURE__*/\n      asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee() {\n        var api, user, result;\n        return regenerator__default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!_this.loadingReward) {\n                  _context.next = 2;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 2:\n                _this.loadingReward = true;\n                api = new toggleApi[\"a\" /* default */](_this);\n                user = _this.$store.state.user;\n                _context.prev = 5;\n                _context.next = 8;\n                return api.reward({\n                  id: _this.id,\n                  type: _this.type\n                });\n\n              case 8:\n                result = _context.sent;\n\n                if (result) {\n                  _this.$store.commit(\"USE_COIN\");\n                }\n\n                _this.$store.commit(`${_this.type}/SOCIAL_TOGGLE`, {\n                  key: \"reward\",\n                  value: result,\n                  user: {\n                    id: user.id,\n                    zone: user.zone,\n                    nickname: user.nickname,\n                    avatar: user.avatar\n                  }\n                });\n\n                _this.$toast.success(\"操作成功\");\n\n                _this.$emit(\"reward-callback\");\n\n                _context.next = 18;\n                break;\n\n              case 15:\n                _context.prev = 15;\n                _context.t0 = _context[\"catch\"](5);\n\n                _this.$toast.error(_context.t0);\n\n              case 18:\n                _context.prev = 18;\n                _this.loadingReward = false;\n                return _context.finish(18);\n\n              case 21:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[5, 15, 18, 21]]);\n      }))).catch(() => {});\n    },\n\n    toggleLike() {\n      var _this2 = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee2() {\n        var api, user, result;\n        return regenerator__default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (_this2.currentUserId) {\n                  _context2.next = 3;\n                  break;\n                }\n\n                _this2.$channel.$emit(\"sign-in\");\n\n                return _context2.abrupt(\"return\");\n\n              case 3:\n                if (!_this2.isMine) {\n                  _context2.next = 6;\n                  break;\n                }\n\n                _this2.$toast.info(\"不能喜欢自己的内容\");\n\n                return _context2.abrupt(\"return\");\n\n              case 6:\n                if (!_this2.loadingLike) {\n                  _context2.next = 8;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\");\n\n              case 8:\n                _this2.loadingLike = true;\n                api = new toggleApi[\"a\" /* default */](_this2);\n                user = _this2.$store.state.user;\n                _context2.prev = 11;\n                _context2.next = 14;\n                return api.like({\n                  id: _this2.id,\n                  type: _this2.type\n                });\n\n              case 14:\n                result = _context2.sent;\n\n                _this2.$store.commit(`${_this2.type}/SOCIAL_TOGGLE`, {\n                  key: \"like\",\n                  value: result,\n                  user: {\n                    id: user.id,\n                    zone: user.zone,\n                    nickname: user.nickname,\n                    avatar: user.avatar\n                  }\n                });\n\n                _this2.$toast.success(\"操作成功\");\n\n                _context2.next = 22;\n                break;\n\n              case 19:\n                _context2.prev = 19;\n                _context2.t0 = _context2[\"catch\"](11);\n\n                _this2.$toast.error(_context2.t0);\n\n              case 22:\n                _context2.prev = 22;\n                _this2.loadingLike = false;\n                return _context2.finish(22);\n\n              case 25:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[11, 19, 22, 25]]);\n      }))();\n    },\n\n    toggleMark() {\n      var _this3 = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee3() {\n        var api, user, result;\n        return regenerator__default.a.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (_this3.currentUserId) {\n                  _context3.next = 3;\n                  break;\n                }\n\n                _this3.$channel.$emit(\"sign-in\");\n\n                return _context3.abrupt(\"return\");\n\n              case 3:\n                if (!_this3.isMine) {\n                  _context3.next = 6;\n                  break;\n                }\n\n                _this3.$toast.info(\"不能收藏自己的内容\");\n\n                return _context3.abrupt(\"return\");\n\n              case 6:\n                if (!_this3.loadingMark) {\n                  _context3.next = 8;\n                  break;\n                }\n\n                return _context3.abrupt(\"return\");\n\n              case 8:\n                _this3.loadingMark = true;\n                api = new toggleApi[\"a\" /* default */](_this3);\n                user = _this3.$store.state.user;\n                _context3.prev = 11;\n                _context3.next = 14;\n                return api.mark({\n                  id: _this3.id,\n                  type: _this3.type\n                });\n\n              case 14:\n                result = _context3.sent;\n\n                _this3.$store.commit(`${_this3.type}/SOCIAL_TOGGLE`, {\n                  key: \"mark\",\n                  value: result,\n                  user: {\n                    id: user.id,\n                    zone: user.zone,\n                    nickname: user.nickname,\n                    avatar: user.avatar\n                  }\n                });\n\n                _this3.$toast.success(\"操作成功\");\n\n                _context3.next = 22;\n                break;\n\n              case 19:\n                _context3.prev = 19;\n                _context3.t0 = _context3[\"catch\"](11);\n\n                _this3.$toast.error(_context3.t0);\n\n              case 22:\n                _context3.prev = 22;\n                _this3.loadingMark = false;\n                return _context3.finish(22);\n\n              case 25:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[11, 19, 22, 25]]);\n      }))();\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-200e0634\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/SocialPanel.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"social-panel\"},[_vm._ssrNode(\"<div class=\\\"buttons\\\">\",\"</div>\",[(_vm.isCreator)?_c('el-button',{class:{ 'is-plain': _vm.rewarded },attrs:{\"loading\":_vm.loadingReward,\"type\":\"warning\",\"round\":\"\",\"size\":\"mini\"},on:{\"click\":_vm.toggleReward}},[_c('i',{staticClass:\"iconfont icon-guanzhu\"}),_vm._v(\"\\n      \"+_vm._s(_vm.rewarded ? '已投食' : '投食')+_vm._s(_vm.rewardUsers.total ? (\"  |  \" + (_vm.rewardUsers.total)) : '')+\"\\n    \")]):_c('el-button',{class:{ 'is-plain': _vm.liked },attrs:{\"loading\":_vm.loadingLike,\"type\":\"danger\",\"size\":\"mini\",\"round\":\"\"},on:{\"click\":_vm.toggleLike}},[_c('i',{staticClass:\"iconfont icon-guanzhu\"}),_vm._v(\"\\n      \"+_vm._s(_vm.liked ? '已喜欢' : '喜欢')+_vm._s(_vm.likeUsers.total ? (\"  |  \" + (_vm.likeUsers.total)) : '')+\"\\n    \")]),_c('el-button',{class:{ 'is-plain': _vm.marked },attrs:{\"loading\":_vm.loadingMark,\"type\":\"success\",\"size\":\"mini\",\"round\":\"\"},on:{\"click\":_vm.toggleMark}},[_c('i',{staticClass:\"iconfont icon-shoucang\"}),_vm._v(\"\\n      \"+_vm._s(_vm.marked ? '已收藏' : '收藏')+_vm._s(_vm.markUsers.total ? (\"  |  \" + (_vm.markUsers.total)) : '')+\"\\n    \")]),_vm._t(\"default\")],2),_vm._ssrNode(\"<div class=\\\"users\\\"><ul>\"+(_vm._ssrList((_vm.displayUsers),function(user){return (\"<li class=\\\"user-face\\\"><img\"+(_vm._ssrAttr(\"src\",_vm.$resize(user.avatar, { width: 60 })))+\"></li>\")}))+\"</ul></div>\")],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var common_SocialPanel = (esExports);\n// CONCATENATED MODULE: ./src/components/common/SocialPanel.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(114),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"786d8432\"\nvar Component = normalizeComponent(\n  SocialPanel,\n  common_SocialPanel,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_common_SocialPanel = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 114:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(115);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"6bcd6949\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 115:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.social-panel{margin:40px 0}.social-panel .buttons{text-align:center}.social-panel .buttons button{padding:5px 7px;font-size:11px!important}.social-panel .users{margin-top:25px;text-align:center}.social-panel .users .user-face{margin:0 -5px;display:inline-block;vertical-align:middle}.social-panel .users .user-face img{width:30px;height:30px;border-radius:50%;border:3px solid #fff}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 116:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 129:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/jsonEditor/parser/TxtParser.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var TxtParser = ({\n  name: \"JsonContentTxtParser\",\n  props: {\n    item: {\n      type: Object,\n      required: true\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-41cbc7b4\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/jsonEditor/parser/TxtParser.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',{staticClass:\"json-content-txt-parser\",domProps:{\"innerHTML\":_vm._s(_vm.item.text)}},[])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var parser_TxtParser = (esExports);\n// CONCATENATED MODULE: ./src/components/jsonEditor/parser/TxtParser.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(130),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"2dd15a2a\"\nvar Component = normalizeComponent(\n  TxtParser,\n  parser_TxtParser,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var jsonEditor_parser_TxtParser = (Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/jsonEditor/parser/ImgParser.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var ImgParser = ({\n  name: \"JsonContentImgParser\",\n  props: {\n    item: {\n      type: Object,\n      required: true\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-b8da67b0\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/jsonEditor/parser/ImgParser.vue\nvar ImgParser_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"json-content-img-parser\"},[_c('v-img',{attrs:{\"src\":_vm.item.url,\"width\":_vm.item.width,\"height\":_vm.item.height,\"full\":true}}),_vm._ssrNode(((_vm.item.text)?(\"<p class=\\\"img-tip\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.text))+\"</p>\"):\"<!---->\"))],2)}\nvar ImgParser_staticRenderFns = []\nvar ImgParser_esExports = { render: ImgParser_render, staticRenderFns: ImgParser_staticRenderFns }\n/* harmony default export */ var parser_ImgParser = (ImgParser_esExports);\n// CONCATENATED MODULE: ./src/components/jsonEditor/parser/ImgParser.vue\nfunction ImgParser_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(132),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar ImgParser_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar ImgParser___vue_template_functional__ = false\n/* styles */\nvar ImgParser___vue_styles__ = ImgParser_injectStyle\n/* scopeId */\nvar ImgParser___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar ImgParser___vue_module_identifier__ = \"09f0e3bd\"\nvar ImgParser_Component = ImgParser_normalizeComponent(\n  ImgParser,\n  parser_ImgParser,\n  ImgParser___vue_template_functional__,\n  ImgParser___vue_styles__,\n  ImgParser___vue_scopeId__,\n  ImgParser___vue_module_identifier__\n)\n\n/* harmony default export */ var jsonEditor_parser_ImgParser = (ImgParser_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/jsonEditor/JsonContent.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var JsonContent = ({\n  name: \"JsonContent\",\n  components: {\n    TxtParser: jsonEditor_parser_TxtParser,\n    ImgParser: jsonEditor_parser_ImgParser\n  },\n  props: {\n    content: {\n      required: true,\n      type: Array\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5f646859\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/jsonEditor/JsonContent.vue\nvar JsonContent_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"json-content\"},_vm._l((_vm.content),function(item,index){return _c(((item.type) + \"-parser\"),{key:index,tag:\"component\",attrs:{\"item\":item}})}))}\nvar JsonContent_staticRenderFns = []\nvar JsonContent_esExports = { render: JsonContent_render, staticRenderFns: JsonContent_staticRenderFns }\n/* harmony default export */ var jsonEditor_JsonContent = (JsonContent_esExports);\n// CONCATENATED MODULE: ./src/components/jsonEditor/JsonContent.vue\nvar JsonContent_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar JsonContent___vue_template_functional__ = false\n/* styles */\nvar JsonContent___vue_styles__ = null\n/* scopeId */\nvar JsonContent___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar JsonContent___vue_module_identifier__ = \"17cce616\"\nvar JsonContent_Component = JsonContent_normalizeComponent(\n  JsonContent,\n  jsonEditor_JsonContent,\n  JsonContent___vue_template_functional__,\n  JsonContent___vue_styles__,\n  JsonContent___vue_scopeId__,\n  JsonContent___vue_module_identifier__\n)\n\n/* harmony default export */ var components_jsonEditor_JsonContent = __webpack_exports__[\"a\"] = (JsonContent_Component.exports);\n\n\n/***/ }),\n\n/***/ 130:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(131);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"14343790\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 131:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".json-content-txt-parser{word-break:break-word!important;word-break:break-all}@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.json-content-txt-parser{margin-bottom:25px;margin-left:15px;margin-right:15px;font-size:16px;font-weight:400;line-height:1.7;color:#2f2f2f}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 132:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(133);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"74f17a30\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 133:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".json-content-img-parser .img-tip{word-break:break-word!important;word-break:break-all}@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.json-content-img-parser{margin-bottom:25px;text-align:center}.json-content-img-parser .img-tip{min-width:20%;max-width:80%;min-height:22px;padding:10px 10px 6px;border-bottom:1px solid #d9d9d9;font-size:14px;color:#969696;line-height:1.7;text-align:center;display:inline-block}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 288:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(289);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"71f53c8c\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 289:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#score-show .score-body,#score-show .score-header .title{word-break:break-word!important;word-break:break-all}@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}#score-show .score-header{margin-top:15px}#score-show .score-header .title{font-size:24px;line-height:32px;margin-bottom:10px;margin-top:0;font-weight:400}#score-show .score-header .author-info .total{float:right;font-weight:700;font-size:23px;letter-spacing:1px;margin-left:10px;color:#f90}#score-show .score-header .author-info .author{overflow:hidden;line-height:16px;font-size:12px;margin-bottom:15px}#score-show .score-header .author-info .author .avatar{margin-right:10px;display:inline-block;vertical-align:middle}#score-show .score-header .star-row{font-size:0;margin-bottom:15px}#score-show .score-header .star-row .star-item{display:inline-block;width:50%;height:36px;margin-bottom:10px}#score-show .score-header .star-row .star-item .label{font-size:12px;margin-bottom:3px;color:#6d757a}#score-show .score-body{margin-bottom:30px;font-size:16px;color:#222;line-height:30px}#score-show .score-footer{text-align:center;margin-bottom:30px}#score-show .score-footer .score-like-btn{position:relative;padding:4px 10px;font-size:14px;color:#fff;background-color:#fa5555;border-radius:8px;white-space:nowrap}#score-show .score-footer .score-like-btn:after{content:\\\"\\\";position:absolute;top:0;left:0;border:1px solid #fff;width:200%;height:200%;-webkit-transform:scale(.5);-ms-transform:scale(.5);transform:scale(.5);-webkit-transform-origin:left top;-ms-transform-origin:left top;transform-origin:left top;border-radius:8px}#score-show .score-footer .score-liked-btn{position:relative;padding:4px 10px;font-size:14px;color:#fa5555;background-color:transparent;border-radius:8px;white-space:nowrap}#score-show .score-footer .score-liked-btn:after{content:\\\"\\\";position:absolute;top:0;left:0;border:1px solid #fa5555;width:200%;height:200%;-webkit-transform:scale(.5);-ms-transform:scale(.5);transform:scale(.5);-webkit-transform-origin:left top;-ms-transform-origin:left top;transform-origin:left top;border-radius:8px}#score-show .control{text-align:right;margin-bottom:20px}#score-show .control a,#score-show .control button{font-size:12px;color:#6d757a;margin-left:5px}#score-show .bangumi-panel{padding-top:15px;padding-bottom:15px}#score-show .bangumi-panel .summary{font-size:12px;color:#666;line-height:13px;max-height:26px;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 346:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./node_modules/element-ui/lib/theme-chalk/rate.css\nvar rate = __webpack_require__(116);\nvar rate_default = /*#__PURE__*/__webpack_require__.n(rate);\n\n// EXTERNAL MODULE: ./node_modules/element-ui/lib/theme-chalk/base.css\nvar base = __webpack_require__(11);\nvar base_default = /*#__PURE__*/__webpack_require__.n(base);\n\n// EXTERNAL MODULE: external \"element-ui/lib/rate\"\nvar rate_ = __webpack_require__(85);\nvar rate__default = /*#__PURE__*/__webpack_require__.n(rate_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/regenerator\"\nvar regenerator_ = __webpack_require__(0);\nvar regenerator__default = /*#__PURE__*/__webpack_require__.n(regenerator_);\n\n// EXTERNAL MODULE: external \"core-js/modules/es6.promise\"\nvar es6_promise_ = __webpack_require__(21);\nvar es6_promise__default = /*#__PURE__*/__webpack_require__.n(es6_promise_);\n\n// EXTERNAL MODULE: external \"core-js/modules/web.dom.iterable\"\nvar web_dom_iterable_ = __webpack_require__(3);\nvar web_dom_iterable__default = /*#__PURE__*/__webpack_require__.n(web_dom_iterable_);\n\n// EXTERNAL MODULE: external \"regenerator-runtime/runtime\"\nvar runtime_ = __webpack_require__(1);\nvar runtime__default = /*#__PURE__*/__webpack_require__.n(runtime_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/asyncToGenerator\"\nvar asyncToGenerator_ = __webpack_require__(2);\nvar asyncToGenerator__default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator_);\n\n// EXTERNAL MODULE: ./src/api/toggleApi.js\nvar toggleApi = __webpack_require__(22);\n\n// EXTERNAL MODULE: ./src/api/scoreApi.js\nvar scoreApi = __webpack_require__(17);\n\n// EXTERNAL MODULE: ./src/components/comments/CommentMain.vue + 8 modules\nvar CommentMain = __webpack_require__(101);\n\n// EXTERNAL MODULE: ./src/components/jsonEditor/JsonContent.vue + 8 modules\nvar JsonContent = __webpack_require__(129);\n\n// EXTERNAL MODULE: ./src/components/common/SocialPanel.vue + 2 modules\nvar SocialPanel = __webpack_require__(113);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/score/show.vue\n\n\n\n\n\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n/* harmony default export */ var show = ({\n  name: \"ScoreShow\",\n\n  asyncData(_ref) {\n    return asyncToGenerator__default()(\n    /*#__PURE__*/\n    regenerator__default.a.mark(function _callee() {\n      var store, route, ctx, id;\n      return regenerator__default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              store = _ref.store, route = _ref.route, ctx = _ref.ctx;\n              id = route.params.id;\n              _context.next = 4;\n              return Promise.all([store.dispatch(\"score/getShow\", {\n                ctx,\n                id\n              }), store.dispatch(\"comment/getMainComments\", {\n                ctx,\n                id,\n                type: \"score\"\n              })]);\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }))();\n  },\n\n  components: {\n    CommentMain: CommentMain[\"a\" /* default */],\n    JsonContent: JsonContent[\"a\" /* default */],\n    SocialPanel: SocialPanel[\"a\" /* default */],\n    \"el-rate\": rate__default.a\n  },\n\n  data() {\n    var labelMap = {\n      lol: \"笑点\",\n      cry: \"泪点\",\n      fight: \"燃点\",\n      moe: \"萌点\",\n      sound: \"音乐\",\n      vision: \"画面\",\n      story: \"情节\",\n      role: \"人设\",\n      express: \"内涵\",\n      style: \"美感\"\n    };\n    return {\n      labelMap,\n      columns: Object.keys(labelMap),\n      loadingToggleLike: false\n    };\n  },\n\n  computed: {\n    info() {\n      var result = {};\n      Object.keys(this.$store.state.score.show).forEach(key => {\n        var value = this.$store.state.score.show[key];\n        result[key] = this.columns.indexOf(key) !== -1 ? +value : value;\n      });\n      return result;\n    },\n\n    bangumi() {\n      return this.info.bangumi;\n    },\n\n    user() {\n      return this.info.user;\n    },\n\n    currentUserId() {\n      return this.$store.state.login ? this.$store.state.user.id : 0;\n    },\n\n    isMine() {\n      return this.currentUserId === this.user.id;\n    }\n\n  },\n  methods: {\n    toggleLike() {\n      var _this = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee2() {\n        var api, result;\n        return regenerator__default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!_this.loadingToggleLike) {\n                  _context2.next = 2;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\");\n\n              case 2:\n                _this.loadingToggleLike = true;\n                api = new toggleApi[\"a\" /* default */](_this);\n                _context2.prev = 4;\n                _context2.next = 7;\n                return api.like({\n                  type: \"score\",\n                  id: _this.info.id\n                });\n\n              case 7:\n                result = _context2.sent;\n\n                _this.$store.commit(\"score/LIKE_SCORE\", result);\n\n                _context2.next = 14;\n                break;\n\n              case 11:\n                _context2.prev = 11;\n                _context2.t0 = _context2[\"catch\"](4);\n\n                _this.$toast.error(_context2.t0);\n\n              case 14:\n                _context2.prev = 14;\n                _this.loadingToggleLike = false;\n                return _context2.finish(14);\n\n              case 17:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[4, 11, 14, 17]]);\n      }))();\n    },\n\n    handleBangumiFollow(result) {\n      this.$store.commit(\"score/FOLLOW_BANGUMI\", result);\n    },\n\n    deleteScore() {\n      var _this2 = this;\n\n      this.$confirm(\"删除后无法找回, 是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(\n      /*#__PURE__*/\n      asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee3() {\n        var api;\n        return regenerator__default.a.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                api = new scoreApi[\"a\" /* default */](_this2);\n                _context3.prev = 1;\n                _context3.next = 4;\n                return api.delete({\n                  id: _this2.info.id\n                });\n\n              case 4:\n                _this2.$toast.success(\"操作成功\");\n\n                setTimeout(() => {\n                  window.location.reload();\n                }, 1000);\n                _context3.next = 11;\n                break;\n\n              case 8:\n                _context3.prev = 8;\n                _context3.t0 = _context3[\"catch\"](1);\n\n                _this2.$toast.error(_context3.t0);\n\n              case 11:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[1, 8]]);\n      }))).catch(() => {});\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-f355d4dc\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/score/show.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"score-show\"}},[_vm._ssrNode(\"<div class=\\\"score-header container\\\">\",\"</div>\",[_vm._ssrNode(\"<h1 class=\\\"title\\\">\"+_vm._ssrEscape(_vm._s(_vm.info.title))+\"</h1>\"),_vm._ssrNode(\"<div class=\\\"author-info\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"total\\\">\"+_vm._ssrEscape(_vm._s(_vm.info.total)+\"分\")+\"</div>\"),_vm._ssrNode(\"<div class=\\\"author\\\">\",\"</div>\",[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.user.zone)))+\" target=\\\"_blank\\\">\",\"</a>\",[_vm._ssrNode(\"<div class=\\\"avatar\\\">\",\"</div>\",[_c('v-img',{attrs:{\"src\":_vm.user.avatar,\"avatar\":true,\"size\":\"25\"}})],1),_vm._ssrNode(\"<span class=\\\"name\\\">\"+_vm._ssrEscape(_vm._s(_vm.user.nickname))+\"</span>\")],2),_vm._ssrNode(\"\\n        ·\\n        \"),[_vm._ssrNode(\"\\n          发表于：\"),_c('v-time',{model:{value:(_vm.info.published_at),callback:function ($$v) {_vm.$set(_vm.info, \"published_at\", $$v)},expression:\"info.published_at\"}})],_vm._ssrNode(\"\\n        ·\\n        \"),_c('v-popover',{attrs:{\"report-id\":_vm.info.id,\"is-creator\":_vm.info.is_creator,\"report-type\":\"score\"}},[_c('button',{staticClass:\"tool-btn\"},[_vm._v(\"举报\")])])],2)],2),_vm._ssrNode(\"<div class=\\\"star-row\\\">\",\"</div>\",_vm._l((_vm.columns),function(item,index){return _vm._ssrNode(\"<div class=\\\"star-item\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"label\\\">\"+_vm._ssrEscape(_vm._s(((_vm.labelMap[item]) + \"：\" + (_vm.info[item] * 2) + \"分\")))+\"</div>\"),_c('el-rate',{attrs:{\"disabled\":\"\",\"allow-half\":\"\"},model:{value:(_vm.info[item]),callback:function ($$v) {_vm.$set(_vm.info, item, $$v)},expression:\"info[item]\"}})],2)}))],2),_vm._ssrNode(\"<div class=\\\"score-body\\\">\",\"</div>\",[_c('json-content',{attrs:{\"content\":_vm.info.content}})],1),_vm._ssrNode(\"<div class=\\\"score-footer\\\">\",\"</div>\",[_c('social-panel',{attrs:{\"id\":_vm.info.id,\"is-creator\":_vm.info.is_creator,\"user-id\":_vm.user.id,\"liked\":_vm.info.liked,\"marked\":_vm.info.marked,\"rewarded\":_vm.info.rewarded,\"reward-users\":_vm.info.reward_users,\"mark-users\":_vm.info.mark_users,\"like-users\":_vm.info.like_users,\"type\":\"score\"}})],1),_vm._ssrNode(((_vm.isMine)?(\"<div class=\\\"control container\\\"><button>删除</button><a\"+(_vm._ssrAttr(\"href\",_vm.$alias.editScore(_vm.info.id)))+\"><button>编辑</button></a></div>\"):\"<!---->\")),_vm._ssrNode(\"<div class=\\\"container\\\">\",\"</div>\",[_c('comment-main',{attrs:{\"id\":_vm.info.id,\"master-id\":_vm.user.id,\"type\":\"score\"}})],1),_vm._ssrNode(\"<div class=\\\"hr\\\"></div>\"),_vm._ssrNode(\"<div class=\\\"container bangumi-panel\\\">\",\"</div>\",[_vm._ssrNode(\"<h3 class=\\\"sub-title\\\">所属番剧：</h3>\"),_c('v-bangumi-panel',{attrs:{\"id\":_vm.bangumi.id,\"avatar\":_vm.bangumi.avatar,\"name\":_vm.bangumi.name,\"followed\":_vm.bangumi.followed},on:{\"follow\":_vm.handleBangumiFollow}},[_c('p',{staticClass:\"summary\",domProps:{\"textContent\":_vm._s(_vm.bangumi.summary)}})])],2)],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var score_show = (esExports);\n// CONCATENATED MODULE: ./src/views/score/show.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(288),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"f0353d76\"\nvar Component = normalizeComponent(\n  show,\n  score_show,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_score_show = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n};;",
    "6.server-bundle.js": "exports.ids = [6];\nexports.modules = {\n\n/***/ 116:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 117:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: external \"@babel/runtime/regenerator\"\nvar regenerator_ = __webpack_require__(0);\nvar regenerator__default = /*#__PURE__*/__webpack_require__.n(regenerator_);\n\n// EXTERNAL MODULE: external \"regenerator-runtime/runtime\"\nvar runtime_ = __webpack_require__(1);\nvar runtime__default = /*#__PURE__*/__webpack_require__.n(runtime_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/asyncToGenerator\"\nvar asyncToGenerator_ = __webpack_require__(2);\nvar asyncToGenerator__default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator_);\n\n// EXTERNAL MODULE: ./src/api/toggleApi.js\nvar toggleApi = __webpack_require__(22);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/common/VoteButton.vue\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var VoteButton = ({\n  name: \"VoteButton\",\n  props: {\n    type: {\n      required: true,\n      type: String,\n      validator: val => ~[\"answer\"].indexOf(val)\n    },\n    id: {\n      required: true,\n      type: Number\n    },\n    score: {\n      required: true,\n      type: Number\n    },\n    total: {\n      required: true,\n      type: Number\n    },\n    authorId: {\n      required: true,\n      type: Number\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  data() {\n    return {\n      loading: false\n    };\n  },\n\n  computed: {\n    currentUserId() {\n      if (this.$store.state.login) {\n        return this.$store.state.user.id;\n      }\n\n      return 0;\n    }\n\n  },\n  methods: {\n    voteAction(is_agree) {\n      var _this = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee() {\n        var api, result;\n        return regenerator__default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!_this.disabled) {\n                  _context.next = 2;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 2:\n                if (_this.currentUserId) {\n                  _context.next = 5;\n                  break;\n                }\n\n                _this.$channel.$emit(\"sign-in\");\n\n                return _context.abrupt(\"return\");\n\n              case 5:\n                if (!(_this.currentUserId === _this.authorId)) {\n                  _context.next = 8;\n                  break;\n                }\n\n                _this.$toast.error(is_agree ? \"不能给自己点赞\" : \"不能给自己点反对\");\n\n                return _context.abrupt(\"return\");\n\n              case 8:\n                if (!_this.loading) {\n                  _context.next = 10;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 10:\n                _this.loading = true;\n                api = new toggleApi[\"a\" /* default */](_this);\n                _context.prev = 12;\n                _context.next = 15;\n                return api.vote({\n                  type: _this.type,\n                  id: _this.id,\n                  is_agree\n                });\n\n              case 15:\n                result = _context.sent;\n\n                _this.$emit(\"vote\", result);\n\n                _context.next = 22;\n                break;\n\n              case 19:\n                _context.prev = 19;\n                _context.t0 = _context[\"catch\"](12);\n\n                _this.$toast.error(_context.t0);\n\n              case 22:\n                _context.prev = 22;\n                _this.loading = false;\n                return _context.finish(22);\n\n              case 25:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[12, 19, 22, 25]]);\n      }))();\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3b7bf57c\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/VoteButton.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vote-button\"},[_vm._ssrNode(\"<button\"+(_vm._ssrClass(\"vote-btn vote-up\",{ 'active': _vm.score > 0 }))+\"><i class=\\\"el-icon-caret-top\\\"></i>\"+_vm._ssrEscape(\"\\n    赞同\\n    \"+_vm._s(_vm.total)+\"\\n  \")+\"</button><button\"+(_vm._ssrClass(\"vote-btn vote-down\",{ 'active': _vm.score < 0 }))+\"><i class=\\\"el-icon-caret-bottom\\\"></i></button>\")])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var common_VoteButton = (esExports);\n// CONCATENATED MODULE: ./src/components/common/VoteButton.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(118),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"27695f1e\"\nvar Component = normalizeComponent(\n  VoteButton,\n  common_VoteButton,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_common_VoteButton = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 118:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(119);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"17ebc120\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 119:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.vote-button{display:inline-block}.vote-button .vote-btn{padding:0 10px;color:#00a1d6;background-color:rgba(0,161,214,.1);font-size:14px;line-height:32px;text-align:center;border-radius:3px;font-weight:700}.vote-button .vote-btn.vote-down{margin-left:4px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 120:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/flow/item/PostFlowItem.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var PostFlowItem = ({\n  name: \"PostFlowItem\",\n  props: {\n    item: {\n      required: true,\n      type: Object\n    },\n    bangumiId: {\n      type: Number,\n      default: 0\n    },\n    userZone: {\n      type: String,\n      default: \"\"\n    }\n  },\n  methods: {\n    imageFilter(images) {\n      return images.slice(0, 3);\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-11eca6db\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/flow/item/PostFlowItem.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"post-flow-item\"},[_c('router-link',{attrs:{\"to\":_vm.$alias.post(_vm.item.id),\"tag\":\"div\"}},[_c('div',{staticClass:\"header\"},[(_vm.item.user)?_c('router-link',{staticClass:\"user-avatar\",attrs:{\"to\":_vm.$alias.user(_vm.item.user.zone)}},[_c('v-img',{attrs:{\"src\":_vm.item.user.avatar,\"avatar\":true,\"size\":\"35\"}})],1):_c('router-link',{staticClass:\"bangumi-avatar\",attrs:{\"to\":_vm.$alias.bangumi(_vm.item.bangumi.id)}},[_c('v-img',{attrs:{\"src\":_vm.item.bangumi.avatar,\"size\":\"35\"}})],1),_c('div',{staticClass:\"name\"},[(_vm.item.user)?_c('div',{staticClass:\"clearfix\"},[_c('router-link',{staticClass:\"nickname\",attrs:{\"to\":_vm.$alias.user(_vm.item.user.zone)},domProps:{\"textContent\":_vm._s(_vm.item.user.nickname)}})],1):_c('div',{staticClass:\"clearfix\"},[_c('span',{staticClass:\"nickname\"},[_vm._v(\"发表在\")])]),(_vm.item.bangumi)?[_c('router-link',{attrs:{\"to\":_vm.$alias.bangumi(_vm.item.bangumi.id)},domProps:{\"textContent\":_vm._s(_vm.item.bangumi.name)}}),_c('span',[_vm._v(\" · \")])]:[_c('span',[_vm._v(\"发表于 · \")])],_c('v-time',{model:{value:(_vm.item.created_at),callback:function ($$v) {_vm.$set(_vm.item, \"created_at\", $$v)},expression:\"item.created_at\"}})],2)],1),_c('div',{staticClass:\"body\"},[_c('div',{staticClass:\"title\"},[(_vm.item.top_at && _vm.bangumiId)?_c('div',{staticClass:\"top_badge\"},[_vm._v(\"置顶\")]):_vm._e(),(_vm.item.is_nice)?_c('div',{staticClass:\"nice_badge\"},[_vm._v(\"精\")]):_vm._e(),(_vm.item.is_creator)?_c('div',{staticClass:\"creator_badge\"},[_vm._v(\"原创\")]):_vm._e(),_c('p',{staticClass:\"oneline\",domProps:{\"textContent\":_vm._s(_vm.item.title)}})]),_c('p',{staticClass:\"content\",domProps:{\"textContent\":_vm._s(_vm.item.desc)}}),(_vm.item.images.length)?_c('div',{staticClass:\"images\"},[(_vm.item.images.length === 1)?_c('v-img',{staticClass:\"poster-image\",attrs:{\"src\":_vm.item.images[0].url,\"width\":\"100%\",\"height\":\"160\"}}):_c('div',{staticClass:\"image-list\"},_vm._l((_vm.imageFilter(_vm.item.images)),function(image,index){return _c('v-img',{key:index,staticClass:\"image\",attrs:{\"src\":image.url,\"width\":\"32%\",\"height\":\"93\"}})}))],1):_vm._e()]),_c('div',{staticClass:\"footer\"},[(_vm.item.is_creator)?_c('span',[_vm._v(\"\\n        投食\\n        \"+_vm._s(_vm.$utils.shortenNumber(_vm.item.reward_count))+\"\\n      \")]):_c('span',[_vm._v(\"\\n        喜欢\\n        \"+_vm._s(_vm.$utils.shortenNumber(_vm.item.like_count))+\"\\n      \")]),_c('span',[_vm._v(\"\\n        收藏\\n        \"+_vm._s(_vm.$utils.shortenNumber(_vm.item.mark_count))+\"\\n      \")]),_c('span',[_vm._v(\"\\n        评论\\n        \"+_vm._s(_vm.$utils.shortenNumber(_vm.item.comment_count))+\"\\n      \")])])]),_vm._ssrNode(\"<div class=\\\"hr\\\"></div>\")],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var item_PostFlowItem = (esExports);\n// CONCATENATED MODULE: ./src/components/flow/item/PostFlowItem.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(121),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"2af8b4fb\"\nvar Component = normalizeComponent(\n  PostFlowItem,\n  item_PostFlowItem,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var flow_item_PostFlowItem = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 121:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(122);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"81777b88\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 122:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".post-flow-item .body .images .image-list:after,.post-flow-item .body .images .image-list:before{content:\\\"\\\";clear:both;display:table}@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.post-flow-item{padding-top:15px;padding-left:15px;padding-right:15px}.post-flow-item .header{height:35px;margin-bottom:10px}.post-flow-item .header .user-avatar{margin-right:7px;float:left;position:relative}.post-flow-item .header .bangumi-avatar{margin-right:10px;display:block;float:left;width:35px;height:35px}.post-flow-item .header .bangumi-avatar img{display:block;width:100%;height:auto;overflow:hidden}.post-flow-item .header .name{vertical-align:middle;display:block;overflow:hidden;height:35px}.post-flow-item .header .name .nickname{font-size:14px;line-height:14px;overflow:hidden;margin-top:4px;margin-bottom:0;color:#333}.post-flow-item .header .name a,.post-flow-item .header .name span,.post-flow-item .header .name time{display:block;color:#999;font-size:11px;line-height:11px;margin-top:4px;float:left}.post-flow-item .body .title{margin-bottom:5px}.post-flow-item .body .title .creator_badge,.post-flow-item .body .title .nice_badge,.post-flow-item .body .title .top_badge{float:left;height:14px;line-height:14px;color:#fff;cursor:default;font-size:11px;font-weight:700;text-align:center;border-radius:4px;padding:0 4px;margin-right:5px}.post-flow-item .body .title .top_badge{background-color:#00a1d6}.post-flow-item .body .title .nice_badge{background-color:#f25d8e}.post-flow-item .body .title .creator_badge{background-color:#daa520}.post-flow-item .body .title .oneline{color:#4c4c4c;font-weight:700;font-size:14px;line-height:14px;margin-top:0;margin-bottom:0}.post-flow-item .body .content{color:#333;font-size:14px;margin-top:0;margin-bottom:8px;line-height:18px;max-height:36px;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.post-flow-item .body .images{position:relative;margin-bottom:8px}.post-flow-item .body .images .poster-image img{height:auto;position:absolute;left:0;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);border-radius:4px}.post-flow-item .body .images .image-list .image{float:left;border-radius:4px}.post-flow-item .body .images .image-list .image:not(:last-child){margin-right:2%}.post-flow-item .footer{height:35px;line-height:30px;width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:distribute;justify-content:space-around;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding-bottom:5px}.post-flow-item .footer span{font-size:12px;color:#666}.post-flow-item .footer .done{color:#00a1d6}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 123:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./node_modules/element-ui/lib/theme-chalk/rate.css\nvar rate = __webpack_require__(116);\nvar rate_default = /*#__PURE__*/__webpack_require__.n(rate);\n\n// EXTERNAL MODULE: ./node_modules/element-ui/lib/theme-chalk/base.css\nvar base = __webpack_require__(11);\nvar base_default = /*#__PURE__*/__webpack_require__.n(base);\n\n// EXTERNAL MODULE: external \"element-ui/lib/rate\"\nvar rate_ = __webpack_require__(85);\nvar rate__default = /*#__PURE__*/__webpack_require__.n(rate_);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/flow/item/ScoreFlowItem.vue\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var ScoreFlowItem = ({\n  name: \"ScoreFlowItem\",\n  components: {\n    \"el-rate\": rate__default.a\n  },\n  props: {\n    item: {\n      required: true,\n      type: Object\n    },\n    bangumiId: {\n      required: true,\n      type: Number\n    },\n    userZone: {\n      required: true,\n      type: String\n    }\n  },\n\n  data() {\n    return {\n      zero: 0\n    };\n  },\n\n  computed: {\n    pageName() {\n      return this.$route.name;\n    },\n\n    starCount() {\n      return this.item.total / 2;\n    }\n\n  },\n  methods: {\n    linkStart() {\n      this.$router.push(this.$alias.score(this.item.id));\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2f813ab8\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/flow/item/ScoreFlowItem.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"score-flow-item\"},[_vm._ssrNode(\"<div>\",\"</div>\",[(_vm.item.bangumi && _vm.item.user)?_vm._ssrNode(\"<div class=\\\"header trending-header\\\">\",\"</div>\",[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.item.user.zone)))+\" class=\\\"user-avatar\\\">\",\"</a>\",[_c('v-img',{attrs:{\"src\":_vm.item.user.avatar,\"avatar\":true,\"size\":\"35\"}})],1),_vm._ssrNode(\"<div class=\\\"header-content\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"about\\\">\",\"</div>\",[(_vm.starCount)?_c('el-rate',{attrs:{\"disabled\":\"\"},model:{value:(_vm.starCount),callback:function ($$v) {_vm.starCount=$$v},expression:\"starCount\"}}):_c('el-rate',{attrs:{\"disabled\":\"\"},model:{value:(_vm.zero),callback:function ($$v) {_vm.zero=$$v},expression:\"zero\"}}),_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.bangumi(_vm.item.bangumi.id)))+\" class=\\\"bangumi-name oneline\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.bangumi.name))+\"</a>\")],2),_vm._ssrNode(\"<div class=\\\"meta\\\">\",\"</div>\",[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.item.user.zone)))+\" class=\\\"author\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.user.nickname))+\"</a>\\n           · \\n          \"),_c('v-time',{staticClass:\"created-at\",model:{value:(_vm.item.created_at),callback:function ($$v) {_vm.$set(_vm.item, \"created_at\", $$v)},expression:\"item.created_at\"}})],2)])]):(!_vm.item.bangumi)?_vm._ssrNode(\"<div class=\\\"header bangumi-header\\\">\",\"</div>\",[(_vm.starCount)?_c('el-rate',{attrs:{\"disabled\":\"\"},model:{value:(_vm.starCount),callback:function ($$v) {_vm.starCount=$$v},expression:\"starCount\"}}):_c('el-rate',{attrs:{\"disabled\":\"\"},model:{value:(_vm.zero),callback:function ($$v) {_vm.zero=$$v},expression:\"zero\"}}),_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.item.user.zone)))+\" class=\\\"user\\\">\",\"</a>\",[_vm._ssrNode(\"<div class=\\\"user-avatar\\\">\",\"</div>\",[_c('v-img',{attrs:{\"src\":_vm.item.user.avatar,\"avatar\":true,\"size\":\"35\"}})],1),_vm._ssrNode(\"<div class=\\\"nickname oneline\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.user.nickname))+\"</div>\")],2)],1):(!_vm.item.user)?_vm._ssrNode(\"<div class=\\\"header user-header\\\">\",\"</div>\",[(_vm.starCount)?_c('el-rate',{attrs:{\"disabled\":\"\"},model:{value:(_vm.starCount),callback:function ($$v) {_vm.starCount=$$v},expression:\"starCount\"}}):_c('el-rate',{attrs:{\"disabled\":\"\"},model:{value:(_vm.zero),callback:function ($$v) {_vm.zero=$$v},expression:\"zero\"}}),_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.bangumi(_vm.item.bangumi.id)))+\" class=\\\"bangumi\\\">\",\"</a>\",[_vm._ssrNode(\"<div class=\\\"bangumi-avatar\\\">\",\"</div>\",[_c('v-img',{attrs:{\"src\":_vm.item.bangumi.avatar,\"size\":\"23\"}})],1),_vm._ssrNode(\"<div class=\\\"nickname oneline\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.bangumi.name))+\"</div>\")],2)],1):_vm._e(),_vm._ssrNode(\"<div class=\\\"body\\\"><div class=\\\"title\\\"><p class=\\\"oneline\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.title))+\"</p></div><div class=\\\"content\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.intro))+\"</div></div><div class=\\\"footer\\\">\"+((_vm.item.is_creator)?(\"<span>\"+_vm._ssrEscape(\"\\n        投食\\n        \"+_vm._s(_vm.$utils.shortenNumber(_vm.item.reward_count))+\"\\n      \")+\"</span>\"):(\"<span>\"+_vm._ssrEscape(\"\\n        喜欢\\n        \"+_vm._s(_vm.$utils.shortenNumber(_vm.item.like_count))+\"\\n      \")+\"</span>\"))+\"<span>\"+_vm._ssrEscape(\"\\n        收藏\\n        \"+_vm._s(_vm.$utils.shortenNumber(_vm.item.mark_count))+\"\\n      \")+\"</span><span>\"+_vm._ssrEscape(\"\\n        评论\\n        \"+_vm._s(_vm.$utils.shortenNumber(_vm.item.comment_count))+\"\\n      \")+\"</span></div>\")],2),_vm._ssrNode(\"<div class=\\\"hr\\\"></div>\")],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var item_ScoreFlowItem = (esExports);\n// CONCATENATED MODULE: ./src/components/flow/item/ScoreFlowItem.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(124),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"0548aea9\"\nvar Component = normalizeComponent(\n  ScoreFlowItem,\n  item_ScoreFlowItem,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var flow_item_ScoreFlowItem = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 124:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(125);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"39ee3e48\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 125:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.score-flow-item{padding-top:15px;padding-left:15px;padding-right:15px}.score-flow-item .header{margin-bottom:10px}.score-flow-item .header .el-rate{display:inline-block;vertical-align:middle;height:23px;margin-left:10px;float:right}.score-flow-item .trending-header .user-avatar{margin-right:5px;float:left}.score-flow-item .trending-header .header-content,.score-flow-item .trending-header .header-content .about{overflow:hidden}.score-flow-item .trending-header .header-content .about .bangumi-name{overflow:hidden;display:block;line-height:20px;font-size:12px;vertical-align:middle;color:#333}.score-flow-item .trending-header .header-content .meta{color:#999;font-size:11px;line-height:11px;margin-top:-3px}.score-flow-item .trending-header .header-content .meta a{color:#999;font-size:11px}.score-flow-item .bangumi-header .user{display:block;overflow:hidden}.score-flow-item .bangumi-header .user .user-avatar{margin-right:5px;float:left}.score-flow-item .bangumi-header .user .nickname{overflow:hidden;display:block;line-height:23px;vertical-align:middle;color:#333;font-size:11px}.score-flow-item .user-header .bangumi{display:block;overflow:hidden}.score-flow-item .user-header .bangumi .bangumi-avatar{margin-right:5px;float:left;border-radius:4px}.score-flow-item .user-header .bangumi .nickname{overflow:hidden;display:block;line-height:23px;vertical-align:middle;color:#333;font-size:11px}.score-flow-item .body .title{margin-bottom:5px}.score-flow-item .body .title .nice_badge,.score-flow-item .body .title .top_badge{float:left;height:16px;line-height:18px;color:#fff;cursor:default;font-size:11px;font-weight:700;text-align:center;border-radius:4px;padding:0 4px;margin-right:5px}.score-flow-item .body .title .top_badge{background-color:#00a1d6}.score-flow-item .body .title .nice_badge{background-color:#f25d8e}.score-flow-item .body .title .oneline{color:#4c4c4c;font-weight:700;font-size:14px;line-height:14px;margin-top:0;margin-bottom:0}.score-flow-item .body .content{color:#333;font-size:14px;margin-top:0;margin-bottom:8px;line-height:18px;max-height:36px;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.score-flow-item .footer{height:35px;line-height:30px;width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:distribute;justify-content:space-around;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding-bottom:5px}.score-flow-item .footer span{font-size:12px;color:#666}.score-flow-item .footer .done{color:#00a1d6}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 134:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./src/components/common/VoteButton.vue + 2 modules\nvar VoteButton = __webpack_require__(117);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/flow/item/QuestionFlowItem.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var QuestionFlowItem = ({\n  name: \"QuestionFlowItem\",\n  components: {\n    VoteButton: VoteButton[\"a\" /* default */]\n  },\n  props: {\n    item: {\n      required: true,\n      type: Object\n    },\n    bangumiId: {\n      required: true,\n      type: Number\n    },\n    userZone: {\n      required: true,\n      type: String\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-eb4b4318\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/flow/item/QuestionFlowItem.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"question-flow-item\"},[_vm._ssrNode(\"<header class=\\\"qaq-flow-header\\\">\",\"</header>\",[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.item.user.zone)))+\" class=\\\"avatar\\\">\",\"</a>\",[_c('v-img',{attrs:{\"src\":_vm.item.user.avatar,\"avatar\":true,\"size\":\"24\"}})],1),_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.item.user.zone)))+\" class=\\\"nickname\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.user.nickname))+\"</a>\")],2),_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.question(_vm.item.id)))+\"><h3 class=\\\"title\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.title))+\"</h3></a>\"),_vm._ssrNode(\"<div class=\\\"content\\\">\",\"</div>\",[(_vm.item.answer)?_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.answer(_vm.item.answer.id)))+\">\",\"</a>\",[(_vm.item.answer.poster)?_vm._ssrNode(\"<div class=\\\"poster\\\">\",\"</div>\",[_c('v-img',{attrs:{\"src\":_vm.item.answer.poster.url,\"width\":\"100%\",\"height\":\"140\"}})],1):_vm._e(),_vm._ssrNode(\"<div class=\\\"text\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.answer.intro))+\"</div>\")],2):_vm._ssrNode((\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.question(_vm.item.id)))+\" class=\\\"text\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.intro))+\"</a>\"))]),_vm._ssrNode(\"<div class=\\\"footer\\\">\",\"</div>\",[(_vm.item.answer)?_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.answer(_vm.item.answer.id)))+\">\",\"</a>\",[_c('vote-button',{attrs:{\"id\":_vm.item.answer.id,\"total\":_vm.item.answer.vote_count,\"author-id\":_vm.item.user.id,\"score\":0,\"disabled\":true,\"type\":\"answer\"}})],1):_vm._e(),_vm._ssrNode(\"<span class=\\\"stats\\\">\"+((!_vm.item.answer_count)?(\"<i class=\\\"el-icon-edit\\\"></i>\"):\"<!---->\")+_vm._ssrEscape(\"\\n      \"+_vm._s(_vm.item.answer_count ? _vm.item.answer_count + '个回答' : '还没有回答')+\"\\n    \")+\"</span><span class=\\\"stats\\\">\"+((!_vm.item.comment_count)?(\"<i class=\\\"iconfont icon-pinglun1\\\"></i>\"):\"<!---->\")+_vm._ssrEscape(\"\\n      \"+_vm._s(_vm.item.comment_count ? _vm.item.comment_count + '条评论' : '还没有评论')+\"\\n    \")+\"</span>\"+((_vm.item.follow_count)?(\"<span class=\\\"stats\\\">\"+_vm._ssrEscape(\"\\n      \"+_vm._s(_vm.item.follow_count)+\"人关注\\n    \")+\"</span>\"):\"<!---->\"))],2)],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var item_QuestionFlowItem = (esExports);\n// CONCATENATED MODULE: ./src/components/flow/item/QuestionFlowItem.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(145),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"a45d237e\"\nvar Component = normalizeComponent(\n  QuestionFlowItem,\n  item_QuestionFlowItem,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var flow_item_QuestionFlowItem = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 139:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./src/components/flow/list/_flowListMixin.js\nvar _flowListMixin = __webpack_require__(99);\n\n// EXTERNAL MODULE: ./src/components/flow/item/PostFlowItem.vue + 2 modules\nvar PostFlowItem = __webpack_require__(120);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/flow/list/PostFlowList.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var PostFlowList = ({\n  name: \"PostFlowList\",\n  components: {\n    PostFlowItem: PostFlowItem[\"a\" /* default */]\n  },\n  mixins: [_flowListMixin[\"a\" /* default */]],\n\n  data() {\n    return {\n      flowType: \"post\"\n    };\n  },\n\n  computed: {\n    topPosts() {\n      return this.$store.state.bangumi.topPosts;\n    },\n\n    postList() {\n      if (!this.bangumiId) {\n        return this.source.list;\n      }\n\n      return this.source ? this.topPosts.concat(this.source.list) : this.topPosts;\n    }\n\n  },\n  methods: {\n    openCreatePostModal() {\n      if (this.$store.state.login) {\n        this.$channel.$emit(\"drawer-open-write-post\");\n      } else {\n        this.$channel.$emit(\"sign-in\");\n      }\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5b4a6296\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/flow/list/PostFlowList.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.source)?_c('div',{attrs:{\"id\":\"post-flow-list\"}},[_vm._ssrNode(\"<ul>\",\"</ul>\",_vm._l((_vm.postList),function(item){return _c('post-flow-item',{key:item.id,attrs:{\"item\":item,\"bangumi-id\":_vm.bangumiId,\"user-zone\":_vm.userZone}})})),_c('more-btn',{attrs:{\"no-more\":_vm.source.noMore,\"loading\":_vm.source.loading,\"length\":_vm.postList.length,\"auto\":true},on:{\"fetch\":_vm.loadMore}},[(_vm.showNoContentTips)?_c('button',{on:{\"click\":_vm.openCreatePostModal}},[_vm._v(_vm._s(_vm.userZone ? '发表第一篇帖子' : '发表《' + _vm.bangumiName + '》的第一篇帖子'))]):_vm._e()])],1):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var list_PostFlowList = (esExports);\n// CONCATENATED MODULE: ./src/components/flow/list/PostFlowList.vue\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"06235edb\"\nvar Component = normalizeComponent(\n  PostFlowList,\n  list_PostFlowList,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var flow_list_PostFlowList = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 140:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./src/components/flow/list/_flowListMixin.js\nvar _flowListMixin = __webpack_require__(99);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/image/ImageWaterfallFlow.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var ImageWaterfallFlow = ({\n  name: \"ImageWaterfallFlow\",\n  components: {\n    waterfall: () => {\n      if (typeof window === \"undefined\") {\n        return __webpack_require__.e/* import() */(47/* duplicate */).then(__webpack_require__.bind(null, 304));\n      }\n\n      return new Promise(function(resolve) { resolve(); }).then(__webpack_require__.bind(null, 305));\n    },\n    \"waterfall-slot\": () => {\n      if (typeof window === \"undefined\") {\n        return __webpack_require__.e/* import() */(47/* duplicate */).then(__webpack_require__.bind(null, 304));\n      }\n\n      return new Promise(function(resolve) { resolve(); }).then(__webpack_require__.bind(null, 306));\n    }\n  },\n  props: {\n    list: {\n      required: true,\n      type: Array,\n      default: () => []\n    },\n    bangumiId: {\n      type: Number,\n      default: 0\n    },\n    userZone: {\n      type: String,\n      default: \"\"\n    },\n    width: {\n      type: Number,\n      default: 145\n    }\n  },\n  methods: {\n    computeBoxHeight(image) {\n      return this.computeImageHeight(image) + 106;\n    },\n\n    computeImageHeight(image) {\n      if (!image) {\n        return 0;\n      }\n\n      var result = parseInt(image.height / image.width * this.width, 10);\n\n      if (result > 240) {\n        return 240;\n      }\n\n      return result;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-e4566d5a\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/image/ImageWaterfallFlow.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"image-waterfall-flow\"}},[_c('no-ssr',[(_vm.list.length)?_c('waterfall',{attrs:{\"line-gap\":_vm.width + 10,\"auto-resize\":false}},_vm._l((_vm.list),function(item,index){return _c('waterfall-slot',{key:item.id,attrs:{\"order\":index,\"width\":_vm.width,\"height\":_vm.computeBoxHeight(item.source)}},[(_vm.computeImageHeight(item.source))?_c('div',{staticClass:\"image\"},[_c('a',{staticClass:\"image-box\",class:{ 'album-box': item.is_album },attrs:{\"href\":_vm.$alias.image(item.id)}},[(item.is_creator)?_c('i',{staticClass:\"is-creator iconfont icon-huangguan\"}):_vm._e(),_c('v-img',{attrs:{\"src\":item.source.url,\"lazy\":false,\"width\":_vm.width,\"height\":_vm.computeImageHeight(item.source)}}),(item.is_album)?_c('div',{staticClass:\"is-album\"},[_c('i',{staticClass:\"el-icon-picture-outline\"}),_c('span',{staticClass:\"image-count\",domProps:{\"textContent\":_vm._s(item.image_count)}})]):_vm._e()],1),_c('div',{staticClass:\"intro\"},[_c('p',{staticClass:\"name oneline\",domProps:{\"textContent\":_vm._s(item.name)}}),_c('div',{staticClass:\"social\"},[(item.is_creator)?_c('span',[_c('i',{staticClass:\"iconfont icon-guanzhu\"}),_vm._v(\"\\n                \"+_vm._s(item.reward_count)+\"\\n              \")]):_c('span',[_c('i',{staticClass:\"iconfont icon-icon_good\"}),_vm._v(\"\\n                \"+_vm._s(item.like_count)+\"\\n              \")]),_c('span',[_c('i',{staticClass:\"iconfont icon-pinglun1\"}),_vm._v(\"\\n                \"+_vm._s(item.comment_count)+\"\\n              \")]),_c('span',[_c('i',{staticClass:\"iconfont icon-pinglun\"}),_vm._v(\"\\n                \"+_vm._s(item.mark_count)+\"\\n              \")])])]),_c('div',{staticClass:\"about\"},[(_vm.userZone)?[_c('a',{staticClass:\"bangumi-avatar\",attrs:{\"href\":_vm.$alias.bangumi(item.bangumi.id)}},[_c('v-img',{attrs:{\"src\":item.bangumi.avatar,\"size\":\"60\"}})],1),_c('div',{staticClass:\"info\"},[_c('a',{staticClass:\"main-name oneline\",attrs:{\"href\":_vm.$alias.bangumi(item.bangumi.id)},domProps:{\"textContent\":_vm._s(item.bangumi.name)}})])]:(_vm.bangumiId)?[_c('a',{staticClass:\"user-avatar\",attrs:{\"href\":_vm.$alias.user(item.user.zone)}},[_c('v-img',{attrs:{\"src\":item.user.avatar,\"size\":\"30\"}})],1),_c('a',{staticClass:\"main-name\",attrs:{\"href\":_vm.$alias.user(item.user.zone)},domProps:{\"textContent\":_vm._s(item.user.nickname)}})]:[_c('a',{staticClass:\"bangumi-avatar\",attrs:{\"href\":_vm.$alias.bangumi(item.bangumi.id)}},[_c('v-img',{attrs:{\"src\":item.bangumi.avatar,\"size\":\"30\"}})],1),_c('div',{staticClass:\"info\"},[_c('p',{staticClass:\"main-info\"},[_c('span',[_vm._v(\"UP：\")]),_c('a',{staticClass:\"oneline\",attrs:{\"href\":_vm.$alias.user(item.user.zone)},domProps:{\"textContent\":_vm._s(item.user.nickname)}})]),_c('a',{staticClass:\"oneline\",attrs:{\"href\":_vm.$alias.bangumi(item.bangumi.id)},domProps:{\"textContent\":_vm._s(item.bangumi.name)}})])]],2)]):_vm._e()])})):_vm._e()],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var image_ImageWaterfallFlow = (esExports);\n// CONCATENATED MODULE: ./src/components/image/ImageWaterfallFlow.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(141),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"42fa3cb8\"\nvar Component = normalizeComponent(\n  ImageWaterfallFlow,\n  image_ImageWaterfallFlow,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_image_ImageWaterfallFlow = (Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/flow/list/ImageFlowList.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var ImageFlowList = ({\n  name: \"ImageFlowList\",\n  components: {\n    ImageWaterfallFlow: components_image_ImageWaterfallFlow\n  },\n  mixins: [_flowListMixin[\"a\" /* default */]],\n\n  data() {\n    return {\n      flowType: \"image\"\n    };\n  },\n\n  methods: {\n    openCreateImageModal() {\n      if (this.$store.state.login) {\n        this.$channel.$emit(\"open-create-image-drawer\");\n      } else {\n        this.$channel.$emit(\"sign-in\");\n      }\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-f0f4ba2e\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/flow/list/ImageFlowList.vue\nvar ImageFlowList_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.source)?_c('div',{attrs:{\"id\":\"image-flow-list\"}},[_vm._ssrNode(\"<div>\",\"</div>\",[_c('image-waterfall-flow',{attrs:{\"list\":_vm.source.list,\"user-zone\":_vm.userZone,\"bangumi-id\":_vm.bangumiId}})],1),_c('more-btn',{attrs:{\"no-more\":_vm.source.noMore,\"loading\":_vm.source.loading,\"length\":_vm.source.list.length,\"auto\":true},on:{\"fetch\":_vm.loadMore}},[(_vm.showNoContentTips)?_c('button',{on:{\"click\":_vm.openCreateImageModal}},[_vm._v(_vm._s(_vm.userZone ? '上传第一张图片' : '上传《' + _vm.bangumiName + '》的第一张图片'))]):_vm._e()])],1):_vm._e()}\nvar ImageFlowList_staticRenderFns = []\nvar ImageFlowList_esExports = { render: ImageFlowList_render, staticRenderFns: ImageFlowList_staticRenderFns }\n/* harmony default export */ var list_ImageFlowList = (ImageFlowList_esExports);\n// CONCATENATED MODULE: ./src/components/flow/list/ImageFlowList.vue\nvar ImageFlowList_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar ImageFlowList___vue_template_functional__ = false\n/* styles */\nvar ImageFlowList___vue_styles__ = null\n/* scopeId */\nvar ImageFlowList___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar ImageFlowList___vue_module_identifier__ = \"6d57b4c8\"\nvar ImageFlowList_Component = ImageFlowList_normalizeComponent(\n  ImageFlowList,\n  list_ImageFlowList,\n  ImageFlowList___vue_template_functional__,\n  ImageFlowList___vue_styles__,\n  ImageFlowList___vue_scopeId__,\n  ImageFlowList___vue_module_identifier__\n)\n\n/* harmony default export */ var flow_list_ImageFlowList = __webpack_exports__[\"a\"] = (ImageFlowList_Component.exports);\n\n\n/***/ }),\n\n/***/ 141:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(142);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"0fd26987\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 142:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#image-waterfall-flow .image .about .user-avatar{border-radius:50%;overflow:hidden;border:1px solid #e5e9ef}@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}#image-waterfall-flow{margin-right:-5px;background-color:#fff}#image-waterfall-flow .vue-waterfall{width:310px;margin:10px auto 0}#image-waterfall-flow .vue-waterfall-slot{padding-right:10px;padding-bottom:10px;margin-left:3px;margin-top:3px}#image-waterfall-flow .image{width:100%;overflow:hidden;-webkit-box-shadow:0 1px 3px rgba(0,0,0,.2);box-shadow:0 1px 3px rgba(0,0,0,.2);background-color:#fafafa}#image-waterfall-flow .image .image-box{position:relative;overflow:hidden;display:block;font-size:0}#image-waterfall-flow .image .image-box.album-box:after{content:\\\"\\\";position:absolute;bottom:0;left:0;width:100%;height:50px;opacity:.3;background-color:transparent;background-image:-webkit-gradient(linear,left top,left bottom,from(transparent),color-stop(20%,rgba(0,0,0,.1)),color-stop(35%,rgba(0,0,0,.2)),color-stop(65%,rgba(0,0,0,.6)),to(rgba(0,0,0,.9)));background-image:-o-linear-gradient(transparent,rgba(0,0,0,.1) 20%,rgba(0,0,0,.2) 35%,rgba(0,0,0,.6) 65%,rgba(0,0,0,.9));background-image:linear-gradient(transparent,rgba(0,0,0,.1) 20%,rgba(0,0,0,.2) 35%,rgba(0,0,0,.6) 65%,rgba(0,0,0,.9))}#image-waterfall-flow .image .image-box .is-creator{font-size:20px;position:absolute;left:5px;top:2px;z-index:1;color:#ffcf00}#image-waterfall-flow .image .image-box .is-album{position:absolute;left:7px;bottom:4px;z-index:1;color:#fff;line-height:20px}#image-waterfall-flow .image .image-box .is-album i{font-size:20px;vertical-align:middle}#image-waterfall-flow .image .image-box .is-album .image-count{margin-left:5px;font-size:14px;vertical-align:middle}#image-waterfall-flow .image .intro{height:55px;padding:5px 15px;background-color:#fff}#image-waterfall-flow .image .intro .name,#image-waterfall-flow .image .intro .social{height:20px;font-size:12px;line-height:20px}#image-waterfall-flow .image .intro .social{color:#99a2aa;margin-top:5px}#image-waterfall-flow .image .intro .social span{margin-right:10px}#image-waterfall-flow .image .intro .social .done{color:#f25d8e}#image-waterfall-flow .image .about{height:51px;padding:10px 15px;border-top:1px solid #f2f2f2}#image-waterfall-flow .image .about .bangumi-avatar{width:30px;height:30px}#image-waterfall-flow .image .about .bangumi-avatar,#image-waterfall-flow .image .about .user-avatar{display:block;margin-right:10px;overflow:hidden;float:left}#image-waterfall-flow .image .about .main-name{line-height:30px;font-size:12px;word-wrap:break-word;color:#6d757a}#image-waterfall-flow .image .about .info{overflow:hidden;font-size:12px;line-height:15px}#image-waterfall-flow .image .about .info .main-info{margin-bottom:2px}#image-waterfall-flow .image .about .info .main-info span{color:#99a2aa;float:left}#image-waterfall-flow .image .about .info a{color:#6d757a;font-size:12px;display:block}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 143:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./src/components/flow/list/_flowListMixin.js\nvar _flowListMixin = __webpack_require__(99);\n\n// EXTERNAL MODULE: ./src/components/flow/item/ScoreFlowItem.vue + 2 modules\nvar ScoreFlowItem = __webpack_require__(123);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/flow/list/ScoreFlowList.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var ScoreFlowList = ({\n  name: \"ScoreFlowList\",\n  components: {\n    ScoreFlowItem: ScoreFlowItem[\"a\" /* default */]\n  },\n  mixins: [_flowListMixin[\"a\" /* default */]],\n\n  data() {\n    return {\n      flowType: \"score\"\n    };\n  }\n\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-daf240ba\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/flow/list/ScoreFlowList.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.source)?_c('div',{attrs:{\"id\":\"score-flow-list\"}},[_vm._ssrNode(\"<ul>\",\"</ul>\",_vm._l((_vm.source.list),function(item){return _c('score-flow-item',{key:item.id,attrs:{\"item\":item,\"bangumi-id\":_vm.bangumiId,\"user-zone\":_vm.userZone}})})),_c('more-btn',{attrs:{\"no-more\":_vm.source.noMore,\"loading\":_vm.source.loading,\"length\":_vm.source.list.length,\"auto\":true},on:{\"fetch\":_vm.loadMore}},[(_vm.showNoContentTips)?[(_vm.bangumiId)?_c('a',{attrs:{\"href\":((_vm.$alias.createScore) + \"?bid=\" + _vm.bangumiId)}},[_c('button',[_vm._v(\"\\n          \"+_vm._s('写下《' + _vm.bangumiName + '》的第一篇漫评')+\"\\n        \")])]):_c('a',{attrs:{\"href\":_vm.$alias.createScore}},[_c('button',[_vm._v(\"写漫评\")])])]:_vm._e()],2)],1):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var list_ScoreFlowList = (esExports);\n// CONCATENATED MODULE: ./src/components/flow/list/ScoreFlowList.vue\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"62cf2f7f\"\nvar Component = normalizeComponent(\n  ScoreFlowList,\n  list_ScoreFlowList,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var flow_list_ScoreFlowList = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 144:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./src/components/flow/list/_flowListMixin.js\nvar _flowListMixin = __webpack_require__(99);\n\n// EXTERNAL MODULE: ./src/components/flow/item/QuestionFlowItem.vue + 2 modules\nvar QuestionFlowItem = __webpack_require__(134);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/flow/list/QuestionFlowList.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var QuestionFlowList = ({\n  name: \"QuestionFlowList\",\n  components: {\n    QuestionFlowItem: QuestionFlowItem[\"a\" /* default */]\n  },\n  mixins: [_flowListMixin[\"a\" /* default */]],\n\n  data() {\n    return {\n      flowType: \"question\"\n    };\n  },\n\n  methods: {\n    openCreateQAQModal() {\n      if (!this.$store.state.login) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      this.$channel.$emit(\"drawer-open-write-question\");\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-82512782\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/flow/list/QuestionFlowList.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.source)?_c('div',{attrs:{\"id\":\"score-flow-list\"}},[_vm._ssrNode(\"<ul>\",\"</ul>\",_vm._l((_vm.source.list),function(item){return _c('question-flow-item',{key:item.id,attrs:{\"item\":item,\"bangumi-id\":_vm.bangumiId,\"user-zone\":_vm.userZone}})})),_c('more-btn',{attrs:{\"no-more\":_vm.source.noMore,\"loading\":_vm.source.loading,\"length\":_vm.source.list.length,\"auto\":true},on:{\"fetch\":_vm.loadMore}},[(_vm.showNoContentTips)?[(_vm.bangumiId)?_c('button',{on:{\"click\":_vm.openCreateQAQModal}},[_vm._v(\"我有《\"+_vm._s(_vm.bangumiName)+\"》的一些疑问\")]):(_vm.isMe)?_c('a',{attrs:{\"href\":_vm.$alias.world('qaq'),\"target\":\"_blank\"}},[_c('button',[_vm._v(\"查看问题列表\")])]):_vm._e()]:_vm._e()],2)],1):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var list_QuestionFlowList = (esExports);\n// CONCATENATED MODULE: ./src/components/flow/list/QuestionFlowList.vue\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"2cb525a1\"\nvar Component = normalizeComponent(\n  QuestionFlowList,\n  list_QuestionFlowList,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var flow_list_QuestionFlowList = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 145:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(146);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"1235a770\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 146:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".question-flow-item .content:after,.question-flow-item .content:before{content:\\\"\\\";clear:both;display:table}@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.question-flow-item{padding:15px;border-bottom:1px dotted #e4e6eb}.question-flow-item:last-child{border-bottom:none}.question-flow-item .qaq-flow-header{height:24px;margin-bottom:8px}.question-flow-item .qaq-flow-header .avatar{float:left;margin-right:10px;width:24px;height:24px}.question-flow-item .qaq-flow-header .nickname{font-size:13px;line-height:24px;color:#1a1a1a}.question-flow-item .title{font-size:14px;font-weight:500;color:#1a1a1a;margin-bottom:6px;line-height:20px;max-height:40px;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.question-flow-item .content{margin-bottom:10px}.question-flow-item .content .poster{margin-bottom:4px;border-radius:4px;overflow:hidden}.question-flow-item .content .text{font-size:14px;color:#1a1a1a;line-height:19px;max-height:38px;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.question-flow-item .footer{color:#6d757a}.question-flow-item .footer .vote-button{margin-right:5px}.question-flow-item .footer .stats{margin-right:5px;font-size:12px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 208:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(209);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"4edbeed9\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 209:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#the-world .flow-intro .intro:after,#the-world .flow-intro .intro:before{content:\\\"\\\";clear:both;display:table}@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}#the-world .flow-intro{margin-top:15px;margin-bottom:15px}#the-world .flow-intro .intro{margin-bottom:15px}#the-world .flow-intro .intro .img{width:80px;height:80px;border-radius:8px;margin-right:10px;float:left;color:#fff;text-align:center;cursor:default;font-weight:700;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-size:36px;line-height:80px}#the-world .flow-intro .intro .summary{overflow:hidden}#the-world .flow-intro .intro .summary .title{margin-top:8px;font-size:17px}#the-world .flow-intro .intro .summary .extra{margin-top:8px;font-size:14px;color:#6d757a}#the-world .flow-intro .intro .summary button{font-size:13px;margin-top:8px}#the-world .flow-intro .detail{padding:8px;padding-bottom:3px;background-color:#e5e9ef;color:#6d757a;margin-bottom:10px}#the-world .flow-intro .detail p{margin-bottom:5px;font-size:13px;line-height:18px}#the-world .flow-intro .detail a{color:#00a1d6;-webkit-transition:.4s;-o-transition:.4s;transition:.4s}#the-world .flow-intro .detail a:hover{color:#0381aa}#the-world .flow-intro .control button{width:100%;height:40px;border:1px solid #c8c8c8;color:#333;border-radius:4px;padding:6px 0;font-size:16px;text-align:center}#the-world .van-tabs__wrap:after{content:\\\"\\\";position:absolute;left:0;right:0;bottom:0;height:1px;background-color:#f0f0f0;-webkit-transform:scaleY(.5);-ms-transform:scaleY(.5);transform:scaleY(.5);margin-left:-15px;margin-right:-15px}#the-world .van-tabs--line{padding-top:40px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 303:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: external \"vant/lib/tab\"\nvar tab_ = __webpack_require__(86);\nvar tab__default = /*#__PURE__*/__webpack_require__.n(tab_);\n\n// EXTERNAL MODULE: external \"vant/lib/tabs\"\nvar tabs_ = __webpack_require__(87);\nvar tabs__default = /*#__PURE__*/__webpack_require__.n(tabs_);\n\n// EXTERNAL MODULE: ./src/components/flow/list/PostFlowList.vue + 2 modules\nvar PostFlowList = __webpack_require__(139);\n\n// EXTERNAL MODULE: ./src/components/flow/list/ImageFlowList.vue + 5 modules\nvar ImageFlowList = __webpack_require__(140);\n\n// EXTERNAL MODULE: ./src/components/flow/list/ScoreFlowList.vue + 2 modules\nvar ScoreFlowList = __webpack_require__(143);\n\n// EXTERNAL MODULE: ./src/components/flow/list/QuestionFlowList.vue + 2 modules\nvar QuestionFlowList = __webpack_require__(144);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/world/index.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n\n/* harmony default export */ var world = ({\n  name: \"TheWorld\",\n  components: {\n    vanTabs: tabs__default.a,\n    vanTab: tab__default.a,\n    PostFlowList: PostFlowList[\"a\" /* default */],\n    ImageFlowList: ImageFlowList[\"a\" /* default */],\n    ScoreFlowList: ScoreFlowList[\"a\" /* default */],\n    QuestionFlowList: QuestionFlowList[\"a\" /* default */]\n  },\n\n  data() {\n    var options = [{\n      index: 0,\n      label: \"帖子\",\n      value: \"world-post\"\n    }, {\n      index: 1,\n      label: \"图片\",\n      value: \"world-image\"\n    }, {\n      index: 2,\n      label: \"评分\",\n      value: \"world-score\"\n    }, {\n      index: 3,\n      label: \"问答\",\n      value: \"world-question\"\n    }];\n    var active = options.filter(_ => _.value === this.$route.name)[0].index;\n    return {\n      active,\n      options\n    };\n  }\n\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-fd207080\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/world/index.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"the-world\"}},[_vm._ssrNode(\"<div class=\\\"container flow-intro\\\">\",\"</div>\",[_c('router-view')],1),_vm._ssrNode(\"<div class=\\\"hr\\\"></div>\"),_c('van-tabs',{model:{value:(_vm.active),callback:function ($$v) {_vm.active=$$v},expression:\"active\"}},[_vm._l((_vm.options),function(item,index){return _c('van-tab',{key:index},[_c('router-link',{attrs:{\"slot\":\"title\",\"to\":{ name: item.value }},domProps:{\"textContent\":_vm._s(item.label)},slot:\"title\"})],1)}),(_vm.active === 0)?_c('post-flow-list'):(_vm.active === 1)?_c('image-flow-list'):(_vm.active === 2)?_c('score-flow-list'):(_vm.active === 3)?_c('question-flow-list'):_vm._e()],2)],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var views_world = (esExports);\n// CONCATENATED MODULE: ./src/views/world/index.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(208),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"81f5298c\"\nvar Component = normalizeComponent(\n  world,\n  views_world,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var src_views_world = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 99:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_regenerator_runtime_runtime__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_regenerator_runtime_runtime___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_regenerator_runtime_runtime__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_asyncToGenerator__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_asyncToGenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_asyncToGenerator__);\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  props: {\n    bangumiId: {\n      type: Number,\n      default: 0\n    },\n    userZone: {\n      type: String,\n      default: \"\"\n    },\n    bangumiName: {\n      type: String,\n      default: \"\"\n    }\n  },\n  computed: {\n    fetchMoreAction() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow/getData\";\n      }\n\n      return \"world/getData\";\n    },\n\n    fetchInitAction() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow/initData\";\n      }\n\n      return \"world/initData\";\n    },\n\n    fetchStore() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow\";\n      }\n\n      return \"world\";\n    },\n\n    fetchSort() {\n      if (this.userZone) {\n        return \"news\";\n      }\n\n      if (this.flowType === \"role\") {\n        return \"hot\";\n      }\n\n      return \"active\";\n    },\n\n    fetchEvent() {\n      if (this.bangumiId) {\n        return `bangumi-tab-switch-${this.flowType}`;\n      }\n\n      if (this.userZone) {\n        return `user-tab-switch-${this.flowType}`;\n      }\n\n      return \"\";\n    },\n\n    source() {\n      return this.$store.state[this.fetchStore][this.flowType][this.fetchSort];\n    },\n\n    showNoContentTips() {\n      return this.bangumiId || this.isMe;\n    },\n\n    isMe() {\n      return this.$store.state.login ? this.$store.state.user.zone === this.userZone : false;\n    }\n\n  },\n  methods: {\n    initData() {\n      var _this = this;\n\n      return __WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_asyncToGenerator___default()(\n      /*#__PURE__*/\n      __WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator___default.a.mark(function _callee() {\n        return __WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator___default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return _this.$store.dispatch(_this.fetchInitAction, {\n                  ctx: _this,\n                  type: _this.flowType,\n                  sort: _this.fetchSort,\n                  userZone: _this.userZone,\n                  bangumiId: _this.bangumiId\n                });\n\n              case 3:\n                _context.next = 8;\n                break;\n\n              case 5:\n                _context.prev = 5;\n                _context.t0 = _context[\"catch\"](0);\n\n                _this.$toast.error(_context.t0);\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 5]]);\n      }))();\n    },\n\n    loadMore() {\n      var _this2 = this;\n\n      return __WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_asyncToGenerator___default()(\n      /*#__PURE__*/\n      __WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator___default.a.mark(function _callee2() {\n        return __WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator___default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                _context2.next = 3;\n                return _this2.$store.dispatch(_this2.fetchMoreAction, {\n                  ctx: _this2,\n                  type: _this2.flowType,\n                  sort: _this2.fetchSort,\n                  userZone: _this2.userZone,\n                  bangumiId: _this2.bangumiId\n                });\n\n              case 3:\n                _context2.next = 8;\n                break;\n\n              case 5:\n                _context2.prev = 5;\n                _context2.t0 = _context2[\"catch\"](0);\n\n                _this2.$toast.error(_context2.t0);\n\n              case 8:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[0, 5]]);\n      }))();\n    }\n\n  },\n\n  mounted() {\n    if (this.fetchEvent && !this.source.list.length) {\n      this.$channel.$on(this.fetchEvent, () => {\n        this.initData();\n        this.$channel.$off(this.fetchEvent);\n      });\n    }\n  }\n\n});\n\n/***/ })\n\n};;",
    "7.server-bundle.js": "exports.ids = [7];\nexports.modules = {\n\n/***/ 116:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 120:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/flow/item/PostFlowItem.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var PostFlowItem = ({\n  name: \"PostFlowItem\",\n  props: {\n    item: {\n      required: true,\n      type: Object\n    },\n    bangumiId: {\n      type: Number,\n      default: 0\n    },\n    userZone: {\n      type: String,\n      default: \"\"\n    }\n  },\n  methods: {\n    imageFilter(images) {\n      return images.slice(0, 3);\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-11eca6db\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/flow/item/PostFlowItem.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"post-flow-item\"},[_c('router-link',{attrs:{\"to\":_vm.$alias.post(_vm.item.id),\"tag\":\"div\"}},[_c('div',{staticClass:\"header\"},[(_vm.item.user)?_c('router-link',{staticClass:\"user-avatar\",attrs:{\"to\":_vm.$alias.user(_vm.item.user.zone)}},[_c('v-img',{attrs:{\"src\":_vm.item.user.avatar,\"avatar\":true,\"size\":\"35\"}})],1):_c('router-link',{staticClass:\"bangumi-avatar\",attrs:{\"to\":_vm.$alias.bangumi(_vm.item.bangumi.id)}},[_c('v-img',{attrs:{\"src\":_vm.item.bangumi.avatar,\"size\":\"35\"}})],1),_c('div',{staticClass:\"name\"},[(_vm.item.user)?_c('div',{staticClass:\"clearfix\"},[_c('router-link',{staticClass:\"nickname\",attrs:{\"to\":_vm.$alias.user(_vm.item.user.zone)},domProps:{\"textContent\":_vm._s(_vm.item.user.nickname)}})],1):_c('div',{staticClass:\"clearfix\"},[_c('span',{staticClass:\"nickname\"},[_vm._v(\"发表在\")])]),(_vm.item.bangumi)?[_c('router-link',{attrs:{\"to\":_vm.$alias.bangumi(_vm.item.bangumi.id)},domProps:{\"textContent\":_vm._s(_vm.item.bangumi.name)}}),_c('span',[_vm._v(\" · \")])]:[_c('span',[_vm._v(\"发表于 · \")])],_c('v-time',{model:{value:(_vm.item.created_at),callback:function ($$v) {_vm.$set(_vm.item, \"created_at\", $$v)},expression:\"item.created_at\"}})],2)],1),_c('div',{staticClass:\"body\"},[_c('div',{staticClass:\"title\"},[(_vm.item.top_at && _vm.bangumiId)?_c('div',{staticClass:\"top_badge\"},[_vm._v(\"置顶\")]):_vm._e(),(_vm.item.is_nice)?_c('div',{staticClass:\"nice_badge\"},[_vm._v(\"精\")]):_vm._e(),(_vm.item.is_creator)?_c('div',{staticClass:\"creator_badge\"},[_vm._v(\"原创\")]):_vm._e(),_c('p',{staticClass:\"oneline\",domProps:{\"textContent\":_vm._s(_vm.item.title)}})]),_c('p',{staticClass:\"content\",domProps:{\"textContent\":_vm._s(_vm.item.desc)}}),(_vm.item.images.length)?_c('div',{staticClass:\"images\"},[(_vm.item.images.length === 1)?_c('v-img',{staticClass:\"poster-image\",attrs:{\"src\":_vm.item.images[0].url,\"width\":\"100%\",\"height\":\"160\"}}):_c('div',{staticClass:\"image-list\"},_vm._l((_vm.imageFilter(_vm.item.images)),function(image,index){return _c('v-img',{key:index,staticClass:\"image\",attrs:{\"src\":image.url,\"width\":\"32%\",\"height\":\"93\"}})}))],1):_vm._e()]),_c('div',{staticClass:\"footer\"},[(_vm.item.is_creator)?_c('span',[_vm._v(\"\\n        投食\\n        \"+_vm._s(_vm.$utils.shortenNumber(_vm.item.reward_count))+\"\\n      \")]):_c('span',[_vm._v(\"\\n        喜欢\\n        \"+_vm._s(_vm.$utils.shortenNumber(_vm.item.like_count))+\"\\n      \")]),_c('span',[_vm._v(\"\\n        收藏\\n        \"+_vm._s(_vm.$utils.shortenNumber(_vm.item.mark_count))+\"\\n      \")]),_c('span',[_vm._v(\"\\n        评论\\n        \"+_vm._s(_vm.$utils.shortenNumber(_vm.item.comment_count))+\"\\n      \")])])]),_vm._ssrNode(\"<div class=\\\"hr\\\"></div>\")],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var item_PostFlowItem = (esExports);\n// CONCATENATED MODULE: ./src/components/flow/item/PostFlowItem.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(121),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"2af8b4fb\"\nvar Component = normalizeComponent(\n  PostFlowItem,\n  item_PostFlowItem,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var flow_item_PostFlowItem = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 121:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(122);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"81777b88\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 122:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".post-flow-item .body .images .image-list:after,.post-flow-item .body .images .image-list:before{content:\\\"\\\";clear:both;display:table}@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.post-flow-item{padding-top:15px;padding-left:15px;padding-right:15px}.post-flow-item .header{height:35px;margin-bottom:10px}.post-flow-item .header .user-avatar{margin-right:7px;float:left;position:relative}.post-flow-item .header .bangumi-avatar{margin-right:10px;display:block;float:left;width:35px;height:35px}.post-flow-item .header .bangumi-avatar img{display:block;width:100%;height:auto;overflow:hidden}.post-flow-item .header .name{vertical-align:middle;display:block;overflow:hidden;height:35px}.post-flow-item .header .name .nickname{font-size:14px;line-height:14px;overflow:hidden;margin-top:4px;margin-bottom:0;color:#333}.post-flow-item .header .name a,.post-flow-item .header .name span,.post-flow-item .header .name time{display:block;color:#999;font-size:11px;line-height:11px;margin-top:4px;float:left}.post-flow-item .body .title{margin-bottom:5px}.post-flow-item .body .title .creator_badge,.post-flow-item .body .title .nice_badge,.post-flow-item .body .title .top_badge{float:left;height:14px;line-height:14px;color:#fff;cursor:default;font-size:11px;font-weight:700;text-align:center;border-radius:4px;padding:0 4px;margin-right:5px}.post-flow-item .body .title .top_badge{background-color:#00a1d6}.post-flow-item .body .title .nice_badge{background-color:#f25d8e}.post-flow-item .body .title .creator_badge{background-color:#daa520}.post-flow-item .body .title .oneline{color:#4c4c4c;font-weight:700;font-size:14px;line-height:14px;margin-top:0;margin-bottom:0}.post-flow-item .body .content{color:#333;font-size:14px;margin-top:0;margin-bottom:8px;line-height:18px;max-height:36px;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.post-flow-item .body .images{position:relative;margin-bottom:8px}.post-flow-item .body .images .poster-image img{height:auto;position:absolute;left:0;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);border-radius:4px}.post-flow-item .body .images .image-list .image{float:left;border-radius:4px}.post-flow-item .body .images .image-list .image:not(:last-child){margin-right:2%}.post-flow-item .footer{height:35px;line-height:30px;width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:distribute;justify-content:space-around;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding-bottom:5px}.post-flow-item .footer span{font-size:12px;color:#666}.post-flow-item .footer .done{color:#00a1d6}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 123:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./node_modules/element-ui/lib/theme-chalk/rate.css\nvar rate = __webpack_require__(116);\nvar rate_default = /*#__PURE__*/__webpack_require__.n(rate);\n\n// EXTERNAL MODULE: ./node_modules/element-ui/lib/theme-chalk/base.css\nvar base = __webpack_require__(11);\nvar base_default = /*#__PURE__*/__webpack_require__.n(base);\n\n// EXTERNAL MODULE: external \"element-ui/lib/rate\"\nvar rate_ = __webpack_require__(85);\nvar rate__default = /*#__PURE__*/__webpack_require__.n(rate_);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/flow/item/ScoreFlowItem.vue\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var ScoreFlowItem = ({\n  name: \"ScoreFlowItem\",\n  components: {\n    \"el-rate\": rate__default.a\n  },\n  props: {\n    item: {\n      required: true,\n      type: Object\n    },\n    bangumiId: {\n      required: true,\n      type: Number\n    },\n    userZone: {\n      required: true,\n      type: String\n    }\n  },\n\n  data() {\n    return {\n      zero: 0\n    };\n  },\n\n  computed: {\n    pageName() {\n      return this.$route.name;\n    },\n\n    starCount() {\n      return this.item.total / 2;\n    }\n\n  },\n  methods: {\n    linkStart() {\n      this.$router.push(this.$alias.score(this.item.id));\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2f813ab8\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/flow/item/ScoreFlowItem.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"score-flow-item\"},[_vm._ssrNode(\"<div>\",\"</div>\",[(_vm.item.bangumi && _vm.item.user)?_vm._ssrNode(\"<div class=\\\"header trending-header\\\">\",\"</div>\",[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.item.user.zone)))+\" class=\\\"user-avatar\\\">\",\"</a>\",[_c('v-img',{attrs:{\"src\":_vm.item.user.avatar,\"avatar\":true,\"size\":\"35\"}})],1),_vm._ssrNode(\"<div class=\\\"header-content\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"about\\\">\",\"</div>\",[(_vm.starCount)?_c('el-rate',{attrs:{\"disabled\":\"\"},model:{value:(_vm.starCount),callback:function ($$v) {_vm.starCount=$$v},expression:\"starCount\"}}):_c('el-rate',{attrs:{\"disabled\":\"\"},model:{value:(_vm.zero),callback:function ($$v) {_vm.zero=$$v},expression:\"zero\"}}),_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.bangumi(_vm.item.bangumi.id)))+\" class=\\\"bangumi-name oneline\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.bangumi.name))+\"</a>\")],2),_vm._ssrNode(\"<div class=\\\"meta\\\">\",\"</div>\",[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.item.user.zone)))+\" class=\\\"author\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.user.nickname))+\"</a>\\n           · \\n          \"),_c('v-time',{staticClass:\"created-at\",model:{value:(_vm.item.created_at),callback:function ($$v) {_vm.$set(_vm.item, \"created_at\", $$v)},expression:\"item.created_at\"}})],2)])]):(!_vm.item.bangumi)?_vm._ssrNode(\"<div class=\\\"header bangumi-header\\\">\",\"</div>\",[(_vm.starCount)?_c('el-rate',{attrs:{\"disabled\":\"\"},model:{value:(_vm.starCount),callback:function ($$v) {_vm.starCount=$$v},expression:\"starCount\"}}):_c('el-rate',{attrs:{\"disabled\":\"\"},model:{value:(_vm.zero),callback:function ($$v) {_vm.zero=$$v},expression:\"zero\"}}),_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.item.user.zone)))+\" class=\\\"user\\\">\",\"</a>\",[_vm._ssrNode(\"<div class=\\\"user-avatar\\\">\",\"</div>\",[_c('v-img',{attrs:{\"src\":_vm.item.user.avatar,\"avatar\":true,\"size\":\"35\"}})],1),_vm._ssrNode(\"<div class=\\\"nickname oneline\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.user.nickname))+\"</div>\")],2)],1):(!_vm.item.user)?_vm._ssrNode(\"<div class=\\\"header user-header\\\">\",\"</div>\",[(_vm.starCount)?_c('el-rate',{attrs:{\"disabled\":\"\"},model:{value:(_vm.starCount),callback:function ($$v) {_vm.starCount=$$v},expression:\"starCount\"}}):_c('el-rate',{attrs:{\"disabled\":\"\"},model:{value:(_vm.zero),callback:function ($$v) {_vm.zero=$$v},expression:\"zero\"}}),_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.bangumi(_vm.item.bangumi.id)))+\" class=\\\"bangumi\\\">\",\"</a>\",[_vm._ssrNode(\"<div class=\\\"bangumi-avatar\\\">\",\"</div>\",[_c('v-img',{attrs:{\"src\":_vm.item.bangumi.avatar,\"size\":\"23\"}})],1),_vm._ssrNode(\"<div class=\\\"nickname oneline\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.bangumi.name))+\"</div>\")],2)],1):_vm._e(),_vm._ssrNode(\"<div class=\\\"body\\\"><div class=\\\"title\\\"><p class=\\\"oneline\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.title))+\"</p></div><div class=\\\"content\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.intro))+\"</div></div><div class=\\\"footer\\\">\"+((_vm.item.is_creator)?(\"<span>\"+_vm._ssrEscape(\"\\n        投食\\n        \"+_vm._s(_vm.$utils.shortenNumber(_vm.item.reward_count))+\"\\n      \")+\"</span>\"):(\"<span>\"+_vm._ssrEscape(\"\\n        喜欢\\n        \"+_vm._s(_vm.$utils.shortenNumber(_vm.item.like_count))+\"\\n      \")+\"</span>\"))+\"<span>\"+_vm._ssrEscape(\"\\n        收藏\\n        \"+_vm._s(_vm.$utils.shortenNumber(_vm.item.mark_count))+\"\\n      \")+\"</span><span>\"+_vm._ssrEscape(\"\\n        评论\\n        \"+_vm._s(_vm.$utils.shortenNumber(_vm.item.comment_count))+\"\\n      \")+\"</span></div>\")],2),_vm._ssrNode(\"<div class=\\\"hr\\\"></div>\")],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var item_ScoreFlowItem = (esExports);\n// CONCATENATED MODULE: ./src/components/flow/item/ScoreFlowItem.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(124),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"0548aea9\"\nvar Component = normalizeComponent(\n  ScoreFlowItem,\n  item_ScoreFlowItem,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var flow_item_ScoreFlowItem = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 124:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(125);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"39ee3e48\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 125:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.score-flow-item{padding-top:15px;padding-left:15px;padding-right:15px}.score-flow-item .header{margin-bottom:10px}.score-flow-item .header .el-rate{display:inline-block;vertical-align:middle;height:23px;margin-left:10px;float:right}.score-flow-item .trending-header .user-avatar{margin-right:5px;float:left}.score-flow-item .trending-header .header-content,.score-flow-item .trending-header .header-content .about{overflow:hidden}.score-flow-item .trending-header .header-content .about .bangumi-name{overflow:hidden;display:block;line-height:20px;font-size:12px;vertical-align:middle;color:#333}.score-flow-item .trending-header .header-content .meta{color:#999;font-size:11px;line-height:11px;margin-top:-3px}.score-flow-item .trending-header .header-content .meta a{color:#999;font-size:11px}.score-flow-item .bangumi-header .user{display:block;overflow:hidden}.score-flow-item .bangumi-header .user .user-avatar{margin-right:5px;float:left}.score-flow-item .bangumi-header .user .nickname{overflow:hidden;display:block;line-height:23px;vertical-align:middle;color:#333;font-size:11px}.score-flow-item .user-header .bangumi{display:block;overflow:hidden}.score-flow-item .user-header .bangumi .bangumi-avatar{margin-right:5px;float:left;border-radius:4px}.score-flow-item .user-header .bangumi .nickname{overflow:hidden;display:block;line-height:23px;vertical-align:middle;color:#333;font-size:11px}.score-flow-item .body .title{margin-bottom:5px}.score-flow-item .body .title .nice_badge,.score-flow-item .body .title .top_badge{float:left;height:16px;line-height:18px;color:#fff;cursor:default;font-size:11px;font-weight:700;text-align:center;border-radius:4px;padding:0 4px;margin-right:5px}.score-flow-item .body .title .top_badge{background-color:#00a1d6}.score-flow-item .body .title .nice_badge{background-color:#f25d8e}.score-flow-item .body .title .oneline{color:#4c4c4c;font-weight:700;font-size:14px;line-height:14px;margin-top:0;margin-bottom:0}.score-flow-item .body .content{color:#333;font-size:14px;margin-top:0;margin-bottom:8px;line-height:18px;max-height:36px;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.score-flow-item .footer{height:35px;line-height:30px;width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:distribute;justify-content:space-around;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding-bottom:5px}.score-flow-item .footer span{font-size:12px;color:#666}.score-flow-item .footer .done{color:#00a1d6}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 126:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/flow/item/CartoonRoleFlowItem.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var CartoonRoleFlowItem = ({\n  name: \"CartoonRoleFlowItem\",\n  props: {\n    item: {\n      required: true,\n      type: Object\n    },\n    bangumiId: {\n      required: true,\n      type: Number\n    },\n    userZone: {\n      required: true,\n      type: String\n    },\n    index: {\n      type: Number,\n      default: -1\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-c369257a\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/flow/item/CartoonRoleFlowItem.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"cartoon-role-flow-item\"},[_vm._ssrNode(\"<div class=\\\"clearfix\\\">\",\"</div>\",[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.cartoonRole(_vm.item.id)))+\" class=\\\"avatar\\\">\",\"</a>\",[_c('v-img',{attrs:{\"src\":_vm.item.avatar,\"size\":\"100\"}})],1),_vm._ssrNode(\"<div class=\\\"summary\\\">\",\"</div>\",[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.cartoonRole(_vm.item.id)))+\" class=\\\"role\\\"><span class=\\\"name\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.name))+\"</span><span class=\\\"intro\\\">\"+_vm._ssrEscape(\"：\"+_vm._s(_vm.item.intro))+\"</span></a>\"),(_vm.item.lover)?_vm._ssrNode(\"<div class=\\\"lover\\\">\",\"</div>\",[_vm._ssrNode(\"<span>守护者：</span>\"),_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.item.lover.zone)))+\" class=\\\"fr\\\">\",\"</a>\",[_vm._ssrNode(\"<span>\"+_vm._ssrEscape(_vm._s(_vm.item.lover.nickname))+\"</span>\"),_c('v-img',{staticClass:\"image\",attrs:{\"src\":_vm.item.lover.avatar,\"avatar\":true,\"size\":\"20\"}})],2)],2):_vm._ssrNode((\"<div class=\\\"lover\\\"></div>\"))],2),_vm._ssrNode(\"<div class=\\\"footer\\\">\"+((_vm.userZone)?(\"<div class=\\\"stats\\\"><span>\"+_vm._ssrEscape(\"粉丝: \"+_vm._s(_vm.item.fans_count))+\"</span>\\n        ·\\n        <span>\"+_vm._ssrEscape(\"金币: \"+_vm._s(_vm.item.star_count))+\"</span>\\n        ·\\n        <span>\"+_vm._ssrEscape(\"贡献: \"+_vm._s(_vm.item.has_star))+\"</span></div>\"):(\"<div class=\\\"stats\\\"><span>\"+_vm._ssrEscape(\"\\n          粉丝:\\n          \"+_vm._s(_vm.$utils.shortenNumber(_vm.item.fans_count))+\"\\n        \")+\"</span><span>\"+_vm._ssrEscape(\"\\n          金币:\\n          \"+_vm._s(_vm.$utils.shortenNumber(_vm.item.star_count))+\"\\n        \")+\"</span>\"+((!_vm.bangumiId && _vm.index !== -1)?(\"<span>排名:</span><span\"+(_vm._ssrAttr(\"data-index\",_vm.item.fans_count ? _vm.index + 1 : '无'))+\" class=\\\"top\\\"></span>\"):\"<!---->\")+\"</div>\"))+\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.bangumi(_vm.item.bangumi.id)))+\" class=\\\"bangumi\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.bangumi.name))+\"</a></div>\")],2)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var item_CartoonRoleFlowItem = (esExports);\n// CONCATENATED MODULE: ./src/components/flow/item/CartoonRoleFlowItem.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(127),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"55cdab9b\"\nvar Component = normalizeComponent(\n  CartoonRoleFlowItem,\n  item_CartoonRoleFlowItem,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var flow_item_CartoonRoleFlowItem = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 127:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(128);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"4d09bf0d\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 128:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.cartoon-role-flow-item{position:relative;margin-top:15px}.cartoon-role-flow-item:not(:last-child):after{content:\\\"\\\";position:absolute;left:0;right:0;bottom:0;height:1px;background-color:#f0f0f0;-webkit-transform:scaleY(.5);-ms-transform:scaleY(.5);transform:scaleY(.5);margin-left:-15px;margin-right:-15px}.cartoon-role-flow-item .clearfix{overflow:hidden}.cartoon-role-flow-item .top{position:relative;display:block;float:right}.cartoon-role-flow-item .top:before{content:attr(data-index);line-height:48px}.cartoon-role-flow-item:first-of-type .top:before{color:#daa520;font-size:28px;line-height:44px}.cartoon-role-flow-item:nth-of-type(2) .top:before{color:#cd5c5c;font-size:22px;line-height:44px}.cartoon-role-flow-item:nth-of-type(3) .top:before{color:silver;font-size:16px;line-height:44px}.cartoon-role-flow-item .avatar{width:100px;height:100px;display:block;float:left;overflow:hidden;border-radius:5px;margin-right:10px;border:1px solid #e5e9ef}.cartoon-role-flow-item .avatar img{width:100%;height:auto}.cartoon-role-flow-item .summary{overflow:hidden}.cartoon-role-flow-item .summary .role{display:block;font-size:14px;line-height:20px;height:60px;overflow:hidden}.cartoon-role-flow-item .summary .role .name{font-weight:700}.cartoon-role-flow-item .summary .role .intro{color:#000}.cartoon-role-flow-item .summary .lover{height:40px;padding:10px 0;line-height:20px;vertical-align:middle;font-size:13px;color:#6d757a}.cartoon-role-flow-item .summary .lover .image{vertical-align:middle;border:1px solid #e5e9ef;margin-left:10px;display:inline-block}.cartoon-role-flow-item .footer{height:44px;line-height:44px}.cartoon-role-flow-item .footer .bangumi{color:#999;font-size:12px;overflow:hidden;margin-right:8px}.cartoon-role-flow-item .footer .stats{text-align:right;color:#666;float:right}.cartoon-role-flow-item .footer .stats span{margin-left:10px;font-size:12px;margin-right:2px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 135:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/search/Input.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var Input = ({\n  name: \"SearchInput\",\n  props: {\n    value: {\n      type: String,\n      default: \"\"\n    },\n    type: {\n      type: String,\n      default: \"all\"\n    },\n    showSuggestion: {\n      type: Boolean,\n      default: true\n    }\n  },\n\n  data() {\n    return {\n      word: this.value,\n      selectedType: this.type,\n      cacheKey: \"search-history\",\n      typing: false,\n      filteredSelect: [],\n      selectedIndex: -1\n    };\n  },\n\n  computed: {\n    bangumis() {\n      return this.$store.state.bangumi.all;\n    },\n\n    displaySuggestion() {\n      return this.showSuggestion && this.word.length && this.typing && this.filteredSelect.length;\n    }\n\n  },\n\n  mounted() {\n    this.$watch(\"value\", val => {\n      this.word = val;\n      this.typing = true;\n      this.selectedIndex = -1;\n      this.handleEnter(val);\n    });\n    this.$watch(\"word\", val => {\n      this.$emit(\"input\", val);\n    });\n    this.$watch(\"$route\", val => {\n      if (val.name === \"search-index\") {\n        this.word = val.query.q;\n        this.selectedType = val.query.type;\n        setTimeout(() => {\n          this.typing = false;\n        }, 0);\n      }\n    });\n  },\n\n  methods: {\n    handleInputBlur() {\n      this.$emit(\"input-blur\");\n      document.body.scrollTop = 0;\n    },\n\n    handleInputFocus() {\n      this.$emit(\"input-focus\");\n      document.body.scrollTop = 0;\n    },\n\n    clear() {\n      this.word = \"\";\n    },\n\n    submit() {\n      var q = this.selectedIndex !== -1 ? this.filteredSelect[this.selectedIndex].name : this.word;\n\n      if (!q) {\n        return;\n      }\n\n      this.setHistory(q);\n      this.$router.push({\n        name: \"search-index\",\n        query: {\n          q,\n          type: this.selectedType\n        }\n      });\n    },\n\n    setHistory(q) {\n      setTimeout(() => {\n        var list = this.getHistory();\n        var index = list.indexOf(q);\n\n        if (index !== -1) {\n          list.splice(index, 1);\n        }\n\n        list.unshift(q);\n\n        if (list.length > 10) {\n          list.pop();\n        }\n\n        try {\n          localStorage.setItem(this.cacheKey, JSON.stringify(list));\n        } catch (e) {}\n      }, 0);\n    },\n\n    getHistory() {\n      try {\n        return JSON.parse(localStorage.getItem(this.cacheKey)) || [];\n      } catch (e) {\n        return [];\n      }\n    },\n\n    clickToSearch(index) {\n      this.selectedIndex = index;\n      this.submit();\n    },\n\n    handleEnter(query) {\n      if (!query) {\n        this.filteredSelect = [];\n        return;\n      }\n\n      this.filteredSelect = this.bangumis.filter(option => {\n        return option.alias.indexOf(query) > -1 || option.name.indexOf(query) > -1;\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-456587b5\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/search/Input.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{staticClass:\"search-input-wrap\",attrs:{\"method\":\"get\",\"action\":\"#\"},on:{\"submit\":function($event){$event.preventDefault();_vm.submit($event)}}},[_vm._ssrNode(\"<button type=\\\"submit\\\" class=\\\"search-btn\\\"><i class=\\\"iconfont icon-sousuo\\\"></i></button>\"+((_vm.word)?(\"<button type=\\\"button\\\" class=\\\"clear-btn\\\">×</button>\"):\"<!---->\")+\"<div class=\\\"input-wrap\\\"><input maxlength=\\\"200\\\" name=\\\"q\\\" type=\\\"search\\\" aria-autocomplete=\\\"both\\\" aria-haspopup=\\\"false\\\" autocapitalize=\\\"off\\\" autocomplete=\\\"off\\\" autocorrect=\\\"off\\\" role=\\\"combobox\\\" spellcheck=\\\"false\\\" placeholder=\\\"搜索二次元的一切\\\" aria-label=\\\"搜索\\\"\"+(_vm._ssrAttr(\"value\",(_vm.word)))+\"></div><ul class=\\\"search-suggestion\\\"\"+(_vm._ssrStyle(null,null, { display: (_vm.displaySuggestion) ? '' : 'none' }))+\">\"+(_vm._ssrList((_vm.filteredSelect),function(item,index){return (\"<li\"+(_vm._ssrClass(null,{ active: index === _vm.selectedIndex }))+\"><img\"+(_vm._ssrAttr(\"src\",_vm.$resize(item.avatar, { width: 60 })))+\"><span>\"+_vm._ssrEscape(_vm._s(item.name))+\"</span></li>\")}))+\"</ul>\")])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var search_Input = (esExports);\n// CONCATENATED MODULE: ./src/components/search/Input.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(136),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"2f4cbda2\"\nvar Component = normalizeComponent(\n  Input,\n  search_Input,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_search_Input = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 136:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(137);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"9ae8ae98\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 137:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.search-input-wrap{position:relative;border-radius:8px}.search-input-wrap .clear-btn{float:right;color:#757575;font:27px/25px arial,sans-serif;padding:0 15px 0 5px;line-height:38px;border-top:1px solid #d9d9d9;border-bottom:1px solid #d9d9d9;height:40px}.search-input-wrap .search-btn{float:right;height:40px;width:40px;background-color:#ffafc9;border-top-right-radius:8px;border-bottom-right-radius:8px;font-weight:700;font-size:20px;color:#fff}.search-input-wrap .input-wrap{overflow:hidden;padding:7px 0 6px;border:1px solid #d9d9d9;border-right:0;border-top-left-radius:8px;border-bottom-left-radius:8px;height:40px}.search-input-wrap .input-wrap input{width:100%;height:100%;font-size:18px;color:rgba(0,0,0,.87);word-wrap:break-word;padding:0 0 0 16px}.search-input-wrap .search-suggestion{position:absolute;left:0;top:110%;width:100%;z-index:999;max-height:160px;background-color:#fff;overflow-y:scroll;border:1px solid #d9d9d9;border-radius:5px}.search-input-wrap .search-suggestion li{height:40px;padding:5px 0}.search-input-wrap .search-suggestion li img{height:30px;width:30px;border-radius:3px;vertical-align:middle;margin-left:10px;margin-right:8px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 218:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(219);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"f388ea30\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 219:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}#search-index .search-panel{position:relative;margin:10px;background-color:#fff;-webkit-box-shadow:0 1px 6px rgba(32,33,36,.28);box-shadow:0 1px 6px rgba(32,33,36,.28);border-radius:8px}#search-index .search-panel .input-wrap{border-bottom-left-radius:0}#search-index .search-panel .search-btn{border-bottom-right-radius:0}#search-index .search-panel .tabs-panel{border-bottom-left-radius:8px;border-bottom-right-radius:8px;height:40px;line-height:28px;overflow:hidden;position:relative;font-size:12px}#search-index .search-panel .tabs-panel .tail{background:-webkit-gradient(linear,left top,right top,color-stop(0,hsla(0,0%,100%,0)),color-stop(100%,#fff));border-bottom-right-radius:8px;height:40px;position:absolute;pointer-events:none;right:0;top:0;width:24px;line-height:40px;text-align:center}#search-index .search-panel .tabs-panel .cards{white-space:nowrap;overflow-x:auto;-webkit-overflow-scrolling:touch;height:50px}#search-index .search-panel .tabs-panel .cards button{display:inline-block;line-height:40px;height:40px;margin:0;padding:0 16px;text-align:center}#search-index .search-panel .tabs-panel .cards button.active{border-bottom:2px solid #f25d8e;color:#f25d8e}#search-index .nomore{background-color:#fff}#search-index .error{text-align:center;margin-top:50px;font-size:13px;color:#6d757a}#search-index .post-flow-item,#search-index .score-flow-item{margin-left:-15px;margin-right:-15px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 220:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(221);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"66509177\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 221:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".search-item-user:after,.search-item-user:before{content:\\\"\\\";clear:both;display:table}@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.search-item-user{position:relative;padding:12px 0;border-bottom:1px solid #e5e9ef}.search-item-user .avatar{float:left;margin-right:12px}.search-item-user .intro{overflow:hidden}.search-item-user .intro .head{margin-bottom:5px}.search-item-user .intro .head .badge{display:inline-block;height:22px;padding:0 10px;border:1px solid #979797;color:#979797;text-align:center;line-height:21px;border-radius:100px;margin-right:12px;font-size:11px}.search-item-user .intro .head .nickname{color:#222;font-size:16px;margin-right:14px;font-weight:700;line-height:21px}.search-item-user .intro .signature{font-size:12px;color:#6d757a;line-height:16px;max-height:32px;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 222:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(223);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"77a353e8\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 223:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".search-item-bangumi:after,.search-item-bangumi:before{content:\\\"\\\";clear:both;display:table}@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.search-item-bangumi{position:relative;padding:12px 0;border-bottom:1px solid #e5e9ef}.search-item-bangumi .avatar{float:left;margin-right:12px;width:60px;height:80px;border-radius:4px;overflow:hidden}.search-item-bangumi .avatar img{width:100%;height:100%}.search-item-bangumi .intro{overflow:hidden}.search-item-bangumi .intro .head{margin-bottom:5px}.search-item-bangumi .intro .head .badge{display:inline-block;height:22px;padding:0 10px;border:1px solid #979797;color:#979797;text-align:center;line-height:21px;border-radius:100px;margin-right:12px;font-size:11px}.search-item-bangumi .intro .head .name{color:#222;font-size:16px;margin-right:14px;font-weight:700;line-height:21px}.search-item-bangumi .intro .summary{font-size:12px;color:#6d757a;line-height:16px;max-height:32px;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 224:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(225);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"ca1dc3d6\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 225:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".search-item-video:after,.search-item-video:before{content:\\\"\\\";clear:both;display:table}@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.search-item-video{position:relative;padding:12px 0;border-bottom:1px solid #e5e9ef}.search-item-video .in-common-avatar{float:left;margin-right:12px;width:60px;height:43px;border-radius:4px;overflow:hidden}.search-item-video .in-common-avatar img{width:100%;height:100%}.search-item-video .avatar{float:left;margin-right:12px;width:105px;height:65px;border-radius:4px;overflow:hidden}.search-item-video .avatar img{width:100%;height:100%}.search-item-video .intro{overflow:hidden}.search-item-video .intro .head{margin-bottom:5px}.search-item-video .intro .head .badge{display:inline-block;height:22px;padding:0 10px;border:1px solid #979797;color:#979797;text-align:center;line-height:21px;border-radius:100px;margin-right:12px;font-size:11px}.search-item-video .intro .head .name{color:#222;font-size:16px;margin-right:14px;font-weight:700;line-height:21px}.search-item-video .intro .summary{font-size:12px;color:#6d757a;line-height:16px;max-height:32px;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 311:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: external \"core-js/modules/es6.regexp.search\"\nvar es6_regexp_search_ = __webpack_require__(92);\nvar es6_regexp_search__default = /*#__PURE__*/__webpack_require__.n(es6_regexp_search_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/regenerator\"\nvar regenerator_ = __webpack_require__(0);\nvar regenerator__default = /*#__PURE__*/__webpack_require__.n(regenerator_);\n\n// EXTERNAL MODULE: external \"regenerator-runtime/runtime\"\nvar runtime_ = __webpack_require__(1);\nvar runtime__default = /*#__PURE__*/__webpack_require__.n(runtime_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/asyncToGenerator\"\nvar asyncToGenerator_ = __webpack_require__(2);\nvar asyncToGenerator__default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator_);\n\n// EXTERNAL MODULE: ./src/components/search/Input.vue + 2 modules\nvar Input = __webpack_require__(135);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/search/flows/UserItem.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var UserItem = ({\n  name: \"SearchItemUser\",\n  props: {\n    item: {\n      required: true,\n      type: Object\n    },\n    inCommon: {\n      required: true,\n      type: Boolean,\n      default: false\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-cbf49c6e\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/search/flows/UserItem.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search-item-user\"},[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.item.zone)))+\" class=\\\"avatar\\\">\",\"</a>\",[_c('v-img',{attrs:{\"src\":_vm.item.avatar,\"avatar\":true,\"size\":\"60\"}})],1),_vm._ssrNode(\"<div class=\\\"intro\\\"><div class=\\\"head\\\">\"+((_vm.inCommon)?(\"<span class=\\\"badge\\\">用户</span>\"):\"<!---->\")+\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.item.zone)))+\" class=\\\"nickname\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.nickname))+\"</a></div><a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.item.zone)))+\"><p class=\\\"signature\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.signature))+\"</p></a></div>\")],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var flows_UserItem = (esExports);\n// CONCATENATED MODULE: ./src/components/search/flows/UserItem.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(220),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"801dd4c0\"\nvar Component = normalizeComponent(\n  UserItem,\n  flows_UserItem,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var search_flows_UserItem = (Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/search/flows/BangumiItem.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var BangumiItem = ({\n  name: \"SearchItemBangumi\",\n  props: {\n    item: {\n      required: true,\n      type: Object\n    },\n    inCommon: {\n      required: true,\n      type: Boolean,\n      default: false\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-dd2096ca\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/search/flows/BangumiItem.vue\nvar BangumiItem_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search-item-bangumi\"},[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.bangumi(_vm.item.id)))+\" class=\\\"avatar\\\"><img\"+(_vm._ssrAttr(\"src\",_vm.$resize(_vm.item.avatar, { width: 120, height: 160 })))+(_vm._ssrAttr(\"alt\",_vm.item.name))+\"></a><div class=\\\"intro\\\"><div class=\\\"head\\\">\"+((_vm.inCommon)?(\"<span class=\\\"badge\\\">番剧</span>\"):\"<!---->\")+\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.bangumi(_vm.item.id)))+\" class=\\\"name\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.name))+\"</a></div><a\"+(_vm._ssrAttr(\"href\",_vm.$alias.bangumi(_vm.item.id)))+\"><p class=\\\"summary\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.summary))+\"</p></a></div>\")])}\nvar BangumiItem_staticRenderFns = []\nvar BangumiItem_esExports = { render: BangumiItem_render, staticRenderFns: BangumiItem_staticRenderFns }\n/* harmony default export */ var flows_BangumiItem = (BangumiItem_esExports);\n// CONCATENATED MODULE: ./src/components/search/flows/BangumiItem.vue\nfunction BangumiItem_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(222),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar BangumiItem_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar BangumiItem___vue_template_functional__ = false\n/* styles */\nvar BangumiItem___vue_styles__ = BangumiItem_injectStyle\n/* scopeId */\nvar BangumiItem___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar BangumiItem___vue_module_identifier__ = \"1d0cfbcc\"\nvar BangumiItem_Component = BangumiItem_normalizeComponent(\n  BangumiItem,\n  flows_BangumiItem,\n  BangumiItem___vue_template_functional__,\n  BangumiItem___vue_styles__,\n  BangumiItem___vue_scopeId__,\n  BangumiItem___vue_module_identifier__\n)\n\n/* harmony default export */ var search_flows_BangumiItem = (BangumiItem_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/search/flows/VideoItem.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var VideoItem = ({\n  name: \"SearchItemVideo\",\n  props: {\n    item: {\n      required: true,\n      type: Object\n    },\n    inCommon: {\n      required: true,\n      type: Boolean,\n      default: false\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-59d08f04\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/search/flows/VideoItem.vue\nvar VideoItem_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search-item-video\"},[_vm._ssrNode(((_vm.inCommon)?(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.video(_vm.item.id)))+\" class=\\\"in-common-avatar\\\"><img\"+(_vm._ssrAttr(\"src\",_vm.$resize(_vm.item.poster, { width: 180, height: 102 })))+(_vm._ssrAttr(\"alt\",_vm.item.name))+\"></a>\"):(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.video(_vm.item.id)))+\" class=\\\"avatar\\\"><img\"+(_vm._ssrAttr(\"src\",_vm.$resize(_vm.item.poster, { width: 120, height: 86 })))+(_vm._ssrAttr(\"alt\",_vm.item.name))+\"></a>\"))+\"<div class=\\\"intro\\\"><div class=\\\"head\\\">\"+((_vm.inCommon)?(\"<span class=\\\"badge\\\">视频</span>\"):\"<!---->\")+\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.video(_vm.item.id)))+\" class=\\\"name\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.name))+\"</a></div><a\"+(_vm._ssrAttr(\"href\",_vm.$alias.video(_vm.item.id)))+\"><p class=\\\"summary\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.summary))+\"</p></a></div>\")])}\nvar VideoItem_staticRenderFns = []\nvar VideoItem_esExports = { render: VideoItem_render, staticRenderFns: VideoItem_staticRenderFns }\n/* harmony default export */ var flows_VideoItem = (VideoItem_esExports);\n// CONCATENATED MODULE: ./src/components/search/flows/VideoItem.vue\nfunction VideoItem_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(224),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar VideoItem_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar VideoItem___vue_template_functional__ = false\n/* styles */\nvar VideoItem___vue_styles__ = VideoItem_injectStyle\n/* scopeId */\nvar VideoItem___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar VideoItem___vue_module_identifier__ = \"fcaf1308\"\nvar VideoItem_Component = VideoItem_normalizeComponent(\n  VideoItem,\n  flows_VideoItem,\n  VideoItem___vue_template_functional__,\n  VideoItem___vue_styles__,\n  VideoItem___vue_scopeId__,\n  VideoItem___vue_module_identifier__\n)\n\n/* harmony default export */ var search_flows_VideoItem = (VideoItem_Component.exports);\n\n// EXTERNAL MODULE: ./src/components/flow/item/PostFlowItem.vue + 2 modules\nvar PostFlowItem = __webpack_require__(120);\n\n// EXTERNAL MODULE: ./src/components/flow/item/CartoonRoleFlowItem.vue + 2 modules\nvar CartoonRoleFlowItem = __webpack_require__(126);\n\n// EXTERNAL MODULE: ./src/components/flow/item/ScoreFlowItem.vue + 2 modules\nvar ScoreFlowItem = __webpack_require__(123);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/search/index.vue\n\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n\n\n/* harmony default export */ var search = ({\n  name: \"SearchIndex\",\n\n  asyncData(_ref) {\n    return asyncToGenerator__default()(\n    /*#__PURE__*/\n    regenerator__default.a.mark(function _callee() {\n      var store, route, ctx, args;\n      return regenerator__default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              store = _ref.store, route = _ref.route, ctx = _ref.ctx;\n              args = route.query;\n              _context.next = 4;\n              return store.dispatch(\"search/fetchData\", {\n                ctx,\n                type: args.type,\n                q: args.q\n              });\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }))();\n  },\n\n  components: {\n    vSearch: Input[\"a\" /* default */],\n    UserItem: search_flows_UserItem,\n    BangumiItem: search_flows_BangumiItem,\n    VideoItem: search_flows_VideoItem,\n    PostItem: PostFlowItem[\"a\" /* default */],\n    RoleItem: CartoonRoleFlowItem[\"a\" /* default */],\n    ScoreItem: ScoreFlowItem[\"a\" /* default */]\n  },\n\n  data() {\n    return {\n      words: this.$route.query.q\n    };\n  },\n\n  computed: {\n    resource() {\n      return this.$store.state.search.resource[this.selectedType] || {};\n    },\n\n    loading() {\n      return this.resource.loading;\n    },\n\n    list() {\n      return this.resource.list;\n    },\n\n    noMore() {\n      return this.resource.noMore;\n    },\n\n    total() {\n      return this.resource.total;\n    },\n\n    tabs() {\n      return this.$store.state.search.tabs;\n    },\n\n    selectedType() {\n      return this.$route.query.type;\n    }\n\n  },\n  methods: {\n    switchTab(tab) {\n      this.$router.push({\n        name: \"search-index\",\n        query: {\n          q: this.words,\n          type: tab\n        }\n      });\n    },\n\n    loadMore() {\n      var _this = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee2() {\n        return regenerator__default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                _context2.next = 3;\n                return _this.$store.dispatch(\"search/fetchMore\", {\n                  ctx: _this,\n                  type: _this.selectedType\n                });\n\n              case 3:\n                _context2.next = 8;\n                break;\n\n              case 5:\n                _context2.prev = 5;\n                _context2.t0 = _context2[\"catch\"](0);\n\n                _this.$toast.error(_context2.t0);\n\n              case 8:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[0, 5]]);\n      }))();\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-33f398f8\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/search/index.vue\nvar search_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"search-index\"}},[_vm._ssrNode(\"<div class=\\\"search-panel\\\">\",\"</div>\",[_c('v-search',{attrs:{\"type\":_vm.selectedType},model:{value:(_vm.words),callback:function ($$v) {_vm.words=$$v},expression:\"words\"}}),_vm._ssrNode(\"<div class=\\\"tabs-panel\\\"><div class=\\\"cards\\\">\"+(_vm._ssrList((_vm.tabs),function(tab,index){return (\"<button\"+(_vm._ssrClass(null,{ 'active': _vm.selectedType == index }))+\">\"+_vm._ssrEscape(_vm._s(tab))+\"</button>\")}))+\"</div><div class=\\\"tail\\\"></div></div>\")],2),_vm._l((_vm.tabs),function(tab,index){return (index == _vm.selectedType)?_vm._ssrNode(\"<div class=\\\"container\\\">\",\"</div>\",[(_vm.list)?_vm._l((_vm.list),function(item){return _c(((item.type) + \"-item\"),{key:((item.type) + \"-\" + (item.id)),tag:\"component\",attrs:{\"item\":item,\"in-common\":item.type != _vm.selectedType}})}):_vm._e()],2):_vm._e()}),(_vm.list)?_c('more-btn',{attrs:{\"no-more\":_vm.noMore,\"loading\":_vm.loading,\"length\":_vm.list.length},on:{\"fetch\":_vm.loadMore}}):_c('p',{staticClass:\"error\"},[_vm._v(\"错误的搜索类型\")])],2)}\nvar search_staticRenderFns = []\nvar search_esExports = { render: search_render, staticRenderFns: search_staticRenderFns }\n/* harmony default export */ var views_search = (search_esExports);\n// CONCATENATED MODULE: ./src/views/search/index.vue\nfunction search_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(218),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar search_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar search___vue_template_functional__ = false\n/* styles */\nvar search___vue_styles__ = search_injectStyle\n/* scopeId */\nvar search___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar search___vue_module_identifier__ = \"4ed20556\"\nvar search_Component = search_normalizeComponent(\n  search,\n  views_search,\n  search___vue_template_functional__,\n  search___vue_styles__,\n  search___vue_scopeId__,\n  search___vue_module_identifier__\n)\n\n/* harmony default export */ var src_views_search = __webpack_exports__[\"default\"] = (search_Component.exports);\n\n\n/***/ })\n\n};;",
    "8.server-bundle.js": "exports.ids = [8];\nexports.modules = {\n\n/***/ 100:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_core_js_modules_web_dom_iterable__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_core_js_modules_web_dom_iterable___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_core_js_modules_web_dom_iterable__);\n\n\n/**\n * [ scrollToY 指定的 DOM 过度滚动到指定的 Y 轴 ]\n * @param targetY\n * @param timer\n * @param dom\n * @param ease\n */\n/* harmony default export */ __webpack_exports__[\"a\"] = ((targetY, timer, dom, ease) => {\n  var currentTime = 0;\n  var element = dom ? [dom] : [document.getElementsByTagName(\"html\")[0], document.body];\n  var scrollY = dom ? dom.scrollTop : window.scrollY;\n  var scrollTargetY = targetY || 0;\n  var speed = timer || 2000;\n  var easing = ease || \"easeOutSine\";\n  var time = Math.max(0.1, Math.min(Math.abs(scrollY - scrollTargetY) / speed, 0.8));\n  var easingEquations = {\n    easeOutSine(pos) {\n      return Math.sin(pos * (Math.PI / 2));\n    },\n\n    easeInOutSine(pos) {\n      return -0.5 * (Math.cos(Math.PI * pos) - 1);\n    },\n\n    easeInOutQuint(pos) {\n      // eslint-disable-next-line\n      if ((pos /= 0.5) < 1) {\n        return 0.5 * Math.pow(pos, 5);\n      }\n\n      return 0.5 * (Math.pow(pos - 2, 5) + 2);\n    }\n\n  };\n  element.forEach(ele => {\n    if (!ele.requestAnimFrame) {\n      ele.requestAnimFrame = function () {\n        return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || function (callback) {\n          window.setTimeout(callback, 1000 / 60);\n        };\n      }().bind(window);\n    }\n  });\n\n  function tick() {\n    currentTime += 1 / 60;\n    var p = currentTime / time;\n    var t = easingEquations[easing](p);\n    element.forEach(ele => {\n      if (p < 1) {\n        ele.requestAnimFrame(tick);\n        ele.scrollTop = scrollY + (scrollTargetY - scrollY) * t;\n      } else {\n        ele.scrollTop = scrollTargetY;\n      }\n    });\n  }\n\n  tick();\n});\n\n/***/ }),\n\n/***/ 101:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: external \"@babel/runtime/regenerator\"\nvar regenerator_ = __webpack_require__(0);\nvar regenerator__default = /*#__PURE__*/__webpack_require__.n(regenerator_);\n\n// EXTERNAL MODULE: external \"regenerator-runtime/runtime\"\nvar runtime_ = __webpack_require__(1);\nvar runtime__default = /*#__PURE__*/__webpack_require__.n(runtime_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/asyncToGenerator\"\nvar asyncToGenerator_ = __webpack_require__(2);\nvar asyncToGenerator__default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator_);\n\n// EXTERNAL MODULE: ./src/assets/js/scrollToY.js\nvar scrollToY = __webpack_require__(100);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/CommentCreateForm.vue\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var CommentCreateForm = ({\n  name: \"CommentCreateForm\",\n  props: {\n    type: {\n      required: true,\n      type: String\n    },\n    id: {\n      required: true,\n      type: Number\n    },\n    masterId: {\n      required: true,\n      type: Number\n    }\n  },\n\n  data() {\n    return {\n      content: \"\"\n    };\n  },\n\n  computed: {\n    isGuest() {\n      return !this.$store.state.login;\n    },\n\n    submitting() {\n      return this.$store.state.comment.submitting;\n    }\n\n  },\n  methods: {\n    submit() {\n      var _this = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee() {\n        var result;\n        return regenerator__default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!_this.isGuest) {\n                  _context.next = 3;\n                  break;\n                }\n\n                _this.$channel.$emit(\"sign-in\");\n\n                return _context.abrupt(\"return\");\n\n              case 3:\n                if (_this.content) {\n                  _context.next = 6;\n                  break;\n                }\n\n                _this.$emit(\"close\");\n\n                return _context.abrupt(\"return\");\n\n              case 6:\n                if (!_this.submitting) {\n                  _context.next = 8;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 8:\n                _this.$store.commit(\"comment/SET_SUBMITTING\", {\n                  result: true\n                });\n\n                _context.prev = 9;\n                _context.next = 12;\n                return _this.$store.dispatch(\"comment/createMainComment\", {\n                  content: _this.content,\n                  images: [],\n                  type: _this.type,\n                  id: _this.id,\n                  ctx: _this\n                });\n\n              case 12:\n                result = _context.sent;\n\n                _this.$toast.success(result.message);\n\n                _this.$store.commit(\"UPDATE_USER_EXP\", result.exp);\n\n                _this.$emit(\"submit\");\n\n                _this.content = \"\";\n                setTimeout(() => {\n                  var dom = document.getElementById(`comment-${result.data.id}`);\n                  dom && Object(scrollToY[\"a\" /* default */])(_this.$utils.getOffsetTop(dom) - 100, 600);\n                }, 400);\n                _context.next = 23;\n                break;\n\n              case 20:\n                _context.prev = 20;\n                _context.t0 = _context[\"catch\"](9);\n\n                _this.$toast.error(_context.t0);\n\n              case 23:\n                _context.prev = 23;\n\n                _this.$store.commit(\"comment/SET_SUBMITTING\", {\n                  result: false\n                });\n\n                return _context.finish(23);\n\n              case 26:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[9, 20, 23, 26]]);\n      }))();\n    },\n\n    handleAreaFocus() {\n      document.body.scrollTop = 0;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-33995f98\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/CommentCreateForm.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"comment-create-form\"},[_vm._ssrNode(\"<textarea placeholder=\\\"来吧，尽情的（在1000字以内）发挥吧\\\" maxlength=\\\"1000\\\" class=\\\"content\\\"></textarea>\"),_c('el-button',{staticClass:\"submit-btn\",attrs:{\"loading\":_vm.submitting,\"type\":\"primary\"},on:{\"click\":_vm.submit}},[_vm._v(\"发布\")])],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var comments_CommentCreateForm = (esExports);\n// CONCATENATED MODULE: ./src/components/comments/CommentCreateForm.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(105),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"1d31a883\"\nvar Component = normalizeComponent(\n  CommentCreateForm,\n  comments_CommentCreateForm,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_CommentCreateForm = (Component.exports);\n\n// EXTERNAL MODULE: ./src/components/comments/SubCommentList.vue + 5 modules\nvar SubCommentList = __webpack_require__(102);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/CommentItem.vue\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var CommentItem = ({\n  name: \"CommentCommentItem\",\n  components: {\n    SubCommentList: SubCommentList[\"a\" /* default */]\n  },\n  props: {\n    comment: {\n      required: true,\n      type: Object\n    },\n    masterId: {\n      required: true,\n      type: Number\n    },\n    type: {\n      required: true,\n      type: String\n    }\n  },\n\n  data() {\n    return {\n      deleting: false,\n      liking: false\n    };\n  },\n\n  computed: {\n    currentUserId() {\n      return this.$store.state.login ? this.$store.state.user.id : 0;\n    },\n\n    isMine() {\n      return this.currentUserId === this.comment.from_user_id;\n    },\n\n    canDelete() {\n      return this.isMine || this.currentUserId === this.masterId;\n    },\n\n    actions() {\n      var result = [];\n\n      if (this.canDelete) {\n        result.push({\n          name: \"删除\",\n          method: this.deleteComment\n        });\n      }\n\n      result.push({\n        name: this.comment.liked ? \"取消赞\" : \"点赞\",\n        method: this.toggleLike\n      });\n      return result;\n    }\n\n  },\n  methods: {\n    toggleLike() {\n      var _this = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee() {\n        return regenerator__default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (_this.currentUserId) {\n                  _context.next = 3;\n                  break;\n                }\n\n                _this.$channel.$emit(\"sign-in\");\n\n                return _context.abrupt(\"return\");\n\n              case 3:\n                if (!_this.liking) {\n                  _context.next = 5;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 5:\n                _this.liking = true;\n                _context.prev = 6;\n                _context.next = 9;\n                return _this.$store.dispatch(\"comment/toggleLikeMainComment\", {\n                  ctx: _this,\n                  type: _this.type,\n                  id: _this.comment.id\n                });\n\n              case 9:\n                _context.next = 13;\n                break;\n\n              case 11:\n                _context.prev = 11;\n                _context.t0 = _context[\"catch\"](6);\n\n              case 13:\n                _context.prev = 13;\n                _this.liking = false;\n                return _context.finish(13);\n\n              case 16:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[6, 11, 13, 16]]);\n      }))();\n    },\n\n    deleteComment() {\n      if (this.deleting) {\n        return;\n      }\n\n      this.deleting = true;\n      this.$confirm(\"删除后无法找回, 是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(() => {\n        this.$store.dispatch(\"comment/deleteMainComment\", {\n          ctx: this,\n          type: this.type,\n          id: this.comment.id\n        });\n        this.$emit(\"delete\");\n      }).catch(e => {\n        this.deleting = false;\n\n        if (e === \"cancel\") {\n          return;\n        }\n\n        this.$toast.error(e);\n      });\n    },\n\n    handleCommentBtnClick() {\n      this.$channel.$emit(\"reply-comment\", {\n        id: this.comment.id,\n        targetUserId: this.comment.from_user_id,\n        targetUserName: this.comment.from_user_name\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-041aa410\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/CommentItem.vue\nvar CommentItem_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"comment-item\",attrs:{\"id\":(\"comment-\" + (_vm.comment.id))}},[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.comment.from_user_zone)))+\" class=\\\"avatar\\\">\",\"</a>\",[_c('v-img',{attrs:{\"src\":_vm.comment.from_user_avatar,\"avatar\":true,\"size\":\"35\"}})],1),_vm._ssrNode(\"<div class=\\\"content\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"header\\\">\",\"</div>\",[_c('v-popover',{attrs:{\"actions\":_vm.actions,\"report-id\":_vm.comment.id,\"report-type\":_vm.type + '_comment'}},[_c('button',{staticClass:\"tools-btn\"},[_vm._v(\"···\")])]),_vm._ssrNode(\"<div class=\\\"user\\\">\",\"</div>\",[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.comment.from_user_zone)))+\" class=\\\"nickname oneline\\\">\"+_vm._ssrEscape(_vm._s(_vm.comment.from_user_name))+\"</a>\"),_vm._ssrNode(\"<div class=\\\"info\\\">\",\"</div>\",[_vm._ssrNode(\"<span>\"+_vm._ssrEscape(\"第\"+_vm._s(_vm.comment.floor_count - 1)+\"楼\")+\"</span><span>·</span>\"),_c('v-time',{model:{value:(_vm.comment.created_at),callback:function ($$v) {_vm.$set(_vm.comment, \"created_at\", $$v)},expression:\"comment.created_at\"}})],2)],2)],1),_vm._ssrNode(\"<div class=\\\"main\\\">\"+(_vm._s(_vm.comment.content))+\"</div>\"),_vm._ssrNode(\"<div class=\\\"footer\\\">\",\"</div>\",[_c('sub-comment-list',{attrs:{\"parent-comment\":_vm.comment,\"type\":_vm.type}}),_vm._ssrNode(\"<div class=\\\"social\\\"><button\"+(_vm._ssrClass(null,[ _vm.comment.liked ? 'reply-liked-btn' : 'reply-like-btn' ]))+\"><i class=\\\"iconfont icon-icon_good\\\"></i>\"+_vm._ssrEscape(\"\\n          \"+_vm._s(_vm.comment.liked ? '已赞' : '赞')+\"\\n          \")+((_vm.comment.like_count)?(\"<span>\"+_vm._ssrEscape(\"(\"+_vm._s(_vm.comment.like_count)+\")\")+\"</span>\"):\"<!---->\")+\"</button><button class=\\\"reply-btn fr\\\">\\n          回复\\n        </button></div>\")],2)],2)])}\nvar CommentItem_staticRenderFns = []\nvar CommentItem_esExports = { render: CommentItem_render, staticRenderFns: CommentItem_staticRenderFns }\n/* harmony default export */ var comments_CommentItem = (CommentItem_esExports);\n// CONCATENATED MODULE: ./src/components/comments/CommentItem.vue\nfunction CommentItem_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(107),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar CommentItem_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar CommentItem___vue_template_functional__ = false\n/* styles */\nvar CommentItem___vue_styles__ = CommentItem_injectStyle\n/* scopeId */\nvar CommentItem___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar CommentItem___vue_module_identifier__ = \"8f3d9b14\"\nvar CommentItem_Component = CommentItem_normalizeComponent(\n  CommentItem,\n  comments_CommentItem,\n  CommentItem___vue_template_functional__,\n  CommentItem___vue_styles__,\n  CommentItem___vue_scopeId__,\n  CommentItem___vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_CommentItem = (CommentItem_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/CommentMain.vue\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ var CommentMain = ({\n  name: \"VCommentMain\",\n  components: {\n    CommentCreateForm: components_comments_CommentCreateForm,\n    CommentItem: components_comments_CommentItem\n  },\n  props: {\n    id: {\n      required: true,\n      type: [Number, String]\n    },\n    type: {\n      required: true,\n      type: String,\n      validator: val => ~[\"post\", \"video\", \"image\", \"score\", \"question\", \"answer\", \"role\"].indexOf(val)\n    },\n    onlySeeMaster: {\n      type: Boolean,\n      default: false\n    },\n    emptyText: {\n      type: String,\n      default: \"暂无评论，快来抢沙发吧╮(￣▽￣)╭！\"\n    },\n    masterId: {\n      required: true,\n      type: Number\n    },\n    bottomAppendComment: {\n      type: Boolean,\n      default: true\n    },\n    auto: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  data() {\n    return {\n      loadingMainComment: false,\n      focusCommentId: 0,\n      openFocusCommentDrawer: false,\n      loadingSubComment: false,\n      replyForm: {\n        id: \"\",\n        content: \"\",\n        targetUserId: 0,\n        targetUserName: \"\",\n        open: false,\n        replying: false,\n        liking: false\n      },\n      openCreateCommentDrawer: false\n    };\n  },\n\n  computed: {\n    store() {\n      return this.$store.state.comment;\n    },\n\n    list() {\n      return this.store.list;\n    },\n\n    noMore() {\n      return this.store.noMore;\n    },\n\n    total() {\n      return this.store.total;\n    },\n\n    focusComment() {\n      return this.focusCommentId ? this.list.filter(_ => _.id === this.focusCommentId)[0] : null;\n    },\n\n    currentUserId() {\n      return this.$store.state.login ? this.$store.state.user.id : 0;\n    }\n\n  },\n\n  mounted() {\n    this.scrollToReply();\n\n    if (this.auto) {\n      this.$channel.$on(`fire-load-comment-${this.type}-${this.id}`, () => {\n        this.loadMoreMainComment(true);\n      });\n    }\n\n    this.$channel.$on(\"load-all-sub-comment\", (_ref) => {\n      var id = _ref.id;\n      this.focusCommentId = id;\n      this.openFocusCommentDrawer = true;\n    });\n    this.$channel.$on(`open-create-comment-drawer-${this.type}-${this.id}`, () => {\n      if (!this.currentUserId) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      this.openCreateCommentDrawer = true;\n    });\n    this.$channel.$on(\"reply-comment\", (_ref2) => {\n      var id = _ref2.id,\n          targetUserId = _ref2.targetUserId,\n          targetUserName = _ref2.targetUserName;\n      this.handleSubCommentReply({\n        id,\n        targetUserId,\n        targetUserName\n      });\n    });\n    document.getElementById(\"comment-wrap\").addEventListener(\"click\", e => {\n      if (/reply-btn/.test(e.target.className) && this.$el.contains(e.target)) {\n        var area = document.getElementById(\"reply-comment-textarea\");\n        area.style.display = \"block\";\n        area.focus();\n      }\n    });\n  },\n\n  methods: {\n    loadMoreMainComment() {\n      var _this = this,\n          _arguments = arguments;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee() {\n        var firstRequest;\n        return regenerator__default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                firstRequest = _arguments.length > 0 && _arguments[0] !== undefined ? _arguments[0] : false;\n\n                if (!_this.loadingMainComment) {\n                  _context.next = 3;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 3:\n                _this.loadingMainComment = true;\n                _context.prev = 4;\n                _context.next = 7;\n                return _this.$store.dispatch(\"comment/getMainComments\", {\n                  ctx: _this,\n                  type: _this.type,\n                  id: _this.id,\n                  onlySeeMaster: _this.onlySeeMaster ? 1 : 0,\n                  firstRequest\n                });\n\n              case 7:\n                _context.next = 12;\n                break;\n\n              case 9:\n                _context.prev = 9;\n                _context.t0 = _context[\"catch\"](4);\n\n                _this.$toast.error(_context.t0);\n\n              case 12:\n                _context.prev = 12;\n                _this.loadingMainComment = false;\n                return _context.finish(12);\n\n              case 15:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[4, 9, 12, 15]]);\n      }))();\n    },\n\n    loadMoreSubComment() {\n      var _this2 = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee2() {\n        return regenerator__default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!_this2.loadingSubComment) {\n                  _context2.next = 2;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\");\n\n              case 2:\n                _this2.loadingSubComment = true;\n                _context2.prev = 3;\n                _context2.next = 6;\n                return _this2.$store.dispatch(\"comment/getSubComments\", {\n                  ctx: _this2,\n                  type: _this2.type,\n                  id: _this2.focusCommentId\n                });\n\n              case 6:\n                _context2.next = 11;\n                break;\n\n              case 8:\n                _context2.prev = 8;\n                _context2.t0 = _context2[\"catch\"](3);\n\n                _this2.$toast.error(_context2.t0);\n\n              case 11:\n                _context2.prev = 11;\n                _this2.loadingSubComment = false;\n                return _context2.finish(11);\n\n              case 14:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[3, 8, 11, 14]]);\n      }))();\n    },\n\n    commentToComment(data) {\n      this.handleSubCommentReply({\n        id: data.parent_id,\n        targetUserId: data.from_user_id,\n        targetUserName: data.from_user_name\n      });\n    },\n\n    handleCommentBtnClick() {\n      this.handleSubCommentReply({\n        id: this.focusComment.id,\n        targetUserId: this.focusComment.from_user_id,\n        targetUserName: this.focusComment.from_user_name\n      });\n    },\n\n    handleSubCommentReply(_ref3) {\n      var id = _ref3.id,\n          targetUserId = _ref3.targetUserId,\n          targetUserName = _ref3.targetUserName;\n\n      if (!this.currentUserId) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      this.replyForm.id = id;\n      this.replyForm.targetUserId = targetUserId;\n      this.replyForm.targetUserName = targetUserName;\n      this.replyForm.open = true;\n      setTimeout(() => {\n        document.body.scrollTop = 0;\n      }, 200);\n    },\n\n    toggleFocusCommentLike() {\n      var _this3 = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee3() {\n        return regenerator__default.a.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (_this3.currentUserId) {\n                  _context3.next = 3;\n                  break;\n                }\n\n                _this3.$channel.$emit(\"sign-in\");\n\n                return _context3.abrupt(\"return\");\n\n              case 3:\n                if (!_this3.replyForm.liking) {\n                  _context3.next = 5;\n                  break;\n                }\n\n                return _context3.abrupt(\"return\");\n\n              case 5:\n                _this3.replyForm.liking = true;\n                _context3.prev = 6;\n                _context3.next = 9;\n                return _this3.$store.dispatch(\"comment/toggleLikeMainComment\", {\n                  ctx: _this3,\n                  type: _this3.type,\n                  id: _this3.focusCommentId\n                });\n\n              case 9:\n                _context3.next = 13;\n                break;\n\n              case 11:\n                _context3.prev = 11;\n                _context3.t0 = _context3[\"catch\"](6);\n\n              case 13:\n                _context3.prev = 13;\n                _this3.replyForm.liking = false;\n                return _context3.finish(13);\n\n              case 16:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[6, 11, 13, 16]]);\n      }))();\n    },\n\n    handleReplyDrawerClose() {\n      document.getElementById(\"reply-comment-textarea\").style.display = \"none\";\n    },\n\n    handleReplySubmit() {\n      var _this4 = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee4() {\n        var result;\n        return regenerator__default.a.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                if (_this4.currentUserId) {\n                  _context4.next = 3;\n                  break;\n                }\n\n                _this4.$channel.$emit(\"sign-in\");\n\n                return _context4.abrupt(\"return\");\n\n              case 3:\n                if (_this4.replyForm.content) {\n                  _context4.next = 5;\n                  break;\n                }\n\n                return _context4.abrupt(\"return\");\n\n              case 5:\n                if (!_this4.replyForm.replying) {\n                  _context4.next = 7;\n                  break;\n                }\n\n                return _context4.abrupt(\"return\");\n\n              case 7:\n                _this4.replyForm.replying = true;\n                _context4.prev = 8;\n                _context4.next = 11;\n                return _this4.$store.dispatch(\"comment/createSubComment\", {\n                  ctx: _this4,\n                  id: _this4.replyForm.id,\n                  type: _this4.type,\n                  content: _this4.replyForm.content,\n                  targetUserId: _this4.replyForm.targetUserId\n                });\n\n              case 11:\n                result = _context4.sent;\n                _this4.replyForm.open = false;\n                _this4.replyForm.content = \"\";\n\n                _this4.$toast.success(result.message);\n\n                _this4.$store.commit(\"UPDATE_USER_EXP\", result.exp);\n\n                _context4.next = 21;\n                break;\n\n              case 18:\n                _context4.prev = 18;\n                _context4.t0 = _context4[\"catch\"](8);\n\n                _this4.$toast.error(_context4.t0);\n\n              case 21:\n                _context4.prev = 21;\n                _this4.replyForm.replying = false;\n\n                _this4.handleReplyDrawerClose();\n\n                return _context4.finish(21);\n\n              case 25:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this, [[8, 18, 21, 25]]);\n      }))();\n    },\n\n    writeComment() {\n      this.$channel.$emit(`open-create-comment-drawer-${this.type}-${this.id}`);\n    },\n\n    closeCommentDrawer() {\n      this.openCreateCommentDrawer = false;\n    },\n\n    submitCommentCallback() {\n      this.openCreateCommentDrawer = false;\n      this.$emit(\"create-main-comment\");\n    },\n\n    deleteCommentCallback() {\n      this.$emit(\"delete-main-comment\");\n    },\n\n    scrollToReply() {\n      var replyId = this.$route.query[\"comment-id\"];\n\n      if (!replyId) {\n        return;\n      }\n\n      var reply = document.getElementById(`comment-${replyId}`);\n\n      if (!reply) {\n        return;\n      }\n\n      setTimeout(() => {\n        Object(scrollToY[\"a\" /* default */])(this.$utils.getOffsetTop(reply) - 100, 600);\n      }, 400);\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-dbd4bc0e\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/CommentMain.vue\nvar CommentMain_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"comment-wrap\"}},[_vm._t(\"header\",[(!_vm.auto)?_c('div',{staticClass:\"hr\"}):_vm._e(),_c('h3',{staticClass:\"sub-title\"},[_vm._v(\"\\n      评论\"+_vm._s(_vm.total ? (\"(\" + _vm.total + \")\") : '')+\"\\n      \"),_vm._t(\"header-btn\"),_c('button',{staticClass:\"write-btn\",on:{\"click\":_vm.writeComment}},[_vm._v(\"写评论\")])],2)]),(_vm.list.length)?[_vm._ssrNode(\"<div id=\\\"comment-list-wrap\\\">\",\"</div>\",_vm._l((_vm.list),function(comment){return _vm._ssrNode(\"<div class=\\\"comment-item-wrap\\\">\",\"</div>\",[_vm._t(\"comment-item\",[_c('comment-item',{attrs:{\"type\":_vm.type,\"comment\":comment,\"master-id\":_vm.masterId},on:{\"delete\":_vm.deleteCommentCallback}})],{comment:comment,reply:_vm.handleSubCommentReply})],2)})),_vm._ssrNode(\"<div id=\\\"comment-list-footer\\\">\",\"</div>\",[_vm._ssrNode(((_vm.bottomAppendComment)?(\"<button class=\\\"append-comment-btn\\\">写评论</button>\"):\"<!---->\")),_c('more-btn',{attrs:{\"no-more\":_vm.noMore,\"loading\":_vm.loadingMainComment,\"auto\":true},on:{\"fetch\":function($event){_vm.loadMoreMainComment(false)}}})],2)]:(_vm.emptyText)?_vm._ssrNode((\"<p class=\\\"no-content\\\">\"+_vm._ssrEscape(_vm._s(_vm.emptyText))+\"</p>\")):_vm._e(),_c('v-drawer',{staticClass:\"focus-comment-drawer\",attrs:{\"header-text\":(\"评论列表\" + (_vm.focusComment && _vm.focusComment.floor_count ? (\" - \" + (_vm.focusComment.floor_count) + \" 楼\") : '')),\"backdrop\":false,\"from\":\"bottom\",\"size\":\"100%\"},model:{value:(_vm.openFocusCommentDrawer),callback:function ($$v) {_vm.openFocusCommentDrawer=$$v},expression:\"openFocusCommentDrawer\"}},[(_vm.focusComment)?[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"reply\"},[_c('div',{staticClass:\"user clearfix\"},[_c('a',{staticClass:\"avatar\",attrs:{\"href\":_vm.$alias.user(_vm.focusComment.from_user_zone)}},[_c('v-img',{attrs:{\"src\":_vm.focusComment.from_user_avatar,\"avatar\":true,\"size\":\"35\"}})],1),_c('div',{staticClass:\"summary\"},[_c('a',{staticClass:\"nickname\",attrs:{\"href\":_vm.$alias.user(_vm.focusComment.from_user_zone)},domProps:{\"textContent\":_vm._s(_vm.focusComment.from_user_name)}}),_c('div',{staticClass:\"info\"},[_c('v-time',{model:{value:(_vm.focusComment.created_at),callback:function ($$v) {_vm.$set(_vm.focusComment, \"created_at\", $$v)},expression:\"focusComment.created_at\"}})],1)])]),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"text-area\",domProps:{\"innerHTML\":_vm._s(_vm.focusComment.content)}}),_c('div',{staticClass:\"image-area\"},_vm._l((_vm.focusComment.images),function(img,idx){return _c('div',{key:idx,staticClass:\"image-package\"},[_c('v-img',{attrs:{\"src\":img.url,\"width\":img.width,\"height\":img.height,\"full\":true}})],1)}))]),_c('div',{staticClass:\"social\"},[_c('button',{class:[ _vm.focusComment.liked ? 'reply-liked-btn' : 'reply-like-btn' ],on:{\"click\":_vm.toggleFocusCommentLike}},[_c('i',{staticClass:\"iconfont icon-icon_good\"}),_vm._v(\"\\n              \"+_vm._s(_vm.focusComment.liked ? '已赞' : '赞')+\"\\n              \"),(_vm.focusComment.like_count)?_c('span',[_vm._v(\"(\"+_vm._s(_vm.focusComment.like_count)+\")\")]):_vm._e()]),_c('button',{staticClass:\"reply-btn fr\",on:{\"click\":_vm.handleCommentBtnClick}},[_vm._v(\"\\n              回复\\n            \")])])]),_c('div',{staticClass:\"hr\"}),_c('p',{staticClass:\"total\"},[_vm._v(_vm._s(_vm.focusComment.comments.total)+\"条回复\")]),_c('ul',{staticClass:\"comments\"},_vm._l((_vm.focusComment.comments.list),function(item){return _c('li',{key:item.id},[_c('div',{staticClass:\"from-user\"},[_c('a',{staticClass:\"avatar\",attrs:{\"href\":_vm.$alias.user(item.from_user_zone)}},[_c('v-img',{attrs:{\"src\":item.from_user_avatar,\"avatar\":true,\"size\":\"35\"}})],1),_c('div',{staticClass:\"summary\"},[_c('div',{staticClass:\"users oneline\"},[_c('a',{staticClass:\"nickname\",attrs:{\"href\":_vm.$alias.user(item.from_user_zone)},domProps:{\"textContent\":_vm._s(item.from_user_name)}}),(item.to_user_zone)?[_vm._v(\"\\n                    回复\\n                    \"),_c('a',{staticClass:\"nickname\",attrs:{\"href\":_vm.$alias.user(item.to_user_zone)},domProps:{\"textContent\":_vm._s(item.to_user_name)}})]:_vm._e(),_vm._v(\"\\n                  :\\n                \")],2),_c('div',{staticClass:\"info\"},[_c('v-time',{model:{value:(item.created_at),callback:function ($$v) {_vm.$set(item, \"created_at\", $$v)},expression:\"item.created_at\"}})],1)])]),_c('div',{staticClass:\"main\"},[_c('div',{staticClass:\"content reply-btn\",domProps:{\"textContent\":_vm._s(item.content)},on:{\"click\":function($event){_vm.commentToComment(item)}}})])])}))]),_c('more-btn',{attrs:{\"no-more\":_vm.focusComment.comments.noMore,\"loading\":_vm.loadingSubComment},on:{\"fetch\":_vm.loadMoreSubComment}})]:_vm._e()],2),_vm._ssrNode(\"<div class=\\\"reply-comment-drawer-wrap\\\">\",\"</div>\",[_c('v-drawer',{staticClass:\"reply-comment-drawer\",attrs:{\"header-text\":_vm.currentUserId === _vm.replyForm.targetUserId ? '回复' : (\"回复：\" + (_vm.replyForm.targetUserName)),\"backdrop\":false,\"from\":\"right\",\"size\":\"100%\",\"submit-text\":\"发布\"},on:{\"cancel\":_vm.handleReplyDrawerClose,\"submit\":_vm.handleReplySubmit},model:{value:(_vm.replyForm.open),callback:function ($$v) {_vm.$set(_vm.replyForm, \"open\", $$v)},expression:\"replyForm.open\"}}),_vm._ssrNode(\"<textarea id=\\\"reply-comment-textarea\\\" placeholder=\\\"100字以内任意发挥\\\" maxlength=\\\"100\\\"\"+(_vm._ssrClass(null,{ 'fade-in': _vm.replyForm.open }))+\"></textarea>\")],2),_c('v-drawer',{attrs:{\"from\":\"right\",\"size\":\"100%\",\"header-text\":\"发表评论\"},model:{value:(_vm.openCreateCommentDrawer),callback:function ($$v) {_vm.openCreateCommentDrawer=$$v},expression:\"openCreateCommentDrawer\"}},[(_vm.openCreateCommentDrawer)?_c('div',{staticClass:\"container\"},[_vm._t(\"reply-form\",[(_vm.openCreateCommentDrawer)?_c('comment-create-form',{attrs:{\"id\":_vm.id,\"type\":_vm.type,\"master-id\":_vm.masterId},on:{\"close\":_vm.closeCommentDrawer,\"submit\":_vm.submitCommentCallback}}):_vm._e()],{close:_vm.closeCommentDrawer})],2):_vm._e()])],2)}\nvar CommentMain_staticRenderFns = []\nvar CommentMain_esExports = { render: CommentMain_render, staticRenderFns: CommentMain_staticRenderFns }\n/* harmony default export */ var comments_CommentMain = (CommentMain_esExports);\n// CONCATENATED MODULE: ./src/components/comments/CommentMain.vue\nfunction CommentMain_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(103),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar CommentMain_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar CommentMain___vue_template_functional__ = false\n/* styles */\nvar CommentMain___vue_styles__ = CommentMain_injectStyle\n/* scopeId */\nvar CommentMain___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar CommentMain___vue_module_identifier__ = \"71b0fa1c\"\nvar CommentMain_Component = CommentMain_normalizeComponent(\n  CommentMain,\n  comments_CommentMain,\n  CommentMain___vue_template_functional__,\n  CommentMain___vue_styles__,\n  CommentMain___vue_scopeId__,\n  CommentMain___vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_CommentMain = __webpack_exports__[\"a\"] = (CommentMain_Component.exports);\n\n\n/***/ }),\n\n/***/ 102:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/SubCommentItem.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var SubCommentItem = ({\n  name: \"SubCommentItem\",\n  props: {\n    comment: {\n      required: true,\n      type: Object\n    },\n    parentUserId: {\n      required: true,\n      type: Number\n    },\n    parentCommentId: {\n      required: true,\n      type: Number\n    },\n    type: {\n      required: true,\n      type: String\n    }\n  },\n\n  data() {\n    return {\n      deleting: false\n    };\n  },\n\n  computed: {\n    currentUserId() {\n      return this.$store.state.login ? this.$store.state.user.id : 0;\n    },\n\n    isMine() {\n      return this.currentUserId === this.comment.from_user_id;\n    },\n\n    canDelete() {\n      return this.isMine || this.currentUserId === this.parentUserId;\n    }\n\n  },\n  methods: {\n    handleSubCommentClick() {\n      if (this.isMine) {\n        this.deleteComment();\n        this.$nextTick(() => {\n          document.getElementById(\"reply-comment-textarea\").style.display = \"none\";\n        });\n        return;\n      }\n\n      if (this.currentUserId) {\n        this.$channel.$emit(\"reply-comment\", {\n          id: this.parentCommentId,\n          targetUserId: this.comment.from_user_id,\n          targetUserName: this.comment.from_user_name\n        });\n      }\n    },\n\n    deleteComment() {\n      if (!this.canDelete) {\n        return;\n      }\n\n      if (this.deleting) {\n        return;\n      }\n\n      this.deleting = true;\n      this.$confirm(\"删除后无法找回, 是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(() => {\n        this.$store.dispatch(\"comment/deleteSubComment\", {\n          ctx: this,\n          type: this.type,\n          id: this.comment.id,\n          parentId: this.comment.parent_id\n        });\n      }).catch(e => {\n        this.deleting = false;\n\n        if (e === \"cancel\") {\n          return;\n        }\n\n        this.$toast.error(e);\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3bb44ec9\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/SubCommentItem.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sub-comment-item\"},[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.comment.from_user_zone)))+\" class=\\\"nickname\\\">\"+_vm._ssrEscape(_vm._s(_vm.comment.from_user_name))+\"</a>\"+((_vm.comment.to_user_zone)?(\"\\n    回复\\n    <a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.comment.to_user_zone)))+\" class=\\\"nickname\\\">\"+_vm._ssrEscape(_vm._s(_vm.comment.to_user_name))+\"</a>\"):\"<!---->\")+\"\\n  :\\n  <span class=\\\"reply-btn comment-content\\\">\"+_vm._ssrEscape(_vm._s(_vm.comment.content))+\"</span>\")])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var comments_SubCommentItem = (esExports);\n// CONCATENATED MODULE: ./src/components/comments/SubCommentItem.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(111),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"3fc64a04\"\nvar Component = normalizeComponent(\n  SubCommentItem,\n  comments_SubCommentItem,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_SubCommentItem = (Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/SubCommentList.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var SubCommentList = ({\n  name: \"PostSubCommentList\",\n  components: {\n    SubCommentItem: components_comments_SubCommentItem\n  },\n  props: {\n    parentComment: {\n      required: true,\n      type: Object\n    },\n    type: {\n      required: true,\n      type: String\n    }\n  },\n  computed: {\n    comments() {\n      return this.parentComment.comments;\n    },\n\n    authorId() {\n      return this.parentComment.from_user_id;\n    },\n\n    hasComment() {\n      return !!this.comments.list.length;\n    },\n\n    filterComments() {\n      var data = this.comments;\n      var comments = data.list;\n      var result = comments.slice(0, 5);\n\n      if (comments.every(_ => _.id <= data.maxId)) {\n        return result;\n      }\n\n      var ids = result.map(_ => _.id);\n      return result.concat(comments.filter(_ => _.id > data.maxId && ids.indexOf(_.id) === -1));\n    }\n\n  },\n  methods: {\n    loadAllComment() {\n      this.$channel.$emit(\"load-all-sub-comment\", {\n        id: this.parentComment.id\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-14eb249e\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/SubCommentList.vue\nvar SubCommentList_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sub-comment-list-wrap\"},[(_vm.hasComment)?_vm._ssrNode(\"<div class=\\\"sub-comment-list\\\">\",\"</div>\",[_vm._l((_vm.filterComments),function(comment){return _c('sub-comment-item',{key:comment.id,attrs:{\"comment\":comment,\"parent-user-id\":_vm.authorId,\"parent-comment-id\":_vm.parentComment.id,\"type\":_vm.type}})}),_vm._ssrNode(((!_vm.comments.noMore || _vm.comments.list.length > 5)?(\"<button class=\\\"load-all-comment\\\">\"+_vm._ssrEscape(\"\\n      查看全部\"+_vm._s(_vm.comments.total)+\"条评论\\n    \")+\"</button>\"):\"<!---->\"))],2):_vm._e()])}\nvar SubCommentList_staticRenderFns = []\nvar SubCommentList_esExports = { render: SubCommentList_render, staticRenderFns: SubCommentList_staticRenderFns }\n/* harmony default export */ var comments_SubCommentList = (SubCommentList_esExports);\n// CONCATENATED MODULE: ./src/components/comments/SubCommentList.vue\nfunction SubCommentList_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(109),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar SubCommentList_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar SubCommentList___vue_template_functional__ = false\n/* styles */\nvar SubCommentList___vue_styles__ = SubCommentList_injectStyle\n/* scopeId */\nvar SubCommentList___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar SubCommentList___vue_module_identifier__ = \"2bbb59ee\"\nvar SubCommentList_Component = SubCommentList_normalizeComponent(\n  SubCommentList,\n  comments_SubCommentList,\n  SubCommentList___vue_template_functional__,\n  SubCommentList___vue_styles__,\n  SubCommentList___vue_scopeId__,\n  SubCommentList___vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_SubCommentList = __webpack_exports__[\"a\"] = (SubCommentList_Component.exports);\n\n\n/***/ }),\n\n/***/ 103:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(104);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"beeeca2c\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 104:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}#comment-wrap .sub-title{margin-top:15px;margin-bottom:15px}#comment-wrap .sub-title .write-btn{float:right;font-weight:700;font-size:13px}#comment-wrap #comment-list-footer{margin-left:-15px;margin-right:-15px}#comment-wrap .focus-comment-drawer .reply .user{padding-top:5px}#comment-wrap .focus-comment-drawer .reply .user .avatar{float:left;margin-right:9px}#comment-wrap .focus-comment-drawer .reply .user .summary{overflow:hidden}#comment-wrap .focus-comment-drawer .reply .user .summary .nickname{font-size:14px;color:#333}#comment-wrap .focus-comment-drawer .reply .user .summary .info{line-height:16px;font-size:12px;color:#999}#comment-wrap .focus-comment-drawer .reply .user .summary .info span{margin-right:5px}#comment-wrap .focus-comment-drawer .reply .content{font-size:16px;line-height:24px;padding-top:16px;margin-bottom:16px;color:#000}#comment-wrap .focus-comment-drawer .reply .content .image-area{margin:16px 0}#comment-wrap .focus-comment-drawer .reply .content .image-area img{width:100%;height:auto}#comment-wrap .focus-comment-drawer .reply .social{margin-bottom:15px;font-size:12px}#comment-wrap .focus-comment-drawer .reply .social .reply-liked-btn{color:#0381aa}#comment-wrap .focus-comment-drawer .reply .social button{color:#666;margin-left:3px}#comment-wrap .focus-comment-drawer .total{height:40px;line-height:40px;color:#000;font-size:16px}#comment-wrap .focus-comment-drawer .comments li{padding:17px 0 13px;position:relative}#comment-wrap .focus-comment-drawer .comments li:after{content:\\\"\\\";position:absolute;left:0;right:0;bottom:0;height:1px;background-color:#f0f0f0;-webkit-transform:scaleY(.5);-ms-transform:scaleY(.5);transform:scaleY(.5);margin-left:-15px;margin-right:-15px}#comment-wrap .focus-comment-drawer .comments li .from-user .avatar{float:left;display:block;margin-right:9px}#comment-wrap .focus-comment-drawer .comments li .from-user .summary{overflow:hidden}#comment-wrap .focus-comment-drawer .comments li .from-user .summary .users{font-size:14px;margin-bottom:6px;margin-top:2px;line-height:14px}#comment-wrap .focus-comment-drawer .comments li .from-user .summary .users .nickname{color:#0381aa}#comment-wrap .focus-comment-drawer .comments li .from-user .summary .info{font-size:12px;line-height:12px;color:#999}#comment-wrap .focus-comment-drawer .comments li .main{margin-left:45px;padding-top:10px}#comment-wrap .focus-comment-drawer .comments li .main .content{font-size:14px;line-height:21px;word-break:break-all}#comment-wrap .reply-comment-drawer-wrap #reply-comment-textarea{position:fixed;left:0;top:60px;width:100%;height:250px;background-color:transparent;font-size:16px;line-height:24px;color:#000;font-weight:400;z-index:101;padding-left:15px;padding-right:15px;display:none;opacity:0}#comment-wrap .reply-comment-drawer-wrap #reply-comment-textarea.fade-in{opacity:1;-webkit-transition-delay:.4s;-o-transition-delay:.4s;transition-delay:.4s}#comment-wrap .append-comment-btn{width:100%;padding:15px 0;font-size:13px}#comment-wrap .no-content{text-align:center;margin-top:30px;margin-bottom:30px;font-size:12px;color:#99a2aa}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 105:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(106);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"303ce1cc\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 106:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.comment-create-form .content{font-size:16px;line-height:24px;color:#000;font-weight:400;height:250px;margin-bottom:5px}.comment-create-form .submit-btn{margin-top:15px;width:100%}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 107:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(108);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"23a510bc\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 108:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.comment-item{position:relative;margin-top:15px;padding-bottom:15px}.comment-item:after{content:\\\"\\\";position:absolute;left:0;right:0;bottom:0;height:1px;background-color:#f0f0f0;-webkit-transform:scaleY(.5);-ms-transform:scaleY(.5);transform:scaleY(.5);margin-left:-15px;margin-right:-15px}.comment-item .avatar{float:left;margin-right:9px}.comment-item .content{overflow:hidden}.comment-item .content .header .tools-btn{float:right;line-height:16px;font-size:12px;color:#535353;margin-top:9px;margin-left:4px}.comment-item .content .header .user .nickname{font-size:14px;line-height:21px;display:block;color:#333}.comment-item .content .header .user .info{color:#999;line-height:14px;font-size:12px}.comment-item .content .header .user .info span{margin-right:5px}.comment-item .content .main{font-size:16px;margin:10px 0 4px;color:#333;line-height:24px;min-height:65px}.comment-item .content .main .image-area{margin:10px 0}.comment-item .content .main .image-area img{width:100%;height:auto}.comment-item .content .footer .social{margin-top:15px;font-size:12px}.comment-item .content .footer .social .reply-liked-btn{color:#0381aa}.comment-item .content .footer .social button{color:#666;margin-left:3px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 109:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(110);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"75d7965e\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 110:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.sub-comment-list-wrap{position:relative;background-color:#f7f8fa;border-radius:5px}.sub-comment-list-wrap .sub-comment-list{padding:7px 0 7.5px;margin-top:5px}.sub-comment-list-wrap .load-all-comment{position:relative;margin-top:6px;font-size:12px;margin-bottom:0;padding:0 10px;color:#999;width:100%;text-align:left}.sub-comment-list-wrap .load-all-comment:after{content:\\\"\\\";position:absolute;top:50%;border:3px solid #f5f5f5;border-left-color:#999;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);margin-left:4px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 111:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(112);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"6b8bda44\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 112:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.sub-comment-item{padding:2px 10px;font-size:14px;line-height:18px}.sub-comment-item .nickname{color:#0381aa}.sub-comment-item .comment-content{margin-right:6px;word-break:break-all}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 113:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: external \"@babel/runtime/regenerator\"\nvar regenerator_ = __webpack_require__(0);\nvar regenerator__default = /*#__PURE__*/__webpack_require__.n(regenerator_);\n\n// EXTERNAL MODULE: external \"regenerator-runtime/runtime\"\nvar runtime_ = __webpack_require__(1);\nvar runtime__default = /*#__PURE__*/__webpack_require__.n(runtime_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/asyncToGenerator\"\nvar asyncToGenerator_ = __webpack_require__(2);\nvar asyncToGenerator__default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator_);\n\n// EXTERNAL MODULE: ./src/api/toggleApi.js\nvar toggleApi = __webpack_require__(22);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/common/SocialPanel.vue\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var SocialPanel = ({\n  name: \"SocialPanel\",\n  props: {\n    id: {\n      required: true,\n      type: Number\n    },\n    type: {\n      required: true,\n      type: String,\n      validator: val => ~[\"post\", \"video\", \"image\", \"score\", \"answer\", \"video\"].indexOf(val)\n    },\n    isCreator: {\n      required: true,\n      type: Boolean\n    },\n    userId: {\n      required: true,\n      type: Number\n    },\n    liked: {\n      type: Boolean,\n      default: false\n    },\n    marked: {\n      type: Boolean,\n      default: false\n    },\n    rewarded: {\n      type: Boolean,\n      default: false\n    },\n    likeUsers: {\n      required: true,\n      type: Object\n    },\n    rewardUsers: {\n      required: true,\n      type: Object\n    },\n    markUsers: {\n      required: true,\n      type: Object\n    }\n  },\n\n  data() {\n    return {\n      loadingReward: false,\n      loadingLike: false,\n      loadingMark: false,\n      displayCount: 7\n    };\n  },\n\n  computed: {\n    currentUserId() {\n      return this.$store.state.login ? this.$store.state.user.id : 0;\n    },\n\n    isMine() {\n      return this.userId === this.currentUserId;\n    },\n\n    displayUsers() {\n      var users = this.isCreator ? this.rewardUsers.list : this.likeUsers.list;\n      return users.slice(0, this.displayCount);\n    }\n\n  },\n  methods: {\n    toggleReward() {\n      var _this = this;\n\n      if (!this.currentUserId) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      if (this.isMine) {\n        this.$toast.info(\"不能给自己打赏\");\n        return;\n      }\n\n      this.$confirm(this.rewarded ? \"即使取消投食你的金币也不会回到你的钱包, 是否继续?\" : \"向TA投食需要消耗你一枚金币，是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(\n      /*#__PURE__*/\n      asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee() {\n        var api, user, result;\n        return regenerator__default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!_this.loadingReward) {\n                  _context.next = 2;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 2:\n                _this.loadingReward = true;\n                api = new toggleApi[\"a\" /* default */](_this);\n                user = _this.$store.state.user;\n                _context.prev = 5;\n                _context.next = 8;\n                return api.reward({\n                  id: _this.id,\n                  type: _this.type\n                });\n\n              case 8:\n                result = _context.sent;\n\n                if (result) {\n                  _this.$store.commit(\"USE_COIN\");\n                }\n\n                _this.$store.commit(`${_this.type}/SOCIAL_TOGGLE`, {\n                  key: \"reward\",\n                  value: result,\n                  user: {\n                    id: user.id,\n                    zone: user.zone,\n                    nickname: user.nickname,\n                    avatar: user.avatar\n                  }\n                });\n\n                _this.$toast.success(\"操作成功\");\n\n                _this.$emit(\"reward-callback\");\n\n                _context.next = 18;\n                break;\n\n              case 15:\n                _context.prev = 15;\n                _context.t0 = _context[\"catch\"](5);\n\n                _this.$toast.error(_context.t0);\n\n              case 18:\n                _context.prev = 18;\n                _this.loadingReward = false;\n                return _context.finish(18);\n\n              case 21:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[5, 15, 18, 21]]);\n      }))).catch(() => {});\n    },\n\n    toggleLike() {\n      var _this2 = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee2() {\n        var api, user, result;\n        return regenerator__default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (_this2.currentUserId) {\n                  _context2.next = 3;\n                  break;\n                }\n\n                _this2.$channel.$emit(\"sign-in\");\n\n                return _context2.abrupt(\"return\");\n\n              case 3:\n                if (!_this2.isMine) {\n                  _context2.next = 6;\n                  break;\n                }\n\n                _this2.$toast.info(\"不能喜欢自己的内容\");\n\n                return _context2.abrupt(\"return\");\n\n              case 6:\n                if (!_this2.loadingLike) {\n                  _context2.next = 8;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\");\n\n              case 8:\n                _this2.loadingLike = true;\n                api = new toggleApi[\"a\" /* default */](_this2);\n                user = _this2.$store.state.user;\n                _context2.prev = 11;\n                _context2.next = 14;\n                return api.like({\n                  id: _this2.id,\n                  type: _this2.type\n                });\n\n              case 14:\n                result = _context2.sent;\n\n                _this2.$store.commit(`${_this2.type}/SOCIAL_TOGGLE`, {\n                  key: \"like\",\n                  value: result,\n                  user: {\n                    id: user.id,\n                    zone: user.zone,\n                    nickname: user.nickname,\n                    avatar: user.avatar\n                  }\n                });\n\n                _this2.$toast.success(\"操作成功\");\n\n                _context2.next = 22;\n                break;\n\n              case 19:\n                _context2.prev = 19;\n                _context2.t0 = _context2[\"catch\"](11);\n\n                _this2.$toast.error(_context2.t0);\n\n              case 22:\n                _context2.prev = 22;\n                _this2.loadingLike = false;\n                return _context2.finish(22);\n\n              case 25:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[11, 19, 22, 25]]);\n      }))();\n    },\n\n    toggleMark() {\n      var _this3 = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee3() {\n        var api, user, result;\n        return regenerator__default.a.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (_this3.currentUserId) {\n                  _context3.next = 3;\n                  break;\n                }\n\n                _this3.$channel.$emit(\"sign-in\");\n\n                return _context3.abrupt(\"return\");\n\n              case 3:\n                if (!_this3.isMine) {\n                  _context3.next = 6;\n                  break;\n                }\n\n                _this3.$toast.info(\"不能收藏自己的内容\");\n\n                return _context3.abrupt(\"return\");\n\n              case 6:\n                if (!_this3.loadingMark) {\n                  _context3.next = 8;\n                  break;\n                }\n\n                return _context3.abrupt(\"return\");\n\n              case 8:\n                _this3.loadingMark = true;\n                api = new toggleApi[\"a\" /* default */](_this3);\n                user = _this3.$store.state.user;\n                _context3.prev = 11;\n                _context3.next = 14;\n                return api.mark({\n                  id: _this3.id,\n                  type: _this3.type\n                });\n\n              case 14:\n                result = _context3.sent;\n\n                _this3.$store.commit(`${_this3.type}/SOCIAL_TOGGLE`, {\n                  key: \"mark\",\n                  value: result,\n                  user: {\n                    id: user.id,\n                    zone: user.zone,\n                    nickname: user.nickname,\n                    avatar: user.avatar\n                  }\n                });\n\n                _this3.$toast.success(\"操作成功\");\n\n                _context3.next = 22;\n                break;\n\n              case 19:\n                _context3.prev = 19;\n                _context3.t0 = _context3[\"catch\"](11);\n\n                _this3.$toast.error(_context3.t0);\n\n              case 22:\n                _context3.prev = 22;\n                _this3.loadingMark = false;\n                return _context3.finish(22);\n\n              case 25:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[11, 19, 22, 25]]);\n      }))();\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-200e0634\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/SocialPanel.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"social-panel\"},[_vm._ssrNode(\"<div class=\\\"buttons\\\">\",\"</div>\",[(_vm.isCreator)?_c('el-button',{class:{ 'is-plain': _vm.rewarded },attrs:{\"loading\":_vm.loadingReward,\"type\":\"warning\",\"round\":\"\",\"size\":\"mini\"},on:{\"click\":_vm.toggleReward}},[_c('i',{staticClass:\"iconfont icon-guanzhu\"}),_vm._v(\"\\n      \"+_vm._s(_vm.rewarded ? '已投食' : '投食')+_vm._s(_vm.rewardUsers.total ? (\"  |  \" + (_vm.rewardUsers.total)) : '')+\"\\n    \")]):_c('el-button',{class:{ 'is-plain': _vm.liked },attrs:{\"loading\":_vm.loadingLike,\"type\":\"danger\",\"size\":\"mini\",\"round\":\"\"},on:{\"click\":_vm.toggleLike}},[_c('i',{staticClass:\"iconfont icon-guanzhu\"}),_vm._v(\"\\n      \"+_vm._s(_vm.liked ? '已喜欢' : '喜欢')+_vm._s(_vm.likeUsers.total ? (\"  |  \" + (_vm.likeUsers.total)) : '')+\"\\n    \")]),_c('el-button',{class:{ 'is-plain': _vm.marked },attrs:{\"loading\":_vm.loadingMark,\"type\":\"success\",\"size\":\"mini\",\"round\":\"\"},on:{\"click\":_vm.toggleMark}},[_c('i',{staticClass:\"iconfont icon-shoucang\"}),_vm._v(\"\\n      \"+_vm._s(_vm.marked ? '已收藏' : '收藏')+_vm._s(_vm.markUsers.total ? (\"  |  \" + (_vm.markUsers.total)) : '')+\"\\n    \")]),_vm._t(\"default\")],2),_vm._ssrNode(\"<div class=\\\"users\\\"><ul>\"+(_vm._ssrList((_vm.displayUsers),function(user){return (\"<li class=\\\"user-face\\\"><img\"+(_vm._ssrAttr(\"src\",_vm.$resize(user.avatar, { width: 60 })))+\"></li>\")}))+\"</ul></div>\")],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var common_SocialPanel = (esExports);\n// CONCATENATED MODULE: ./src/components/common/SocialPanel.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(114),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"786d8432\"\nvar Component = normalizeComponent(\n  SocialPanel,\n  common_SocialPanel,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_common_SocialPanel = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 114:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(115);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"6bcd6949\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 115:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.social-panel{margin:40px 0}.social-panel .buttons{text-align:center}.social-panel .buttons button{padding:5px 7px;font-size:11px!important}.social-panel .users{margin-top:25px;text-align:center}.social-panel .users .user-face{margin:0 -5px;display:inline-block;vertical-align:middle}.social-panel .users .user-face img{width:30px;height:30px;border-radius:50%;border:3px solid #fff}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 160:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: external \"core-js/modules/web.dom.iterable\"\nvar web_dom_iterable_ = __webpack_require__(3);\nvar web_dom_iterable__default = /*#__PURE__*/__webpack_require__.n(web_dom_iterable_);\n\n// EXTERNAL MODULE: external \"core-js/modules/es6.regexp.split\"\nvar es6_regexp_split_ = __webpack_require__(10);\nvar es6_regexp_split__default = /*#__PURE__*/__webpack_require__.n(es6_regexp_split_);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/common/ImagePreview/ImagePreview.vue\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var ImagePreview = ({\n  name: \"ImagePreview\",\n  props: {\n    images: {\n      type: Array,\n      default: () => []\n    },\n    query: {\n      type: String,\n      default: \"\"\n    },\n    download: {\n      type: Boolean,\n      default: true\n    }\n  },\n\n  data() {\n    return {\n      show: false,\n      currentIndex: -1,\n      maxWidth: 0,\n      maxHeight: 0,\n      displayImages: this.images.map(_ => Object.assign({\n        finalWidth: 0,\n        finalHeight: 0,\n        loading: true\n      }, _))\n    };\n  },\n\n  computed: {\n    total() {\n      return this.images.length;\n    },\n\n    currentImage() {\n      if (this.currentIndex === -1) {\n        return null;\n      }\n\n      return this.displayImages[this.currentIndex];\n    }\n\n  },\n\n  mounted() {\n    this.getScreenSize();\n    window.addEventListener(\"resize\", this.getScreenSize);\n  },\n\n  methods: {\n    handleClose() {\n      this.show = false;\n    },\n\n    handleClick(e) {\n      if (!this.total) {\n        return;\n      }\n\n      var target = e.target;\n      var isIMG = target.tagName.toLowerCase() === \"img\";\n\n      if (!this.query && !isIMG) {\n        return;\n      }\n\n      if (this.query && target.className.indexOf(this.query) === -1) {\n        return;\n      }\n\n      var imageUrl = \"\";\n\n      if (isIMG) {\n        imageUrl = target.getAttribute(\"src\").split(\"?\")[0];\n      } else {\n        var img = target.querySelector(\"img\");\n\n        if (!img) {\n          return;\n        }\n\n        imageUrl = img.getAttribute(\"src\").split(\"?\")[0];\n      }\n\n      this.getClickImageIndex(imageUrl);\n      this.computeDisplaySize(this.currentIndex);\n      /*\n      if (this.total <= 3) {\n        this.computeDisplaySize(0);\n        this.computeDisplaySize(1);\n        this.computeDisplaySize(2);\n      } else {\n        const index = this.getSiblingsIndex(this.currentIndex);\n        this.computeDisplaySize(index[0]);\n        this.computeDisplaySize(index[2]);\n      }\n      */\n\n      this.show = true;\n    },\n\n    getClickImageIndex(src) {\n      this.images.forEach((image, index) => {\n        if (image.url === src) {\n          this.currentIndex = index;\n        }\n      });\n    },\n\n    getScreenSize() {\n      this.maxWidth = window.innerWidth;\n      this.maxHeight = window.innerHeight - 88;\n    },\n\n    switchImage(isNext) {\n      if (isNext && this.currentIndex === this.total - 1) {\n        return;\n      }\n\n      if (!isNext && this.currentIndex === 0) {\n        return;\n      }\n\n      var newIndex = isNext ? this.currentIndex + 1 : this.currentIndex - 1;\n      this.computeDisplaySize(newIndex);\n      this.currentIndex = newIndex;\n    },\n\n    getSiblingsIndex(currentIndex) {\n      var prevIndex;\n      var nextIndex;\n\n      if (this.currentIndex === 0) {\n        prevIndex = this.total - 1;\n        nextIndex = 1;\n      } else if (this.currentIndex === this.total - 1) {\n        prevIndex = this.total - 2;\n        nextIndex = 0;\n      } else {\n        prevIndex = this.currentIndex - 1;\n        nextIndex = this.currentIndex + 1;\n      }\n\n      return [prevIndex, currentIndex, nextIndex];\n    },\n\n    computeDisplaySize(index) {\n      if (typeof this.images[index] === \"undefined\") {\n        return;\n      }\n\n      var image = this.images[index];\n\n      if (image.finalWidth && image.finalHeight) {\n        return;\n      }\n\n      var imageWidth = image.width;\n      var imageHeight = image.height;\n      var maxWidth = this.maxWidth;\n      var maxHeight = this.maxHeight;\n      var finalWidth;\n      var finalHeight;\n\n      if (maxWidth >= imageWidth && maxHeight >= imageHeight) {\n        // 小图，展示原图大小\n        finalWidth = imageWidth;\n        finalHeight = imageHeight;\n      } else if (maxWidth < imageWidth && maxHeight < imageHeight) {\n        // 超大图，计算一个缩放比例\n        var widthRadio = imageWidth / maxHeight;\n        var heightRadio = imageHeight / maxHeight;\n\n        if (widthRadio >= heightRadio) {\n          finalWidth = maxWidth;\n          finalHeight = parseInt(imageHeight / widthRadio, 10);\n        } else {\n          finalWidth = parseInt(imageWidth / heightRadio, 10);\n          finalHeight = maxHeight;\n        }\n      } else if (imageHeight < maxHeight) {\n        // 超宽图\n        var _widthRadio = imageWidth / maxHeight;\n\n        finalWidth = maxWidth;\n        finalHeight = parseInt(imageHeight / _widthRadio, 10);\n      } else {\n        // 超宽图\n        var _heightRadio = imageHeight / maxHeight;\n\n        finalWidth = parseInt(imageWidth / _heightRadio, 10);\n        finalHeight = maxHeight;\n      }\n\n      this.displayImages[index].finalWidth = finalWidth || maxWidth;\n      this.displayImages[index].finalHeight = finalHeight || maxHeight;\n    },\n\n    handleSwitch(oldVal, val) {\n      this.currentIndex = val;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2b6cac88\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/ImagePreview/ImagePreview.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:_vm.$style.imagePreview,on:{\"click\":_vm.handleClick}},[_vm._ssrNode(((_vm.show)?(\"<div\"+(_vm._ssrClass(null,_vm.$style.container))+\"><div\"+(_vm._ssrClass(null,[_vm.$style.bar, _vm.$style.topBar]))+\">\"+((_vm.total)?(\"<span\"+(_vm._ssrClass(null,_vm.$style.total))+\">\"+_vm._ssrEscape(\"\\n        \"+_vm._s(_vm.currentIndex + 1)+\"/\"+_vm._s(_vm.total)+\"\\n      \")+\"</span>\"):\"<!---->\")+\"<span\"+(_vm._ssrClass(null,_vm.$style.close))+\">\\n        ×\\n      </span></div><div\"+(_vm._ssrClass(null,[_vm.$style.bar, _vm.$style.footBar]))+\">\"+((_vm.currentImage && _vm.download)?(\"<a\"+(_vm._ssrAttr(\"href\",_vm.currentImage.url))+\" target=\\\"_blank\\\"\"+(_vm._ssrClass(null,_vm.$style.download))+\">\\n        下载原图\\n      </a>\"):\"<!---->\")+\"</div>\"+((_vm.currentImage)?(\"<div\"+(_vm._ssrClass(null,_vm.$style.wrap))+\"><div\"+(_vm._ssrClass(null,_vm.$style.item))+(_vm._ssrStyle(null,{\n          backgroundImage: (\"url(\" + (_vm.$resize(_vm.currentImage.url, { webP: !_vm.download })) + \")\"),\n          width: ((_vm.currentImage.finalWidth) + \"px\"),\n          height: ((_vm.currentImage.finalHeight) + \"px\")\n        }, null))+\"></div>\"+((_vm.total > 1)?(\"<button\"+(_vm._ssrClass(null,_vm.$style.prevBtn))+\"><i class=\\\"el-icon-caret-left\\\"></i></button><button\"+(_vm._ssrClass(null,_vm.$style.nextBtn))+\"><i class=\\\"el-icon-caret-right\\\"></i></button>\"):\"<!---->\")+\"</div>\"):\"<!---->\")+\"</div>\"):\"<!---->\")),_vm._t(\"default\")],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var ImagePreview_ImagePreview = (esExports);\n// CONCATENATED MODULE: ./src/components/common/ImagePreview/ImagePreview.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=this[\"$style\"] = __webpack_require__(169),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"a6b7b16c\"\nvar Component = normalizeComponent(\n  ImagePreview,\n  ImagePreview_ImagePreview,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var common_ImagePreview_ImagePreview = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 169:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(170);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"05955a9c\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 170:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling-3oQq-_0{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling-3oQq-_0{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.image-preview-3a_aB_0 .container-GXSF2_0{position:fixed;left:0;top:0;width:100%;height:100%;background-color:#000;z-index:2009}.image-preview-3a_aB_0 .bar-1K_E1_0{background-color:rgba(0,0,0,.3);position:absolute;left:0;height:44px;width:100%;color:#fff;z-index:1}.image-preview-3a_aB_0 .bar-1K_E1_0.top-bar-1SCSl_0{top:0}.image-preview-3a_aB_0 .bar-1K_E1_0.foot-bar-2cKOT_0{bottom:0}.image-preview-3a_aB_0 .wrap-13lqx_0{position:absolute;top:44px;bottom:44px;width:100%;z-index:0}.image-preview-3a_aB_0 .item-2Y1k1_0{position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);background-position:50%;background-repeat:no-repeat;background-size:contain;cursor:-webkit-zoom-out;cursor:zoom-out}.image-preview-3a_aB_0 .top-bar-1SCSl_0{padding:0 12px;height:44px;font-size:13px;line-height:44px}.image-preview-3a_aB_0 .top-bar-1SCSl_0 .close-ZWlyi_0{float:right;font-size:20px;cursor:pointer}.image-preview-3a_aB_0 .foot-bar-2cKOT_0{text-align:center}.image-preview-3a_aB_0 .foot-bar-2cKOT_0 .download-3rvVN_0{display:block;color:#fff;width:100px;height:34px;line-height:32px;border-radius:17px;border:1px solid #fff;margin:5px auto}.image-preview-3a_aB_0 .foot-bar-2cKOT_0 .download-3rvVN_0:hover{background-color:hsla(0,0%,100%,.2)}.image-preview-3a_aB_0 .next-btn-301zO_0,.image-preview-3a_aB_0 .prev-btn-1NkW8_0{color:#fff;width:70px;height:100px;background-color:transparent;position:absolute;top:50%;margin-top:-50px}.image-preview-3a_aB_0 .next-btn-301zO_0 i,.image-preview-3a_aB_0 .prev-btn-1NkW8_0 i{display:inline-block;height:32px;width:32px;background-color:rgba(0,0,0,.3);text-align:center;line-height:32px;font-size:20px}.image-preview-3a_aB_0 .next-btn-301zO_0 i:hover,.image-preview-3a_aB_0 .prev-btn-1NkW8_0 i:hover{background-color:rgba(0,0,0,.5)}.image-preview-3a_aB_0 .prev-btn-1NkW8_0{left:0;text-align:left}.image-preview-3a_aB_0 .prev-btn-1NkW8_0 i{border-radius:0 4px 4px 0}.image-preview-3a_aB_0 .next-btn-301zO_0{right:0;text-align:right}.image-preview-3a_aB_0 .next-btn-301zO_0 i{border-radius:4px 0 0 4px}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"image-preview\": \"image-preview-3a_aB_0\",\n\t\"imagePreview\": \"image-preview-3a_aB_0\",\n\t\"container\": \"container-GXSF2_0\",\n\t\"bar\": \"bar-1K_E1_0\",\n\t\"top-bar\": \"top-bar-1SCSl_0\",\n\t\"topBar\": \"top-bar-1SCSl_0\",\n\t\"foot-bar\": \"foot-bar-2cKOT_0\",\n\t\"footBar\": \"foot-bar-2cKOT_0\",\n\t\"wrap\": \"wrap-13lqx_0\",\n\t\"item\": \"item-2Y1k1_0\",\n\t\"close\": \"close-ZWlyi_0\",\n\t\"download\": \"download-3rvVN_0\",\n\t\"prev-btn\": \"prev-btn-1NkW8_0\",\n\t\"prevBtn\": \"prev-btn-1NkW8_0\",\n\t\"next-btn\": \"next-btn-301zO_0\",\n\t\"nextBtn\": \"next-btn-301zO_0\",\n\t\"rolling\": \"rolling-3oQq-_0\"\n};\n\n/***/ }),\n\n/***/ 280:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(281);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"3f53e169\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 281:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}#image-album .album-header{margin-top:15px;margin-bottom:15px}#image-album .album-header .title{font-size:20px;margin-bottom:15px}#image-album .album-header .user{font-size:13px}#image-album .album-header .user .author .avatar{vertical-align:middle;display:inline-block;border:1px solid #e5e9ef}#image-album .album-header .user .tool-btn{float:right;line-height:30px}#image-album .album-body{background-color:#fff}#image-album .album-body .images-wrap .image-package{position:relative}#image-album .album-body .no-image{text-align:center;padding-top:30px;padding-bottom:20px;color:#6d757a;font-size:13px}#image-album .album-body .cartoon-list{margin-top:20px;position:relative}#image-album .album-body .cartoon-list .sub-title{margin-left:10px}#image-album .album-body .cartoon-list .sub-title .more,#image-album .album-body .cartoon-list .sub-title .next{float:right;font-size:13px;margin-right:10px;margin-left:15px;color:#6d757a}#image-album .album-body .cartoon-list li{width:50%;display:inline-block;text-align:center;margin-bottom:7px;padding:0 5px}#image-album .album-body .cartoon-list li a{border:1px solid #ccd0d7;height:30px;color:#222;border-radius:4px;display:block;font-size:12px;line-height:28px}#image-album .album-body .cartoon-list li a.active{border-color:#00b5e5;background-color:#00b5e5;color:#fff}#image-album .album-body .reward-panel{text-align:center;margin-top:30px;margin-bottom:30px}#image-album .album-body .reward-panel button{margin:0 5px;font-size:13px}#image-album .album-body .reward-panel button i{font-size:12px;line-height:16px}#image-album .album-body .reward-panel .album-rewarded-btn{position:relative;padding:4px 10px;font-size:14px;color:#eb9e05;background-color:transparent;border-radius:8px;white-space:nowrap}#image-album .album-body .reward-panel .album-rewarded-btn:after{content:\\\"\\\";position:absolute;top:0;left:0;border:1px solid #eb9e05;width:200%;height:200%;-webkit-transform:scale(.5);-ms-transform:scale(.5);transform:scale(.5);-webkit-transform-origin:left top;-ms-transform-origin:left top;transform-origin:left top;border-radius:8px}#image-album .album-body .reward-panel .album-reward-btn{position:relative;padding:4px 10px;font-size:14px;color:#fff;background-color:#eb9e05;border-radius:8px;white-space:nowrap}#image-album .album-body .reward-panel .album-reward-btn:after{content:\\\"\\\";position:absolute;top:0;left:0;border:1px solid #fff;width:200%;height:200%;-webkit-transform:scale(.5);-ms-transform:scale(.5);transform:scale(.5);-webkit-transform-origin:left top;-ms-transform-origin:left top;transform-origin:left top;border-radius:8px}#image-album .album-body .reward-panel .album-liked-btn{position:relative;padding:4px 10px;font-size:14px;color:#fa5555;background-color:transparent;border-radius:8px;white-space:nowrap}#image-album .album-body .reward-panel .album-liked-btn:after{content:\\\"\\\";position:absolute;top:0;left:0;border:1px solid #fa5555;width:200%;height:200%;-webkit-transform:scale(.5);-ms-transform:scale(.5);transform:scale(.5);-webkit-transform-origin:left top;-ms-transform-origin:left top;transform-origin:left top;border-radius:8px}#image-album .album-body .reward-panel .album-like-btn{position:relative;padding:4px 10px;font-size:14px;color:#fff;background-color:#fa5555;border-radius:8px;white-space:nowrap}#image-album .album-body .reward-panel .album-like-btn:after{content:\\\"\\\";position:absolute;top:0;left:0;border:1px solid #fff;width:200%;height:200%;-webkit-transform:scale(.5);-ms-transform:scale(.5);transform:scale(.5);-webkit-transform-origin:left top;-ms-transform-origin:left top;transform-origin:left top;border-radius:8px}#image-album .album-footer .bangumi-panel{padding-top:15px;padding-bottom:15px}#image-album .album-footer .bangumi-panel .summary{font-size:12px;color:#666;line-height:13px;max-height:26px;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 343:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: external \"@babel/runtime/regenerator\"\nvar regenerator_ = __webpack_require__(0);\nvar regenerator__default = /*#__PURE__*/__webpack_require__.n(regenerator_);\n\n// EXTERNAL MODULE: external \"core-js/modules/es6.promise\"\nvar es6_promise_ = __webpack_require__(21);\nvar es6_promise__default = /*#__PURE__*/__webpack_require__.n(es6_promise_);\n\n// EXTERNAL MODULE: external \"core-js/modules/web.dom.iterable\"\nvar web_dom_iterable_ = __webpack_require__(3);\nvar web_dom_iterable__default = /*#__PURE__*/__webpack_require__.n(web_dom_iterable_);\n\n// EXTERNAL MODULE: external \"regenerator-runtime/runtime\"\nvar runtime_ = __webpack_require__(1);\nvar runtime__default = /*#__PURE__*/__webpack_require__.n(runtime_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/asyncToGenerator\"\nvar asyncToGenerator_ = __webpack_require__(2);\nvar asyncToGenerator__default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator_);\n\n// EXTERNAL MODULE: ./src/api/imageApi.js\nvar imageApi = __webpack_require__(16);\n\n// EXTERNAL MODULE: ./src/components/comments/CommentMain.vue + 8 modules\nvar CommentMain = __webpack_require__(101);\n\n// EXTERNAL MODULE: ./src/components/common/SocialPanel.vue + 2 modules\nvar SocialPanel = __webpack_require__(113);\n\n// EXTERNAL MODULE: ./src/components/common/ImagePreview/ImagePreview.vue + 2 modules\nvar ImagePreview = __webpack_require__(160);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/image/show.vue\n\n\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n/* harmony default export */ var show = ({\n  name: \"ImageAlbum\",\n\n  asyncData(_ref) {\n    return asyncToGenerator__default()(\n    /*#__PURE__*/\n    regenerator__default.a.mark(function _callee() {\n      var store, route, ctx, id;\n      return regenerator__default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              store = _ref.store, route = _ref.route, ctx = _ref.ctx;\n              id = route.params.id;\n              _context.next = 4;\n              return Promise.all([store.dispatch(\"image/show\", {\n                ctx,\n                id\n              }), store.dispatch(\"comment/getMainComments\", {\n                ctx,\n                id,\n                type: \"image\",\n                seeReplyId: route.query[\"comment-id\"]\n              })]);\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }))();\n  },\n\n  head() {\n    return {\n      title: this.info.name\n    };\n  },\n\n  components: {\n    CommentMain: CommentMain[\"a\" /* default */],\n    SocialPanel: SocialPanel[\"a\" /* default */],\n    ImagePreview: ImagePreview[\"a\" /* default */]\n  },\n\n  data() {\n    return {\n      take: 4,\n      page: 0,\n      part: 0,\n      showAll: false\n    };\n  },\n\n  computed: {\n    id() {\n      return +this.$route.params.id;\n    },\n\n    info() {\n      return this.$store.state.image.show;\n    },\n\n    source() {\n      return this.info.source;\n    },\n\n    images() {\n      return this.info.images;\n    },\n\n    cartoon() {\n      return this.info.parts;\n    },\n\n    user() {\n      return this.info.user;\n    },\n\n    bangumi() {\n      return this.info.bangumi;\n    },\n\n    likeAlbumBtnText() {\n      var text = this.info.is_creator ? this.info.liked ? \"已赞赏\" : \"赞赏\" : this.info.liked ? \"已喜欢\" : \"喜欢\";\n      return this.info.like_count ? `${text}(${this.info.like_count})` : text;\n    },\n\n    isMine() {\n      return this.$store.state.login ? this.user.id === this.$store.state.user.id : false;\n    },\n\n    showMoreBtn() {\n      return this.take < this.cartoon.length;\n    },\n\n    sortCartoons() {\n      var begin = (this.page - 1) * this.take;\n      return this.showAll ? this.cartoon : this.cartoon.slice(begin, begin + this.take);\n    },\n\n    nextPartUrl() {\n      if (!this.info.is_cartoon || !this.cartoon.length) {\n        return \"\";\n      }\n\n      var index = 0;\n      this.cartoon.forEach((item, idx) => {\n        if (item.id === this.id) {\n          index = idx;\n        }\n      });\n\n      if (index >= this.cartoon.length - 1) {\n        return \"\";\n      }\n\n      return this.$alias.image(this.cartoon[index + 1].id);\n    }\n\n  },\n\n  mounted() {\n    this.computePage();\n  },\n\n  methods: {\n    handleBangumiFollow(result) {\n      this.$store.commit(\"image/FOLLOW_ALBUM_BANGUMI\", {\n        result\n      });\n    },\n\n    computePage() {\n      if (!this.info.is_cartoon) {\n        return;\n      }\n\n      this.cartoon.forEach((meta, index) => {\n        if (meta.id === this.id) {\n          this.part = index + 1;\n        }\n      });\n      this.page = Math.ceil(this.part / this.take);\n    },\n\n    toggleLike() {\n      if (!this.$store.state.login) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      if (this.isMine) {\n        this.$toast.error(\"不能为自己的相册点赞\");\n        return;\n      }\n\n      if (this.loadingFollowAlbum) {\n        return;\n      }\n\n      this.loadingFollowAlbum = true;\n\n      if (this.info.is_creator && !this.info.liked) {\n        this.$confirm(\"原创相册点赞需要金币, 是否继续?\", \"提示\", {\n          confirmButtonText: \"确定\",\n          cancelButtonText: \"取消\",\n          type: \"warning\"\n        }).then(() => {\n          this.submitLikeRequest();\n        }).catch(() => {});\n        return;\n      }\n\n      this.submitLikeRequest();\n    },\n\n    submitLikeRequest() {\n      var _this = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee2() {\n        var api, result;\n        return regenerator__default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                api = new imageApi[\"a\" /* default */](_this);\n                _context2.prev = 1;\n                _context2.next = 4;\n                return api.toggleLike({\n                  id: _this.id\n                });\n\n              case 4:\n                result = _context2.sent;\n\n                _this.$store.commit(\"image/ALBUM_LIKE\", {\n                  result\n                });\n\n                _this.$toast.success(\"操作成功\");\n\n                _context2.next = 12;\n                break;\n\n              case 9:\n                _context2.prev = 9;\n                _context2.t0 = _context2[\"catch\"](1);\n\n                _this.$toast.error(_context2.t0);\n\n              case 12:\n                _context2.prev = 12;\n                _this.loadingFollowAlbum = false;\n                return _context2.finish(12);\n\n              case 15:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[1, 9, 12, 15]]);\n      }))();\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-55481c00\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/image/show.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"image-album\"}},[_vm._ssrNode(\"<div class=\\\"container\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"album-header\\\">\",\"</div>\",[_vm._ssrNode(\"<h1 class=\\\"title oneline\\\">\"+_vm._ssrEscape(\"\\n        [\"+_vm._s(_vm.info.is_creator ? '原创' : '转载')+\"]\\n        [\"+_vm._s(_vm.info.is_cartoon ? '漫画' : '相册')+\"]\\n        \"+_vm._s(_vm.info.name)+\"\\n      \")+\"</h1>\"),_vm._ssrNode(\"<div class=\\\"user\\\">\",\"</div>\",[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.user.zone)))+\" class=\\\"author\\\">\",\"</a>\",[_c('v-img',{staticClass:\"avatar\",attrs:{\"src\":_vm.user.avatar,\"avatar\":true,\"size\":\"30\"}}),_vm._ssrNode(_vm._ssrEscape(\"\\n          \"+_vm._s(_vm.user.nickname)+\"\\n        \"))],2),_vm._ssrNode(\"\\n        ·\\n        \"),_c('v-time',{model:{value:(_vm.info.created_at),callback:function ($$v) {_vm.$set(_vm.info, \"created_at\", $$v)},expression:\"info.created_at\"}}),_c('v-popover',{attrs:{\"report-id\":_vm.info.id,\"is-creator\":_vm.info.is_creator,\"report-type\":\"image\"}},[_c('button',{staticClass:\"tool-btn\"},[_vm._v(\"···\")])])],2)],2)]),_vm._ssrNode(\"<div class=\\\"album-body\\\">\",\"</div>\",[(_vm.info.is_album)?_c('image-preview',{staticClass:\"images-wrap\",attrs:{\"images\":_vm.images}},[_vm._l((_vm.images),function(img){return _c('div',{key:img.id,staticClass:\"image-package\"},[_c('v-img',{staticClass:\"image\",attrs:{\"src\":img.url,\"full\":true,\"width\":img.width,\"height\":img.height}})],1)}),(!_vm.info.image_count)?_c('p',{staticClass:\"no-image\"},[_vm._v(\"\\n        还没有上传图片\\n      \")]):_vm._e()],2):_c('image-preview',{attrs:{\"images\":[_vm.source]}},[_c('div',{staticClass:\"image-package\"},[_c('v-img',{staticClass:\"image\",attrs:{\"src\":_vm.source.url,\"width\":_vm.source.width,\"height\":_vm.source.height,\"full\":true}})],1)]),_vm._ssrNode(((_vm.info.is_cartoon)?(\"<div class=\\\"cartoon-list\\\"><h3 class=\\\"sub-title\\\">\"+_vm._ssrEscape(\"\\n        选集（\"+_vm._s(_vm.cartoon.length)+\"）\\n        \")+((_vm.nextPartUrl)?(\"<a\"+(_vm._ssrAttr(\"href\",_vm.nextPartUrl))+\" class=\\\"next\\\">下一话</a>\"):\"<!---->\")+((_vm.showMoreBtn)?(\"<div class=\\\"more\\\">\"+_vm._ssrEscape(_vm._s(_vm.showAll ? '收起' : '展开'))+\"</div>\"):\"<!---->\")+\"</h3><ul>\"+(_vm._ssrList((_vm.sortCartoons),function(item){return (\"<li><a\"+(_vm._ssrAttr(\"href\",_vm.$alias.image(item.id)))+(_vm._ssrClass(\"oneline\",{ 'active': item.id === _vm.id }))+\">\"+_vm._ssrEscape(_vm._s(item.name))+\"</a></li>\")}))+\"</ul></div>\"):\"<!---->\")),_vm._ssrNode(\"<div class=\\\"container\\\">\",\"</div>\",[_c('social-panel',{attrs:{\"id\":_vm.info.id,\"is-creator\":_vm.info.is_creator,\"user-id\":_vm.user.id,\"liked\":_vm.info.liked,\"marked\":_vm.info.marked,\"rewarded\":_vm.info.rewarded,\"like-users\":_vm.info.like_users,\"reward-users\":_vm.info.reward_users,\"mark-users\":_vm.info.mark_users,\"type\":\"image\"}})],1)],2),_vm._ssrNode(\"<div class=\\\"container\\\">\",\"</div>\",[_c('comment-main',{attrs:{\"id\":_vm.id,\"master-id\":_vm.user.id,\"type\":\"image\"}}),_vm._ssrNode(\"<div class=\\\"hr\\\"></div>\"),_vm._ssrNode(\"<div class=\\\"album-footer\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"bangumi-panel\\\">\",\"</div>\",[_vm._ssrNode(\"<h3 class=\\\"sub-title\\\">所属番剧：</h3>\"),_c('v-bangumi-panel',{attrs:{\"id\":_vm.bangumi.id,\"avatar\":_vm.bangumi.avatar,\"name\":_vm.bangumi.name,\"followed\":_vm.bangumi.followed},on:{\"follow\":_vm.handleBangumiFollow}},[_c('p',{staticClass:\"summary\",domProps:{\"textContent\":_vm._s(_vm.bangumi.summary)}})])],2)])],2)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var image_show = (esExports);\n// CONCATENATED MODULE: ./src/views/image/show.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(280),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"34cf089c\"\nvar Component = normalizeComponent(\n  show,\n  image_show,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_image_show = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n};;",
    "9.server-bundle.js": "exports.ids = [9];\nexports.modules = {\n\n/***/ 100:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_core_js_modules_web_dom_iterable__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_core_js_modules_web_dom_iterable___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_core_js_modules_web_dom_iterable__);\n\n\n/**\n * [ scrollToY 指定的 DOM 过度滚动到指定的 Y 轴 ]\n * @param targetY\n * @param timer\n * @param dom\n * @param ease\n */\n/* harmony default export */ __webpack_exports__[\"a\"] = ((targetY, timer, dom, ease) => {\n  var currentTime = 0;\n  var element = dom ? [dom] : [document.getElementsByTagName(\"html\")[0], document.body];\n  var scrollY = dom ? dom.scrollTop : window.scrollY;\n  var scrollTargetY = targetY || 0;\n  var speed = timer || 2000;\n  var easing = ease || \"easeOutSine\";\n  var time = Math.max(0.1, Math.min(Math.abs(scrollY - scrollTargetY) / speed, 0.8));\n  var easingEquations = {\n    easeOutSine(pos) {\n      return Math.sin(pos * (Math.PI / 2));\n    },\n\n    easeInOutSine(pos) {\n      return -0.5 * (Math.cos(Math.PI * pos) - 1);\n    },\n\n    easeInOutQuint(pos) {\n      // eslint-disable-next-line\n      if ((pos /= 0.5) < 1) {\n        return 0.5 * Math.pow(pos, 5);\n      }\n\n      return 0.5 * (Math.pow(pos - 2, 5) + 2);\n    }\n\n  };\n  element.forEach(ele => {\n    if (!ele.requestAnimFrame) {\n      ele.requestAnimFrame = function () {\n        return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || function (callback) {\n          window.setTimeout(callback, 1000 / 60);\n        };\n      }().bind(window);\n    }\n  });\n\n  function tick() {\n    currentTime += 1 / 60;\n    var p = currentTime / time;\n    var t = easingEquations[easing](p);\n    element.forEach(ele => {\n      if (p < 1) {\n        ele.requestAnimFrame(tick);\n        ele.scrollTop = scrollY + (scrollTargetY - scrollY) * t;\n      } else {\n        ele.scrollTop = scrollTargetY;\n      }\n    });\n  }\n\n  tick();\n});\n\n/***/ }),\n\n/***/ 101:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: external \"@babel/runtime/regenerator\"\nvar regenerator_ = __webpack_require__(0);\nvar regenerator__default = /*#__PURE__*/__webpack_require__.n(regenerator_);\n\n// EXTERNAL MODULE: external \"regenerator-runtime/runtime\"\nvar runtime_ = __webpack_require__(1);\nvar runtime__default = /*#__PURE__*/__webpack_require__.n(runtime_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/asyncToGenerator\"\nvar asyncToGenerator_ = __webpack_require__(2);\nvar asyncToGenerator__default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator_);\n\n// EXTERNAL MODULE: ./src/assets/js/scrollToY.js\nvar scrollToY = __webpack_require__(100);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/CommentCreateForm.vue\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var CommentCreateForm = ({\n  name: \"CommentCreateForm\",\n  props: {\n    type: {\n      required: true,\n      type: String\n    },\n    id: {\n      required: true,\n      type: Number\n    },\n    masterId: {\n      required: true,\n      type: Number\n    }\n  },\n\n  data() {\n    return {\n      content: \"\"\n    };\n  },\n\n  computed: {\n    isGuest() {\n      return !this.$store.state.login;\n    },\n\n    submitting() {\n      return this.$store.state.comment.submitting;\n    }\n\n  },\n  methods: {\n    submit() {\n      var _this = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee() {\n        var result;\n        return regenerator__default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!_this.isGuest) {\n                  _context.next = 3;\n                  break;\n                }\n\n                _this.$channel.$emit(\"sign-in\");\n\n                return _context.abrupt(\"return\");\n\n              case 3:\n                if (_this.content) {\n                  _context.next = 6;\n                  break;\n                }\n\n                _this.$emit(\"close\");\n\n                return _context.abrupt(\"return\");\n\n              case 6:\n                if (!_this.submitting) {\n                  _context.next = 8;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 8:\n                _this.$store.commit(\"comment/SET_SUBMITTING\", {\n                  result: true\n                });\n\n                _context.prev = 9;\n                _context.next = 12;\n                return _this.$store.dispatch(\"comment/createMainComment\", {\n                  content: _this.content,\n                  images: [],\n                  type: _this.type,\n                  id: _this.id,\n                  ctx: _this\n                });\n\n              case 12:\n                result = _context.sent;\n\n                _this.$toast.success(result.message);\n\n                _this.$store.commit(\"UPDATE_USER_EXP\", result.exp);\n\n                _this.$emit(\"submit\");\n\n                _this.content = \"\";\n                setTimeout(() => {\n                  var dom = document.getElementById(`comment-${result.data.id}`);\n                  dom && Object(scrollToY[\"a\" /* default */])(_this.$utils.getOffsetTop(dom) - 100, 600);\n                }, 400);\n                _context.next = 23;\n                break;\n\n              case 20:\n                _context.prev = 20;\n                _context.t0 = _context[\"catch\"](9);\n\n                _this.$toast.error(_context.t0);\n\n              case 23:\n                _context.prev = 23;\n\n                _this.$store.commit(\"comment/SET_SUBMITTING\", {\n                  result: false\n                });\n\n                return _context.finish(23);\n\n              case 26:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[9, 20, 23, 26]]);\n      }))();\n    },\n\n    handleAreaFocus() {\n      document.body.scrollTop = 0;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-33995f98\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/CommentCreateForm.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"comment-create-form\"},[_vm._ssrNode(\"<textarea placeholder=\\\"来吧，尽情的（在1000字以内）发挥吧\\\" maxlength=\\\"1000\\\" class=\\\"content\\\"></textarea>\"),_c('el-button',{staticClass:\"submit-btn\",attrs:{\"loading\":_vm.submitting,\"type\":\"primary\"},on:{\"click\":_vm.submit}},[_vm._v(\"发布\")])],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var comments_CommentCreateForm = (esExports);\n// CONCATENATED MODULE: ./src/components/comments/CommentCreateForm.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(105),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"1d31a883\"\nvar Component = normalizeComponent(\n  CommentCreateForm,\n  comments_CommentCreateForm,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_CommentCreateForm = (Component.exports);\n\n// EXTERNAL MODULE: ./src/components/comments/SubCommentList.vue + 5 modules\nvar SubCommentList = __webpack_require__(102);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/CommentItem.vue\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var CommentItem = ({\n  name: \"CommentCommentItem\",\n  components: {\n    SubCommentList: SubCommentList[\"a\" /* default */]\n  },\n  props: {\n    comment: {\n      required: true,\n      type: Object\n    },\n    masterId: {\n      required: true,\n      type: Number\n    },\n    type: {\n      required: true,\n      type: String\n    }\n  },\n\n  data() {\n    return {\n      deleting: false,\n      liking: false\n    };\n  },\n\n  computed: {\n    currentUserId() {\n      return this.$store.state.login ? this.$store.state.user.id : 0;\n    },\n\n    isMine() {\n      return this.currentUserId === this.comment.from_user_id;\n    },\n\n    canDelete() {\n      return this.isMine || this.currentUserId === this.masterId;\n    },\n\n    actions() {\n      var result = [];\n\n      if (this.canDelete) {\n        result.push({\n          name: \"删除\",\n          method: this.deleteComment\n        });\n      }\n\n      result.push({\n        name: this.comment.liked ? \"取消赞\" : \"点赞\",\n        method: this.toggleLike\n      });\n      return result;\n    }\n\n  },\n  methods: {\n    toggleLike() {\n      var _this = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee() {\n        return regenerator__default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (_this.currentUserId) {\n                  _context.next = 3;\n                  break;\n                }\n\n                _this.$channel.$emit(\"sign-in\");\n\n                return _context.abrupt(\"return\");\n\n              case 3:\n                if (!_this.liking) {\n                  _context.next = 5;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 5:\n                _this.liking = true;\n                _context.prev = 6;\n                _context.next = 9;\n                return _this.$store.dispatch(\"comment/toggleLikeMainComment\", {\n                  ctx: _this,\n                  type: _this.type,\n                  id: _this.comment.id\n                });\n\n              case 9:\n                _context.next = 13;\n                break;\n\n              case 11:\n                _context.prev = 11;\n                _context.t0 = _context[\"catch\"](6);\n\n              case 13:\n                _context.prev = 13;\n                _this.liking = false;\n                return _context.finish(13);\n\n              case 16:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[6, 11, 13, 16]]);\n      }))();\n    },\n\n    deleteComment() {\n      if (this.deleting) {\n        return;\n      }\n\n      this.deleting = true;\n      this.$confirm(\"删除后无法找回, 是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(() => {\n        this.$store.dispatch(\"comment/deleteMainComment\", {\n          ctx: this,\n          type: this.type,\n          id: this.comment.id\n        });\n        this.$emit(\"delete\");\n      }).catch(e => {\n        this.deleting = false;\n\n        if (e === \"cancel\") {\n          return;\n        }\n\n        this.$toast.error(e);\n      });\n    },\n\n    handleCommentBtnClick() {\n      this.$channel.$emit(\"reply-comment\", {\n        id: this.comment.id,\n        targetUserId: this.comment.from_user_id,\n        targetUserName: this.comment.from_user_name\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-041aa410\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/CommentItem.vue\nvar CommentItem_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"comment-item\",attrs:{\"id\":(\"comment-\" + (_vm.comment.id))}},[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.comment.from_user_zone)))+\" class=\\\"avatar\\\">\",\"</a>\",[_c('v-img',{attrs:{\"src\":_vm.comment.from_user_avatar,\"avatar\":true,\"size\":\"35\"}})],1),_vm._ssrNode(\"<div class=\\\"content\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"header\\\">\",\"</div>\",[_c('v-popover',{attrs:{\"actions\":_vm.actions,\"report-id\":_vm.comment.id,\"report-type\":_vm.type + '_comment'}},[_c('button',{staticClass:\"tools-btn\"},[_vm._v(\"···\")])]),_vm._ssrNode(\"<div class=\\\"user\\\">\",\"</div>\",[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.comment.from_user_zone)))+\" class=\\\"nickname oneline\\\">\"+_vm._ssrEscape(_vm._s(_vm.comment.from_user_name))+\"</a>\"),_vm._ssrNode(\"<div class=\\\"info\\\">\",\"</div>\",[_vm._ssrNode(\"<span>\"+_vm._ssrEscape(\"第\"+_vm._s(_vm.comment.floor_count - 1)+\"楼\")+\"</span><span>·</span>\"),_c('v-time',{model:{value:(_vm.comment.created_at),callback:function ($$v) {_vm.$set(_vm.comment, \"created_at\", $$v)},expression:\"comment.created_at\"}})],2)],2)],1),_vm._ssrNode(\"<div class=\\\"main\\\">\"+(_vm._s(_vm.comment.content))+\"</div>\"),_vm._ssrNode(\"<div class=\\\"footer\\\">\",\"</div>\",[_c('sub-comment-list',{attrs:{\"parent-comment\":_vm.comment,\"type\":_vm.type}}),_vm._ssrNode(\"<div class=\\\"social\\\"><button\"+(_vm._ssrClass(null,[ _vm.comment.liked ? 'reply-liked-btn' : 'reply-like-btn' ]))+\"><i class=\\\"iconfont icon-icon_good\\\"></i>\"+_vm._ssrEscape(\"\\n          \"+_vm._s(_vm.comment.liked ? '已赞' : '赞')+\"\\n          \")+((_vm.comment.like_count)?(\"<span>\"+_vm._ssrEscape(\"(\"+_vm._s(_vm.comment.like_count)+\")\")+\"</span>\"):\"<!---->\")+\"</button><button class=\\\"reply-btn fr\\\">\\n          回复\\n        </button></div>\")],2)],2)])}\nvar CommentItem_staticRenderFns = []\nvar CommentItem_esExports = { render: CommentItem_render, staticRenderFns: CommentItem_staticRenderFns }\n/* harmony default export */ var comments_CommentItem = (CommentItem_esExports);\n// CONCATENATED MODULE: ./src/components/comments/CommentItem.vue\nfunction CommentItem_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(107),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar CommentItem_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar CommentItem___vue_template_functional__ = false\n/* styles */\nvar CommentItem___vue_styles__ = CommentItem_injectStyle\n/* scopeId */\nvar CommentItem___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar CommentItem___vue_module_identifier__ = \"8f3d9b14\"\nvar CommentItem_Component = CommentItem_normalizeComponent(\n  CommentItem,\n  comments_CommentItem,\n  CommentItem___vue_template_functional__,\n  CommentItem___vue_styles__,\n  CommentItem___vue_scopeId__,\n  CommentItem___vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_CommentItem = (CommentItem_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/CommentMain.vue\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ var CommentMain = ({\n  name: \"VCommentMain\",\n  components: {\n    CommentCreateForm: components_comments_CommentCreateForm,\n    CommentItem: components_comments_CommentItem\n  },\n  props: {\n    id: {\n      required: true,\n      type: [Number, String]\n    },\n    type: {\n      required: true,\n      type: String,\n      validator: val => ~[\"post\", \"video\", \"image\", \"score\", \"question\", \"answer\", \"role\"].indexOf(val)\n    },\n    onlySeeMaster: {\n      type: Boolean,\n      default: false\n    },\n    emptyText: {\n      type: String,\n      default: \"暂无评论，快来抢沙发吧╮(￣▽￣)╭！\"\n    },\n    masterId: {\n      required: true,\n      type: Number\n    },\n    bottomAppendComment: {\n      type: Boolean,\n      default: true\n    },\n    auto: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  data() {\n    return {\n      loadingMainComment: false,\n      focusCommentId: 0,\n      openFocusCommentDrawer: false,\n      loadingSubComment: false,\n      replyForm: {\n        id: \"\",\n        content: \"\",\n        targetUserId: 0,\n        targetUserName: \"\",\n        open: false,\n        replying: false,\n        liking: false\n      },\n      openCreateCommentDrawer: false\n    };\n  },\n\n  computed: {\n    store() {\n      return this.$store.state.comment;\n    },\n\n    list() {\n      return this.store.list;\n    },\n\n    noMore() {\n      return this.store.noMore;\n    },\n\n    total() {\n      return this.store.total;\n    },\n\n    focusComment() {\n      return this.focusCommentId ? this.list.filter(_ => _.id === this.focusCommentId)[0] : null;\n    },\n\n    currentUserId() {\n      return this.$store.state.login ? this.$store.state.user.id : 0;\n    }\n\n  },\n\n  mounted() {\n    this.scrollToReply();\n\n    if (this.auto) {\n      this.$channel.$on(`fire-load-comment-${this.type}-${this.id}`, () => {\n        this.loadMoreMainComment(true);\n      });\n    }\n\n    this.$channel.$on(\"load-all-sub-comment\", (_ref) => {\n      var id = _ref.id;\n      this.focusCommentId = id;\n      this.openFocusCommentDrawer = true;\n    });\n    this.$channel.$on(`open-create-comment-drawer-${this.type}-${this.id}`, () => {\n      if (!this.currentUserId) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      this.openCreateCommentDrawer = true;\n    });\n    this.$channel.$on(\"reply-comment\", (_ref2) => {\n      var id = _ref2.id,\n          targetUserId = _ref2.targetUserId,\n          targetUserName = _ref2.targetUserName;\n      this.handleSubCommentReply({\n        id,\n        targetUserId,\n        targetUserName\n      });\n    });\n    document.getElementById(\"comment-wrap\").addEventListener(\"click\", e => {\n      if (/reply-btn/.test(e.target.className) && this.$el.contains(e.target)) {\n        var area = document.getElementById(\"reply-comment-textarea\");\n        area.style.display = \"block\";\n        area.focus();\n      }\n    });\n  },\n\n  methods: {\n    loadMoreMainComment() {\n      var _this = this,\n          _arguments = arguments;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee() {\n        var firstRequest;\n        return regenerator__default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                firstRequest = _arguments.length > 0 && _arguments[0] !== undefined ? _arguments[0] : false;\n\n                if (!_this.loadingMainComment) {\n                  _context.next = 3;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 3:\n                _this.loadingMainComment = true;\n                _context.prev = 4;\n                _context.next = 7;\n                return _this.$store.dispatch(\"comment/getMainComments\", {\n                  ctx: _this,\n                  type: _this.type,\n                  id: _this.id,\n                  onlySeeMaster: _this.onlySeeMaster ? 1 : 0,\n                  firstRequest\n                });\n\n              case 7:\n                _context.next = 12;\n                break;\n\n              case 9:\n                _context.prev = 9;\n                _context.t0 = _context[\"catch\"](4);\n\n                _this.$toast.error(_context.t0);\n\n              case 12:\n                _context.prev = 12;\n                _this.loadingMainComment = false;\n                return _context.finish(12);\n\n              case 15:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[4, 9, 12, 15]]);\n      }))();\n    },\n\n    loadMoreSubComment() {\n      var _this2 = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee2() {\n        return regenerator__default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!_this2.loadingSubComment) {\n                  _context2.next = 2;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\");\n\n              case 2:\n                _this2.loadingSubComment = true;\n                _context2.prev = 3;\n                _context2.next = 6;\n                return _this2.$store.dispatch(\"comment/getSubComments\", {\n                  ctx: _this2,\n                  type: _this2.type,\n                  id: _this2.focusCommentId\n                });\n\n              case 6:\n                _context2.next = 11;\n                break;\n\n              case 8:\n                _context2.prev = 8;\n                _context2.t0 = _context2[\"catch\"](3);\n\n                _this2.$toast.error(_context2.t0);\n\n              case 11:\n                _context2.prev = 11;\n                _this2.loadingSubComment = false;\n                return _context2.finish(11);\n\n              case 14:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[3, 8, 11, 14]]);\n      }))();\n    },\n\n    commentToComment(data) {\n      this.handleSubCommentReply({\n        id: data.parent_id,\n        targetUserId: data.from_user_id,\n        targetUserName: data.from_user_name\n      });\n    },\n\n    handleCommentBtnClick() {\n      this.handleSubCommentReply({\n        id: this.focusComment.id,\n        targetUserId: this.focusComment.from_user_id,\n        targetUserName: this.focusComment.from_user_name\n      });\n    },\n\n    handleSubCommentReply(_ref3) {\n      var id = _ref3.id,\n          targetUserId = _ref3.targetUserId,\n          targetUserName = _ref3.targetUserName;\n\n      if (!this.currentUserId) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      this.replyForm.id = id;\n      this.replyForm.targetUserId = targetUserId;\n      this.replyForm.targetUserName = targetUserName;\n      this.replyForm.open = true;\n      setTimeout(() => {\n        document.body.scrollTop = 0;\n      }, 200);\n    },\n\n    toggleFocusCommentLike() {\n      var _this3 = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee3() {\n        return regenerator__default.a.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (_this3.currentUserId) {\n                  _context3.next = 3;\n                  break;\n                }\n\n                _this3.$channel.$emit(\"sign-in\");\n\n                return _context3.abrupt(\"return\");\n\n              case 3:\n                if (!_this3.replyForm.liking) {\n                  _context3.next = 5;\n                  break;\n                }\n\n                return _context3.abrupt(\"return\");\n\n              case 5:\n                _this3.replyForm.liking = true;\n                _context3.prev = 6;\n                _context3.next = 9;\n                return _this3.$store.dispatch(\"comment/toggleLikeMainComment\", {\n                  ctx: _this3,\n                  type: _this3.type,\n                  id: _this3.focusCommentId\n                });\n\n              case 9:\n                _context3.next = 13;\n                break;\n\n              case 11:\n                _context3.prev = 11;\n                _context3.t0 = _context3[\"catch\"](6);\n\n              case 13:\n                _context3.prev = 13;\n                _this3.replyForm.liking = false;\n                return _context3.finish(13);\n\n              case 16:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[6, 11, 13, 16]]);\n      }))();\n    },\n\n    handleReplyDrawerClose() {\n      document.getElementById(\"reply-comment-textarea\").style.display = \"none\";\n    },\n\n    handleReplySubmit() {\n      var _this4 = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee4() {\n        var result;\n        return regenerator__default.a.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                if (_this4.currentUserId) {\n                  _context4.next = 3;\n                  break;\n                }\n\n                _this4.$channel.$emit(\"sign-in\");\n\n                return _context4.abrupt(\"return\");\n\n              case 3:\n                if (_this4.replyForm.content) {\n                  _context4.next = 5;\n                  break;\n                }\n\n                return _context4.abrupt(\"return\");\n\n              case 5:\n                if (!_this4.replyForm.replying) {\n                  _context4.next = 7;\n                  break;\n                }\n\n                return _context4.abrupt(\"return\");\n\n              case 7:\n                _this4.replyForm.replying = true;\n                _context4.prev = 8;\n                _context4.next = 11;\n                return _this4.$store.dispatch(\"comment/createSubComment\", {\n                  ctx: _this4,\n                  id: _this4.replyForm.id,\n                  type: _this4.type,\n                  content: _this4.replyForm.content,\n                  targetUserId: _this4.replyForm.targetUserId\n                });\n\n              case 11:\n                result = _context4.sent;\n                _this4.replyForm.open = false;\n                _this4.replyForm.content = \"\";\n\n                _this4.$toast.success(result.message);\n\n                _this4.$store.commit(\"UPDATE_USER_EXP\", result.exp);\n\n                _context4.next = 21;\n                break;\n\n              case 18:\n                _context4.prev = 18;\n                _context4.t0 = _context4[\"catch\"](8);\n\n                _this4.$toast.error(_context4.t0);\n\n              case 21:\n                _context4.prev = 21;\n                _this4.replyForm.replying = false;\n\n                _this4.handleReplyDrawerClose();\n\n                return _context4.finish(21);\n\n              case 25:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this, [[8, 18, 21, 25]]);\n      }))();\n    },\n\n    writeComment() {\n      this.$channel.$emit(`open-create-comment-drawer-${this.type}-${this.id}`);\n    },\n\n    closeCommentDrawer() {\n      this.openCreateCommentDrawer = false;\n    },\n\n    submitCommentCallback() {\n      this.openCreateCommentDrawer = false;\n      this.$emit(\"create-main-comment\");\n    },\n\n    deleteCommentCallback() {\n      this.$emit(\"delete-main-comment\");\n    },\n\n    scrollToReply() {\n      var replyId = this.$route.query[\"comment-id\"];\n\n      if (!replyId) {\n        return;\n      }\n\n      var reply = document.getElementById(`comment-${replyId}`);\n\n      if (!reply) {\n        return;\n      }\n\n      setTimeout(() => {\n        Object(scrollToY[\"a\" /* default */])(this.$utils.getOffsetTop(reply) - 100, 600);\n      }, 400);\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-dbd4bc0e\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/CommentMain.vue\nvar CommentMain_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"comment-wrap\"}},[_vm._t(\"header\",[(!_vm.auto)?_c('div',{staticClass:\"hr\"}):_vm._e(),_c('h3',{staticClass:\"sub-title\"},[_vm._v(\"\\n      评论\"+_vm._s(_vm.total ? (\"(\" + _vm.total + \")\") : '')+\"\\n      \"),_vm._t(\"header-btn\"),_c('button',{staticClass:\"write-btn\",on:{\"click\":_vm.writeComment}},[_vm._v(\"写评论\")])],2)]),(_vm.list.length)?[_vm._ssrNode(\"<div id=\\\"comment-list-wrap\\\">\",\"</div>\",_vm._l((_vm.list),function(comment){return _vm._ssrNode(\"<div class=\\\"comment-item-wrap\\\">\",\"</div>\",[_vm._t(\"comment-item\",[_c('comment-item',{attrs:{\"type\":_vm.type,\"comment\":comment,\"master-id\":_vm.masterId},on:{\"delete\":_vm.deleteCommentCallback}})],{comment:comment,reply:_vm.handleSubCommentReply})],2)})),_vm._ssrNode(\"<div id=\\\"comment-list-footer\\\">\",\"</div>\",[_vm._ssrNode(((_vm.bottomAppendComment)?(\"<button class=\\\"append-comment-btn\\\">写评论</button>\"):\"<!---->\")),_c('more-btn',{attrs:{\"no-more\":_vm.noMore,\"loading\":_vm.loadingMainComment,\"auto\":true},on:{\"fetch\":function($event){_vm.loadMoreMainComment(false)}}})],2)]:(_vm.emptyText)?_vm._ssrNode((\"<p class=\\\"no-content\\\">\"+_vm._ssrEscape(_vm._s(_vm.emptyText))+\"</p>\")):_vm._e(),_c('v-drawer',{staticClass:\"focus-comment-drawer\",attrs:{\"header-text\":(\"评论列表\" + (_vm.focusComment && _vm.focusComment.floor_count ? (\" - \" + (_vm.focusComment.floor_count) + \" 楼\") : '')),\"backdrop\":false,\"from\":\"bottom\",\"size\":\"100%\"},model:{value:(_vm.openFocusCommentDrawer),callback:function ($$v) {_vm.openFocusCommentDrawer=$$v},expression:\"openFocusCommentDrawer\"}},[(_vm.focusComment)?[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"reply\"},[_c('div',{staticClass:\"user clearfix\"},[_c('a',{staticClass:\"avatar\",attrs:{\"href\":_vm.$alias.user(_vm.focusComment.from_user_zone)}},[_c('v-img',{attrs:{\"src\":_vm.focusComment.from_user_avatar,\"avatar\":true,\"size\":\"35\"}})],1),_c('div',{staticClass:\"summary\"},[_c('a',{staticClass:\"nickname\",attrs:{\"href\":_vm.$alias.user(_vm.focusComment.from_user_zone)},domProps:{\"textContent\":_vm._s(_vm.focusComment.from_user_name)}}),_c('div',{staticClass:\"info\"},[_c('v-time',{model:{value:(_vm.focusComment.created_at),callback:function ($$v) {_vm.$set(_vm.focusComment, \"created_at\", $$v)},expression:\"focusComment.created_at\"}})],1)])]),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"text-area\",domProps:{\"innerHTML\":_vm._s(_vm.focusComment.content)}}),_c('div',{staticClass:\"image-area\"},_vm._l((_vm.focusComment.images),function(img,idx){return _c('div',{key:idx,staticClass:\"image-package\"},[_c('v-img',{attrs:{\"src\":img.url,\"width\":img.width,\"height\":img.height,\"full\":true}})],1)}))]),_c('div',{staticClass:\"social\"},[_c('button',{class:[ _vm.focusComment.liked ? 'reply-liked-btn' : 'reply-like-btn' ],on:{\"click\":_vm.toggleFocusCommentLike}},[_c('i',{staticClass:\"iconfont icon-icon_good\"}),_vm._v(\"\\n              \"+_vm._s(_vm.focusComment.liked ? '已赞' : '赞')+\"\\n              \"),(_vm.focusComment.like_count)?_c('span',[_vm._v(\"(\"+_vm._s(_vm.focusComment.like_count)+\")\")]):_vm._e()]),_c('button',{staticClass:\"reply-btn fr\",on:{\"click\":_vm.handleCommentBtnClick}},[_vm._v(\"\\n              回复\\n            \")])])]),_c('div',{staticClass:\"hr\"}),_c('p',{staticClass:\"total\"},[_vm._v(_vm._s(_vm.focusComment.comments.total)+\"条回复\")]),_c('ul',{staticClass:\"comments\"},_vm._l((_vm.focusComment.comments.list),function(item){return _c('li',{key:item.id},[_c('div',{staticClass:\"from-user\"},[_c('a',{staticClass:\"avatar\",attrs:{\"href\":_vm.$alias.user(item.from_user_zone)}},[_c('v-img',{attrs:{\"src\":item.from_user_avatar,\"avatar\":true,\"size\":\"35\"}})],1),_c('div',{staticClass:\"summary\"},[_c('div',{staticClass:\"users oneline\"},[_c('a',{staticClass:\"nickname\",attrs:{\"href\":_vm.$alias.user(item.from_user_zone)},domProps:{\"textContent\":_vm._s(item.from_user_name)}}),(item.to_user_zone)?[_vm._v(\"\\n                    回复\\n                    \"),_c('a',{staticClass:\"nickname\",attrs:{\"href\":_vm.$alias.user(item.to_user_zone)},domProps:{\"textContent\":_vm._s(item.to_user_name)}})]:_vm._e(),_vm._v(\"\\n                  :\\n                \")],2),_c('div',{staticClass:\"info\"},[_c('v-time',{model:{value:(item.created_at),callback:function ($$v) {_vm.$set(item, \"created_at\", $$v)},expression:\"item.created_at\"}})],1)])]),_c('div',{staticClass:\"main\"},[_c('div',{staticClass:\"content reply-btn\",domProps:{\"textContent\":_vm._s(item.content)},on:{\"click\":function($event){_vm.commentToComment(item)}}})])])}))]),_c('more-btn',{attrs:{\"no-more\":_vm.focusComment.comments.noMore,\"loading\":_vm.loadingSubComment},on:{\"fetch\":_vm.loadMoreSubComment}})]:_vm._e()],2),_vm._ssrNode(\"<div class=\\\"reply-comment-drawer-wrap\\\">\",\"</div>\",[_c('v-drawer',{staticClass:\"reply-comment-drawer\",attrs:{\"header-text\":_vm.currentUserId === _vm.replyForm.targetUserId ? '回复' : (\"回复：\" + (_vm.replyForm.targetUserName)),\"backdrop\":false,\"from\":\"right\",\"size\":\"100%\",\"submit-text\":\"发布\"},on:{\"cancel\":_vm.handleReplyDrawerClose,\"submit\":_vm.handleReplySubmit},model:{value:(_vm.replyForm.open),callback:function ($$v) {_vm.$set(_vm.replyForm, \"open\", $$v)},expression:\"replyForm.open\"}}),_vm._ssrNode(\"<textarea id=\\\"reply-comment-textarea\\\" placeholder=\\\"100字以内任意发挥\\\" maxlength=\\\"100\\\"\"+(_vm._ssrClass(null,{ 'fade-in': _vm.replyForm.open }))+\"></textarea>\")],2),_c('v-drawer',{attrs:{\"from\":\"right\",\"size\":\"100%\",\"header-text\":\"发表评论\"},model:{value:(_vm.openCreateCommentDrawer),callback:function ($$v) {_vm.openCreateCommentDrawer=$$v},expression:\"openCreateCommentDrawer\"}},[(_vm.openCreateCommentDrawer)?_c('div',{staticClass:\"container\"},[_vm._t(\"reply-form\",[(_vm.openCreateCommentDrawer)?_c('comment-create-form',{attrs:{\"id\":_vm.id,\"type\":_vm.type,\"master-id\":_vm.masterId},on:{\"close\":_vm.closeCommentDrawer,\"submit\":_vm.submitCommentCallback}}):_vm._e()],{close:_vm.closeCommentDrawer})],2):_vm._e()])],2)}\nvar CommentMain_staticRenderFns = []\nvar CommentMain_esExports = { render: CommentMain_render, staticRenderFns: CommentMain_staticRenderFns }\n/* harmony default export */ var comments_CommentMain = (CommentMain_esExports);\n// CONCATENATED MODULE: ./src/components/comments/CommentMain.vue\nfunction CommentMain_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(103),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar CommentMain_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar CommentMain___vue_template_functional__ = false\n/* styles */\nvar CommentMain___vue_styles__ = CommentMain_injectStyle\n/* scopeId */\nvar CommentMain___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar CommentMain___vue_module_identifier__ = \"71b0fa1c\"\nvar CommentMain_Component = CommentMain_normalizeComponent(\n  CommentMain,\n  comments_CommentMain,\n  CommentMain___vue_template_functional__,\n  CommentMain___vue_styles__,\n  CommentMain___vue_scopeId__,\n  CommentMain___vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_CommentMain = __webpack_exports__[\"a\"] = (CommentMain_Component.exports);\n\n\n/***/ }),\n\n/***/ 102:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/SubCommentItem.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var SubCommentItem = ({\n  name: \"SubCommentItem\",\n  props: {\n    comment: {\n      required: true,\n      type: Object\n    },\n    parentUserId: {\n      required: true,\n      type: Number\n    },\n    parentCommentId: {\n      required: true,\n      type: Number\n    },\n    type: {\n      required: true,\n      type: String\n    }\n  },\n\n  data() {\n    return {\n      deleting: false\n    };\n  },\n\n  computed: {\n    currentUserId() {\n      return this.$store.state.login ? this.$store.state.user.id : 0;\n    },\n\n    isMine() {\n      return this.currentUserId === this.comment.from_user_id;\n    },\n\n    canDelete() {\n      return this.isMine || this.currentUserId === this.parentUserId;\n    }\n\n  },\n  methods: {\n    handleSubCommentClick() {\n      if (this.isMine) {\n        this.deleteComment();\n        this.$nextTick(() => {\n          document.getElementById(\"reply-comment-textarea\").style.display = \"none\";\n        });\n        return;\n      }\n\n      if (this.currentUserId) {\n        this.$channel.$emit(\"reply-comment\", {\n          id: this.parentCommentId,\n          targetUserId: this.comment.from_user_id,\n          targetUserName: this.comment.from_user_name\n        });\n      }\n    },\n\n    deleteComment() {\n      if (!this.canDelete) {\n        return;\n      }\n\n      if (this.deleting) {\n        return;\n      }\n\n      this.deleting = true;\n      this.$confirm(\"删除后无法找回, 是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(() => {\n        this.$store.dispatch(\"comment/deleteSubComment\", {\n          ctx: this,\n          type: this.type,\n          id: this.comment.id,\n          parentId: this.comment.parent_id\n        });\n      }).catch(e => {\n        this.deleting = false;\n\n        if (e === \"cancel\") {\n          return;\n        }\n\n        this.$toast.error(e);\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3bb44ec9\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/SubCommentItem.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sub-comment-item\"},[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.comment.from_user_zone)))+\" class=\\\"nickname\\\">\"+_vm._ssrEscape(_vm._s(_vm.comment.from_user_name))+\"</a>\"+((_vm.comment.to_user_zone)?(\"\\n    回复\\n    <a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.comment.to_user_zone)))+\" class=\\\"nickname\\\">\"+_vm._ssrEscape(_vm._s(_vm.comment.to_user_name))+\"</a>\"):\"<!---->\")+\"\\n  :\\n  <span class=\\\"reply-btn comment-content\\\">\"+_vm._ssrEscape(_vm._s(_vm.comment.content))+\"</span>\")])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var comments_SubCommentItem = (esExports);\n// CONCATENATED MODULE: ./src/components/comments/SubCommentItem.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(111),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"3fc64a04\"\nvar Component = normalizeComponent(\n  SubCommentItem,\n  comments_SubCommentItem,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_SubCommentItem = (Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/SubCommentList.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var SubCommentList = ({\n  name: \"PostSubCommentList\",\n  components: {\n    SubCommentItem: components_comments_SubCommentItem\n  },\n  props: {\n    parentComment: {\n      required: true,\n      type: Object\n    },\n    type: {\n      required: true,\n      type: String\n    }\n  },\n  computed: {\n    comments() {\n      return this.parentComment.comments;\n    },\n\n    authorId() {\n      return this.parentComment.from_user_id;\n    },\n\n    hasComment() {\n      return !!this.comments.list.length;\n    },\n\n    filterComments() {\n      var data = this.comments;\n      var comments = data.list;\n      var result = comments.slice(0, 5);\n\n      if (comments.every(_ => _.id <= data.maxId)) {\n        return result;\n      }\n\n      var ids = result.map(_ => _.id);\n      return result.concat(comments.filter(_ => _.id > data.maxId && ids.indexOf(_.id) === -1));\n    }\n\n  },\n  methods: {\n    loadAllComment() {\n      this.$channel.$emit(\"load-all-sub-comment\", {\n        id: this.parentComment.id\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-14eb249e\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/SubCommentList.vue\nvar SubCommentList_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sub-comment-list-wrap\"},[(_vm.hasComment)?_vm._ssrNode(\"<div class=\\\"sub-comment-list\\\">\",\"</div>\",[_vm._l((_vm.filterComments),function(comment){return _c('sub-comment-item',{key:comment.id,attrs:{\"comment\":comment,\"parent-user-id\":_vm.authorId,\"parent-comment-id\":_vm.parentComment.id,\"type\":_vm.type}})}),_vm._ssrNode(((!_vm.comments.noMore || _vm.comments.list.length > 5)?(\"<button class=\\\"load-all-comment\\\">\"+_vm._ssrEscape(\"\\n      查看全部\"+_vm._s(_vm.comments.total)+\"条评论\\n    \")+\"</button>\"):\"<!---->\"))],2):_vm._e()])}\nvar SubCommentList_staticRenderFns = []\nvar SubCommentList_esExports = { render: SubCommentList_render, staticRenderFns: SubCommentList_staticRenderFns }\n/* harmony default export */ var comments_SubCommentList = (SubCommentList_esExports);\n// CONCATENATED MODULE: ./src/components/comments/SubCommentList.vue\nfunction SubCommentList_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(109),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar SubCommentList_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar SubCommentList___vue_template_functional__ = false\n/* styles */\nvar SubCommentList___vue_styles__ = SubCommentList_injectStyle\n/* scopeId */\nvar SubCommentList___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar SubCommentList___vue_module_identifier__ = \"2bbb59ee\"\nvar SubCommentList_Component = SubCommentList_normalizeComponent(\n  SubCommentList,\n  comments_SubCommentList,\n  SubCommentList___vue_template_functional__,\n  SubCommentList___vue_styles__,\n  SubCommentList___vue_scopeId__,\n  SubCommentList___vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_SubCommentList = __webpack_exports__[\"a\"] = (SubCommentList_Component.exports);\n\n\n/***/ }),\n\n/***/ 103:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(104);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"beeeca2c\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 104:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}#comment-wrap .sub-title{margin-top:15px;margin-bottom:15px}#comment-wrap .sub-title .write-btn{float:right;font-weight:700;font-size:13px}#comment-wrap #comment-list-footer{margin-left:-15px;margin-right:-15px}#comment-wrap .focus-comment-drawer .reply .user{padding-top:5px}#comment-wrap .focus-comment-drawer .reply .user .avatar{float:left;margin-right:9px}#comment-wrap .focus-comment-drawer .reply .user .summary{overflow:hidden}#comment-wrap .focus-comment-drawer .reply .user .summary .nickname{font-size:14px;color:#333}#comment-wrap .focus-comment-drawer .reply .user .summary .info{line-height:16px;font-size:12px;color:#999}#comment-wrap .focus-comment-drawer .reply .user .summary .info span{margin-right:5px}#comment-wrap .focus-comment-drawer .reply .content{font-size:16px;line-height:24px;padding-top:16px;margin-bottom:16px;color:#000}#comment-wrap .focus-comment-drawer .reply .content .image-area{margin:16px 0}#comment-wrap .focus-comment-drawer .reply .content .image-area img{width:100%;height:auto}#comment-wrap .focus-comment-drawer .reply .social{margin-bottom:15px;font-size:12px}#comment-wrap .focus-comment-drawer .reply .social .reply-liked-btn{color:#0381aa}#comment-wrap .focus-comment-drawer .reply .social button{color:#666;margin-left:3px}#comment-wrap .focus-comment-drawer .total{height:40px;line-height:40px;color:#000;font-size:16px}#comment-wrap .focus-comment-drawer .comments li{padding:17px 0 13px;position:relative}#comment-wrap .focus-comment-drawer .comments li:after{content:\\\"\\\";position:absolute;left:0;right:0;bottom:0;height:1px;background-color:#f0f0f0;-webkit-transform:scaleY(.5);-ms-transform:scaleY(.5);transform:scaleY(.5);margin-left:-15px;margin-right:-15px}#comment-wrap .focus-comment-drawer .comments li .from-user .avatar{float:left;display:block;margin-right:9px}#comment-wrap .focus-comment-drawer .comments li .from-user .summary{overflow:hidden}#comment-wrap .focus-comment-drawer .comments li .from-user .summary .users{font-size:14px;margin-bottom:6px;margin-top:2px;line-height:14px}#comment-wrap .focus-comment-drawer .comments li .from-user .summary .users .nickname{color:#0381aa}#comment-wrap .focus-comment-drawer .comments li .from-user .summary .info{font-size:12px;line-height:12px;color:#999}#comment-wrap .focus-comment-drawer .comments li .main{margin-left:45px;padding-top:10px}#comment-wrap .focus-comment-drawer .comments li .main .content{font-size:14px;line-height:21px;word-break:break-all}#comment-wrap .reply-comment-drawer-wrap #reply-comment-textarea{position:fixed;left:0;top:60px;width:100%;height:250px;background-color:transparent;font-size:16px;line-height:24px;color:#000;font-weight:400;z-index:101;padding-left:15px;padding-right:15px;display:none;opacity:0}#comment-wrap .reply-comment-drawer-wrap #reply-comment-textarea.fade-in{opacity:1;-webkit-transition-delay:.4s;-o-transition-delay:.4s;transition-delay:.4s}#comment-wrap .append-comment-btn{width:100%;padding:15px 0;font-size:13px}#comment-wrap .no-content{text-align:center;margin-top:30px;margin-bottom:30px;font-size:12px;color:#99a2aa}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 105:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(106);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"303ce1cc\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 106:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.comment-create-form .content{font-size:16px;line-height:24px;color:#000;font-weight:400;height:250px;margin-bottom:5px}.comment-create-form .submit-btn{margin-top:15px;width:100%}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 107:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(108);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"23a510bc\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 108:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.comment-item{position:relative;margin-top:15px;padding-bottom:15px}.comment-item:after{content:\\\"\\\";position:absolute;left:0;right:0;bottom:0;height:1px;background-color:#f0f0f0;-webkit-transform:scaleY(.5);-ms-transform:scaleY(.5);transform:scaleY(.5);margin-left:-15px;margin-right:-15px}.comment-item .avatar{float:left;margin-right:9px}.comment-item .content{overflow:hidden}.comment-item .content .header .tools-btn{float:right;line-height:16px;font-size:12px;color:#535353;margin-top:9px;margin-left:4px}.comment-item .content .header .user .nickname{font-size:14px;line-height:21px;display:block;color:#333}.comment-item .content .header .user .info{color:#999;line-height:14px;font-size:12px}.comment-item .content .header .user .info span{margin-right:5px}.comment-item .content .main{font-size:16px;margin:10px 0 4px;color:#333;line-height:24px;min-height:65px}.comment-item .content .main .image-area{margin:10px 0}.comment-item .content .main .image-area img{width:100%;height:auto}.comment-item .content .footer .social{margin-top:15px;font-size:12px}.comment-item .content .footer .social .reply-liked-btn{color:#0381aa}.comment-item .content .footer .social button{color:#666;margin-left:3px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 109:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(110);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"75d7965e\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 110:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.sub-comment-list-wrap{position:relative;background-color:#f7f8fa;border-radius:5px}.sub-comment-list-wrap .sub-comment-list{padding:7px 0 7.5px;margin-top:5px}.sub-comment-list-wrap .load-all-comment{position:relative;margin-top:6px;font-size:12px;margin-bottom:0;padding:0 10px;color:#999;width:100%;text-align:left}.sub-comment-list-wrap .load-all-comment:after{content:\\\"\\\";position:absolute;top:50%;border:3px solid #f5f5f5;border-left-color:#999;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);margin-left:4px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 111:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(112);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"6b8bda44\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 112:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.sub-comment-item{padding:2px 10px;font-size:14px;line-height:18px}.sub-comment-item .nickname{color:#0381aa}.sub-comment-item .comment-content{margin-right:6px;word-break:break-all}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 113:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: external \"@babel/runtime/regenerator\"\nvar regenerator_ = __webpack_require__(0);\nvar regenerator__default = /*#__PURE__*/__webpack_require__.n(regenerator_);\n\n// EXTERNAL MODULE: external \"regenerator-runtime/runtime\"\nvar runtime_ = __webpack_require__(1);\nvar runtime__default = /*#__PURE__*/__webpack_require__.n(runtime_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/asyncToGenerator\"\nvar asyncToGenerator_ = __webpack_require__(2);\nvar asyncToGenerator__default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator_);\n\n// EXTERNAL MODULE: ./src/api/toggleApi.js\nvar toggleApi = __webpack_require__(22);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/common/SocialPanel.vue\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var SocialPanel = ({\n  name: \"SocialPanel\",\n  props: {\n    id: {\n      required: true,\n      type: Number\n    },\n    type: {\n      required: true,\n      type: String,\n      validator: val => ~[\"post\", \"video\", \"image\", \"score\", \"answer\", \"video\"].indexOf(val)\n    },\n    isCreator: {\n      required: true,\n      type: Boolean\n    },\n    userId: {\n      required: true,\n      type: Number\n    },\n    liked: {\n      type: Boolean,\n      default: false\n    },\n    marked: {\n      type: Boolean,\n      default: false\n    },\n    rewarded: {\n      type: Boolean,\n      default: false\n    },\n    likeUsers: {\n      required: true,\n      type: Object\n    },\n    rewardUsers: {\n      required: true,\n      type: Object\n    },\n    markUsers: {\n      required: true,\n      type: Object\n    }\n  },\n\n  data() {\n    return {\n      loadingReward: false,\n      loadingLike: false,\n      loadingMark: false,\n      displayCount: 7\n    };\n  },\n\n  computed: {\n    currentUserId() {\n      return this.$store.state.login ? this.$store.state.user.id : 0;\n    },\n\n    isMine() {\n      return this.userId === this.currentUserId;\n    },\n\n    displayUsers() {\n      var users = this.isCreator ? this.rewardUsers.list : this.likeUsers.list;\n      return users.slice(0, this.displayCount);\n    }\n\n  },\n  methods: {\n    toggleReward() {\n      var _this = this;\n\n      if (!this.currentUserId) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      if (this.isMine) {\n        this.$toast.info(\"不能给自己打赏\");\n        return;\n      }\n\n      this.$confirm(this.rewarded ? \"即使取消投食你的金币也不会回到你的钱包, 是否继续?\" : \"向TA投食需要消耗你一枚金币，是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(\n      /*#__PURE__*/\n      asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee() {\n        var api, user, result;\n        return regenerator__default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!_this.loadingReward) {\n                  _context.next = 2;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 2:\n                _this.loadingReward = true;\n                api = new toggleApi[\"a\" /* default */](_this);\n                user = _this.$store.state.user;\n                _context.prev = 5;\n                _context.next = 8;\n                return api.reward({\n                  id: _this.id,\n                  type: _this.type\n                });\n\n              case 8:\n                result = _context.sent;\n\n                if (result) {\n                  _this.$store.commit(\"USE_COIN\");\n                }\n\n                _this.$store.commit(`${_this.type}/SOCIAL_TOGGLE`, {\n                  key: \"reward\",\n                  value: result,\n                  user: {\n                    id: user.id,\n                    zone: user.zone,\n                    nickname: user.nickname,\n                    avatar: user.avatar\n                  }\n                });\n\n                _this.$toast.success(\"操作成功\");\n\n                _this.$emit(\"reward-callback\");\n\n                _context.next = 18;\n                break;\n\n              case 15:\n                _context.prev = 15;\n                _context.t0 = _context[\"catch\"](5);\n\n                _this.$toast.error(_context.t0);\n\n              case 18:\n                _context.prev = 18;\n                _this.loadingReward = false;\n                return _context.finish(18);\n\n              case 21:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[5, 15, 18, 21]]);\n      }))).catch(() => {});\n    },\n\n    toggleLike() {\n      var _this2 = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee2() {\n        var api, user, result;\n        return regenerator__default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (_this2.currentUserId) {\n                  _context2.next = 3;\n                  break;\n                }\n\n                _this2.$channel.$emit(\"sign-in\");\n\n                return _context2.abrupt(\"return\");\n\n              case 3:\n                if (!_this2.isMine) {\n                  _context2.next = 6;\n                  break;\n                }\n\n                _this2.$toast.info(\"不能喜欢自己的内容\");\n\n                return _context2.abrupt(\"return\");\n\n              case 6:\n                if (!_this2.loadingLike) {\n                  _context2.next = 8;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\");\n\n              case 8:\n                _this2.loadingLike = true;\n                api = new toggleApi[\"a\" /* default */](_this2);\n                user = _this2.$store.state.user;\n                _context2.prev = 11;\n                _context2.next = 14;\n                return api.like({\n                  id: _this2.id,\n                  type: _this2.type\n                });\n\n              case 14:\n                result = _context2.sent;\n\n                _this2.$store.commit(`${_this2.type}/SOCIAL_TOGGLE`, {\n                  key: \"like\",\n                  value: result,\n                  user: {\n                    id: user.id,\n                    zone: user.zone,\n                    nickname: user.nickname,\n                    avatar: user.avatar\n                  }\n                });\n\n                _this2.$toast.success(\"操作成功\");\n\n                _context2.next = 22;\n                break;\n\n              case 19:\n                _context2.prev = 19;\n                _context2.t0 = _context2[\"catch\"](11);\n\n                _this2.$toast.error(_context2.t0);\n\n              case 22:\n                _context2.prev = 22;\n                _this2.loadingLike = false;\n                return _context2.finish(22);\n\n              case 25:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[11, 19, 22, 25]]);\n      }))();\n    },\n\n    toggleMark() {\n      var _this3 = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee3() {\n        var api, user, result;\n        return regenerator__default.a.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (_this3.currentUserId) {\n                  _context3.next = 3;\n                  break;\n                }\n\n                _this3.$channel.$emit(\"sign-in\");\n\n                return _context3.abrupt(\"return\");\n\n              case 3:\n                if (!_this3.isMine) {\n                  _context3.next = 6;\n                  break;\n                }\n\n                _this3.$toast.info(\"不能收藏自己的内容\");\n\n                return _context3.abrupt(\"return\");\n\n              case 6:\n                if (!_this3.loadingMark) {\n                  _context3.next = 8;\n                  break;\n                }\n\n                return _context3.abrupt(\"return\");\n\n              case 8:\n                _this3.loadingMark = true;\n                api = new toggleApi[\"a\" /* default */](_this3);\n                user = _this3.$store.state.user;\n                _context3.prev = 11;\n                _context3.next = 14;\n                return api.mark({\n                  id: _this3.id,\n                  type: _this3.type\n                });\n\n              case 14:\n                result = _context3.sent;\n\n                _this3.$store.commit(`${_this3.type}/SOCIAL_TOGGLE`, {\n                  key: \"mark\",\n                  value: result,\n                  user: {\n                    id: user.id,\n                    zone: user.zone,\n                    nickname: user.nickname,\n                    avatar: user.avatar\n                  }\n                });\n\n                _this3.$toast.success(\"操作成功\");\n\n                _context3.next = 22;\n                break;\n\n              case 19:\n                _context3.prev = 19;\n                _context3.t0 = _context3[\"catch\"](11);\n\n                _this3.$toast.error(_context3.t0);\n\n              case 22:\n                _context3.prev = 22;\n                _this3.loadingMark = false;\n                return _context3.finish(22);\n\n              case 25:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[11, 19, 22, 25]]);\n      }))();\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-200e0634\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/SocialPanel.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"social-panel\"},[_vm._ssrNode(\"<div class=\\\"buttons\\\">\",\"</div>\",[(_vm.isCreator)?_c('el-button',{class:{ 'is-plain': _vm.rewarded },attrs:{\"loading\":_vm.loadingReward,\"type\":\"warning\",\"round\":\"\",\"size\":\"mini\"},on:{\"click\":_vm.toggleReward}},[_c('i',{staticClass:\"iconfont icon-guanzhu\"}),_vm._v(\"\\n      \"+_vm._s(_vm.rewarded ? '已投食' : '投食')+_vm._s(_vm.rewardUsers.total ? (\"  |  \" + (_vm.rewardUsers.total)) : '')+\"\\n    \")]):_c('el-button',{class:{ 'is-plain': _vm.liked },attrs:{\"loading\":_vm.loadingLike,\"type\":\"danger\",\"size\":\"mini\",\"round\":\"\"},on:{\"click\":_vm.toggleLike}},[_c('i',{staticClass:\"iconfont icon-guanzhu\"}),_vm._v(\"\\n      \"+_vm._s(_vm.liked ? '已喜欢' : '喜欢')+_vm._s(_vm.likeUsers.total ? (\"  |  \" + (_vm.likeUsers.total)) : '')+\"\\n    \")]),_c('el-button',{class:{ 'is-plain': _vm.marked },attrs:{\"loading\":_vm.loadingMark,\"type\":\"success\",\"size\":\"mini\",\"round\":\"\"},on:{\"click\":_vm.toggleMark}},[_c('i',{staticClass:\"iconfont icon-shoucang\"}),_vm._v(\"\\n      \"+_vm._s(_vm.marked ? '已收藏' : '收藏')+_vm._s(_vm.markUsers.total ? (\"  |  \" + (_vm.markUsers.total)) : '')+\"\\n    \")]),_vm._t(\"default\")],2),_vm._ssrNode(\"<div class=\\\"users\\\"><ul>\"+(_vm._ssrList((_vm.displayUsers),function(user){return (\"<li class=\\\"user-face\\\"><img\"+(_vm._ssrAttr(\"src\",_vm.$resize(user.avatar, { width: 60 })))+\"></li>\")}))+\"</ul></div>\")],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var common_SocialPanel = (esExports);\n// CONCATENATED MODULE: ./src/components/common/SocialPanel.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(114),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"786d8432\"\nvar Component = normalizeComponent(\n  SocialPanel,\n  common_SocialPanel,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_common_SocialPanel = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 114:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(115);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"6bcd6949\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 115:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.social-panel{margin:40px 0}.social-panel .buttons{text-align:center}.social-panel .buttons button{padding:5px 7px;font-size:11px!important}.social-panel .users{margin-top:25px;text-align:center}.social-panel .users .user-face{margin:0 -5px;display:inline-block;vertical-align:middle}.social-panel .users .user-face img{width:30px;height:30px;border-radius:50%;border:3px solid #fff}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 274:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(275);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"70ca6c5d\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 275:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}#video-show .video{width:100%;height:56vw;background-color:#000;color:#fff;text-align:center;position:relative}#video-show .video p{padding-top:20vw}#video-show .video a{display:inline-block;border-radius:5px;border:1px solid #fff;padding:10px 15px;margin:20px 5px 0}#video-show .video video{width:100%;height:100%}#video-show .video .play-btn{overflow:hidden;background-color:hsla(0,0%,100%,.5);text-indent:6px}#video-show .video .play-btn,#video-show .video .video-loading{width:80px;height:80px;border-radius:50%;color:#fff;position:absolute;left:50%;top:50%;margin-left:-40px;margin-top:-40px;font-size:30px}#video-show .video .video-loading{background-color:transparent;line-height:80px;-webkit-animation:rolling 1s infinite linear;animation:rolling 1s infinite linear}#video-show .container #metas{margin-bottom:8px;overflow:hidden;position:relative}#video-show .container #metas .sub-title{margin-top:15px}#video-show .container #metas .sub-title .more,#video-show .container #metas .sub-title .next{float:right;font-size:13px;margin-left:15px;color:#6d757a}#video-show .container #metas ul{margin-bottom:2px;margin-left:-10px;margin-right:-10px}#video-show .container #metas .season-title{padding-bottom:10px;margin-left:2px}#video-show .container #metas li{width:25%;display:inline-block;text-align:center;margin-bottom:10px;padding:0 10px}#video-show .container #metas .meta{border:1px solid #ccd0d7;height:30px;color:#222;border-radius:4px;display:block;font-size:12px;line-height:28px}#video-show .container #metas .a-active{border-color:#ff8eb3;background-color:#ff8eb3;color:#fff}#video-show .container .bangumi-panel{margin-bottom:15px}#video-show .container .bangumi-panel .part{font-size:14px;display:block;line-height:16px;max-height:32px;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}#video-show .container .tip{font-size:12px;color:#6d757a;margin-bottom:5px;line-height:15px}#video-show .container .video-report-btn{width:100%;height:30px;line-height:28px;font-size:13px;text-align:center;border:1px solid #666;border-radius:15px;margin-bottom:15px;margin-top:3px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 339:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: external \"core-js/modules/es6.regexp.split\"\nvar es6_regexp_split_ = __webpack_require__(10);\nvar es6_regexp_split__default = /*#__PURE__*/__webpack_require__.n(es6_regexp_split_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/regenerator\"\nvar regenerator_ = __webpack_require__(0);\nvar regenerator__default = /*#__PURE__*/__webpack_require__.n(regenerator_);\n\n// EXTERNAL MODULE: external \"core-js/modules/es6.promise\"\nvar es6_promise_ = __webpack_require__(21);\nvar es6_promise__default = /*#__PURE__*/__webpack_require__.n(es6_promise_);\n\n// EXTERNAL MODULE: external \"regenerator-runtime/runtime\"\nvar runtime_ = __webpack_require__(1);\nvar runtime__default = /*#__PURE__*/__webpack_require__.n(runtime_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/asyncToGenerator\"\nvar asyncToGenerator_ = __webpack_require__(2);\nvar asyncToGenerator__default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator_);\n\n// EXTERNAL MODULE: external \"core-js/modules/web.dom.iterable\"\nvar web_dom_iterable_ = __webpack_require__(3);\nvar web_dom_iterable__default = /*#__PURE__*/__webpack_require__.n(web_dom_iterable_);\n\n// EXTERNAL MODULE: ./src/api/videoApi.js\nvar videoApi = __webpack_require__(27);\n\n// EXTERNAL MODULE: ./src/components/comments/CommentMain.vue + 8 modules\nvar CommentMain = __webpack_require__(101);\n\n// EXTERNAL MODULE: ./src/components/common/SocialPanel.vue + 2 modules\nvar SocialPanel = __webpack_require__(113);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/video/show.vue\n\n\n\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ var show = ({\n  name: \"VideoShow\",\n\n  head() {\n    var bangumi = this.bangumi;\n    var video = this.video;\n\n    if (!bangumi || !video) {\n      return;\n    }\n\n    var resultPart = video.part;\n    var season = \"\";\n    var title = \"\";\n\n    if (this.season) {\n      this.list.forEach((videos, index) => {\n        videos.data.forEach(video => {\n          if (video.id === this.video.id) {\n            resultPart = video.part - videos.base;\n            season = this.season.name[index];\n          }\n        });\n      });\n    }\n\n    if (season) {\n      if (season === video.name) {\n        title = `${bangumi.name} : ${season} - 视频`;\n      } else {\n        title = `${bangumi.name} : ${season} : 第${resultPart}话 ${video.name} - 视频`;\n      }\n    } else {\n      title = `${bangumi.name} : 第${resultPart}话 ${video.name} - 视频`;\n    }\n\n    return {\n      title,\n      meta: [{\n        hid: \"description\",\n        name: \"description\",\n        content: bangumi.summary\n      }, {\n        hid: \"keywords\",\n        name: \"keywords\",\n        content: `${bangumi.name}，第${video.part}话，${video.name}，在线观看 动画片大全 动漫在线播放 日本动漫 好看的动漫 二次元网站`\n      }]\n    };\n  },\n\n  asyncData(_ref) {\n    return asyncToGenerator__default()(\n    /*#__PURE__*/\n    regenerator__default.a.mark(function _callee() {\n      var route, store, ctx, id;\n      return regenerator__default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              route = _ref.route, store = _ref.store, ctx = _ref.ctx;\n              id = route.params.id;\n              _context.next = 4;\n              return Promise.all([store.dispatch(\"video/getShow\", {\n                id,\n                ctx\n              }), store.dispatch(\"comment/getMainComments\", {\n                ctx,\n                id,\n                type: \"video\",\n                seeReplyId: route.query[\"comment-id\"]\n              })]);\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }))();\n  },\n\n  components: {\n    CommentMain: CommentMain[\"a\" /* default */],\n    SocialPanel: SocialPanel[\"a\" /* default */]\n  },\n\n  data() {\n    return {\n      maxWidth: 0,\n      take: 4,\n      part: 0,\n      page: 0,\n      showAll: false,\n      firstPlay: true,\n      player: null,\n      playing: false,\n      notSupport: false,\n      loading: false\n    };\n  },\n\n  computed: {\n    id() {\n      return parseInt(this.$route.params.id, 10);\n    },\n\n    isGuest() {\n      //      return this.bangumi.id !== 34 && !this.$store.state.login;\n      return !this.$store.state.login;\n    },\n\n    videoPackage() {\n      return this.$store.state.video;\n    },\n\n    video() {\n      return this.videoPackage.info;\n    },\n\n    list() {\n      return this.videoPackage.list ? this.videoPackage.list.videos : [];\n    },\n\n    bangumi() {\n      return this.videoPackage.bangumi;\n    },\n\n    season() {\n      return this.videoPackage.season;\n    },\n\n    showMoreBtn() {\n      return this.take < this.videos.length;\n    },\n\n    videos() {\n      if (!this.season) {\n        return this.list[0].data;\n      }\n\n      var result = [];\n      this.list.forEach(videos => {\n        result = result.concat(videos.data);\n      });\n      return result;\n    },\n\n    sortVideos() {\n      var begin = (this.page - 1) * this.take;\n      return this.showAll ? this.videos : this.videos.slice(begin, begin + this.take);\n    },\n\n    useOtherSiteSource() {\n      return this.video.other_site;\n    },\n\n    videoSrc() {\n      return this.video.src;\n    },\n\n    isFlv() {\n      return this.useOtherSiteSource ? false : this.videoSrc ? this.videoSrc.split(\"?\")[0].split(\".\").pop().toLowerCase() === \"flv\" : false;\n    },\n\n    nextPartVideo() {\n      var nextId = 0;\n      this.videos.forEach((video, index) => {\n        if (video.id === this.id && index !== this.videos.length - 1) {\n          nextId = this.videos[index + 1].id;\n        }\n      });\n      return nextId ? this.$alias.video(nextId) : \"\";\n    },\n\n    errorTips() {\n      if (/(ipad|iphone|ios)/i.test(navigator.userAgent)) {\n        return \"视频加载失败，建议使用 Safari 打开网页播放！\";\n      }\n\n      return \"视频加载失败，建议使用QQ浏览器播放！\";\n    },\n\n    blocked() {\n      return this.videoPackage.blocked;\n    },\n\n    showLevelThrottle() {\n      if (this.$store.state.login) {\n        return this.$store.state.user.exp.level < this.video.needMinLevel;\n      }\n\n      return true;\n    },\n\n    needCoin() {\n      return this.videoPackage.mustReward && !this.video.rewarded;\n    }\n\n  },\n\n  mounted() {\n    this.computePage();\n\n    if (this.isFlv) {\n      this.notSupport = true;\n      return;\n    }\n\n    if (!this.videoSrc || this.useOtherSiteSource || this.showLevelThrottle || this.needCoin || this.isGuest || this.blocked) {\n      return;\n    }\n\n    this.player = this.$refs.video;\n\n    try {\n      this.player.load();\n    } catch (e) {\n      this.$alert(this.errorTips);\n      return;\n    }\n\n    this.player.addEventListener(\"pause\", () => {\n      this.playing = false;\n    });\n    this.player.addEventListener(\"waiting\", () => {\n      this.loading = true;\n    });\n    this.player.addEventListener(\"playing\", () => {\n      this.playing = true;\n      this.handlePlaying();\n    });\n    this.player.addEventListener(\"timeupdate\", () => {\n      this.loading = false;\n    });\n    this.player.addEventListener(\"abort\", () => {\n      this.$alert(this.errorTips);\n    });\n    this.player.addEventListener(\"error\", () => {\n      this.$alert(this.errorTips);\n    });\n  },\n\n  methods: {\n    handleBangumiFollow(result) {\n      this.$store.commit(\"video/followBangumi\", {\n        result\n      });\n    },\n\n    computePage() {\n      this.videos.forEach(meta => {\n        if (meta.id === this.id) {\n          this.part = meta.part;\n        }\n      });\n      this.page = Math.ceil(this.part / this.take);\n    },\n\n    handlePlaying() {\n      if (this.firstPlay) {\n        this.loading = true;\n        this.firstPlay = false;\n        var api = new videoApi[\"a\" /* default */](this);\n        api.playing(this.id);\n      }\n    },\n\n    handleVideoReportClick() {\n      this.$channel.$emit(\"open-feedback\", {\n        type: 4,\n        desc: `【H5】-《${this.bangumi.name}》第${this.part}话 视频有错误，错误详情为：{?}`,\n        placeholder: \"请填写错误详情\"\n      });\n    },\n\n    handleRewardAction() {\n      if (this.videoPackage.mustReward) {\n        window.location.reload();\n      }\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-42803b52\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/video/show.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"video-show\"}},[_vm._ssrNode(\"<div class=\\\"video\\\">\"+((!_vm.videoSrc)?(\"<p>这个资源消失了_〆(´Д｀ )</p>\"):\"<!---->\")+((_vm.useOtherSiteSource)?(\"<p>应版权方要求 (⇀‸↼‶)，该视频暂不提供站内播放</p><a\"+(_vm._ssrAttr(\"href\",_vm.videoSrc))+\" target=\\\"_blank\\\">播放链接</a>\"):(_vm.notSupport)?(\"<p>该视频格式仅支持在电脑上播放 (눈_눈)</p>\"):(_vm.isGuest)?(\"<p>流量压力太大了 (ಥ_ಥ)，需要登录才能看番</p><a>立即登录</a>\"):(_vm.blocked)?(\"<p>\\n        你已被禁止看视频功能，请加QQ群解禁\\n      </p><a href=\\\"/about/hello\\\">查看群号</a>\"):(_vm.needCoin)?(\"<p>\\n        该视频需要投食之后才能播放\\n        <br>\\n        金币可通过签到等方式获得\\n      </p><a href=\\\"https://www.calibur.tv/post/2282\\\">  为什么要限流？</a><a href=\\\"/about/hello\\\">  什么是金币？</a>\"):(_vm.showLevelThrottle)?(\"<p>\"+_vm._ssrEscape(\"\\n        该视频需要你的等级至少 \"+_vm._s(_vm.videoPackage.needMinLevel)+\" 才能播放\\n      \")+\"</p><a href=\\\"https://www.calibur.tv/post/2282\\\">  为什么要限流？</a><a href=\\\"https://www.calibur.tv/post/2279\\\">  如何升级？</a>\"):(_vm.video)?(\"<video\"+(_vm._ssrAttr(\"src\",_vm.videoSrc))+(_vm._ssrAttr(\"poster\",_vm.video.poster))+\" preload=\\\"none\\\" controls=\\\"controls\\\" controlsList=\\\"nodownload\\\"></video>\"):\"<!---->\")+\"</div>\"),_vm._ssrNode(\"<div class=\\\"container\\\">\",\"</div>\",[_vm._ssrNode(\"<div id=\\\"metas\\\"><h3 class=\\\"sub-title\\\">\"+_vm._ssrEscape(\"\\n        选集（\"+_vm._s(_vm.videos.length)+\"）\\n        \")+((_vm.nextPartVideo)?(\"<a\"+(_vm._ssrAttr(\"href\",_vm.nextPartVideo))+\" class=\\\"next\\\">下一话</a>\"):\"<!---->\")+((_vm.showMoreBtn)?(\"<div class=\\\"more\\\">\"+_vm._ssrEscape(_vm._s(_vm.showAll ? '收起' : '展开'))+\"</div>\"):\"<!---->\")+\"</h3>\"+((_vm.season && _vm.showAll)?((_vm._ssrList((_vm.list),function(videos,idx){return (\"<div><h6 class=\\\"season-title\\\">\"+_vm._ssrEscape(_vm._s(_vm.season.name[idx]))+\"</h6><ul>\"+(_vm._ssrList((videos.data),function(video){return (\"<li><a\"+(_vm._ssrAttr(\"href\",_vm.$alias.video(video.id)))+(_vm._ssrClass(\"meta oneline\",{ 'a-active' : _vm.$route.params.id == video.id }))+\">\"+_vm._ssrEscape(\"\\n                第\"+_vm._s(video.part - videos.base)+\"话\\n              \")+\"</a></li>\")}))+\"</ul></div>\")}))):(\"<ul>\"+(_vm._ssrList((_vm.sortVideos),function(video){return (\"<li><a\"+(_vm._ssrAttr(\"href\",_vm.$alias.video(video.id)))+(_vm._ssrClass(\"meta oneline\",{ 'a-active' : _vm.$route.params.id == video.id }))+\">\"+_vm._ssrEscape(\"\\n            第\"+_vm._s(video.part)+\"话\\n          \")+\"</a></li>\")}))+\"</ul>\"))+\"</div>\"),_c('social-panel',{attrs:{\"id\":_vm.video.id,\"is-creator\":_vm.video.is_creator,\"user-id\":_vm.video.user_id,\"liked\":_vm.video.liked,\"marked\":_vm.video.marked,\"rewarded\":_vm.video.rewarded,\"reward-users\":_vm.video.reward_users,\"like-users\":_vm.video.like_users,\"mark-users\":_vm.video.mark_users,\"type\":\"video\"},on:{\"reward-callback\":_vm.handleRewardAction}}),_vm._ssrNode(\"<h3 class=\\\"sub-title\\\">番剧简介</h3>\"),(_vm.bangumi)?_c('v-bangumi-panel',{staticClass:\"bangumi-panel\",attrs:{\"id\":_vm.bangumi.id,\"avatar\":_vm.bangumi.avatar,\"name\":_vm.bangumi.name,\"followed\":_vm.bangumi.followed},on:{\"follow\":_vm.handleBangumiFollow}},[_c('p',{staticClass:\"part\"},[_vm._v(\"第\"+_vm._s(_vm.video.part)+\"话 \"+_vm._s(_vm.video.name))])]):_vm._e(),_vm._ssrNode(\"<h3 class=\\\"sub-title\\\">视频反馈</h3><p class=\\\"tip\\\">1：大家可以加入QQ群 <strong>106402736</strong>、<strong>806818950</strong> 获得最新的资源更新提醒</p><p class=\\\"tip\\\">2：安卓用户建议大家使用最新版 QQ 浏览器在线播放，不要使用系统自带的浏览器</p><p class=\\\"tip\\\">3：iOS用户建议使用自带的 Safari 播放</p><div><button class=\\\"video-report-btn\\\">视频报错</button></div>\"),_c('comment-main',{attrs:{\"id\":_vm.id,\"master-id\":_vm.video.user_id,\"type\":\"video\"}})],2)],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var video_show = (esExports);\n// CONCATENATED MODULE: ./src/views/video/show.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(274),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"6b30217c\"\nvar Component = normalizeComponent(\n  show,\n  video_show,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_video_show = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n};;",
    "10.server-bundle.js": "exports.ids = [10];\nexports.modules = {\n\n/***/ 100:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_core_js_modules_web_dom_iterable__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_core_js_modules_web_dom_iterable___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_core_js_modules_web_dom_iterable__);\n\n\n/**\n * [ scrollToY 指定的 DOM 过度滚动到指定的 Y 轴 ]\n * @param targetY\n * @param timer\n * @param dom\n * @param ease\n */\n/* harmony default export */ __webpack_exports__[\"a\"] = ((targetY, timer, dom, ease) => {\n  var currentTime = 0;\n  var element = dom ? [dom] : [document.getElementsByTagName(\"html\")[0], document.body];\n  var scrollY = dom ? dom.scrollTop : window.scrollY;\n  var scrollTargetY = targetY || 0;\n  var speed = timer || 2000;\n  var easing = ease || \"easeOutSine\";\n  var time = Math.max(0.1, Math.min(Math.abs(scrollY - scrollTargetY) / speed, 0.8));\n  var easingEquations = {\n    easeOutSine(pos) {\n      return Math.sin(pos * (Math.PI / 2));\n    },\n\n    easeInOutSine(pos) {\n      return -0.5 * (Math.cos(Math.PI * pos) - 1);\n    },\n\n    easeInOutQuint(pos) {\n      // eslint-disable-next-line\n      if ((pos /= 0.5) < 1) {\n        return 0.5 * Math.pow(pos, 5);\n      }\n\n      return 0.5 * (Math.pow(pos - 2, 5) + 2);\n    }\n\n  };\n  element.forEach(ele => {\n    if (!ele.requestAnimFrame) {\n      ele.requestAnimFrame = function () {\n        return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || function (callback) {\n          window.setTimeout(callback, 1000 / 60);\n        };\n      }().bind(window);\n    }\n  });\n\n  function tick() {\n    currentTime += 1 / 60;\n    var p = currentTime / time;\n    var t = easingEquations[easing](p);\n    element.forEach(ele => {\n      if (p < 1) {\n        ele.requestAnimFrame(tick);\n        ele.scrollTop = scrollY + (scrollTargetY - scrollY) * t;\n      } else {\n        ele.scrollTop = scrollTargetY;\n      }\n    });\n  }\n\n  tick();\n});\n\n/***/ }),\n\n/***/ 101:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: external \"@babel/runtime/regenerator\"\nvar regenerator_ = __webpack_require__(0);\nvar regenerator__default = /*#__PURE__*/__webpack_require__.n(regenerator_);\n\n// EXTERNAL MODULE: external \"regenerator-runtime/runtime\"\nvar runtime_ = __webpack_require__(1);\nvar runtime__default = /*#__PURE__*/__webpack_require__.n(runtime_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/asyncToGenerator\"\nvar asyncToGenerator_ = __webpack_require__(2);\nvar asyncToGenerator__default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator_);\n\n// EXTERNAL MODULE: ./src/assets/js/scrollToY.js\nvar scrollToY = __webpack_require__(100);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/CommentCreateForm.vue\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var CommentCreateForm = ({\n  name: \"CommentCreateForm\",\n  props: {\n    type: {\n      required: true,\n      type: String\n    },\n    id: {\n      required: true,\n      type: Number\n    },\n    masterId: {\n      required: true,\n      type: Number\n    }\n  },\n\n  data() {\n    return {\n      content: \"\"\n    };\n  },\n\n  computed: {\n    isGuest() {\n      return !this.$store.state.login;\n    },\n\n    submitting() {\n      return this.$store.state.comment.submitting;\n    }\n\n  },\n  methods: {\n    submit() {\n      var _this = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee() {\n        var result;\n        return regenerator__default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!_this.isGuest) {\n                  _context.next = 3;\n                  break;\n                }\n\n                _this.$channel.$emit(\"sign-in\");\n\n                return _context.abrupt(\"return\");\n\n              case 3:\n                if (_this.content) {\n                  _context.next = 6;\n                  break;\n                }\n\n                _this.$emit(\"close\");\n\n                return _context.abrupt(\"return\");\n\n              case 6:\n                if (!_this.submitting) {\n                  _context.next = 8;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 8:\n                _this.$store.commit(\"comment/SET_SUBMITTING\", {\n                  result: true\n                });\n\n                _context.prev = 9;\n                _context.next = 12;\n                return _this.$store.dispatch(\"comment/createMainComment\", {\n                  content: _this.content,\n                  images: [],\n                  type: _this.type,\n                  id: _this.id,\n                  ctx: _this\n                });\n\n              case 12:\n                result = _context.sent;\n\n                _this.$toast.success(result.message);\n\n                _this.$store.commit(\"UPDATE_USER_EXP\", result.exp);\n\n                _this.$emit(\"submit\");\n\n                _this.content = \"\";\n                setTimeout(() => {\n                  var dom = document.getElementById(`comment-${result.data.id}`);\n                  dom && Object(scrollToY[\"a\" /* default */])(_this.$utils.getOffsetTop(dom) - 100, 600);\n                }, 400);\n                _context.next = 23;\n                break;\n\n              case 20:\n                _context.prev = 20;\n                _context.t0 = _context[\"catch\"](9);\n\n                _this.$toast.error(_context.t0);\n\n              case 23:\n                _context.prev = 23;\n\n                _this.$store.commit(\"comment/SET_SUBMITTING\", {\n                  result: false\n                });\n\n                return _context.finish(23);\n\n              case 26:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[9, 20, 23, 26]]);\n      }))();\n    },\n\n    handleAreaFocus() {\n      document.body.scrollTop = 0;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-33995f98\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/CommentCreateForm.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"comment-create-form\"},[_vm._ssrNode(\"<textarea placeholder=\\\"来吧，尽情的（在1000字以内）发挥吧\\\" maxlength=\\\"1000\\\" class=\\\"content\\\"></textarea>\"),_c('el-button',{staticClass:\"submit-btn\",attrs:{\"loading\":_vm.submitting,\"type\":\"primary\"},on:{\"click\":_vm.submit}},[_vm._v(\"发布\")])],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var comments_CommentCreateForm = (esExports);\n// CONCATENATED MODULE: ./src/components/comments/CommentCreateForm.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(105),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"1d31a883\"\nvar Component = normalizeComponent(\n  CommentCreateForm,\n  comments_CommentCreateForm,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_CommentCreateForm = (Component.exports);\n\n// EXTERNAL MODULE: ./src/components/comments/SubCommentList.vue + 5 modules\nvar SubCommentList = __webpack_require__(102);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/CommentItem.vue\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var CommentItem = ({\n  name: \"CommentCommentItem\",\n  components: {\n    SubCommentList: SubCommentList[\"a\" /* default */]\n  },\n  props: {\n    comment: {\n      required: true,\n      type: Object\n    },\n    masterId: {\n      required: true,\n      type: Number\n    },\n    type: {\n      required: true,\n      type: String\n    }\n  },\n\n  data() {\n    return {\n      deleting: false,\n      liking: false\n    };\n  },\n\n  computed: {\n    currentUserId() {\n      return this.$store.state.login ? this.$store.state.user.id : 0;\n    },\n\n    isMine() {\n      return this.currentUserId === this.comment.from_user_id;\n    },\n\n    canDelete() {\n      return this.isMine || this.currentUserId === this.masterId;\n    },\n\n    actions() {\n      var result = [];\n\n      if (this.canDelete) {\n        result.push({\n          name: \"删除\",\n          method: this.deleteComment\n        });\n      }\n\n      result.push({\n        name: this.comment.liked ? \"取消赞\" : \"点赞\",\n        method: this.toggleLike\n      });\n      return result;\n    }\n\n  },\n  methods: {\n    toggleLike() {\n      var _this = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee() {\n        return regenerator__default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (_this.currentUserId) {\n                  _context.next = 3;\n                  break;\n                }\n\n                _this.$channel.$emit(\"sign-in\");\n\n                return _context.abrupt(\"return\");\n\n              case 3:\n                if (!_this.liking) {\n                  _context.next = 5;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 5:\n                _this.liking = true;\n                _context.prev = 6;\n                _context.next = 9;\n                return _this.$store.dispatch(\"comment/toggleLikeMainComment\", {\n                  ctx: _this,\n                  type: _this.type,\n                  id: _this.comment.id\n                });\n\n              case 9:\n                _context.next = 13;\n                break;\n\n              case 11:\n                _context.prev = 11;\n                _context.t0 = _context[\"catch\"](6);\n\n              case 13:\n                _context.prev = 13;\n                _this.liking = false;\n                return _context.finish(13);\n\n              case 16:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[6, 11, 13, 16]]);\n      }))();\n    },\n\n    deleteComment() {\n      if (this.deleting) {\n        return;\n      }\n\n      this.deleting = true;\n      this.$confirm(\"删除后无法找回, 是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(() => {\n        this.$store.dispatch(\"comment/deleteMainComment\", {\n          ctx: this,\n          type: this.type,\n          id: this.comment.id\n        });\n        this.$emit(\"delete\");\n      }).catch(e => {\n        this.deleting = false;\n\n        if (e === \"cancel\") {\n          return;\n        }\n\n        this.$toast.error(e);\n      });\n    },\n\n    handleCommentBtnClick() {\n      this.$channel.$emit(\"reply-comment\", {\n        id: this.comment.id,\n        targetUserId: this.comment.from_user_id,\n        targetUserName: this.comment.from_user_name\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-041aa410\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/CommentItem.vue\nvar CommentItem_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"comment-item\",attrs:{\"id\":(\"comment-\" + (_vm.comment.id))}},[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.comment.from_user_zone)))+\" class=\\\"avatar\\\">\",\"</a>\",[_c('v-img',{attrs:{\"src\":_vm.comment.from_user_avatar,\"avatar\":true,\"size\":\"35\"}})],1),_vm._ssrNode(\"<div class=\\\"content\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"header\\\">\",\"</div>\",[_c('v-popover',{attrs:{\"actions\":_vm.actions,\"report-id\":_vm.comment.id,\"report-type\":_vm.type + '_comment'}},[_c('button',{staticClass:\"tools-btn\"},[_vm._v(\"···\")])]),_vm._ssrNode(\"<div class=\\\"user\\\">\",\"</div>\",[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.comment.from_user_zone)))+\" class=\\\"nickname oneline\\\">\"+_vm._ssrEscape(_vm._s(_vm.comment.from_user_name))+\"</a>\"),_vm._ssrNode(\"<div class=\\\"info\\\">\",\"</div>\",[_vm._ssrNode(\"<span>\"+_vm._ssrEscape(\"第\"+_vm._s(_vm.comment.floor_count - 1)+\"楼\")+\"</span><span>·</span>\"),_c('v-time',{model:{value:(_vm.comment.created_at),callback:function ($$v) {_vm.$set(_vm.comment, \"created_at\", $$v)},expression:\"comment.created_at\"}})],2)],2)],1),_vm._ssrNode(\"<div class=\\\"main\\\">\"+(_vm._s(_vm.comment.content))+\"</div>\"),_vm._ssrNode(\"<div class=\\\"footer\\\">\",\"</div>\",[_c('sub-comment-list',{attrs:{\"parent-comment\":_vm.comment,\"type\":_vm.type}}),_vm._ssrNode(\"<div class=\\\"social\\\"><button\"+(_vm._ssrClass(null,[ _vm.comment.liked ? 'reply-liked-btn' : 'reply-like-btn' ]))+\"><i class=\\\"iconfont icon-icon_good\\\"></i>\"+_vm._ssrEscape(\"\\n          \"+_vm._s(_vm.comment.liked ? '已赞' : '赞')+\"\\n          \")+((_vm.comment.like_count)?(\"<span>\"+_vm._ssrEscape(\"(\"+_vm._s(_vm.comment.like_count)+\")\")+\"</span>\"):\"<!---->\")+\"</button><button class=\\\"reply-btn fr\\\">\\n          回复\\n        </button></div>\")],2)],2)])}\nvar CommentItem_staticRenderFns = []\nvar CommentItem_esExports = { render: CommentItem_render, staticRenderFns: CommentItem_staticRenderFns }\n/* harmony default export */ var comments_CommentItem = (CommentItem_esExports);\n// CONCATENATED MODULE: ./src/components/comments/CommentItem.vue\nfunction CommentItem_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(107),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar CommentItem_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar CommentItem___vue_template_functional__ = false\n/* styles */\nvar CommentItem___vue_styles__ = CommentItem_injectStyle\n/* scopeId */\nvar CommentItem___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar CommentItem___vue_module_identifier__ = \"8f3d9b14\"\nvar CommentItem_Component = CommentItem_normalizeComponent(\n  CommentItem,\n  comments_CommentItem,\n  CommentItem___vue_template_functional__,\n  CommentItem___vue_styles__,\n  CommentItem___vue_scopeId__,\n  CommentItem___vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_CommentItem = (CommentItem_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/CommentMain.vue\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ var CommentMain = ({\n  name: \"VCommentMain\",\n  components: {\n    CommentCreateForm: components_comments_CommentCreateForm,\n    CommentItem: components_comments_CommentItem\n  },\n  props: {\n    id: {\n      required: true,\n      type: [Number, String]\n    },\n    type: {\n      required: true,\n      type: String,\n      validator: val => ~[\"post\", \"video\", \"image\", \"score\", \"question\", \"answer\", \"role\"].indexOf(val)\n    },\n    onlySeeMaster: {\n      type: Boolean,\n      default: false\n    },\n    emptyText: {\n      type: String,\n      default: \"暂无评论，快来抢沙发吧╮(￣▽￣)╭！\"\n    },\n    masterId: {\n      required: true,\n      type: Number\n    },\n    bottomAppendComment: {\n      type: Boolean,\n      default: true\n    },\n    auto: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  data() {\n    return {\n      loadingMainComment: false,\n      focusCommentId: 0,\n      openFocusCommentDrawer: false,\n      loadingSubComment: false,\n      replyForm: {\n        id: \"\",\n        content: \"\",\n        targetUserId: 0,\n        targetUserName: \"\",\n        open: false,\n        replying: false,\n        liking: false\n      },\n      openCreateCommentDrawer: false\n    };\n  },\n\n  computed: {\n    store() {\n      return this.$store.state.comment;\n    },\n\n    list() {\n      return this.store.list;\n    },\n\n    noMore() {\n      return this.store.noMore;\n    },\n\n    total() {\n      return this.store.total;\n    },\n\n    focusComment() {\n      return this.focusCommentId ? this.list.filter(_ => _.id === this.focusCommentId)[0] : null;\n    },\n\n    currentUserId() {\n      return this.$store.state.login ? this.$store.state.user.id : 0;\n    }\n\n  },\n\n  mounted() {\n    this.scrollToReply();\n\n    if (this.auto) {\n      this.$channel.$on(`fire-load-comment-${this.type}-${this.id}`, () => {\n        this.loadMoreMainComment(true);\n      });\n    }\n\n    this.$channel.$on(\"load-all-sub-comment\", (_ref) => {\n      var id = _ref.id;\n      this.focusCommentId = id;\n      this.openFocusCommentDrawer = true;\n    });\n    this.$channel.$on(`open-create-comment-drawer-${this.type}-${this.id}`, () => {\n      if (!this.currentUserId) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      this.openCreateCommentDrawer = true;\n    });\n    this.$channel.$on(\"reply-comment\", (_ref2) => {\n      var id = _ref2.id,\n          targetUserId = _ref2.targetUserId,\n          targetUserName = _ref2.targetUserName;\n      this.handleSubCommentReply({\n        id,\n        targetUserId,\n        targetUserName\n      });\n    });\n    document.getElementById(\"comment-wrap\").addEventListener(\"click\", e => {\n      if (/reply-btn/.test(e.target.className) && this.$el.contains(e.target)) {\n        var area = document.getElementById(\"reply-comment-textarea\");\n        area.style.display = \"block\";\n        area.focus();\n      }\n    });\n  },\n\n  methods: {\n    loadMoreMainComment() {\n      var _this = this,\n          _arguments = arguments;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee() {\n        var firstRequest;\n        return regenerator__default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                firstRequest = _arguments.length > 0 && _arguments[0] !== undefined ? _arguments[0] : false;\n\n                if (!_this.loadingMainComment) {\n                  _context.next = 3;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 3:\n                _this.loadingMainComment = true;\n                _context.prev = 4;\n                _context.next = 7;\n                return _this.$store.dispatch(\"comment/getMainComments\", {\n                  ctx: _this,\n                  type: _this.type,\n                  id: _this.id,\n                  onlySeeMaster: _this.onlySeeMaster ? 1 : 0,\n                  firstRequest\n                });\n\n              case 7:\n                _context.next = 12;\n                break;\n\n              case 9:\n                _context.prev = 9;\n                _context.t0 = _context[\"catch\"](4);\n\n                _this.$toast.error(_context.t0);\n\n              case 12:\n                _context.prev = 12;\n                _this.loadingMainComment = false;\n                return _context.finish(12);\n\n              case 15:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[4, 9, 12, 15]]);\n      }))();\n    },\n\n    loadMoreSubComment() {\n      var _this2 = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee2() {\n        return regenerator__default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!_this2.loadingSubComment) {\n                  _context2.next = 2;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\");\n\n              case 2:\n                _this2.loadingSubComment = true;\n                _context2.prev = 3;\n                _context2.next = 6;\n                return _this2.$store.dispatch(\"comment/getSubComments\", {\n                  ctx: _this2,\n                  type: _this2.type,\n                  id: _this2.focusCommentId\n                });\n\n              case 6:\n                _context2.next = 11;\n                break;\n\n              case 8:\n                _context2.prev = 8;\n                _context2.t0 = _context2[\"catch\"](3);\n\n                _this2.$toast.error(_context2.t0);\n\n              case 11:\n                _context2.prev = 11;\n                _this2.loadingSubComment = false;\n                return _context2.finish(11);\n\n              case 14:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[3, 8, 11, 14]]);\n      }))();\n    },\n\n    commentToComment(data) {\n      this.handleSubCommentReply({\n        id: data.parent_id,\n        targetUserId: data.from_user_id,\n        targetUserName: data.from_user_name\n      });\n    },\n\n    handleCommentBtnClick() {\n      this.handleSubCommentReply({\n        id: this.focusComment.id,\n        targetUserId: this.focusComment.from_user_id,\n        targetUserName: this.focusComment.from_user_name\n      });\n    },\n\n    handleSubCommentReply(_ref3) {\n      var id = _ref3.id,\n          targetUserId = _ref3.targetUserId,\n          targetUserName = _ref3.targetUserName;\n\n      if (!this.currentUserId) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      this.replyForm.id = id;\n      this.replyForm.targetUserId = targetUserId;\n      this.replyForm.targetUserName = targetUserName;\n      this.replyForm.open = true;\n      setTimeout(() => {\n        document.body.scrollTop = 0;\n      }, 200);\n    },\n\n    toggleFocusCommentLike() {\n      var _this3 = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee3() {\n        return regenerator__default.a.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (_this3.currentUserId) {\n                  _context3.next = 3;\n                  break;\n                }\n\n                _this3.$channel.$emit(\"sign-in\");\n\n                return _context3.abrupt(\"return\");\n\n              case 3:\n                if (!_this3.replyForm.liking) {\n                  _context3.next = 5;\n                  break;\n                }\n\n                return _context3.abrupt(\"return\");\n\n              case 5:\n                _this3.replyForm.liking = true;\n                _context3.prev = 6;\n                _context3.next = 9;\n                return _this3.$store.dispatch(\"comment/toggleLikeMainComment\", {\n                  ctx: _this3,\n                  type: _this3.type,\n                  id: _this3.focusCommentId\n                });\n\n              case 9:\n                _context3.next = 13;\n                break;\n\n              case 11:\n                _context3.prev = 11;\n                _context3.t0 = _context3[\"catch\"](6);\n\n              case 13:\n                _context3.prev = 13;\n                _this3.replyForm.liking = false;\n                return _context3.finish(13);\n\n              case 16:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[6, 11, 13, 16]]);\n      }))();\n    },\n\n    handleReplyDrawerClose() {\n      document.getElementById(\"reply-comment-textarea\").style.display = \"none\";\n    },\n\n    handleReplySubmit() {\n      var _this4 = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee4() {\n        var result;\n        return regenerator__default.a.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                if (_this4.currentUserId) {\n                  _context4.next = 3;\n                  break;\n                }\n\n                _this4.$channel.$emit(\"sign-in\");\n\n                return _context4.abrupt(\"return\");\n\n              case 3:\n                if (_this4.replyForm.content) {\n                  _context4.next = 5;\n                  break;\n                }\n\n                return _context4.abrupt(\"return\");\n\n              case 5:\n                if (!_this4.replyForm.replying) {\n                  _context4.next = 7;\n                  break;\n                }\n\n                return _context4.abrupt(\"return\");\n\n              case 7:\n                _this4.replyForm.replying = true;\n                _context4.prev = 8;\n                _context4.next = 11;\n                return _this4.$store.dispatch(\"comment/createSubComment\", {\n                  ctx: _this4,\n                  id: _this4.replyForm.id,\n                  type: _this4.type,\n                  content: _this4.replyForm.content,\n                  targetUserId: _this4.replyForm.targetUserId\n                });\n\n              case 11:\n                result = _context4.sent;\n                _this4.replyForm.open = false;\n                _this4.replyForm.content = \"\";\n\n                _this4.$toast.success(result.message);\n\n                _this4.$store.commit(\"UPDATE_USER_EXP\", result.exp);\n\n                _context4.next = 21;\n                break;\n\n              case 18:\n                _context4.prev = 18;\n                _context4.t0 = _context4[\"catch\"](8);\n\n                _this4.$toast.error(_context4.t0);\n\n              case 21:\n                _context4.prev = 21;\n                _this4.replyForm.replying = false;\n\n                _this4.handleReplyDrawerClose();\n\n                return _context4.finish(21);\n\n              case 25:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this, [[8, 18, 21, 25]]);\n      }))();\n    },\n\n    writeComment() {\n      this.$channel.$emit(`open-create-comment-drawer-${this.type}-${this.id}`);\n    },\n\n    closeCommentDrawer() {\n      this.openCreateCommentDrawer = false;\n    },\n\n    submitCommentCallback() {\n      this.openCreateCommentDrawer = false;\n      this.$emit(\"create-main-comment\");\n    },\n\n    deleteCommentCallback() {\n      this.$emit(\"delete-main-comment\");\n    },\n\n    scrollToReply() {\n      var replyId = this.$route.query[\"comment-id\"];\n\n      if (!replyId) {\n        return;\n      }\n\n      var reply = document.getElementById(`comment-${replyId}`);\n\n      if (!reply) {\n        return;\n      }\n\n      setTimeout(() => {\n        Object(scrollToY[\"a\" /* default */])(this.$utils.getOffsetTop(reply) - 100, 600);\n      }, 400);\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-dbd4bc0e\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/CommentMain.vue\nvar CommentMain_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"comment-wrap\"}},[_vm._t(\"header\",[(!_vm.auto)?_c('div',{staticClass:\"hr\"}):_vm._e(),_c('h3',{staticClass:\"sub-title\"},[_vm._v(\"\\n      评论\"+_vm._s(_vm.total ? (\"(\" + _vm.total + \")\") : '')+\"\\n      \"),_vm._t(\"header-btn\"),_c('button',{staticClass:\"write-btn\",on:{\"click\":_vm.writeComment}},[_vm._v(\"写评论\")])],2)]),(_vm.list.length)?[_vm._ssrNode(\"<div id=\\\"comment-list-wrap\\\">\",\"</div>\",_vm._l((_vm.list),function(comment){return _vm._ssrNode(\"<div class=\\\"comment-item-wrap\\\">\",\"</div>\",[_vm._t(\"comment-item\",[_c('comment-item',{attrs:{\"type\":_vm.type,\"comment\":comment,\"master-id\":_vm.masterId},on:{\"delete\":_vm.deleteCommentCallback}})],{comment:comment,reply:_vm.handleSubCommentReply})],2)})),_vm._ssrNode(\"<div id=\\\"comment-list-footer\\\">\",\"</div>\",[_vm._ssrNode(((_vm.bottomAppendComment)?(\"<button class=\\\"append-comment-btn\\\">写评论</button>\"):\"<!---->\")),_c('more-btn',{attrs:{\"no-more\":_vm.noMore,\"loading\":_vm.loadingMainComment,\"auto\":true},on:{\"fetch\":function($event){_vm.loadMoreMainComment(false)}}})],2)]:(_vm.emptyText)?_vm._ssrNode((\"<p class=\\\"no-content\\\">\"+_vm._ssrEscape(_vm._s(_vm.emptyText))+\"</p>\")):_vm._e(),_c('v-drawer',{staticClass:\"focus-comment-drawer\",attrs:{\"header-text\":(\"评论列表\" + (_vm.focusComment && _vm.focusComment.floor_count ? (\" - \" + (_vm.focusComment.floor_count) + \" 楼\") : '')),\"backdrop\":false,\"from\":\"bottom\",\"size\":\"100%\"},model:{value:(_vm.openFocusCommentDrawer),callback:function ($$v) {_vm.openFocusCommentDrawer=$$v},expression:\"openFocusCommentDrawer\"}},[(_vm.focusComment)?[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"reply\"},[_c('div',{staticClass:\"user clearfix\"},[_c('a',{staticClass:\"avatar\",attrs:{\"href\":_vm.$alias.user(_vm.focusComment.from_user_zone)}},[_c('v-img',{attrs:{\"src\":_vm.focusComment.from_user_avatar,\"avatar\":true,\"size\":\"35\"}})],1),_c('div',{staticClass:\"summary\"},[_c('a',{staticClass:\"nickname\",attrs:{\"href\":_vm.$alias.user(_vm.focusComment.from_user_zone)},domProps:{\"textContent\":_vm._s(_vm.focusComment.from_user_name)}}),_c('div',{staticClass:\"info\"},[_c('v-time',{model:{value:(_vm.focusComment.created_at),callback:function ($$v) {_vm.$set(_vm.focusComment, \"created_at\", $$v)},expression:\"focusComment.created_at\"}})],1)])]),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"text-area\",domProps:{\"innerHTML\":_vm._s(_vm.focusComment.content)}}),_c('div',{staticClass:\"image-area\"},_vm._l((_vm.focusComment.images),function(img,idx){return _c('div',{key:idx,staticClass:\"image-package\"},[_c('v-img',{attrs:{\"src\":img.url,\"width\":img.width,\"height\":img.height,\"full\":true}})],1)}))]),_c('div',{staticClass:\"social\"},[_c('button',{class:[ _vm.focusComment.liked ? 'reply-liked-btn' : 'reply-like-btn' ],on:{\"click\":_vm.toggleFocusCommentLike}},[_c('i',{staticClass:\"iconfont icon-icon_good\"}),_vm._v(\"\\n              \"+_vm._s(_vm.focusComment.liked ? '已赞' : '赞')+\"\\n              \"),(_vm.focusComment.like_count)?_c('span',[_vm._v(\"(\"+_vm._s(_vm.focusComment.like_count)+\")\")]):_vm._e()]),_c('button',{staticClass:\"reply-btn fr\",on:{\"click\":_vm.handleCommentBtnClick}},[_vm._v(\"\\n              回复\\n            \")])])]),_c('div',{staticClass:\"hr\"}),_c('p',{staticClass:\"total\"},[_vm._v(_vm._s(_vm.focusComment.comments.total)+\"条回复\")]),_c('ul',{staticClass:\"comments\"},_vm._l((_vm.focusComment.comments.list),function(item){return _c('li',{key:item.id},[_c('div',{staticClass:\"from-user\"},[_c('a',{staticClass:\"avatar\",attrs:{\"href\":_vm.$alias.user(item.from_user_zone)}},[_c('v-img',{attrs:{\"src\":item.from_user_avatar,\"avatar\":true,\"size\":\"35\"}})],1),_c('div',{staticClass:\"summary\"},[_c('div',{staticClass:\"users oneline\"},[_c('a',{staticClass:\"nickname\",attrs:{\"href\":_vm.$alias.user(item.from_user_zone)},domProps:{\"textContent\":_vm._s(item.from_user_name)}}),(item.to_user_zone)?[_vm._v(\"\\n                    回复\\n                    \"),_c('a',{staticClass:\"nickname\",attrs:{\"href\":_vm.$alias.user(item.to_user_zone)},domProps:{\"textContent\":_vm._s(item.to_user_name)}})]:_vm._e(),_vm._v(\"\\n                  :\\n                \")],2),_c('div',{staticClass:\"info\"},[_c('v-time',{model:{value:(item.created_at),callback:function ($$v) {_vm.$set(item, \"created_at\", $$v)},expression:\"item.created_at\"}})],1)])]),_c('div',{staticClass:\"main\"},[_c('div',{staticClass:\"content reply-btn\",domProps:{\"textContent\":_vm._s(item.content)},on:{\"click\":function($event){_vm.commentToComment(item)}}})])])}))]),_c('more-btn',{attrs:{\"no-more\":_vm.focusComment.comments.noMore,\"loading\":_vm.loadingSubComment},on:{\"fetch\":_vm.loadMoreSubComment}})]:_vm._e()],2),_vm._ssrNode(\"<div class=\\\"reply-comment-drawer-wrap\\\">\",\"</div>\",[_c('v-drawer',{staticClass:\"reply-comment-drawer\",attrs:{\"header-text\":_vm.currentUserId === _vm.replyForm.targetUserId ? '回复' : (\"回复：\" + (_vm.replyForm.targetUserName)),\"backdrop\":false,\"from\":\"right\",\"size\":\"100%\",\"submit-text\":\"发布\"},on:{\"cancel\":_vm.handleReplyDrawerClose,\"submit\":_vm.handleReplySubmit},model:{value:(_vm.replyForm.open),callback:function ($$v) {_vm.$set(_vm.replyForm, \"open\", $$v)},expression:\"replyForm.open\"}}),_vm._ssrNode(\"<textarea id=\\\"reply-comment-textarea\\\" placeholder=\\\"100字以内任意发挥\\\" maxlength=\\\"100\\\"\"+(_vm._ssrClass(null,{ 'fade-in': _vm.replyForm.open }))+\"></textarea>\")],2),_c('v-drawer',{attrs:{\"from\":\"right\",\"size\":\"100%\",\"header-text\":\"发表评论\"},model:{value:(_vm.openCreateCommentDrawer),callback:function ($$v) {_vm.openCreateCommentDrawer=$$v},expression:\"openCreateCommentDrawer\"}},[(_vm.openCreateCommentDrawer)?_c('div',{staticClass:\"container\"},[_vm._t(\"reply-form\",[(_vm.openCreateCommentDrawer)?_c('comment-create-form',{attrs:{\"id\":_vm.id,\"type\":_vm.type,\"master-id\":_vm.masterId},on:{\"close\":_vm.closeCommentDrawer,\"submit\":_vm.submitCommentCallback}}):_vm._e()],{close:_vm.closeCommentDrawer})],2):_vm._e()])],2)}\nvar CommentMain_staticRenderFns = []\nvar CommentMain_esExports = { render: CommentMain_render, staticRenderFns: CommentMain_staticRenderFns }\n/* harmony default export */ var comments_CommentMain = (CommentMain_esExports);\n// CONCATENATED MODULE: ./src/components/comments/CommentMain.vue\nfunction CommentMain_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(103),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar CommentMain_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar CommentMain___vue_template_functional__ = false\n/* styles */\nvar CommentMain___vue_styles__ = CommentMain_injectStyle\n/* scopeId */\nvar CommentMain___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar CommentMain___vue_module_identifier__ = \"71b0fa1c\"\nvar CommentMain_Component = CommentMain_normalizeComponent(\n  CommentMain,\n  comments_CommentMain,\n  CommentMain___vue_template_functional__,\n  CommentMain___vue_styles__,\n  CommentMain___vue_scopeId__,\n  CommentMain___vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_CommentMain = __webpack_exports__[\"a\"] = (CommentMain_Component.exports);\n\n\n/***/ }),\n\n/***/ 102:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/SubCommentItem.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var SubCommentItem = ({\n  name: \"SubCommentItem\",\n  props: {\n    comment: {\n      required: true,\n      type: Object\n    },\n    parentUserId: {\n      required: true,\n      type: Number\n    },\n    parentCommentId: {\n      required: true,\n      type: Number\n    },\n    type: {\n      required: true,\n      type: String\n    }\n  },\n\n  data() {\n    return {\n      deleting: false\n    };\n  },\n\n  computed: {\n    currentUserId() {\n      return this.$store.state.login ? this.$store.state.user.id : 0;\n    },\n\n    isMine() {\n      return this.currentUserId === this.comment.from_user_id;\n    },\n\n    canDelete() {\n      return this.isMine || this.currentUserId === this.parentUserId;\n    }\n\n  },\n  methods: {\n    handleSubCommentClick() {\n      if (this.isMine) {\n        this.deleteComment();\n        this.$nextTick(() => {\n          document.getElementById(\"reply-comment-textarea\").style.display = \"none\";\n        });\n        return;\n      }\n\n      if (this.currentUserId) {\n        this.$channel.$emit(\"reply-comment\", {\n          id: this.parentCommentId,\n          targetUserId: this.comment.from_user_id,\n          targetUserName: this.comment.from_user_name\n        });\n      }\n    },\n\n    deleteComment() {\n      if (!this.canDelete) {\n        return;\n      }\n\n      if (this.deleting) {\n        return;\n      }\n\n      this.deleting = true;\n      this.$confirm(\"删除后无法找回, 是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(() => {\n        this.$store.dispatch(\"comment/deleteSubComment\", {\n          ctx: this,\n          type: this.type,\n          id: this.comment.id,\n          parentId: this.comment.parent_id\n        });\n      }).catch(e => {\n        this.deleting = false;\n\n        if (e === \"cancel\") {\n          return;\n        }\n\n        this.$toast.error(e);\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3bb44ec9\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/SubCommentItem.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sub-comment-item\"},[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.comment.from_user_zone)))+\" class=\\\"nickname\\\">\"+_vm._ssrEscape(_vm._s(_vm.comment.from_user_name))+\"</a>\"+((_vm.comment.to_user_zone)?(\"\\n    回复\\n    <a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.comment.to_user_zone)))+\" class=\\\"nickname\\\">\"+_vm._ssrEscape(_vm._s(_vm.comment.to_user_name))+\"</a>\"):\"<!---->\")+\"\\n  :\\n  <span class=\\\"reply-btn comment-content\\\">\"+_vm._ssrEscape(_vm._s(_vm.comment.content))+\"</span>\")])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var comments_SubCommentItem = (esExports);\n// CONCATENATED MODULE: ./src/components/comments/SubCommentItem.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(111),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"3fc64a04\"\nvar Component = normalizeComponent(\n  SubCommentItem,\n  comments_SubCommentItem,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_SubCommentItem = (Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/comments/SubCommentList.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var SubCommentList = ({\n  name: \"PostSubCommentList\",\n  components: {\n    SubCommentItem: components_comments_SubCommentItem\n  },\n  props: {\n    parentComment: {\n      required: true,\n      type: Object\n    },\n    type: {\n      required: true,\n      type: String\n    }\n  },\n  computed: {\n    comments() {\n      return this.parentComment.comments;\n    },\n\n    authorId() {\n      return this.parentComment.from_user_id;\n    },\n\n    hasComment() {\n      return !!this.comments.list.length;\n    },\n\n    filterComments() {\n      var data = this.comments;\n      var comments = data.list;\n      var result = comments.slice(0, 5);\n\n      if (comments.every(_ => _.id <= data.maxId)) {\n        return result;\n      }\n\n      var ids = result.map(_ => _.id);\n      return result.concat(comments.filter(_ => _.id > data.maxId && ids.indexOf(_.id) === -1));\n    }\n\n  },\n  methods: {\n    loadAllComment() {\n      this.$channel.$emit(\"load-all-sub-comment\", {\n        id: this.parentComment.id\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-14eb249e\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/comments/SubCommentList.vue\nvar SubCommentList_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sub-comment-list-wrap\"},[(_vm.hasComment)?_vm._ssrNode(\"<div class=\\\"sub-comment-list\\\">\",\"</div>\",[_vm._l((_vm.filterComments),function(comment){return _c('sub-comment-item',{key:comment.id,attrs:{\"comment\":comment,\"parent-user-id\":_vm.authorId,\"parent-comment-id\":_vm.parentComment.id,\"type\":_vm.type}})}),_vm._ssrNode(((!_vm.comments.noMore || _vm.comments.list.length > 5)?(\"<button class=\\\"load-all-comment\\\">\"+_vm._ssrEscape(\"\\n      查看全部\"+_vm._s(_vm.comments.total)+\"条评论\\n    \")+\"</button>\"):\"<!---->\"))],2):_vm._e()])}\nvar SubCommentList_staticRenderFns = []\nvar SubCommentList_esExports = { render: SubCommentList_render, staticRenderFns: SubCommentList_staticRenderFns }\n/* harmony default export */ var comments_SubCommentList = (SubCommentList_esExports);\n// CONCATENATED MODULE: ./src/components/comments/SubCommentList.vue\nfunction SubCommentList_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(109),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar SubCommentList_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar SubCommentList___vue_template_functional__ = false\n/* styles */\nvar SubCommentList___vue_styles__ = SubCommentList_injectStyle\n/* scopeId */\nvar SubCommentList___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar SubCommentList___vue_module_identifier__ = \"2bbb59ee\"\nvar SubCommentList_Component = SubCommentList_normalizeComponent(\n  SubCommentList,\n  comments_SubCommentList,\n  SubCommentList___vue_template_functional__,\n  SubCommentList___vue_styles__,\n  SubCommentList___vue_scopeId__,\n  SubCommentList___vue_module_identifier__\n)\n\n/* harmony default export */ var components_comments_SubCommentList = __webpack_exports__[\"a\"] = (SubCommentList_Component.exports);\n\n\n/***/ }),\n\n/***/ 103:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(104);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"beeeca2c\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 104:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}#comment-wrap .sub-title{margin-top:15px;margin-bottom:15px}#comment-wrap .sub-title .write-btn{float:right;font-weight:700;font-size:13px}#comment-wrap #comment-list-footer{margin-left:-15px;margin-right:-15px}#comment-wrap .focus-comment-drawer .reply .user{padding-top:5px}#comment-wrap .focus-comment-drawer .reply .user .avatar{float:left;margin-right:9px}#comment-wrap .focus-comment-drawer .reply .user .summary{overflow:hidden}#comment-wrap .focus-comment-drawer .reply .user .summary .nickname{font-size:14px;color:#333}#comment-wrap .focus-comment-drawer .reply .user .summary .info{line-height:16px;font-size:12px;color:#999}#comment-wrap .focus-comment-drawer .reply .user .summary .info span{margin-right:5px}#comment-wrap .focus-comment-drawer .reply .content{font-size:16px;line-height:24px;padding-top:16px;margin-bottom:16px;color:#000}#comment-wrap .focus-comment-drawer .reply .content .image-area{margin:16px 0}#comment-wrap .focus-comment-drawer .reply .content .image-area img{width:100%;height:auto}#comment-wrap .focus-comment-drawer .reply .social{margin-bottom:15px;font-size:12px}#comment-wrap .focus-comment-drawer .reply .social .reply-liked-btn{color:#0381aa}#comment-wrap .focus-comment-drawer .reply .social button{color:#666;margin-left:3px}#comment-wrap .focus-comment-drawer .total{height:40px;line-height:40px;color:#000;font-size:16px}#comment-wrap .focus-comment-drawer .comments li{padding:17px 0 13px;position:relative}#comment-wrap .focus-comment-drawer .comments li:after{content:\\\"\\\";position:absolute;left:0;right:0;bottom:0;height:1px;background-color:#f0f0f0;-webkit-transform:scaleY(.5);-ms-transform:scaleY(.5);transform:scaleY(.5);margin-left:-15px;margin-right:-15px}#comment-wrap .focus-comment-drawer .comments li .from-user .avatar{float:left;display:block;margin-right:9px}#comment-wrap .focus-comment-drawer .comments li .from-user .summary{overflow:hidden}#comment-wrap .focus-comment-drawer .comments li .from-user .summary .users{font-size:14px;margin-bottom:6px;margin-top:2px;line-height:14px}#comment-wrap .focus-comment-drawer .comments li .from-user .summary .users .nickname{color:#0381aa}#comment-wrap .focus-comment-drawer .comments li .from-user .summary .info{font-size:12px;line-height:12px;color:#999}#comment-wrap .focus-comment-drawer .comments li .main{margin-left:45px;padding-top:10px}#comment-wrap .focus-comment-drawer .comments li .main .content{font-size:14px;line-height:21px;word-break:break-all}#comment-wrap .reply-comment-drawer-wrap #reply-comment-textarea{position:fixed;left:0;top:60px;width:100%;height:250px;background-color:transparent;font-size:16px;line-height:24px;color:#000;font-weight:400;z-index:101;padding-left:15px;padding-right:15px;display:none;opacity:0}#comment-wrap .reply-comment-drawer-wrap #reply-comment-textarea.fade-in{opacity:1;-webkit-transition-delay:.4s;-o-transition-delay:.4s;transition-delay:.4s}#comment-wrap .append-comment-btn{width:100%;padding:15px 0;font-size:13px}#comment-wrap .no-content{text-align:center;margin-top:30px;margin-bottom:30px;font-size:12px;color:#99a2aa}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 105:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(106);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"303ce1cc\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 106:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.comment-create-form .content{font-size:16px;line-height:24px;color:#000;font-weight:400;height:250px;margin-bottom:5px}.comment-create-form .submit-btn{margin-top:15px;width:100%}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 107:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(108);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"23a510bc\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 108:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.comment-item{position:relative;margin-top:15px;padding-bottom:15px}.comment-item:after{content:\\\"\\\";position:absolute;left:0;right:0;bottom:0;height:1px;background-color:#f0f0f0;-webkit-transform:scaleY(.5);-ms-transform:scaleY(.5);transform:scaleY(.5);margin-left:-15px;margin-right:-15px}.comment-item .avatar{float:left;margin-right:9px}.comment-item .content{overflow:hidden}.comment-item .content .header .tools-btn{float:right;line-height:16px;font-size:12px;color:#535353;margin-top:9px;margin-left:4px}.comment-item .content .header .user .nickname{font-size:14px;line-height:21px;display:block;color:#333}.comment-item .content .header .user .info{color:#999;line-height:14px;font-size:12px}.comment-item .content .header .user .info span{margin-right:5px}.comment-item .content .main{font-size:16px;margin:10px 0 4px;color:#333;line-height:24px;min-height:65px}.comment-item .content .main .image-area{margin:10px 0}.comment-item .content .main .image-area img{width:100%;height:auto}.comment-item .content .footer .social{margin-top:15px;font-size:12px}.comment-item .content .footer .social .reply-liked-btn{color:#0381aa}.comment-item .content .footer .social button{color:#666;margin-left:3px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 109:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(110);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"75d7965e\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 110:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.sub-comment-list-wrap{position:relative;background-color:#f7f8fa;border-radius:5px}.sub-comment-list-wrap .sub-comment-list{padding:7px 0 7.5px;margin-top:5px}.sub-comment-list-wrap .load-all-comment{position:relative;margin-top:6px;font-size:12px;margin-bottom:0;padding:0 10px;color:#999;width:100%;text-align:left}.sub-comment-list-wrap .load-all-comment:after{content:\\\"\\\";position:absolute;top:50%;border:3px solid #f5f5f5;border-left-color:#999;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);margin-left:4px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 111:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(112);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"6b8bda44\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 112:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.sub-comment-item{padding:2px 10px;font-size:14px;line-height:18px}.sub-comment-item .nickname{color:#0381aa}.sub-comment-item .comment-content{margin-right:6px;word-break:break-all}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 278:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(279);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"6efcca16\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 279:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}#role-show .profile{margin-top:15px;min-height:80px}#role-show .profile .avatar{float:left;margin-right:10px;margin-bottom:15px}#role-show .profile .info{overflow:hidden}#role-show .profile .info .name{font-size:18px;margin-bottom:5px;margin-top:0}#role-show .profile .info .lover{height:26px;margin-bottom:5px}#role-show .profile .info .lover .image{vertical-align:middle;display:inline-block}#role-show .profile .info .star{position:relative;padding:4px 10px;font-size:14px;color:#000;background-color:transparent;border-radius:8px;white-space:nowrap}#role-show .profile .info .star:after{content:\\\"\\\";position:absolute;top:0;left:0;border:1px solid #000;width:200%;height:200%;-webkit-transform:scale(.5);-ms-transform:scale(.5);transform:scale(.5);-webkit-transform-origin:left top;-ms-transform-origin:left top;transform-origin:left top;border-radius:8px}#role-show .profile .alias,#role-show .profile .summary{line-height:20px;font-size:13px;margin-bottom:5px}#role-show .profile .alias strong{float:left}#role-show .profile .alias li{float:left;margin-right:5px;text-decoration:underline}#role-show .profile .coin{line-height:20px;font-size:13px;margin-bottom:5px}#role-show .bangumi{padding-top:15px}#role-show .bangumi .summary{font-size:12px;color:#666;line-height:13px;max-height:26px;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}#role-show .fans-sort-btn{float:right;font-size:13px;line-height:40px}#role-show .tab-card .role-fans{padding-top:15px}#role-show .tab-card .role-fans li{margin-bottom:10px;font-size:13px;position:relative;padding-bottom:10px}#role-show .tab-card .role-fans li:not(:last-child):after{content:\\\"\\\";position:absolute;left:0;right:0;bottom:0;height:1px;background-color:#f0f0f0;-webkit-transform:scaleY(.5);-ms-transform:scaleY(.5);transform:scaleY(.5);margin-left:0;margin-right:0}#role-show .tab-card .role-fans .avatar{display:inline-block;vertical-align:middle;margin-right:3px}#role-show .tab-card .role-fans .score{float:right;margin-top:9px;font-size:12px;color:#6d757a}#role-show .tab-card .role-comment-wrap{padding-left:15px;padding-right:15px}#role-show .tab-card .role-comment-wrap .hr{display:none}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 342:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: external \"core-js/modules/es6.regexp.split\"\nvar es6_regexp_split_ = __webpack_require__(10);\nvar es6_regexp_split__default = /*#__PURE__*/__webpack_require__.n(es6_regexp_split_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/regenerator\"\nvar regenerator_ = __webpack_require__(0);\nvar regenerator__default = /*#__PURE__*/__webpack_require__.n(regenerator_);\n\n// EXTERNAL MODULE: external \"core-js/modules/es6.promise\"\nvar es6_promise_ = __webpack_require__(21);\nvar es6_promise__default = /*#__PURE__*/__webpack_require__.n(es6_promise_);\n\n// EXTERNAL MODULE: external \"core-js/modules/web.dom.iterable\"\nvar web_dom_iterable_ = __webpack_require__(3);\nvar web_dom_iterable__default = /*#__PURE__*/__webpack_require__.n(web_dom_iterable_);\n\n// EXTERNAL MODULE: external \"regenerator-runtime/runtime\"\nvar runtime_ = __webpack_require__(1);\nvar runtime__default = /*#__PURE__*/__webpack_require__.n(runtime_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/asyncToGenerator\"\nvar asyncToGenerator_ = __webpack_require__(2);\nvar asyncToGenerator__default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator_);\n\n// EXTERNAL MODULE: ./src/components/comments/CommentMain.vue + 8 modules\nvar CommentMain = __webpack_require__(101);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/role/show.vue\n\n\n\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var show = ({\n  name: \"RoleShow\",\n\n  asyncData(_ref) {\n    return asyncToGenerator__default()(\n    /*#__PURE__*/\n    regenerator__default.a.mark(function _callee() {\n      var store, route, ctx, id;\n      return regenerator__default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              store = _ref.store, route = _ref.route, ctx = _ref.ctx;\n              id = route.params.id;\n              _context.next = 4;\n              return Promise.all([store.dispatch(\"cartoonRole/getRoleInfo\", {\n                ctx,\n                id\n              }), store.dispatch(\"comment/getMainComments\", {\n                ctx,\n                id,\n                type: \"role\",\n                seeReplyId: route.query[\"comment-id\"]\n              })]);\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }))();\n  },\n\n  components: {\n    CommentMain: CommentMain[\"a\" /* default */]\n  },\n\n  data() {\n    return {\n      sort: \"comment\",\n      loadingRoleFans: false,\n      loadingRoleImage: false,\n      roleImageLoaded: false,\n      fetchFansSort: \"new\",\n      fansSortActions: [{\n        name: \"最多应援\",\n        method: () => {\n          this.fetchFansSort = \"hot\";\n          this.fetchRoleFans(true);\n        }\n      }, {\n        name: \"最新应援\",\n        method: () => {\n          this.fetchFansSort = \"new\";\n          this.fetchRoleFans(true);\n        }\n      }]\n    };\n  },\n\n  computed: {\n    id() {\n      return +this.$route.params.id;\n    },\n\n    info() {\n      return this.$store.state.cartoonRole.info;\n    },\n\n    role() {\n      return this.info.data;\n    },\n\n    bangumi() {\n      return this.info.bangumi;\n    },\n\n    images() {\n      return this.info.images;\n    },\n\n    fans() {\n      return this.$store.state.cartoonRole.fans[this.fetchFansSort];\n    },\n\n    computeRoleAlias() {\n      return this.role.alias.split(\",\");\n    }\n\n  },\n  methods: {\n    switchTab(tab) {\n      this.sort = tab;\n\n      if (tab === \"image\") {\n        this.getRoleImages(true);\n      } else if (tab === \"fans\") {\n        this.fetchRoleFans(true);\n      }\n    },\n\n    handleBangumiFollow(result) {\n      this.$store.commit(\"cartoonRole/FOLLOW_ROLE_BANGUMI\", {\n        result\n      });\n    },\n\n    handleStarRole() {\n      var _this = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee2() {\n        return regenerator__default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (_this.$store.state.login) {\n                  _context2.next = 3;\n                  break;\n                }\n\n                _this.$channel.$emit(\"sign-in\");\n\n                return _context2.abrupt(\"return\");\n\n              case 3:\n                if (_this.$store.state.user.coin) {\n                  _context2.next = 6;\n                  break;\n                }\n\n                _this.$toast.error(\"金币不足\");\n\n                return _context2.abrupt(\"return\");\n\n              case 6:\n                _context2.prev = 6;\n                _context2.next = 9;\n                return _this.$store.dispatch(\"cartoonRole/star\", {\n                  bangumiId: _this.bangumi.id,\n                  roleId: _this.id,\n                  ctx: _this,\n                  hasStar: _this.role.hasStar\n                });\n\n              case 9:\n                _this.$store.commit(\"USE_COIN\");\n\n                _this.$toast.info(`+${_this.role.hasStar}s`);\n\n                _context2.next = 16;\n                break;\n\n              case 13:\n                _context2.prev = 13;\n                _context2.t0 = _context2[\"catch\"](6);\n\n                _this.$toast.error(_context2.t0);\n\n              case 16:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[6, 13]]);\n      }))();\n    },\n\n    fetchRoleFans() {\n      var _this2 = this,\n          _arguments = arguments;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee3() {\n        var init;\n        return regenerator__default.a.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                init = _arguments.length > 0 && _arguments[0] !== undefined ? _arguments[0] : false;\n\n                if (!(init && _this2.fans.length)) {\n                  _context3.next = 3;\n                  break;\n                }\n\n                return _context3.abrupt(\"return\");\n\n              case 3:\n                if (!_this2.loadingRoleFans) {\n                  _context3.next = 5;\n                  break;\n                }\n\n                return _context3.abrupt(\"return\");\n\n              case 5:\n                _this2.loadingRoleFans = true;\n                _context3.prev = 6;\n                _context3.next = 9;\n                return _this2.$store.dispatch(\"cartoonRole/getFansList\", {\n                  ctx: _this2,\n                  bangumiId: _this2.bangumi.id,\n                  roleId: _this2.id,\n                  sort: _this2.fetchFansSort\n                });\n\n              case 9:\n                _context3.next = 14;\n                break;\n\n              case 11:\n                _context3.prev = 11;\n                _context3.t0 = _context3[\"catch\"](6);\n\n                _this2.$toast.error(_context3.t0);\n\n              case 14:\n                _context3.prev = 14;\n                _this2.loadingRoleFans = false;\n                return _context3.finish(14);\n\n              case 17:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[6, 11, 14, 17]]);\n      }))();\n    },\n\n    getRoleImages() {\n      var _this3 = this,\n          _arguments2 = arguments;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee4() {\n        var init;\n        return regenerator__default.a.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                init = _arguments2.length > 0 && _arguments2[0] !== undefined ? _arguments2[0] : false;\n\n                if (!(init && _this3.roleImageLoaded)) {\n                  _context4.next = 3;\n                  break;\n                }\n\n                return _context4.abrupt(\"return\");\n\n              case 3:\n                if (!_this3.loadingRoleImage) {\n                  _context4.next = 5;\n                  break;\n                }\n\n                return _context4.abrupt(\"return\");\n\n              case 5:\n                _this3.loadingRoleImage = true;\n                _context4.prev = 6;\n                _context4.next = 9;\n                return _this3.$store.dispatch(\"image/getRoleImages\", {\n                  ctx: _this3,\n                  id: _this3.id,\n                  force: init\n                });\n\n              case 9:\n                _this3.roleImageLoaded = true;\n                _context4.next = 15;\n                break;\n\n              case 12:\n                _context4.prev = 12;\n                _context4.t0 = _context4[\"catch\"](6);\n\n                _this3.$toast.error(_context4.t0);\n\n              case 15:\n                _context4.prev = 15;\n                _this3.loadingRoleImage = false;\n                return _context4.finish(15);\n\n              case 18:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this, [[6, 12, 15, 18]]);\n      }))();\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-66f8424a\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/role/show.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"role-show\"}},[_vm._ssrNode(\"<div class=\\\"container\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"profile clearfix\\\">\",\"</div>\",[_vm._ssrNode(\"<h3 class=\\\"sub-title\\\">角色信息</h3>\"),_vm._ssrNode(\"<div>\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"clearfix\\\">\",\"</div>\",[_c('v-img',{staticClass:\"avatar\",attrs:{\"src\":_vm.role.avatar,\"size\":\"80\"}}),_vm._ssrNode(\"<div class=\\\"info\\\">\",\"</div>\",[_vm._ssrNode(\"<h1 class=\\\"name\\\">\"+_vm._ssrEscape(_vm._s(_vm.role.name))+\"</h1>\"),_vm._ssrNode(\"<div class=\\\"lover\\\">\",\"</div>\",[(_vm.role.lover)?[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.role.lover.zone)))+\">\",\"</a>\",[_vm._ssrNode(\"\\n                  守护者：\\n                  \"),_c('v-img',{staticClass:\"image\",attrs:{\"src\":_vm.role.lover.avatar,\"avatar\":true,\"size\":\"26\"}}),_vm._ssrNode(_vm._ssrEscape(\"\\n                  \"+_vm._s(_vm.role.lover.nickname)+\"\\n                \"))],2)]:_vm._e()],2),_vm._ssrNode(\"<button class=\\\"star\\\">为TA应援</button>\")],2)],1),_vm._ssrNode(\"<div><h3 class=\\\"sub-title\\\">角色简介</h3><p class=\\\"summary\\\"><strong>介绍：</strong>\"+_vm._ssrEscape(_vm._s(_vm.role.intro)+\"\\n          \")+\"</p><ul class=\\\"alias clearfix\\\"><strong>别名：</strong>\"+(_vm._ssrList((_vm.computeRoleAlias),function(name,index){return (\"<li>\"+_vm._ssrEscape(_vm._s(name))+\"</li>\")}))+\"</ul>\"+((_vm.role.star_count)?(\"<p class=\\\"coin\\\"><strong>粉丝：</strong>\"+_vm._ssrEscape(\"共有 \"+_vm._s(_vm.role.fans_count)+\" 个粉丝，收获了 \"+_vm._s(_vm.role.star_count)+\" 个金币\\n          \")+\"</p>\"):\"<!---->\")+\"</div>\")],2)],2),_vm._ssrNode(\"<div class=\\\"bangumi\\\">\",\"</div>\",[_vm._ssrNode(\"<h3 class=\\\"sub-title\\\">所属番剧</h3>\"),_c('v-bangumi-panel',{attrs:{\"id\":_vm.bangumi.id,\"avatar\":_vm.bangumi.avatar,\"name\":_vm.bangumi.name,\"followed\":_vm.bangumi.followed},on:{\"follow\":_vm.handleBangumiFollow}},[_c('p',{staticClass:\"summary\",domProps:{\"textContent\":_vm._s(_vm.bangumi.summary)}})])],2)]),_vm._ssrNode(\"<div class=\\\"tabs\\\">\",\"</div>\",[_vm._ssrNode(\"<button\"+(_vm._ssrClass(null,{ 'active': _vm.sort === 'comment' }))+\">留言板</button><button\"+(_vm._ssrClass(null,{ 'active': _vm.sort === 'fans' }))+\">应援团</button>\"),(_vm.sort === 'fans')?_c('v-popover',{attrs:{\"actions\":_vm.fansSortActions,\"class-name\":\"fans-sort-btn\"}},[_c('span',[_c('i',{staticClass:\"el-icon-d-caret\"}),_vm._v(\"\\n        排序\\n      \")])]):_vm._e()],2),_vm._ssrNode(\"<div class=\\\"tab-card\\\">\",\"</div>\",[(_vm.sort === 'fans')?[_vm._ssrNode(\"<ul class=\\\"role-fans container\\\">\",\"</ul>\",_vm._l((_vm.fans.list),function(item,index){return _vm._ssrNode(\"<li>\",\"</li>\",[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(item.zone)))+\">\",\"</a>\",[_c('v-img',{staticClass:\"avatar\",attrs:{\"src\":item.avatar,\"avatar\":true,\"size\":\"30\"}}),_vm._ssrNode(_vm._ssrEscape(\"\\n            \"+_vm._s(item.nickname)+\"\\n            \")),(_vm.fetchFansSort === 'new')?_c('v-time',{staticClass:\"score\",model:{value:(item.score),callback:function ($$v) {_vm.$set(item, \"score\", $$v)},expression:\"item.score\"}}):_c('span',{staticClass:\"score\"},[_vm._v(_vm._s(item.score)+\"个金币\")])],2)])})),_c('more-btn',{attrs:{\"no-more\":_vm.fans.noMore,\"length\":_vm.fans.list.length,\"loading\":_vm.loadingRoleFans},on:{\"fetch\":function($event){_vm.fetchRoleFans(false)}}})]:(_vm.sort === 'comment')?_vm._ssrNode(\"<div class=\\\"role-comment-wrap\\\">\",\"</div>\",[_c('comment-main',{attrs:{\"id\":_vm.id,\"master-id\":1,\"type\":\"role\"}})],1):_vm._e()],2)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var role_show = (esExports);\n// CONCATENATED MODULE: ./src/views/role/show.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(278),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"72bd3a4a\"\nvar Component = normalizeComponent(\n  show,\n  role_show,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_role_show = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n};;",
    "11.server-bundle.js": "exports.ids = [11];\nexports.modules = {\n\n/***/ 117:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: external \"@babel/runtime/regenerator\"\nvar regenerator_ = __webpack_require__(0);\nvar regenerator__default = /*#__PURE__*/__webpack_require__.n(regenerator_);\n\n// EXTERNAL MODULE: external \"regenerator-runtime/runtime\"\nvar runtime_ = __webpack_require__(1);\nvar runtime__default = /*#__PURE__*/__webpack_require__.n(runtime_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/asyncToGenerator\"\nvar asyncToGenerator_ = __webpack_require__(2);\nvar asyncToGenerator__default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator_);\n\n// EXTERNAL MODULE: ./src/api/toggleApi.js\nvar toggleApi = __webpack_require__(22);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/common/VoteButton.vue\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var VoteButton = ({\n  name: \"VoteButton\",\n  props: {\n    type: {\n      required: true,\n      type: String,\n      validator: val => ~[\"answer\"].indexOf(val)\n    },\n    id: {\n      required: true,\n      type: Number\n    },\n    score: {\n      required: true,\n      type: Number\n    },\n    total: {\n      required: true,\n      type: Number\n    },\n    authorId: {\n      required: true,\n      type: Number\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  data() {\n    return {\n      loading: false\n    };\n  },\n\n  computed: {\n    currentUserId() {\n      if (this.$store.state.login) {\n        return this.$store.state.user.id;\n      }\n\n      return 0;\n    }\n\n  },\n  methods: {\n    voteAction(is_agree) {\n      var _this = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee() {\n        var api, result;\n        return regenerator__default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!_this.disabled) {\n                  _context.next = 2;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 2:\n                if (_this.currentUserId) {\n                  _context.next = 5;\n                  break;\n                }\n\n                _this.$channel.$emit(\"sign-in\");\n\n                return _context.abrupt(\"return\");\n\n              case 5:\n                if (!(_this.currentUserId === _this.authorId)) {\n                  _context.next = 8;\n                  break;\n                }\n\n                _this.$toast.error(is_agree ? \"不能给自己点赞\" : \"不能给自己点反对\");\n\n                return _context.abrupt(\"return\");\n\n              case 8:\n                if (!_this.loading) {\n                  _context.next = 10;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 10:\n                _this.loading = true;\n                api = new toggleApi[\"a\" /* default */](_this);\n                _context.prev = 12;\n                _context.next = 15;\n                return api.vote({\n                  type: _this.type,\n                  id: _this.id,\n                  is_agree\n                });\n\n              case 15:\n                result = _context.sent;\n\n                _this.$emit(\"vote\", result);\n\n                _context.next = 22;\n                break;\n\n              case 19:\n                _context.prev = 19;\n                _context.t0 = _context[\"catch\"](12);\n\n                _this.$toast.error(_context.t0);\n\n              case 22:\n                _context.prev = 22;\n                _this.loading = false;\n                return _context.finish(22);\n\n              case 25:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[12, 19, 22, 25]]);\n      }))();\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3b7bf57c\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/VoteButton.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vote-button\"},[_vm._ssrNode(\"<button\"+(_vm._ssrClass(\"vote-btn vote-up\",{ 'active': _vm.score > 0 }))+\"><i class=\\\"el-icon-caret-top\\\"></i>\"+_vm._ssrEscape(\"\\n    赞同\\n    \"+_vm._s(_vm.total)+\"\\n  \")+\"</button><button\"+(_vm._ssrClass(\"vote-btn vote-down\",{ 'active': _vm.score < 0 }))+\"><i class=\\\"el-icon-caret-bottom\\\"></i></button>\")])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var common_VoteButton = (esExports);\n// CONCATENATED MODULE: ./src/components/common/VoteButton.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(118),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"27695f1e\"\nvar Component = normalizeComponent(\n  VoteButton,\n  common_VoteButton,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_common_VoteButton = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 118:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(119);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"17ebc120\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 119:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.vote-button{display:inline-block}.vote-button .vote-btn{padding:0 10px;color:#00a1d6;background-color:rgba(0,161,214,.1);font-size:14px;line-height:32px;text-align:center;border-radius:3px;font-weight:700}.vote-button .vote-btn.vote-down{margin-left:4px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 134:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./src/components/common/VoteButton.vue + 2 modules\nvar VoteButton = __webpack_require__(117);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/flow/item/QuestionFlowItem.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var QuestionFlowItem = ({\n  name: \"QuestionFlowItem\",\n  components: {\n    VoteButton: VoteButton[\"a\" /* default */]\n  },\n  props: {\n    item: {\n      required: true,\n      type: Object\n    },\n    bangumiId: {\n      required: true,\n      type: Number\n    },\n    userZone: {\n      required: true,\n      type: String\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-eb4b4318\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/flow/item/QuestionFlowItem.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"question-flow-item\"},[_vm._ssrNode(\"<header class=\\\"qaq-flow-header\\\">\",\"</header>\",[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.item.user.zone)))+\" class=\\\"avatar\\\">\",\"</a>\",[_c('v-img',{attrs:{\"src\":_vm.item.user.avatar,\"avatar\":true,\"size\":\"24\"}})],1),_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.item.user.zone)))+\" class=\\\"nickname\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.user.nickname))+\"</a>\")],2),_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.question(_vm.item.id)))+\"><h3 class=\\\"title\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.title))+\"</h3></a>\"),_vm._ssrNode(\"<div class=\\\"content\\\">\",\"</div>\",[(_vm.item.answer)?_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.answer(_vm.item.answer.id)))+\">\",\"</a>\",[(_vm.item.answer.poster)?_vm._ssrNode(\"<div class=\\\"poster\\\">\",\"</div>\",[_c('v-img',{attrs:{\"src\":_vm.item.answer.poster.url,\"width\":\"100%\",\"height\":\"140\"}})],1):_vm._e(),_vm._ssrNode(\"<div class=\\\"text\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.answer.intro))+\"</div>\")],2):_vm._ssrNode((\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.question(_vm.item.id)))+\" class=\\\"text\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.intro))+\"</a>\"))]),_vm._ssrNode(\"<div class=\\\"footer\\\">\",\"</div>\",[(_vm.item.answer)?_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.answer(_vm.item.answer.id)))+\">\",\"</a>\",[_c('vote-button',{attrs:{\"id\":_vm.item.answer.id,\"total\":_vm.item.answer.vote_count,\"author-id\":_vm.item.user.id,\"score\":0,\"disabled\":true,\"type\":\"answer\"}})],1):_vm._e(),_vm._ssrNode(\"<span class=\\\"stats\\\">\"+((!_vm.item.answer_count)?(\"<i class=\\\"el-icon-edit\\\"></i>\"):\"<!---->\")+_vm._ssrEscape(\"\\n      \"+_vm._s(_vm.item.answer_count ? _vm.item.answer_count + '个回答' : '还没有回答')+\"\\n    \")+\"</span><span class=\\\"stats\\\">\"+((!_vm.item.comment_count)?(\"<i class=\\\"iconfont icon-pinglun1\\\"></i>\"):\"<!---->\")+_vm._ssrEscape(\"\\n      \"+_vm._s(_vm.item.comment_count ? _vm.item.comment_count + '条评论' : '还没有评论')+\"\\n    \")+\"</span>\"+((_vm.item.follow_count)?(\"<span class=\\\"stats\\\">\"+_vm._ssrEscape(\"\\n      \"+_vm._s(_vm.item.follow_count)+\"人关注\\n    \")+\"</span>\"):\"<!---->\"))],2)],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var item_QuestionFlowItem = (esExports);\n// CONCATENATED MODULE: ./src/components/flow/item/QuestionFlowItem.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(145),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"a45d237e\"\nvar Component = normalizeComponent(\n  QuestionFlowItem,\n  item_QuestionFlowItem,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var flow_item_QuestionFlowItem = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 144:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./src/components/flow/list/_flowListMixin.js\nvar _flowListMixin = __webpack_require__(99);\n\n// EXTERNAL MODULE: ./src/components/flow/item/QuestionFlowItem.vue + 2 modules\nvar QuestionFlowItem = __webpack_require__(134);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/flow/list/QuestionFlowList.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var QuestionFlowList = ({\n  name: \"QuestionFlowList\",\n  components: {\n    QuestionFlowItem: QuestionFlowItem[\"a\" /* default */]\n  },\n  mixins: [_flowListMixin[\"a\" /* default */]],\n\n  data() {\n    return {\n      flowType: \"question\"\n    };\n  },\n\n  methods: {\n    openCreateQAQModal() {\n      if (!this.$store.state.login) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      this.$channel.$emit(\"drawer-open-write-question\");\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-82512782\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/flow/list/QuestionFlowList.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.source)?_c('div',{attrs:{\"id\":\"score-flow-list\"}},[_vm._ssrNode(\"<ul>\",\"</ul>\",_vm._l((_vm.source.list),function(item){return _c('question-flow-item',{key:item.id,attrs:{\"item\":item,\"bangumi-id\":_vm.bangumiId,\"user-zone\":_vm.userZone}})})),_c('more-btn',{attrs:{\"no-more\":_vm.source.noMore,\"loading\":_vm.source.loading,\"length\":_vm.source.list.length,\"auto\":true},on:{\"fetch\":_vm.loadMore}},[(_vm.showNoContentTips)?[(_vm.bangumiId)?_c('button',{on:{\"click\":_vm.openCreateQAQModal}},[_vm._v(\"我有《\"+_vm._s(_vm.bangumiName)+\"》的一些疑问\")]):(_vm.isMe)?_c('a',{attrs:{\"href\":_vm.$alias.world('qaq'),\"target\":\"_blank\"}},[_c('button',[_vm._v(\"查看问题列表\")])]):_vm._e()]:_vm._e()],2)],1):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var list_QuestionFlowList = (esExports);\n// CONCATENATED MODULE: ./src/components/flow/list/QuestionFlowList.vue\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"2cb525a1\"\nvar Component = normalizeComponent(\n  QuestionFlowList,\n  list_QuestionFlowList,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var flow_list_QuestionFlowList = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 145:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(146);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"1235a770\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 146:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".question-flow-item .content:after,.question-flow-item .content:before{content:\\\"\\\";clear:both;display:table}@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.question-flow-item{padding:15px;border-bottom:1px dotted #e4e6eb}.question-flow-item:last-child{border-bottom:none}.question-flow-item .qaq-flow-header{height:24px;margin-bottom:8px}.question-flow-item .qaq-flow-header .avatar{float:left;margin-right:10px;width:24px;height:24px}.question-flow-item .qaq-flow-header .nickname{font-size:13px;line-height:24px;color:#1a1a1a}.question-flow-item .title{font-size:14px;font-weight:500;color:#1a1a1a;margin-bottom:6px;line-height:20px;max-height:40px;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.question-flow-item .content{margin-bottom:10px}.question-flow-item .content .poster{margin-bottom:4px;border-radius:4px;overflow:hidden}.question-flow-item .content .text{font-size:14px;color:#1a1a1a;line-height:19px;max-height:38px;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.question-flow-item .footer{color:#6d757a}.question-flow-item .footer .vote-button{margin-right:5px}.question-flow-item .footer .stats{margin-right:5px;font-size:12px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 249:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(250);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"41afed2f\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 250:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}#user-question .label{font-size:0}#user-question .label button{display:inline-block;width:50%;height:40px;font-size:13px;background-color:#f6f9fa;color:#6d757a}#user-question .label .active{background-color:#e5e9ef}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 329:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: external \"@babel/runtime/regenerator\"\nvar regenerator_ = __webpack_require__(0);\nvar regenerator__default = /*#__PURE__*/__webpack_require__.n(regenerator_);\n\n// EXTERNAL MODULE: external \"regenerator-runtime/runtime\"\nvar runtime_ = __webpack_require__(1);\nvar runtime__default = /*#__PURE__*/__webpack_require__.n(runtime_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/asyncToGenerator\"\nvar asyncToGenerator_ = __webpack_require__(2);\nvar asyncToGenerator__default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator_);\n\n// EXTERNAL MODULE: ./src/components/flow/list/QuestionFlowList.vue + 2 modules\nvar QuestionFlowList = __webpack_require__(144);\n\n// EXTERNAL MODULE: ./src/components/flow/item/QuestionFlowItem.vue + 2 modules\nvar QuestionFlowItem = __webpack_require__(134);\n\n// EXTERNAL MODULE: ./src/api/flowApi.js\nvar flowApi = __webpack_require__(19);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/user/show/question.vue\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ var question = ({\n  name: \"UserQuestion\",\n\n  asyncData(_ref) {\n    return asyncToGenerator__default()(\n    /*#__PURE__*/\n    regenerator__default.a.mark(function _callee() {\n      var store, route, ctx;\n      return regenerator__default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              store = _ref.store, route = _ref.route, ctx = _ref.ctx;\n              _context.next = 3;\n              return store.dispatch(\"flow/initData\", {\n                type: \"question\",\n                sort: \"news\",\n                userZone: route.params.zone,\n                ctx\n              });\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }))();\n  },\n\n  components: {\n    QuestionFlowList: QuestionFlowList[\"a\" /* default */],\n    QuestionFlowItem: QuestionFlowItem[\"a\" /* default */]\n  },\n\n  data() {\n    return {\n      active: 0,\n      answerList: [],\n      loadingAnswer: false,\n      fetchedAnswer: false,\n      noMoreAnswer: false,\n      page: 0\n    };\n  },\n\n  computed: {\n    zone() {\n      return this.$route.params.zone;\n    }\n\n  },\n  methods: {\n    switchTab(value) {\n      this.active = value;\n\n      if (value === 1) {\n        this.getUserAnswers(true);\n      }\n    },\n\n    getUserAnswers() {\n      var _this = this,\n          _arguments = arguments;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee2() {\n        var init, api, data;\n        return regenerator__default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                init = _arguments.length > 0 && _arguments[0] !== undefined ? _arguments[0] : false;\n\n                if (!(init && _this.fetchedAnswer)) {\n                  _context2.next = 3;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\");\n\n              case 3:\n                if (!_this.loadingAnswer) {\n                  _context2.next = 5;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\");\n\n              case 5:\n                _this.loadingAnswer = true;\n                api = new flowApi[\"a\" /* default */](_this);\n                _context2.prev = 7;\n                _context2.next = 10;\n                return api.fetch({\n                  sort: \"news\",\n                  type: \"answer\",\n                  take: 10,\n                  page: _this.page,\n                  minId: 0,\n                  seenIds: \"\",\n                  bangumiId: 0,\n                  userZone: _this.zone\n                });\n\n              case 10:\n                data = _context2.sent;\n                _this.fetchedAnswer = true;\n                _this.answerList = _this.answerList.concat(data.list);\n                _this.noMoreAnswer = data.noMore;\n                _this.page++;\n                _context2.next = 20;\n                break;\n\n              case 17:\n                _context2.prev = 17;\n                _context2.t0 = _context2[\"catch\"](7);\n\n                _this.$toast.error(_context2.t0);\n\n              case 20:\n                _context2.prev = 20;\n                _this.loadingAnswer = false;\n                return _context2.finish(20);\n\n              case 23:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[7, 17, 20, 23]]);\n      }))();\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-377b7032\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/user/show/question.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"user-question\"}},[_vm._ssrNode(\"<div class=\\\"label\\\"><button\"+(_vm._ssrClass(null,{ active: _vm.active === 0 }))+\">提问</button><button\"+(_vm._ssrClass(null,{ active: _vm.active === 1 }))+\">回答</button></div>\"),(_vm.active === 0)?_c('question-flow-list',{attrs:{\"user-zone\":_vm.zone}}):_c('div',[_c('ul',_vm._l((_vm.answerList),function(item){return _c('question-flow-item',{key:item.id,attrs:{\"item\":item}})})),_c('more-btn',{attrs:{\"no-more\":_vm.noMoreAnswer,\"loading\":_vm.loadingAnswer,\"length\":_vm.answerList.length,\"auto\":true},on:{\"fetch\":function($event){_vm.getUserAnswers(false)}}})],1)],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var show_question = (esExports);\n// CONCATENATED MODULE: ./src/views/user/show/question.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(249),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"039dc85f\"\nvar Component = normalizeComponent(\n  question,\n  show_question,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var user_show_question = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 99:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_regenerator_runtime_runtime__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_regenerator_runtime_runtime___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_regenerator_runtime_runtime__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_asyncToGenerator__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_asyncToGenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_asyncToGenerator__);\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  props: {\n    bangumiId: {\n      type: Number,\n      default: 0\n    },\n    userZone: {\n      type: String,\n      default: \"\"\n    },\n    bangumiName: {\n      type: String,\n      default: \"\"\n    }\n  },\n  computed: {\n    fetchMoreAction() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow/getData\";\n      }\n\n      return \"world/getData\";\n    },\n\n    fetchInitAction() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow/initData\";\n      }\n\n      return \"world/initData\";\n    },\n\n    fetchStore() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow\";\n      }\n\n      return \"world\";\n    },\n\n    fetchSort() {\n      if (this.userZone) {\n        return \"news\";\n      }\n\n      if (this.flowType === \"role\") {\n        return \"hot\";\n      }\n\n      return \"active\";\n    },\n\n    fetchEvent() {\n      if (this.bangumiId) {\n        return `bangumi-tab-switch-${this.flowType}`;\n      }\n\n      if (this.userZone) {\n        return `user-tab-switch-${this.flowType}`;\n      }\n\n      return \"\";\n    },\n\n    source() {\n      return this.$store.state[this.fetchStore][this.flowType][this.fetchSort];\n    },\n\n    showNoContentTips() {\n      return this.bangumiId || this.isMe;\n    },\n\n    isMe() {\n      return this.$store.state.login ? this.$store.state.user.zone === this.userZone : false;\n    }\n\n  },\n  methods: {\n    initData() {\n      var _this = this;\n\n      return __WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_asyncToGenerator___default()(\n      /*#__PURE__*/\n      __WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator___default.a.mark(function _callee() {\n        return __WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator___default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return _this.$store.dispatch(_this.fetchInitAction, {\n                  ctx: _this,\n                  type: _this.flowType,\n                  sort: _this.fetchSort,\n                  userZone: _this.userZone,\n                  bangumiId: _this.bangumiId\n                });\n\n              case 3:\n                _context.next = 8;\n                break;\n\n              case 5:\n                _context.prev = 5;\n                _context.t0 = _context[\"catch\"](0);\n\n                _this.$toast.error(_context.t0);\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 5]]);\n      }))();\n    },\n\n    loadMore() {\n      var _this2 = this;\n\n      return __WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_asyncToGenerator___default()(\n      /*#__PURE__*/\n      __WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator___default.a.mark(function _callee2() {\n        return __WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator___default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                _context2.next = 3;\n                return _this2.$store.dispatch(_this2.fetchMoreAction, {\n                  ctx: _this2,\n                  type: _this2.flowType,\n                  sort: _this2.fetchSort,\n                  userZone: _this2.userZone,\n                  bangumiId: _this2.bangumiId\n                });\n\n              case 3:\n                _context2.next = 8;\n                break;\n\n              case 5:\n                _context2.prev = 5;\n                _context2.t0 = _context2[\"catch\"](0);\n\n                _this2.$toast.error(_context2.t0);\n\n              case 8:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[0, 5]]);\n      }))();\n    }\n\n  },\n\n  mounted() {\n    if (this.fetchEvent && !this.source.list.length) {\n      this.$channel.$on(this.fetchEvent, () => {\n        this.initData();\n        this.$channel.$off(this.fetchEvent);\n      });\n    }\n  }\n\n});\n\n/***/ })\n\n};;",
    "12.server-bundle.js": "exports.ids = [12];\nexports.modules = {\n\n/***/ 117:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: external \"@babel/runtime/regenerator\"\nvar regenerator_ = __webpack_require__(0);\nvar regenerator__default = /*#__PURE__*/__webpack_require__.n(regenerator_);\n\n// EXTERNAL MODULE: external \"regenerator-runtime/runtime\"\nvar runtime_ = __webpack_require__(1);\nvar runtime__default = /*#__PURE__*/__webpack_require__.n(runtime_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/asyncToGenerator\"\nvar asyncToGenerator_ = __webpack_require__(2);\nvar asyncToGenerator__default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator_);\n\n// EXTERNAL MODULE: ./src/api/toggleApi.js\nvar toggleApi = __webpack_require__(22);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/common/VoteButton.vue\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var VoteButton = ({\n  name: \"VoteButton\",\n  props: {\n    type: {\n      required: true,\n      type: String,\n      validator: val => ~[\"answer\"].indexOf(val)\n    },\n    id: {\n      required: true,\n      type: Number\n    },\n    score: {\n      required: true,\n      type: Number\n    },\n    total: {\n      required: true,\n      type: Number\n    },\n    authorId: {\n      required: true,\n      type: Number\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  data() {\n    return {\n      loading: false\n    };\n  },\n\n  computed: {\n    currentUserId() {\n      if (this.$store.state.login) {\n        return this.$store.state.user.id;\n      }\n\n      return 0;\n    }\n\n  },\n  methods: {\n    voteAction(is_agree) {\n      var _this = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee() {\n        var api, result;\n        return regenerator__default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!_this.disabled) {\n                  _context.next = 2;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 2:\n                if (_this.currentUserId) {\n                  _context.next = 5;\n                  break;\n                }\n\n                _this.$channel.$emit(\"sign-in\");\n\n                return _context.abrupt(\"return\");\n\n              case 5:\n                if (!(_this.currentUserId === _this.authorId)) {\n                  _context.next = 8;\n                  break;\n                }\n\n                _this.$toast.error(is_agree ? \"不能给自己点赞\" : \"不能给自己点反对\");\n\n                return _context.abrupt(\"return\");\n\n              case 8:\n                if (!_this.loading) {\n                  _context.next = 10;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 10:\n                _this.loading = true;\n                api = new toggleApi[\"a\" /* default */](_this);\n                _context.prev = 12;\n                _context.next = 15;\n                return api.vote({\n                  type: _this.type,\n                  id: _this.id,\n                  is_agree\n                });\n\n              case 15:\n                result = _context.sent;\n\n                _this.$emit(\"vote\", result);\n\n                _context.next = 22;\n                break;\n\n              case 19:\n                _context.prev = 19;\n                _context.t0 = _context[\"catch\"](12);\n\n                _this.$toast.error(_context.t0);\n\n              case 22:\n                _context.prev = 22;\n                _this.loading = false;\n                return _context.finish(22);\n\n              case 25:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[12, 19, 22, 25]]);\n      }))();\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3b7bf57c\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/VoteButton.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vote-button\"},[_vm._ssrNode(\"<button\"+(_vm._ssrClass(\"vote-btn vote-up\",{ 'active': _vm.score > 0 }))+\"><i class=\\\"el-icon-caret-top\\\"></i>\"+_vm._ssrEscape(\"\\n    赞同\\n    \"+_vm._s(_vm.total)+\"\\n  \")+\"</button><button\"+(_vm._ssrClass(\"vote-btn vote-down\",{ 'active': _vm.score < 0 }))+\"><i class=\\\"el-icon-caret-bottom\\\"></i></button>\")])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var common_VoteButton = (esExports);\n// CONCATENATED MODULE: ./src/components/common/VoteButton.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(118),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"27695f1e\"\nvar Component = normalizeComponent(\n  VoteButton,\n  common_VoteButton,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_common_VoteButton = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 118:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(119);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"17ebc120\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 119:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.vote-button{display:inline-block}.vote-button .vote-btn{padding:0 10px;color:#00a1d6;background-color:rgba(0,161,214,.1);font-size:14px;line-height:32px;text-align:center;border-radius:3px;font-weight:700}.vote-button .vote-btn.vote-down{margin-left:4px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 134:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./src/components/common/VoteButton.vue + 2 modules\nvar VoteButton = __webpack_require__(117);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/flow/item/QuestionFlowItem.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var QuestionFlowItem = ({\n  name: \"QuestionFlowItem\",\n  components: {\n    VoteButton: VoteButton[\"a\" /* default */]\n  },\n  props: {\n    item: {\n      required: true,\n      type: Object\n    },\n    bangumiId: {\n      required: true,\n      type: Number\n    },\n    userZone: {\n      required: true,\n      type: String\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-eb4b4318\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/flow/item/QuestionFlowItem.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"question-flow-item\"},[_vm._ssrNode(\"<header class=\\\"qaq-flow-header\\\">\",\"</header>\",[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.item.user.zone)))+\" class=\\\"avatar\\\">\",\"</a>\",[_c('v-img',{attrs:{\"src\":_vm.item.user.avatar,\"avatar\":true,\"size\":\"24\"}})],1),_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.item.user.zone)))+\" class=\\\"nickname\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.user.nickname))+\"</a>\")],2),_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.question(_vm.item.id)))+\"><h3 class=\\\"title\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.title))+\"</h3></a>\"),_vm._ssrNode(\"<div class=\\\"content\\\">\",\"</div>\",[(_vm.item.answer)?_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.answer(_vm.item.answer.id)))+\">\",\"</a>\",[(_vm.item.answer.poster)?_vm._ssrNode(\"<div class=\\\"poster\\\">\",\"</div>\",[_c('v-img',{attrs:{\"src\":_vm.item.answer.poster.url,\"width\":\"100%\",\"height\":\"140\"}})],1):_vm._e(),_vm._ssrNode(\"<div class=\\\"text\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.answer.intro))+\"</div>\")],2):_vm._ssrNode((\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.question(_vm.item.id)))+\" class=\\\"text\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.intro))+\"</a>\"))]),_vm._ssrNode(\"<div class=\\\"footer\\\">\",\"</div>\",[(_vm.item.answer)?_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.answer(_vm.item.answer.id)))+\">\",\"</a>\",[_c('vote-button',{attrs:{\"id\":_vm.item.answer.id,\"total\":_vm.item.answer.vote_count,\"author-id\":_vm.item.user.id,\"score\":0,\"disabled\":true,\"type\":\"answer\"}})],1):_vm._e(),_vm._ssrNode(\"<span class=\\\"stats\\\">\"+((!_vm.item.answer_count)?(\"<i class=\\\"el-icon-edit\\\"></i>\"):\"<!---->\")+_vm._ssrEscape(\"\\n      \"+_vm._s(_vm.item.answer_count ? _vm.item.answer_count + '个回答' : '还没有回答')+\"\\n    \")+\"</span><span class=\\\"stats\\\">\"+((!_vm.item.comment_count)?(\"<i class=\\\"iconfont icon-pinglun1\\\"></i>\"):\"<!---->\")+_vm._ssrEscape(\"\\n      \"+_vm._s(_vm.item.comment_count ? _vm.item.comment_count + '条评论' : '还没有评论')+\"\\n    \")+\"</span>\"+((_vm.item.follow_count)?(\"<span class=\\\"stats\\\">\"+_vm._ssrEscape(\"\\n      \"+_vm._s(_vm.item.follow_count)+\"人关注\\n    \")+\"</span>\"):\"<!---->\"))],2)],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var item_QuestionFlowItem = (esExports);\n// CONCATENATED MODULE: ./src/components/flow/item/QuestionFlowItem.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(145),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"a45d237e\"\nvar Component = normalizeComponent(\n  QuestionFlowItem,\n  item_QuestionFlowItem,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var flow_item_QuestionFlowItem = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 144:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./src/components/flow/list/_flowListMixin.js\nvar _flowListMixin = __webpack_require__(99);\n\n// EXTERNAL MODULE: ./src/components/flow/item/QuestionFlowItem.vue + 2 modules\nvar QuestionFlowItem = __webpack_require__(134);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/flow/list/QuestionFlowList.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var QuestionFlowList = ({\n  name: \"QuestionFlowList\",\n  components: {\n    QuestionFlowItem: QuestionFlowItem[\"a\" /* default */]\n  },\n  mixins: [_flowListMixin[\"a\" /* default */]],\n\n  data() {\n    return {\n      flowType: \"question\"\n    };\n  },\n\n  methods: {\n    openCreateQAQModal() {\n      if (!this.$store.state.login) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      this.$channel.$emit(\"drawer-open-write-question\");\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-82512782\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/flow/list/QuestionFlowList.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.source)?_c('div',{attrs:{\"id\":\"score-flow-list\"}},[_vm._ssrNode(\"<ul>\",\"</ul>\",_vm._l((_vm.source.list),function(item){return _c('question-flow-item',{key:item.id,attrs:{\"item\":item,\"bangumi-id\":_vm.bangumiId,\"user-zone\":_vm.userZone}})})),_c('more-btn',{attrs:{\"no-more\":_vm.source.noMore,\"loading\":_vm.source.loading,\"length\":_vm.source.list.length,\"auto\":true},on:{\"fetch\":_vm.loadMore}},[(_vm.showNoContentTips)?[(_vm.bangumiId)?_c('button',{on:{\"click\":_vm.openCreateQAQModal}},[_vm._v(\"我有《\"+_vm._s(_vm.bangumiName)+\"》的一些疑问\")]):(_vm.isMe)?_c('a',{attrs:{\"href\":_vm.$alias.world('qaq'),\"target\":\"_blank\"}},[_c('button',[_vm._v(\"查看问题列表\")])]):_vm._e()]:_vm._e()],2)],1):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var list_QuestionFlowList = (esExports);\n// CONCATENATED MODULE: ./src/components/flow/list/QuestionFlowList.vue\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"2cb525a1\"\nvar Component = normalizeComponent(\n  QuestionFlowList,\n  list_QuestionFlowList,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var flow_list_QuestionFlowList = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 145:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(146);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"1235a770\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 146:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".question-flow-item .content:after,.question-flow-item .content:before{content:\\\"\\\";clear:both;display:table}@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.question-flow-item{padding:15px;border-bottom:1px dotted #e4e6eb}.question-flow-item:last-child{border-bottom:none}.question-flow-item .qaq-flow-header{height:24px;margin-bottom:8px}.question-flow-item .qaq-flow-header .avatar{float:left;margin-right:10px;width:24px;height:24px}.question-flow-item .qaq-flow-header .nickname{font-size:13px;line-height:24px;color:#1a1a1a}.question-flow-item .title{font-size:14px;font-weight:500;color:#1a1a1a;margin-bottom:6px;line-height:20px;max-height:40px;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.question-flow-item .content{margin-bottom:10px}.question-flow-item .content .poster{margin-bottom:4px;border-radius:4px;overflow:hidden}.question-flow-item .content .text{font-size:14px;color:#1a1a1a;line-height:19px;max-height:38px;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.question-flow-item .footer{color:#6d757a}.question-flow-item .footer .vote-button{margin-right:5px}.question-flow-item .footer .stats{margin-right:5px;font-size:12px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 320:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: external \"@babel/runtime/regenerator\"\nvar regenerator_ = __webpack_require__(0);\nvar regenerator__default = /*#__PURE__*/__webpack_require__.n(regenerator_);\n\n// EXTERNAL MODULE: external \"regenerator-runtime/runtime\"\nvar runtime_ = __webpack_require__(1);\nvar runtime__default = /*#__PURE__*/__webpack_require__.n(runtime_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/asyncToGenerator\"\nvar asyncToGenerator_ = __webpack_require__(2);\nvar asyncToGenerator__default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator_);\n\n// EXTERNAL MODULE: ./src/components/flow/list/QuestionFlowList.vue + 2 modules\nvar QuestionFlowList = __webpack_require__(144);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/bangumi/show/question.vue\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var question = ({\n  name: \"BangumiQuestion\",\n\n  asyncData(_ref) {\n    return asyncToGenerator__default()(\n    /*#__PURE__*/\n    regenerator__default.a.mark(function _callee() {\n      var store, route, ctx;\n      return regenerator__default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              store = _ref.store, route = _ref.route, ctx = _ref.ctx;\n              _context.next = 3;\n              return store.dispatch(\"flow/initData\", {\n                type: \"question\",\n                sort: \"active\",\n                bangumiId: route.params.id,\n                ctx\n              });\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }))();\n  },\n\n  components: {\n    QuestionFlowList: QuestionFlowList[\"a\" /* default */]\n  },\n  computed: {\n    info() {\n      return this.$store.state.bangumi.info;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-053e4971\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/bangumi/show/question.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.info)?_c('question-flow-list',{attrs:{\"bangumi-id\":_vm.info.id,\"bangumi-name\":_vm.info.name}}):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var show_question = (esExports);\n// CONCATENATED MODULE: ./src/views/bangumi/show/question.vue\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"206c9327\"\nvar Component = normalizeComponent(\n  question,\n  show_question,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var bangumi_show_question = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 99:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_regenerator_runtime_runtime__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_regenerator_runtime_runtime___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_regenerator_runtime_runtime__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_asyncToGenerator__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_asyncToGenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_asyncToGenerator__);\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  props: {\n    bangumiId: {\n      type: Number,\n      default: 0\n    },\n    userZone: {\n      type: String,\n      default: \"\"\n    },\n    bangumiName: {\n      type: String,\n      default: \"\"\n    }\n  },\n  computed: {\n    fetchMoreAction() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow/getData\";\n      }\n\n      return \"world/getData\";\n    },\n\n    fetchInitAction() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow/initData\";\n      }\n\n      return \"world/initData\";\n    },\n\n    fetchStore() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow\";\n      }\n\n      return \"world\";\n    },\n\n    fetchSort() {\n      if (this.userZone) {\n        return \"news\";\n      }\n\n      if (this.flowType === \"role\") {\n        return \"hot\";\n      }\n\n      return \"active\";\n    },\n\n    fetchEvent() {\n      if (this.bangumiId) {\n        return `bangumi-tab-switch-${this.flowType}`;\n      }\n\n      if (this.userZone) {\n        return `user-tab-switch-${this.flowType}`;\n      }\n\n      return \"\";\n    },\n\n    source() {\n      return this.$store.state[this.fetchStore][this.flowType][this.fetchSort];\n    },\n\n    showNoContentTips() {\n      return this.bangumiId || this.isMe;\n    },\n\n    isMe() {\n      return this.$store.state.login ? this.$store.state.user.zone === this.userZone : false;\n    }\n\n  },\n  methods: {\n    initData() {\n      var _this = this;\n\n      return __WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_asyncToGenerator___default()(\n      /*#__PURE__*/\n      __WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator___default.a.mark(function _callee() {\n        return __WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator___default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return _this.$store.dispatch(_this.fetchInitAction, {\n                  ctx: _this,\n                  type: _this.flowType,\n                  sort: _this.fetchSort,\n                  userZone: _this.userZone,\n                  bangumiId: _this.bangumiId\n                });\n\n              case 3:\n                _context.next = 8;\n                break;\n\n              case 5:\n                _context.prev = 5;\n                _context.t0 = _context[\"catch\"](0);\n\n                _this.$toast.error(_context.t0);\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 5]]);\n      }))();\n    },\n\n    loadMore() {\n      var _this2 = this;\n\n      return __WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_asyncToGenerator___default()(\n      /*#__PURE__*/\n      __WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator___default.a.mark(function _callee2() {\n        return __WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator___default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                _context2.next = 3;\n                return _this2.$store.dispatch(_this2.fetchMoreAction, {\n                  ctx: _this2,\n                  type: _this2.flowType,\n                  sort: _this2.fetchSort,\n                  userZone: _this2.userZone,\n                  bangumiId: _this2.bangumiId\n                });\n\n              case 3:\n                _context2.next = 8;\n                break;\n\n              case 5:\n                _context2.prev = 5;\n                _context2.t0 = _context2[\"catch\"](0);\n\n                _this2.$toast.error(_context2.t0);\n\n              case 8:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[0, 5]]);\n      }))();\n    }\n\n  },\n\n  mounted() {\n    if (this.fetchEvent && !this.source.list.length) {\n      this.$channel.$on(this.fetchEvent, () => {\n        this.initData();\n        this.$channel.$off(this.fetchEvent);\n      });\n    }\n  }\n\n});\n\n/***/ })\n\n};;",
    "13.server-bundle.js": "exports.ids = [13];\nexports.modules = {\n\n/***/ 116:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 123:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./node_modules/element-ui/lib/theme-chalk/rate.css\nvar rate = __webpack_require__(116);\nvar rate_default = /*#__PURE__*/__webpack_require__.n(rate);\n\n// EXTERNAL MODULE: ./node_modules/element-ui/lib/theme-chalk/base.css\nvar base = __webpack_require__(11);\nvar base_default = /*#__PURE__*/__webpack_require__.n(base);\n\n// EXTERNAL MODULE: external \"element-ui/lib/rate\"\nvar rate_ = __webpack_require__(85);\nvar rate__default = /*#__PURE__*/__webpack_require__.n(rate_);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/flow/item/ScoreFlowItem.vue\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var ScoreFlowItem = ({\n  name: \"ScoreFlowItem\",\n  components: {\n    \"el-rate\": rate__default.a\n  },\n  props: {\n    item: {\n      required: true,\n      type: Object\n    },\n    bangumiId: {\n      required: true,\n      type: Number\n    },\n    userZone: {\n      required: true,\n      type: String\n    }\n  },\n\n  data() {\n    return {\n      zero: 0\n    };\n  },\n\n  computed: {\n    pageName() {\n      return this.$route.name;\n    },\n\n    starCount() {\n      return this.item.total / 2;\n    }\n\n  },\n  methods: {\n    linkStart() {\n      this.$router.push(this.$alias.score(this.item.id));\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2f813ab8\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/flow/item/ScoreFlowItem.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"score-flow-item\"},[_vm._ssrNode(\"<div>\",\"</div>\",[(_vm.item.bangumi && _vm.item.user)?_vm._ssrNode(\"<div class=\\\"header trending-header\\\">\",\"</div>\",[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.item.user.zone)))+\" class=\\\"user-avatar\\\">\",\"</a>\",[_c('v-img',{attrs:{\"src\":_vm.item.user.avatar,\"avatar\":true,\"size\":\"35\"}})],1),_vm._ssrNode(\"<div class=\\\"header-content\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"about\\\">\",\"</div>\",[(_vm.starCount)?_c('el-rate',{attrs:{\"disabled\":\"\"},model:{value:(_vm.starCount),callback:function ($$v) {_vm.starCount=$$v},expression:\"starCount\"}}):_c('el-rate',{attrs:{\"disabled\":\"\"},model:{value:(_vm.zero),callback:function ($$v) {_vm.zero=$$v},expression:\"zero\"}}),_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.bangumi(_vm.item.bangumi.id)))+\" class=\\\"bangumi-name oneline\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.bangumi.name))+\"</a>\")],2),_vm._ssrNode(\"<div class=\\\"meta\\\">\",\"</div>\",[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.item.user.zone)))+\" class=\\\"author\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.user.nickname))+\"</a>\\n           · \\n          \"),_c('v-time',{staticClass:\"created-at\",model:{value:(_vm.item.created_at),callback:function ($$v) {_vm.$set(_vm.item, \"created_at\", $$v)},expression:\"item.created_at\"}})],2)])]):(!_vm.item.bangumi)?_vm._ssrNode(\"<div class=\\\"header bangumi-header\\\">\",\"</div>\",[(_vm.starCount)?_c('el-rate',{attrs:{\"disabled\":\"\"},model:{value:(_vm.starCount),callback:function ($$v) {_vm.starCount=$$v},expression:\"starCount\"}}):_c('el-rate',{attrs:{\"disabled\":\"\"},model:{value:(_vm.zero),callback:function ($$v) {_vm.zero=$$v},expression:\"zero\"}}),_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.item.user.zone)))+\" class=\\\"user\\\">\",\"</a>\",[_vm._ssrNode(\"<div class=\\\"user-avatar\\\">\",\"</div>\",[_c('v-img',{attrs:{\"src\":_vm.item.user.avatar,\"avatar\":true,\"size\":\"35\"}})],1),_vm._ssrNode(\"<div class=\\\"nickname oneline\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.user.nickname))+\"</div>\")],2)],1):(!_vm.item.user)?_vm._ssrNode(\"<div class=\\\"header user-header\\\">\",\"</div>\",[(_vm.starCount)?_c('el-rate',{attrs:{\"disabled\":\"\"},model:{value:(_vm.starCount),callback:function ($$v) {_vm.starCount=$$v},expression:\"starCount\"}}):_c('el-rate',{attrs:{\"disabled\":\"\"},model:{value:(_vm.zero),callback:function ($$v) {_vm.zero=$$v},expression:\"zero\"}}),_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.bangumi(_vm.item.bangumi.id)))+\" class=\\\"bangumi\\\">\",\"</a>\",[_vm._ssrNode(\"<div class=\\\"bangumi-avatar\\\">\",\"</div>\",[_c('v-img',{attrs:{\"src\":_vm.item.bangumi.avatar,\"size\":\"23\"}})],1),_vm._ssrNode(\"<div class=\\\"nickname oneline\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.bangumi.name))+\"</div>\")],2)],1):_vm._e(),_vm._ssrNode(\"<div class=\\\"body\\\"><div class=\\\"title\\\"><p class=\\\"oneline\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.title))+\"</p></div><div class=\\\"content\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.intro))+\"</div></div><div class=\\\"footer\\\">\"+((_vm.item.is_creator)?(\"<span>\"+_vm._ssrEscape(\"\\n        投食\\n        \"+_vm._s(_vm.$utils.shortenNumber(_vm.item.reward_count))+\"\\n      \")+\"</span>\"):(\"<span>\"+_vm._ssrEscape(\"\\n        喜欢\\n        \"+_vm._s(_vm.$utils.shortenNumber(_vm.item.like_count))+\"\\n      \")+\"</span>\"))+\"<span>\"+_vm._ssrEscape(\"\\n        收藏\\n        \"+_vm._s(_vm.$utils.shortenNumber(_vm.item.mark_count))+\"\\n      \")+\"</span><span>\"+_vm._ssrEscape(\"\\n        评论\\n        \"+_vm._s(_vm.$utils.shortenNumber(_vm.item.comment_count))+\"\\n      \")+\"</span></div>\")],2),_vm._ssrNode(\"<div class=\\\"hr\\\"></div>\")],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var item_ScoreFlowItem = (esExports);\n// CONCATENATED MODULE: ./src/components/flow/item/ScoreFlowItem.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(124),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"0548aea9\"\nvar Component = normalizeComponent(\n  ScoreFlowItem,\n  item_ScoreFlowItem,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var flow_item_ScoreFlowItem = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 124:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(125);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"39ee3e48\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 125:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.score-flow-item{padding-top:15px;padding-left:15px;padding-right:15px}.score-flow-item .header{margin-bottom:10px}.score-flow-item .header .el-rate{display:inline-block;vertical-align:middle;height:23px;margin-left:10px;float:right}.score-flow-item .trending-header .user-avatar{margin-right:5px;float:left}.score-flow-item .trending-header .header-content,.score-flow-item .trending-header .header-content .about{overflow:hidden}.score-flow-item .trending-header .header-content .about .bangumi-name{overflow:hidden;display:block;line-height:20px;font-size:12px;vertical-align:middle;color:#333}.score-flow-item .trending-header .header-content .meta{color:#999;font-size:11px;line-height:11px;margin-top:-3px}.score-flow-item .trending-header .header-content .meta a{color:#999;font-size:11px}.score-flow-item .bangumi-header .user{display:block;overflow:hidden}.score-flow-item .bangumi-header .user .user-avatar{margin-right:5px;float:left}.score-flow-item .bangumi-header .user .nickname{overflow:hidden;display:block;line-height:23px;vertical-align:middle;color:#333;font-size:11px}.score-flow-item .user-header .bangumi{display:block;overflow:hidden}.score-flow-item .user-header .bangumi .bangumi-avatar{margin-right:5px;float:left;border-radius:4px}.score-flow-item .user-header .bangumi .nickname{overflow:hidden;display:block;line-height:23px;vertical-align:middle;color:#333;font-size:11px}.score-flow-item .body .title{margin-bottom:5px}.score-flow-item .body .title .nice_badge,.score-flow-item .body .title .top_badge{float:left;height:16px;line-height:18px;color:#fff;cursor:default;font-size:11px;font-weight:700;text-align:center;border-radius:4px;padding:0 4px;margin-right:5px}.score-flow-item .body .title .top_badge{background-color:#00a1d6}.score-flow-item .body .title .nice_badge{background-color:#f25d8e}.score-flow-item .body .title .oneline{color:#4c4c4c;font-weight:700;font-size:14px;line-height:14px;margin-top:0;margin-bottom:0}.score-flow-item .body .content{color:#333;font-size:14px;margin-top:0;margin-bottom:8px;line-height:18px;max-height:36px;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.score-flow-item .footer{height:35px;line-height:30px;width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:distribute;justify-content:space-around;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding-bottom:5px}.score-flow-item .footer span{font-size:12px;color:#666}.score-flow-item .footer .done{color:#00a1d6}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 143:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./src/components/flow/list/_flowListMixin.js\nvar _flowListMixin = __webpack_require__(99);\n\n// EXTERNAL MODULE: ./src/components/flow/item/ScoreFlowItem.vue + 2 modules\nvar ScoreFlowItem = __webpack_require__(123);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/flow/list/ScoreFlowList.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var ScoreFlowList = ({\n  name: \"ScoreFlowList\",\n  components: {\n    ScoreFlowItem: ScoreFlowItem[\"a\" /* default */]\n  },\n  mixins: [_flowListMixin[\"a\" /* default */]],\n\n  data() {\n    return {\n      flowType: \"score\"\n    };\n  }\n\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-daf240ba\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/flow/list/ScoreFlowList.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.source)?_c('div',{attrs:{\"id\":\"score-flow-list\"}},[_vm._ssrNode(\"<ul>\",\"</ul>\",_vm._l((_vm.source.list),function(item){return _c('score-flow-item',{key:item.id,attrs:{\"item\":item,\"bangumi-id\":_vm.bangumiId,\"user-zone\":_vm.userZone}})})),_c('more-btn',{attrs:{\"no-more\":_vm.source.noMore,\"loading\":_vm.source.loading,\"length\":_vm.source.list.length,\"auto\":true},on:{\"fetch\":_vm.loadMore}},[(_vm.showNoContentTips)?[(_vm.bangumiId)?_c('a',{attrs:{\"href\":((_vm.$alias.createScore) + \"?bid=\" + _vm.bangumiId)}},[_c('button',[_vm._v(\"\\n          \"+_vm._s('写下《' + _vm.bangumiName + '》的第一篇漫评')+\"\\n        \")])]):_c('a',{attrs:{\"href\":_vm.$alias.createScore}},[_c('button',[_vm._v(\"写漫评\")])])]:_vm._e()],2)],1):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var list_ScoreFlowList = (esExports);\n// CONCATENATED MODULE: ./src/components/flow/list/ScoreFlowList.vue\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"62cf2f7f\"\nvar Component = normalizeComponent(\n  ScoreFlowList,\n  list_ScoreFlowList,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var flow_list_ScoreFlowList = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 234:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(235);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"279a07b0\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 235:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}#bangumi-score .bangumi-score-wrap .ve-radar{margin:0 auto}#bangumi-score .bangumi-score-total{margin-top:15px;margin-bottom:10px}#bangumi-score .bangumi-score-total .intro{float:right;text-align:center}#bangumi-score .bangumi-score-total .intro .total{font-size:28px;line-height:56px}#bangumi-score .bangumi-score-total .intro .rate span{font-size:12px;color:#6d757a}#bangumi-score .bangumi-score-total .ladder{overflow:hidden}#bangumi-score .bangumi-score-total .ladder .label,#bangumi-score .bangumi-score-total .ladder .percent{margin-right:10px;font-size:13px;line-height:14px;color:#6d757a;vertical-align:middle}#bangumi-score .bangumi-score-total .ladder .score{display:inline-block;height:10px;background-color:#f7ba2a;margin-right:5px;border-radius:3px;vertical-align:middle}#bangumi-score .first-write{margin-left:-15px;margin-right:-15px}#bangumi-score .first-write a{display:inline-block;margin-top:15px;position:relative;padding:4px 10px;font-size:14px;color:#333;background-color:transparent;border-radius:8px;white-space:nowrap}#bangumi-score .first-write a:after{content:\\\"\\\";position:absolute;top:0;left:0;border:1px solid #333;width:200%;height:200%;-webkit-transform:scale(.5);-ms-transform:scale(.5);transform:scale(.5);-webkit-transform-origin:left top;-ms-transform-origin:left top;transform-origin:left top;border-radius:8px}#bangumi-score .score-list-header{margin-top:30px}#bangumi-score .score-list-header .sub-title a{float:right}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 318:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./node_modules/element-ui/lib/theme-chalk/rate.css\nvar rate = __webpack_require__(116);\nvar rate_default = /*#__PURE__*/__webpack_require__.n(rate);\n\n// EXTERNAL MODULE: ./node_modules/element-ui/lib/theme-chalk/base.css\nvar base = __webpack_require__(11);\nvar base_default = /*#__PURE__*/__webpack_require__.n(base);\n\n// EXTERNAL MODULE: external \"element-ui/lib/rate\"\nvar rate_ = __webpack_require__(85);\nvar rate__default = /*#__PURE__*/__webpack_require__.n(rate_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/regenerator\"\nvar regenerator_ = __webpack_require__(0);\nvar regenerator__default = /*#__PURE__*/__webpack_require__.n(regenerator_);\n\n// EXTERNAL MODULE: external \"core-js/modules/es6.promise\"\nvar es6_promise_ = __webpack_require__(21);\nvar es6_promise__default = /*#__PURE__*/__webpack_require__.n(es6_promise_);\n\n// EXTERNAL MODULE: external \"core-js/modules/web.dom.iterable\"\nvar web_dom_iterable_ = __webpack_require__(3);\nvar web_dom_iterable__default = /*#__PURE__*/__webpack_require__.n(web_dom_iterable_);\n\n// EXTERNAL MODULE: external \"regenerator-runtime/runtime\"\nvar runtime_ = __webpack_require__(1);\nvar runtime__default = /*#__PURE__*/__webpack_require__.n(runtime_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/asyncToGenerator\"\nvar asyncToGenerator_ = __webpack_require__(2);\nvar asyncToGenerator__default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator_);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/bangumi/charts/BangumiScoreChart.vue\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var BangumiScoreChart = ({\n  components: {\n    VeRadar: () => {\n      if (typeof window === \"undefined\") {\n        return __webpack_require__.e/* import() */(47/* duplicate */).then(__webpack_require__.bind(null, 304));\n      }\n\n      return new Promise(function(resolve) { resolve(); }).then(__webpack_require__.bind(null, 319));\n    }\n  },\n  props: {\n    source: {\n      type: Object,\n      required: true\n    },\n    loading: {\n      type: Boolean,\n      default: false\n    },\n    size: {\n      type: String,\n      default: \"400px\"\n    }\n  },\n\n  data() {\n    var labelMap = {\n      total: \"总分\",\n      lol: \"笑点\",\n      cry: \"泪点\",\n      fight: \"燃点\",\n      moe: \"萌点\",\n      sound: \"音乐\",\n      vision: \"画面\",\n      story: \"情节\",\n      role: \"人设\",\n      express: \"内涵\",\n      style: \"美感\"\n    };\n    var dimension = \"total\";\n    var columns = Object.keys(labelMap);\n    var metrics = columns.filter(_ => _ !== dimension);\n    var indicator = metrics.map(_ => {\n      return {\n        name: labelMap[_],\n        max: 10\n      };\n    });\n    return {\n      chartExtend: {\n        radar: {\n          indicator,\n          shape: \"polygon\",\n          splitArea: {\n            show: false\n          },\n          axisLine: {\n            show: true,\n            lineStyle: {\n              color: \"##ccd0d7\",\n              type: \"dotted\"\n            }\n          },\n          splitLine: {\n            show: true,\n            lineStyle: {\n              color: \"#ccd0d7\",\n              type: \"dotted\"\n            }\n          },\n          silent: false,\n          splitNumber: 10\n        },\n        series: {\n          areaStyle: {\n            normal: {}\n          },\n          label: {\n            normal: {\n              show: true\n            }\n          }\n        }\n      },\n      chartSettings: {\n        labelMap,\n        dimension,\n        metrics\n      },\n      chartData: {\n        columns,\n        rows: [this.source]\n      }\n    };\n  }\n\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-25346d62\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/bangumi/charts/BangumiScoreChart.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('no-ssr',{style:({ height: _vm.size })},[_c('ve-radar',{attrs:{\"data\":_vm.chartData,\"setting\":_vm.chartSettings,\"extend\":_vm.chartExtend,\"loading\":_vm.loading,\"width\":_vm.size,\"height\":_vm.size,\"legend-visible\":false,\"tooltip-visible\":false,\"resizeable\":false}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var charts_BangumiScoreChart = (esExports);\n// CONCATENATED MODULE: ./src/components/bangumi/charts/BangumiScoreChart.vue\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"4e8ea3e0\"\nvar Component = normalizeComponent(\n  BangumiScoreChart,\n  charts_BangumiScoreChart,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var bangumi_charts_BangumiScoreChart = (Component.exports);\n\n// EXTERNAL MODULE: ./src/components/flow/list/ScoreFlowList.vue + 2 modules\nvar ScoreFlowList = __webpack_require__(143);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/bangumi/show/score.vue\n\n\n\n\n\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var score = ({\n  name: \"BangumiScore\",\n\n  asyncData(_ref) {\n    return asyncToGenerator__default()(\n    /*#__PURE__*/\n    regenerator__default.a.mark(function _callee() {\n      var store, route, ctx, id;\n      return regenerator__default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              store = _ref.store, route = _ref.route, ctx = _ref.ctx;\n              id = route.params.id;\n              _context.next = 4;\n              return Promise.all([store.dispatch(\"bangumi/getBangumiScore\", {\n                ctx,\n                id\n              }), store.dispatch(\"flow/initData\", {\n                type: \"score\",\n                sort: \"active\",\n                bangumiId: id,\n                ctx\n              })]);\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }))();\n  },\n\n  components: {\n    BangumiScoreChart: bangumi_charts_BangumiScoreChart,\n    ScoreFlowList: ScoreFlowList[\"a\" /* default */],\n    \"el-rate\": rate__default.a\n  },\n  computed: {\n    info() {\n      return this.$store.state.bangumi.info;\n    },\n\n    bangumiScore() {\n      return this.$store.state.bangumi.score;\n    },\n\n    totalRate() {\n      return this.bangumiScore ? this.bangumiScore.total / 20 : 0;\n    },\n\n    totalScore() {\n      return this.bangumiScore ? this.bangumiScore.total / 10 : 0;\n    },\n\n    scores() {\n      return this.$store.state.flow.score.active;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-e3b818a4\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/bangumi/show/score.vue\nvar score_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"bangumi-score\"}},[(_vm.bangumiScore)?_vm._ssrNode(\"<div class=\\\"container\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"bangumi-score-total\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"intro\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"total\\\">\"+_vm._ssrEscape(_vm._s(_vm.totalScore))+\"</div>\"),_vm._ssrNode(\"<div class=\\\"rate\\\">\",\"</div>\",[_c('el-rate',{attrs:{\"disabled\":\"\"},model:{value:(_vm.totalRate),callback:function ($$v) {_vm.totalRate=$$v},expression:\"totalRate\"}}),_vm._ssrNode(\"<span class=\\\"count\\\">\"+_vm._ssrEscape(_vm._s(_vm.bangumiScore.count)+\"人评价\")+\"</span>\")],2)],2),_vm._ssrNode(\"<div class=\\\"ladder\\\">\"+(_vm._ssrList((_vm.bangumiScore.ladder),function(star,index){return (\"<div class=\\\"star\\\"><span class=\\\"label\\\">\"+_vm._ssrEscape(_vm._s(star.key)+\"星\")+\"</span><div class=\\\"score\\\"\"+(_vm._ssrStyle(null,{ width: ((90 * star.val / _vm.bangumiScore.count) + \"px\") }, null))+\"></div><span class=\\\"percent\\\">\"+_vm._ssrEscape(_vm._s(((star.val / _vm.bangumiScore.count * 100) + \"%\")))+\"</span></div>\")}))+\"</div>\")],2),_vm._ssrNode(\"<div class=\\\"bangumi-score-wrap\\\">\",\"</div>\",[_c('bangumi-score-chart',{attrs:{\"source\":_vm.bangumiScore.radar,\"size\":\"280px\"}})],1)]):_vm._e(),_vm._ssrNode(((_vm.scores && _vm.scores.total)?(\"<div class=\\\"score-list-header\\\"><h3 class=\\\"sub-title container\\\">\"+_vm._ssrEscape(\"\\n      共 \"+_vm._s(_vm.scores.total)+\" 条漫评\\n      \")+\"<a\"+(_vm._ssrAttr(\"href\",((_vm.$alias.createScore) + \"?bid=\" + (_vm.info.id))))+\">\\n        写漫评\\n      </a></h3></div>\"):\"<!---->\")),(_vm.info)?_c('score-flow-list',{attrs:{\"bangumi-id\":_vm.info.id,\"bangumi-name\":_vm.info.name}}):_vm._e()],2)}\nvar score_staticRenderFns = []\nvar score_esExports = { render: score_render, staticRenderFns: score_staticRenderFns }\n/* harmony default export */ var show_score = (score_esExports);\n// CONCATENATED MODULE: ./src/views/bangumi/show/score.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(234),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar score_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar score___vue_template_functional__ = false\n/* styles */\nvar score___vue_styles__ = injectStyle\n/* scopeId */\nvar score___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar score___vue_module_identifier__ = \"3c9c9921\"\nvar score_Component = score_normalizeComponent(\n  score,\n  show_score,\n  score___vue_template_functional__,\n  score___vue_styles__,\n  score___vue_scopeId__,\n  score___vue_module_identifier__\n)\n\n/* harmony default export */ var bangumi_show_score = __webpack_exports__[\"default\"] = (score_Component.exports);\n\n\n/***/ }),\n\n/***/ 99:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_regenerator_runtime_runtime__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_regenerator_runtime_runtime___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_regenerator_runtime_runtime__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_asyncToGenerator__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_asyncToGenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_asyncToGenerator__);\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  props: {\n    bangumiId: {\n      type: Number,\n      default: 0\n    },\n    userZone: {\n      type: String,\n      default: \"\"\n    },\n    bangumiName: {\n      type: String,\n      default: \"\"\n    }\n  },\n  computed: {\n    fetchMoreAction() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow/getData\";\n      }\n\n      return \"world/getData\";\n    },\n\n    fetchInitAction() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow/initData\";\n      }\n\n      return \"world/initData\";\n    },\n\n    fetchStore() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow\";\n      }\n\n      return \"world\";\n    },\n\n    fetchSort() {\n      if (this.userZone) {\n        return \"news\";\n      }\n\n      if (this.flowType === \"role\") {\n        return \"hot\";\n      }\n\n      return \"active\";\n    },\n\n    fetchEvent() {\n      if (this.bangumiId) {\n        return `bangumi-tab-switch-${this.flowType}`;\n      }\n\n      if (this.userZone) {\n        return `user-tab-switch-${this.flowType}`;\n      }\n\n      return \"\";\n    },\n\n    source() {\n      return this.$store.state[this.fetchStore][this.flowType][this.fetchSort];\n    },\n\n    showNoContentTips() {\n      return this.bangumiId || this.isMe;\n    },\n\n    isMe() {\n      return this.$store.state.login ? this.$store.state.user.zone === this.userZone : false;\n    }\n\n  },\n  methods: {\n    initData() {\n      var _this = this;\n\n      return __WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_asyncToGenerator___default()(\n      /*#__PURE__*/\n      __WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator___default.a.mark(function _callee() {\n        return __WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator___default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return _this.$store.dispatch(_this.fetchInitAction, {\n                  ctx: _this,\n                  type: _this.flowType,\n                  sort: _this.fetchSort,\n                  userZone: _this.userZone,\n                  bangumiId: _this.bangumiId\n                });\n\n              case 3:\n                _context.next = 8;\n                break;\n\n              case 5:\n                _context.prev = 5;\n                _context.t0 = _context[\"catch\"](0);\n\n                _this.$toast.error(_context.t0);\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 5]]);\n      }))();\n    },\n\n    loadMore() {\n      var _this2 = this;\n\n      return __WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_asyncToGenerator___default()(\n      /*#__PURE__*/\n      __WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator___default.a.mark(function _callee2() {\n        return __WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator___default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                _context2.next = 3;\n                return _this2.$store.dispatch(_this2.fetchMoreAction, {\n                  ctx: _this2,\n                  type: _this2.flowType,\n                  sort: _this2.fetchSort,\n                  userZone: _this2.userZone,\n                  bangumiId: _this2.bangumiId\n                });\n\n              case 3:\n                _context2.next = 8;\n                break;\n\n              case 5:\n                _context2.prev = 5;\n                _context2.t0 = _context2[\"catch\"](0);\n\n                _this2.$toast.error(_context2.t0);\n\n              case 8:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[0, 5]]);\n      }))();\n    }\n\n  },\n\n  mounted() {\n    if (this.fetchEvent && !this.source.list.length) {\n      this.$channel.$on(this.fetchEvent, () => {\n        this.initData();\n        this.$channel.$off(this.fetchEvent);\n      });\n    }\n  }\n\n});\n\n/***/ })\n\n};;",
    "14.server-bundle.js": "exports.ids = [14];\nexports.modules = {\n\n/***/ 129:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/jsonEditor/parser/TxtParser.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var TxtParser = ({\n  name: \"JsonContentTxtParser\",\n  props: {\n    item: {\n      type: Object,\n      required: true\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-41cbc7b4\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/jsonEditor/parser/TxtParser.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',{staticClass:\"json-content-txt-parser\",domProps:{\"innerHTML\":_vm._s(_vm.item.text)}},[])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var parser_TxtParser = (esExports);\n// CONCATENATED MODULE: ./src/components/jsonEditor/parser/TxtParser.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(130),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"2dd15a2a\"\nvar Component = normalizeComponent(\n  TxtParser,\n  parser_TxtParser,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var jsonEditor_parser_TxtParser = (Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/jsonEditor/parser/ImgParser.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var ImgParser = ({\n  name: \"JsonContentImgParser\",\n  props: {\n    item: {\n      type: Object,\n      required: true\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-b8da67b0\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/jsonEditor/parser/ImgParser.vue\nvar ImgParser_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"json-content-img-parser\"},[_c('v-img',{attrs:{\"src\":_vm.item.url,\"width\":_vm.item.width,\"height\":_vm.item.height,\"full\":true}}),_vm._ssrNode(((_vm.item.text)?(\"<p class=\\\"img-tip\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.text))+\"</p>\"):\"<!---->\"))],2)}\nvar ImgParser_staticRenderFns = []\nvar ImgParser_esExports = { render: ImgParser_render, staticRenderFns: ImgParser_staticRenderFns }\n/* harmony default export */ var parser_ImgParser = (ImgParser_esExports);\n// CONCATENATED MODULE: ./src/components/jsonEditor/parser/ImgParser.vue\nfunction ImgParser_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(132),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar ImgParser_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar ImgParser___vue_template_functional__ = false\n/* styles */\nvar ImgParser___vue_styles__ = ImgParser_injectStyle\n/* scopeId */\nvar ImgParser___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar ImgParser___vue_module_identifier__ = \"09f0e3bd\"\nvar ImgParser_Component = ImgParser_normalizeComponent(\n  ImgParser,\n  parser_ImgParser,\n  ImgParser___vue_template_functional__,\n  ImgParser___vue_styles__,\n  ImgParser___vue_scopeId__,\n  ImgParser___vue_module_identifier__\n)\n\n/* harmony default export */ var jsonEditor_parser_ImgParser = (ImgParser_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/jsonEditor/JsonContent.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var JsonContent = ({\n  name: \"JsonContent\",\n  components: {\n    TxtParser: jsonEditor_parser_TxtParser,\n    ImgParser: jsonEditor_parser_ImgParser\n  },\n  props: {\n    content: {\n      required: true,\n      type: Array\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5f646859\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/jsonEditor/JsonContent.vue\nvar JsonContent_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"json-content\"},_vm._l((_vm.content),function(item,index){return _c(((item.type) + \"-parser\"),{key:index,tag:\"component\",attrs:{\"item\":item}})}))}\nvar JsonContent_staticRenderFns = []\nvar JsonContent_esExports = { render: JsonContent_render, staticRenderFns: JsonContent_staticRenderFns }\n/* harmony default export */ var jsonEditor_JsonContent = (JsonContent_esExports);\n// CONCATENATED MODULE: ./src/components/jsonEditor/JsonContent.vue\nvar JsonContent_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar JsonContent___vue_template_functional__ = false\n/* styles */\nvar JsonContent___vue_styles__ = null\n/* scopeId */\nvar JsonContent___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar JsonContent___vue_module_identifier__ = \"17cce616\"\nvar JsonContent_Component = JsonContent_normalizeComponent(\n  JsonContent,\n  jsonEditor_JsonContent,\n  JsonContent___vue_template_functional__,\n  JsonContent___vue_styles__,\n  JsonContent___vue_scopeId__,\n  JsonContent___vue_module_identifier__\n)\n\n/* harmony default export */ var components_jsonEditor_JsonContent = __webpack_exports__[\"a\"] = (JsonContent_Component.exports);\n\n\n/***/ }),\n\n/***/ 130:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(131);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"14343790\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 131:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".json-content-txt-parser{word-break:break-word!important;word-break:break-all}@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.json-content-txt-parser{margin-bottom:25px;margin-left:15px;margin-right:15px;font-size:16px;font-weight:400;line-height:1.7;color:#2f2f2f}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 132:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(133);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"74f17a30\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 133:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".json-content-img-parser .img-tip{word-break:break-word!important;word-break:break-all}@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.json-content-img-parser{margin-bottom:25px;text-align:center}.json-content-img-parser .img-tip{min-width:20%;max-width:80%;min-height:22px;padding:10px 10px 6px;border-bottom:1px solid #d9d9d9;font-size:14px;color:#969696;line-height:1.7;text-align:center;display:inline-block}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 290:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(291);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"17f5332a\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 291:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}#layout-write{height:100%;width:100%;overflow-x:hidden}#layout-write>header{position:fixed;left:0;top:0;width:100%;height:48px;padding:12px 10px;background-color:#fff;border-bottom:1px solid rgba(0,0,0,.08);font-size:12px;z-index:10}#layout-write>header .logo{width:24px;height:24px;margin-right:8px;margin-left:5px;vertical-align:middle}#layout-write>header .slogan{display:inline-block;vertical-align:middle}#layout-write>header .slogan p{line-height:20px}#layout-write>header button{float:right;margin-left:15px;line-height:24px}#layout-write .calibur{float:left;margin-left:2px}#layout-write .main-view{height:100%;padding:60px 15px 15px}#layout-write .not-login{text-align:center;margin-top:30vh;font-size:14px}#layout-write .not-login button{margin-top:15px;position:relative;padding:4px 10px;font-size:14px;color:#333;background-color:transparent;border-radius:8px;white-space:nowrap}#layout-write .not-login button:after{content:\\\"\\\";position:absolute;top:0;left:0;border:1px solid #333;width:200%;height:200%;-webkit-transform:scale(.5);-ms-transform:scale(.5);transform:scale(.5);-webkit-transform-origin:left top;-ms-transform-origin:left top;transform-origin:left top;border-radius:8px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 347:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: external \"@babel/runtime/regenerator\"\nvar regenerator_ = __webpack_require__(0);\nvar regenerator__default = /*#__PURE__*/__webpack_require__.n(regenerator_);\n\n// EXTERNAL MODULE: external \"regenerator-runtime/runtime\"\nvar runtime_ = __webpack_require__(1);\nvar runtime__default = /*#__PURE__*/__webpack_require__.n(runtime_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/asyncToGenerator\"\nvar asyncToGenerator_ = __webpack_require__(2);\nvar asyncToGenerator__default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator_);\n\n// EXTERNAL MODULE: ./src/components/jsonEditor/JsonContent.vue + 8 modules\nvar JsonContent = __webpack_require__(129);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/layouts/write.vue\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var write = ({\n  name: \"WriteLayout\",\n  components: {\n    JsonContent: JsonContent[\"a\" /* default */]\n  },\n\n  data() {\n    return {\n      submitting: false,\n      preview: false\n    };\n  },\n\n  computed: {\n    id() {\n      return this.$route.params.id;\n    },\n\n    user() {\n      return this.$store.state.user;\n    },\n\n    sections() {\n      return this.$store.state.editor.sections;\n    },\n\n    published() {\n      return this.$store.state.editor.resource ? !!this.$store.state.editor.resource.published_at : false;\n    }\n\n  },\n\n  mounted() {\n    this.$channel.$on(\"write-submit\", result => {\n      this.submitting = result;\n    });\n  },\n\n  methods: {\n    emitPublish() {\n      this.$channel.$emit(\"write-publish\");\n    },\n\n    emitSave() {\n      this.$channel.$emit(\"write-save\");\n    },\n\n    emitPreview() {\n      this.preview = true;\n    },\n\n    emitDestroy() {\n      this.$channel.$emit(\"write-destroy\");\n    },\n\n    goHome() {\n      var _this = this;\n\n      this.$confirm(\"要离开写作界面吗?\").then(\n      /*#__PURE__*/\n      asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee() {\n        return regenerator__default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                window.location = _this.$alias.user(_this.user.zone);\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }))).catch(() => {});\n    },\n\n    goIndex() {\n      this.$confirm(\"要离开写作界面吗?\").then(\n      /*#__PURE__*/\n      asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee2() {\n        return regenerator__default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                window.location = \"/\";\n\n              case 1:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }))).catch(() => {});\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-b0fa5bb0\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/layouts/write.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"layout-write\"}},[_vm._ssrNode(\"<header>\",\"</header>\",[_vm._ssrNode(\"<button class=\\\"calibur\\\"><img\"+(_vm._ssrAttr(\"src\",_vm.$resize('https://image.calibur.tv/owner/logo-new/logo.png', { width: 50 })))+\" alt=\\\"logo\\\" class=\\\"logo\\\"><span class=\\\"slogan\\\">calibur.tv</span></button>\"),(_vm.user)?[_vm._ssrNode(\"<button class=\\\"avatar\\\">\",\"</button>\",[_c('v-img',{attrs:{\"src\":_vm.user.avatar,\"avatar\":true,\"size\":\"24\"}})],1),_vm._ssrNode(\"<button class=\\\"primary\\\">发布</button>\"+((!_vm.published)?(\"<button class=\\\"warning\\\">保存</button>\"):\"<!---->\")+\"<button class=\\\"success\\\">预览</button>\"+((_vm.id)?(\"<button class=\\\"danger\\\">删除</button>\"):\"<!---->\"))]:_vm._e()],2),(_vm.user)?[_c('router-view',{staticClass:\"main-view\"}),_c('v-drawer',{staticClass:\"preview-drawer\",attrs:{\"footer\":false,\"header-text\":\"预览\",\"submit-text\":\"确认\",\"from\":\"bottom\",\"size\":\"100%\"},model:{value:(_vm.preview),callback:function ($$v) {_vm.preview=$$v},expression:\"preview\"}},[(_vm.preview)?_c('json-content',{attrs:{\"content\":_vm.sections}}):_vm._e()],1)]:_vm._ssrNode((\"<div class=\\\"main-view not-login\\\"><p>继续操作前请先登录，(๑•̀ㅂ•́)و✧！</p><button round>\\n      点击登录\\n    </button></div>\"))],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var layouts_write = (esExports);\n// CONCATENATED MODULE: ./src/layouts/write.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(290),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"c94a42c2\"\nvar Component = normalizeComponent(\n  write,\n  layouts_write,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var src_layouts_write = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n};;",
    "15.server-bundle.js": "exports.ids = [15];\nexports.modules = {\n\n/***/ 253:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(254);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"f94290f8\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 254:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}#user-setting .form-item{padding-top:15px;padding-bottom:15px;background-color:#fff}#user-setting .form-item .sub-title{margin-left:15px}#user-setting .form-item .input-item{position:relative;height:48px}#user-setting .form-item .input-item:after{content:\\\"\\\";position:absolute;left:0;right:0;bottom:0;height:1px;background-color:#f0f0f0;-webkit-transform:scaleY(.5);-ms-transform:scaleY(.5);transform:scaleY(.5);margin-left:-15px;margin-right:-15px}#user-setting .form-item .input-item input{display:block;overflow:hidden;height:100%;padding-left:60px}#user-setting .form-item .label{text-align:left;position:absolute;left:0;top:0;height:100%;width:60px;font-size:16px;line-height:48px}#user-setting .form-item .other-form-wrap{position:relative}#user-setting .form-item .other-form-wrap .mint-radiolist{padding-left:48px}#user-setting .form-item .other-form-wrap .mint-radiolist-title{display:none}#user-setting .form-item #signature{min-height:120px;padding-left:60px;line-height:26px;padding-top:12px}#user-setting .banner-setting{width:100%;position:relative;overflow:hidden;z-index:0;height:120px;text-align:center;background-size:cover;background-repeat:no-repeat;background-position:50%;text-shadow:0 1px 10px gray;margin-bottom:-15px}#user-setting .banner-setting .file-input{margin-top:60px;margin-left:10px;margin-right:10px}#user-setting .banner-setting .cancel-btn{position:absolute;right:100px;bottom:10px}#user-setting .banner-setting .submit-btn{position:absolute;right:15px;bottom:10px}#user-setting .avatar-setting .avatar{position:relative;vertical-align:middle;display:inline-block;margin-right:20px;border-radius:50%;width:80px;height:80px;background-repeat:no-repeat;background-position:50%;background-size:cover}#user-setting .avatar-setting .avatar:after{content:\\\"\\\";position:absolute;top:0;left:0;border:1px solid #ccd0d7;width:200%;height:200%;-webkit-transform:scale(.5);-ms-transform:scale(.5);transform:scale(.5);-webkit-transform-origin:left top;-ms-transform-origin:left top;transform-origin:left top;border-radius:50%}#user-setting .avatar-setting .submit-btn{position:absolute;top:380px;left:50%;width:200px;margin-left:-100px}#user-setting .avatar-setting .image-cropper-wrap{width:300px;margin:0 auto}#user-setting .change-image-btn{display:inline-block;position:relative;padding:4px 10px;font-size:14px;color:#00a1d6;background-color:transparent;border-radius:8px;white-space:nowrap}#user-setting .change-image-btn:after{content:\\\"\\\";position:absolute;top:0;left:0;border:1px solid #00a1d6;width:200%;height:200%;-webkit-transform:scale(.5);-ms-transform:scale(.5);transform:scale(.5);-webkit-transform-origin:left top;-ms-transform-origin:left top;transform-origin:left top;border-radius:8px}#user-setting .submit-banner-btn{display:inline-block;position:relative;padding:4px 10px;font-size:14px;color:#fff;background-color:transparent;border-radius:8px;white-space:nowrap}#user-setting .submit-banner-btn:after{content:\\\"\\\";position:absolute;top:0;left:0;border:1px solid #fff;width:200%;height:200%;-webkit-transform:scale(.5);-ms-transform:scale(.5);transform:scale(.5);-webkit-transform-origin:left top;-ms-transform-origin:left top;transform-origin:left top;border-radius:8px}#user-setting .btn-submit{margin-top:20px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 255:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(256);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"2415f616\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 256:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.image-cropper-wrap{width:100%;height:100%}.image-cropper-wrap .croppa-container{background-color:transparent;width:100%;height:100%}.image-cropper-wrap .croppa-container canvas{-webkit-transition:none;-o-transition:none;transition:none}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 257:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 258:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(259);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"08c4a9ca\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 259:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.user-setting-form .tips{background-color:#f4f4f5;color:#909399;margin-bottom:20px;padding:8px 16px;border-radius:4px}.user-setting-form .tips p{font-size:12px;line-height:18px;margin-bottom:5px;margin-top:5px}.user-setting-form .bottom-line input,.user-setting-form .bottom-line textarea{border-top:none;border-left:none;border-right:none;padding-left:0}.user-setting-form .bottom-line textarea{margin-top:5px}.user-setting-form .select-btn{height:40px;overflow:hidden}.user-setting-form .select-btn button{width:100%;color:#606266;text-align:left}.user-setting-form .state-wrap{float:right;margin-top:4px}.user-setting-form .state-wrap .state-label{float:left;line-height:32px;margin-right:10px;color:#606266}.user-setting-form .state-wrap .mint-switch{overflow:hidden}.user-setting-form .submit-btn{width:100%;margin-bottom:10px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 332:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: external \"@babel/runtime/regenerator\"\nvar regenerator_ = __webpack_require__(0);\nvar regenerator__default = /*#__PURE__*/__webpack_require__.n(regenerator_);\n\n// EXTERNAL MODULE: external \"regenerator-runtime/runtime\"\nvar runtime_ = __webpack_require__(1);\nvar runtime__default = /*#__PURE__*/__webpack_require__.n(runtime_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/asyncToGenerator\"\nvar asyncToGenerator_ = __webpack_require__(2);\nvar asyncToGenerator__default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator_);\n\n// EXTERNAL MODULE: ./src/api/userApi.js\nvar api_userApi = __webpack_require__(12);\n\n// EXTERNAL MODULE: ./src/api/imageApi.js\nvar api_imageApi = __webpack_require__(16);\n\n// EXTERNAL MODULE: external \"vue-croppa\"\nvar external__vue_croppa_ = __webpack_require__(94);\nvar external__vue_croppa__default = /*#__PURE__*/__webpack_require__.n(external__vue_croppa_);\n\n// EXTERNAL MODULE: ./node_modules/vue-croppa/dist/vue-croppa.css\nvar vue_croppa = __webpack_require__(257);\nvar vue_croppa_default = /*#__PURE__*/__webpack_require__.n(vue_croppa);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/common/ImageCropper.vue\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var ImageCropper = ({\n  name: \"ImageCropper\",\n  components: {\n    croppa: external__vue_croppa__default.a.component\n  },\n  props: {\n    width: {\n      type: Number,\n      default: 200\n    },\n    height: {\n      type: Number,\n      default: 200\n    },\n    autoSize: {\n      type: Boolean,\n      default: false\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    sizeLimit: {\n      type: Number,\n      default: 0\n    },\n    initImage: {\n      type: String,\n      default: \"\"\n    },\n    type: {\n      type: String,\n      default: \"normal\",\n      validator: val => ~[\"avatar\", \"normal\"].indexOf(val)\n    },\n    uploading: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  data() {\n    return {\n      croppa: {}\n    };\n  },\n\n  methods: {\n    onInit() {\n      if (this.type === \"avatar\") {\n        this.croppa.addClipPlugin(function (ctx, x, y, w, h) {\n          ctx.beginPath();\n          ctx.arc(x + w / 2, y + h / 2, w / 2, 0, 2 * Math.PI, true);\n          ctx.closePath();\n        });\n      }\n    },\n\n    generateImage() {\n      var _this = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee() {\n        var blob, formData;\n        return regenerator__default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return _this.croppa.promisedBlob();\n\n              case 2:\n                blob = _context.sent;\n                formData = new FormData();\n                formData.append(\"file\", blob);\n\n                _this.$emit(\"submit\", formData);\n\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }))();\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5788c16f\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/ImageCropper.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"image-cropper-wrap\"},[_c('croppa',{attrs:{\"width\":_vm.width,\"height\":_vm.height,\"auto-sizing\":_vm.autoSize,\"show-remove-button\":false,\"prevent-white-space\":true,\"disabled\":_vm.disabled || _vm.uploading,\"file-size-limit\":_vm.sizeLimit,\"zoom-speed\":_vm.type === 'avatar' ? 6 : 2,\"initial-image\":_vm.initImage,\"accept\":\"image/png, image/jpeg, image/jpg, image/x-png, image/gif\",\"canvas-color\":\"rgba(0, 0, 0, .05)\"},on:{\"init\":_vm.onInit},model:{value:(_vm.croppa),callback:function ($$v) {_vm.croppa=$$v},expression:\"croppa\"}}),_vm._ssrNode(\"<div class=\\\"tools\\\"></div>\"),_c('el-button',{staticClass:\"submit-btn\",attrs:{\"loading\":_vm.uploading,\"type\":\"warning\",\"size\":\"mini\",\"round\":\"\"},on:{\"click\":_vm.generateImage}},[_vm._v(\"确认\")])],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var common_ImageCropper = (esExports);\n// CONCATENATED MODULE: ./src/components/common/ImageCropper.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(255),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"520f7227\"\nvar Component = normalizeComponent(\n  ImageCropper,\n  common_ImageCropper,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_common_ImageCropper = (Component.exports);\n\n// EXTERNAL MODULE: external \"core-js/modules/es6.regexp.replace\"\nvar es6_regexp_replace_ = __webpack_require__(9);\nvar es6_regexp_replace__default = /*#__PURE__*/__webpack_require__.n(es6_regexp_replace_);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/user/UserSettingForm.vue\n\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var UserSettingForm = ({\n  name: \"UserSettingForm\",\n\n  data() {\n    var validateNickname = (rule, value, callback) => {\n      var length = value.replace(/([\\u4e00-\\u9fa5])/g, \"aa\").trim().length;\n\n      if (!length) {\n        callback(new Error(\"昵称不能为空\"));\n      } else if (length < 2) {\n        callback(new Error(\"昵称至少为2个字符\"));\n      } else if (length > 14) {\n        callback(new Error(\"昵称不能超过14个字符\"));\n      }\n\n      callback();\n    };\n\n    var validateSignature = (rule, value, callback) => {\n      if (value.length > 150) {\n        callback(new Error(\"签名最多 150 个字\"));\n      }\n\n      callback();\n    };\n\n    var validateBirthday = (rule, value, callback) => {\n      var setTs = value.getTime();\n      var curTs = Date.now();\n\n      if (setTs >= curTs) {\n        callback(new Error(\"。。。\"));\n      } else if (curTs - setTs < 315360000000) {\n        callback(new Error(\"你应该大于10岁了吧...?\"));\n      } else if (curTs - setTs > 1576800000000) {\n        callback(new Error(\"你应该小于50岁的吧...?\"));\n      }\n\n      callback();\n    };\n\n    return {\n      beginTime: new Date(new Date().getFullYear() - 40, 0, 1),\n      endTime: new Date(new Date().getFullYear() - 10, 11, 31),\n      submitting: false,\n      sexMap: [\"点击选择\", \"男\", \"女\", \"伪娘\", \"药娘\", \"扶她\"],\n      rule: {\n        nickname: [{\n          validator: validateNickname,\n          trigger: \"submit\"\n        }],\n        signature: [{\n          validator: validateSignature,\n          trigger: \"submit\"\n        }],\n        birthday: [{\n          validator: validateBirthday,\n          trigger: \"submit\"\n        }]\n      }\n    };\n  },\n\n  computed: {\n    user() {\n      return this.$store.state.user;\n    },\n\n    sex() {\n      return this.user.sex;\n    },\n\n    nickname: {\n      get() {\n        return this.user.nickname;\n      },\n\n      set(value) {\n        this.$store.commit(\"UPDATE_USER_INFO\", {\n          key: \"nickname\",\n          value\n        });\n      }\n\n    },\n    birthday: {\n      get() {\n        return new Date(this.user.birthday.replace(/-/g, \"/\"));\n      },\n\n      set(value) {\n        this.$store.commit(\"UPDATE_USER_INFO\", {\n          key: \"birthday\",\n          value\n        });\n      }\n\n    },\n    birthSecret: {\n      get() {\n        return this.user.birthSecret;\n      },\n\n      set(value) {\n        this.$store.commit(\"UPDATE_USER_INFO\", {\n          key: \"birthSecret\",\n          value\n        });\n      }\n\n    },\n    sexSecret: {\n      get() {\n        return this.user.sexSecret;\n      },\n\n      set(value) {\n        this.$store.commit(\"UPDATE_USER_INFO\", {\n          key: \"sexSecret\",\n          value\n        });\n      }\n\n    },\n    signature: {\n      get() {\n        return this.user.signature;\n      },\n\n      set(value) {\n        this.$store.commit(\"UPDATE_USER_INFO\", {\n          key: \"signature\",\n          value\n        });\n      }\n\n    },\n\n    sexActions() {\n      return [{\n        name: this.sexMap[1],\n        method: () => {\n          this.$store.commit(\"UPDATE_USER_INFO\", {\n            key: \"sex\",\n            value: 1\n          });\n        }\n      }, {\n        name: this.sexMap[2],\n        method: () => {\n          this.$store.commit(\"UPDATE_USER_INFO\", {\n            key: \"sex\",\n            value: 2\n          });\n        }\n      }, {\n        name: this.sexMap[3],\n        method: () => {\n          this.$store.commit(\"UPDATE_USER_INFO\", {\n            key: \"sex\",\n            value: 3\n          });\n        }\n      }, {\n        name: this.sexMap[4],\n        method: () => {\n          this.$store.commit(\"UPDATE_USER_INFO\", {\n            key: \"sex\",\n            value: 4\n          });\n        }\n      }, {\n        name: this.sexMap[5],\n        method: () => {\n          this.$store.commit(\"UPDATE_USER_INFO\", {\n            key: \"sex\",\n            value: 5\n          });\n        }\n      }];\n    },\n\n    selectedSexLabel() {\n      return this.sexMap[this.sex];\n    },\n\n    selectedBirthLabel() {\n      var date = this.birthday;\n\n      if (/1970 08:00:00 GMT\\+0800/.test(date)) {\n        return \"未设置\";\n      }\n\n      return `${date.getFullYear()}年${date.getMonth() + 1}月${date.getDate()}日`;\n    }\n\n  },\n  methods: {\n    openBirthPicker() {\n      this.$refs.birthPicker.open();\n    },\n\n    submit() {\n      var _this = this;\n\n      this.$refs.form.validate(\n      /*#__PURE__*/\n      function () {\n        var _ref = asyncToGenerator__default()(\n        /*#__PURE__*/\n        regenerator__default.a.mark(function _callee(valid) {\n          var api;\n          return regenerator__default.a.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  if (!valid) {\n                    _context.next = 19;\n                    break;\n                  }\n\n                  if (!_this.submitting) {\n                    _context.next = 3;\n                    break;\n                  }\n\n                  return _context.abrupt(\"return\");\n\n                case 3:\n                  _this.submitting = true;\n                  api = new api_userApi[\"a\" /* default */](_this);\n                  _context.prev = 5;\n                  _context.next = 8;\n                  return api.settingProfile({\n                    nickname: _this.nickname,\n                    signature: _this.signature,\n                    birthday: new Date(_this.birthday.replace(/-/g, \"/\")).getTime() / 1000,\n                    birth_secret: _this.birthSecret,\n                    sex_secret: _this.sexSecret,\n                    sex: _this.sex\n                  });\n\n                case 8:\n                  _this.$toast.success(\"设置成功\");\n\n                  _context.next = 14;\n                  break;\n\n                case 11:\n                  _context.prev = 11;\n                  _context.t0 = _context[\"catch\"](5);\n\n                  _this.$toast.error(_context.t0);\n\n                case 14:\n                  _context.prev = 14;\n                  _this.submitting = false;\n                  return _context.finish(14);\n\n                case 17:\n                  _context.next = 20;\n                  break;\n\n                case 19:\n                  return _context.abrupt(\"return\", false);\n\n                case 20:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee, this, [[5, 11, 14, 17]]);\n        }));\n\n        return function (_x) {\n          return _ref.apply(this, arguments);\n        };\n      }());\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-130dfc8b\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/user/UserSettingForm.vue\nvar UserSettingForm_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-form',{ref:\"form\",staticClass:\"user-setting-form\",attrs:{\"disabled\":_vm.submitting,\"model\":_vm.user,\"rules\":_vm.rule,\"label-width\":\"50px\"}},[_c('div',{staticClass:\"tips\"},[_c('p',[_vm._v(\"填写正确的性别和生日有助于网站对你番剧喜好的分析，在未来我们有可能根据你的喜好来推荐合适的番剧\")]),_c('p',[_vm._v(\"如果你担心自己的性别和生日被其他用户知道，可以勾选\"),_c('strong',[_vm._v(\"私密\")]),_vm._v(\"，这样我们只会在推荐系统中用到你的数据\")])]),_c('el-form-item',{attrs:{\"label\":\"昵称\",\"prop\":\"nickname\"}},[_c('el-input',{staticClass:\"bottom-line\",model:{value:(_vm.nickname),callback:function ($$v) {_vm.nickname=$$v},expression:\"nickname\"}})],1),_c('el-form-item',{attrs:{\"label\":\"生日\"}},[_c('no-ssr',[_c('mt-datetime-picker',{ref:\"birthPicker\",attrs:{\"start-date\":_vm.beginTime,\"end-date\":_vm.endTime,\"type\":\"date\",\"year-format\":\"{value}年\",\"month-format\":\"{value}月\",\"date-format\":\"{value}日\"},model:{value:(_vm.birthday),callback:function ($$v) {_vm.birthday=$$v},expression:\"birthday\"}})],1),_c('div',{staticClass:\"state-wrap\"},[_c('div',{staticClass:\"state-label\"},[_vm._v(\"状态：\"+_vm._s(_vm.birthSecret ? '私密' : '公开'))]),_c('mt-switch',{model:{value:(_vm.birthSecret),callback:function ($$v) {_vm.birthSecret=$$v},expression:\"birthSecret\"}})],1),_c('div',{staticClass:\"select-btn\"},[_c('button',{attrs:{\"type\":\"button\"},domProps:{\"textContent\":_vm._s(_vm.selectedBirthLabel)},on:{\"click\":_vm.openBirthPicker}})])],1),_c('el-form-item',{attrs:{\"label\":\"性别\"}},[_c('div',{staticClass:\"state-wrap\"},[_c('div',{staticClass:\"state-label\"},[_vm._v(\"状态：\"+_vm._s(_vm.sexSecret ? '私密' : '公开'))]),_c('mt-switch',{model:{value:(_vm.sexSecret),callback:function ($$v) {_vm.sexSecret=$$v},expression:\"sexSecret\"}})],1),_c('div',{staticClass:\"select-btn\"},[_c('v-popover',{attrs:{\"actions\":_vm.sexActions}},[_c('button',{attrs:{\"type\":\"button\"},domProps:{\"textContent\":_vm._s(_vm.selectedSexLabel)}})])],1)]),_c('el-form-item',{attrs:{\"label\":\"签名\",\"prop\":\"signature\"}},[_c('el-input',{staticClass:\"bottom-line\",attrs:{\"rows\":5,\"type\":\"textarea\",\"placeholder\":\"用简单的言语，表达深刻的心\"},model:{value:(_vm.signature),callback:function ($$v) {_vm.signature=$$v},expression:\"signature\"}})],1),_c('el-button',{staticClass:\"submit-btn\",attrs:{\"loading\":_vm.submitting,\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.submit}},[_vm._v(\"提交\")])],1)}\nvar UserSettingForm_staticRenderFns = []\nvar UserSettingForm_esExports = { render: UserSettingForm_render, staticRenderFns: UserSettingForm_staticRenderFns }\n/* harmony default export */ var user_UserSettingForm = (UserSettingForm_esExports);\n// CONCATENATED MODULE: ./src/components/user/UserSettingForm.vue\nfunction UserSettingForm_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(258),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar UserSettingForm_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar UserSettingForm___vue_template_functional__ = false\n/* styles */\nvar UserSettingForm___vue_styles__ = UserSettingForm_injectStyle\n/* scopeId */\nvar UserSettingForm___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar UserSettingForm___vue_module_identifier__ = \"93805db8\"\nvar UserSettingForm_Component = UserSettingForm_normalizeComponent(\n  UserSettingForm,\n  user_UserSettingForm,\n  UserSettingForm___vue_template_functional__,\n  UserSettingForm___vue_styles__,\n  UserSettingForm___vue_scopeId__,\n  UserSettingForm___vue_module_identifier__\n)\n\n/* harmony default export */ var components_user_UserSettingForm = (UserSettingForm_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/user/setting.vue\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n/* harmony default export */ var setting = ({\n  name: \"UserSetting\",\n  components: {\n    ImageCropper: components_common_ImageCropper,\n    UserSettingForm: components_user_UserSettingForm\n  },\n\n  data() {\n    return {\n      avatarSelector: {\n        loading: false,\n        file: null,\n        data: \"\",\n        showDrawer: false\n      },\n      bannerSelector: {\n        loading: false,\n        file: null,\n        data: \"\"\n      }\n    };\n  },\n\n  computed: {\n    user() {\n      return this.$store.state.user;\n    },\n\n    isMe() {\n      return this.$store.state.login ? this.$route.params.zone === this.user.zone : false;\n    }\n\n  },\n\n  mounted() {\n    if (!this.isMe) {\n      window.location.href = this.$alias.user(this.user.zone, \"setting\");\n    }\n  },\n\n  methods: {\n    selectAvatar(e) {\n      var file = e.target.files[0];\n\n      if (!file) {\n        this.$toast.error(\"图片选择失败\");\n        return;\n      }\n\n      if ([\"image/jpeg\", \"image/png\", \"image/jpg\", \"image/gif\"].indexOf(file.type) === -1) {\n        this.$toast.error(\"仅支持 jpg / jpeg / png / gif 格式的图片\");\n        return;\n      }\n\n      var reader = new FileReader();\n      this.avatarSelector.file = file;\n\n      reader.onload = evt => {\n        this.avatarSelector.data = evt.target.result;\n        this.avatarSelector.showDrawer = true;\n      };\n\n      reader.readAsDataURL(file);\n    },\n\n    cancelAvatarSelect() {\n      this.avatarSelector.showDrawer = false;\n      this.avatarSelector.file = null;\n      this.avatarSelector.data = \"\";\n      this.$nextTick(() => {\n        this.$refs.avatarInput.value = \"\";\n      });\n    },\n\n    submitAvatarChange(formData) {\n      var _this = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee() {\n        var filename, imageApi, result, userApi;\n        return regenerator__default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!_this.avatarSelector.loading) {\n                  _context.next = 2;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 2:\n                _this.$toast.loading(\"上传中...\");\n\n                _this.avatarSelector.loading = true;\n                filename = _this.$utils.createFileName({\n                  userId: _this.user.id,\n                  type: \"avatar\",\n                  id: 0,\n                  file: _this.avatarSelector.file\n                });\n                imageApi = new api_imageApi[\"a\" /* default */]();\n                _context.prev = 6;\n                _context.next = 9;\n                return _this.$store.dispatch(\"getUpToken\");\n\n              case 9:\n                formData.append(\"token\", _this.user.uptoken.upToken);\n                formData.append(\"key\", filename);\n                _context.next = 13;\n                return imageApi.uploadToQiniu(formData);\n\n              case 13:\n                result = _context.sent;\n                userApi = new api_userApi[\"a\" /* default */](_this);\n                _context.next = 17;\n                return userApi.settingImage({\n                  type: \"avatar\",\n                  url: result.url\n                });\n\n              case 17:\n                _this.$store.commit(\"SET_USER_INFO\", {\n                  avatar: `${_this.$cdn.image}${result.url}`\n                });\n\n                _this.$toast.success(\"头像更新成功\");\n\n                _context.next = 24;\n                break;\n\n              case 21:\n                _context.prev = 21;\n                _context.t0 = _context[\"catch\"](6);\n                typeof _context.t0 === \"string\" ? _this.$toast.error(_context.t0) : _this.$toast.error(\"头像更新失败，请刷新网页重试或选择其他图片\");\n\n              case 24:\n                _context.prev = 24;\n                _this.avatarSelector.loading = false;\n\n                _this.cancelAvatarSelect();\n\n                return _context.finish(24);\n\n              case 28:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[6, 21, 24, 28]]);\n      }))();\n    },\n\n    selectBanner(e) {\n      var file = e.target.files[0];\n\n      if ([\"image/jpeg\", \"image/png\", \"image/jpg\", \"image/gif\"].indexOf(file.type) === -1) {\n        this.$toast.error(\"仅支持 jpg / jpeg / png / gif 格式的图片\");\n        return;\n      }\n\n      var reader = new FileReader();\n      this.bannerSelector.file = file;\n\n      reader.onload = evt => {\n        this.bannerSelector.data = evt.target.result;\n      };\n\n      reader.readAsDataURL(file);\n    },\n\n    cancelBannerSelect() {\n      this.bannerSelector.file = null;\n      this.bannerSelector.data = \"\";\n      this.$nextTick(() => {\n        this.$refs.bannerInput.value = \"\";\n      });\n    },\n\n    submitBannerChange(formData) {\n      var _this2 = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee2() {\n        var filename, imageApi, result, userApi;\n        return regenerator__default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!_this2.bannerSelector.loading) {\n                  _context2.next = 2;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\");\n\n              case 2:\n                _this2.$toast.loading(\"上传中...\");\n\n                _this2.bannerSelector.loading = true;\n                filename = _this2.$utils.createFileName({\n                  userId: _this2.user.id,\n                  type: \"banner\",\n                  id: 0,\n                  file: _this2.bannerSelector.file\n                });\n                imageApi = new api_imageApi[\"a\" /* default */]();\n                _context2.prev = 6;\n                _context2.next = 9;\n                return _this2.$store.dispatch(\"getUpToken\");\n\n              case 9:\n                formData.append(\"token\", _this2.user.uptoken.upToken);\n                formData.append(\"key\", filename);\n                _context2.next = 13;\n                return imageApi.uploadToQiniu(formData);\n\n              case 13:\n                result = _context2.sent;\n                userApi = new api_userApi[\"a\" /* default */](_this2);\n                _context2.next = 17;\n                return userApi.settingImage({\n                  type: \"banner\",\n                  url: result.url\n                });\n\n              case 17:\n                _this2.$store.commit(\"SET_USER_INFO\", {\n                  banner: `${_this2.$cdn.image}${result.url}`\n                });\n\n                _this2.$toast.success(\"背景更新成功\");\n\n                _context2.next = 24;\n                break;\n\n              case 21:\n                _context2.prev = 21;\n                _context2.t0 = _context2[\"catch\"](6);\n                typeof _context2.t0 === \"string\" ? _this2.$toast.error(_context2.t0) : _this2.$toast.error(\"背景更新失败，请刷新网页重试或选择其他图片\");\n\n              case 24:\n                _context2.prev = 24;\n                _this2.bannerSelector.loading = false;\n\n                _this2.cancelBannerSelect();\n\n                return _context2.finish(24);\n\n              case 28:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[6, 21, 24, 28]]);\n      }))();\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-30b83205\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/user/setting.vue\nvar setting_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isMe)?_c('div',{attrs:{\"id\":\"user-setting\"}},[_vm._ssrNode(\"<div class=\\\"form-item\\\">\",\"</div>\",[_vm._ssrNode(\"<p class=\\\"sub-title\\\">背景：</p>\"),_vm._ssrNode(\"<div class=\\\"banner-setting\\\"\"+(_vm._ssrStyle(null,{ backgroundImage: (\"url(\" + (_vm.$resize(_vm.user.banner, { height: 120, mode: 2 })) + \")\") }, null))+\">\",\"</div>\",[(_vm.bannerSelector.data)?[_c('image-cropper',{attrs:{\"init-image\":_vm.bannerSelector.data,\"uploading\":_vm.bannerSelector.loading,\"auto-size\":true},on:{\"submit\":_vm.submitBannerChange}}),_c('el-button',{staticClass:\"cancel-btn\",attrs:{\"disabled\":_vm.bannerSelector.loading,\"size\":\"mini\",\"type\":\"info\",\"round\":\"\"},on:{\"click\":_vm.cancelBannerSelect}},[_vm._v(\"取消\")])]:_vm._ssrNode((\"<div class=\\\"submit-banner-btn file-input\\\">\\n        点击更新背景\\n        <input type=\\\"file\\\" accept=\\\"image/png, image/jpeg, image/jpg, image/x-png, image/gif\\\" name=\\\"file\\\"></div>\"))],2)],2),_vm._ssrNode(\"<div class=\\\"hr\\\"></div>\"),_vm._ssrNode(\"<div class=\\\"form-item\\\">\",\"</div>\",[_vm._ssrNode(\"<p class=\\\"sub-title\\\">头像：</p>\"),_vm._ssrNode(\"<div class=\\\"container avatar-setting\\\">\",\"</div>\",[_c('v-drawer',{attrs:{\"header-text\":\"头像裁剪\",\"from\":\"bottom\",\"size\":\"450px\"},on:{\"cancel\":_vm.cancelAvatarSelect},model:{value:(_vm.avatarSelector.showDrawer),callback:function ($$v) {_vm.$set(_vm.avatarSelector, \"showDrawer\", $$v)},expression:\"avatarSelector.showDrawer\"}},[(_vm.avatarSelector.showDrawer)?_c('image-cropper',{attrs:{\"init-image\":_vm.avatarSelector.data,\"uploading\":_vm.avatarSelector.loading,\"width\":300,\"height\":300,\"type\":\"avatar\"},on:{\"submit\":_vm.submitAvatarChange}}):_vm._e()],1),_vm._ssrNode(\"<div class=\\\"avatar\\\"\"+(_vm._ssrStyle(null,{ backgroundImage: (\"url(\" + (_vm.$resize(_vm.user.avatar, { width: 80 })) + \")\") }, null))+\"></div><div class=\\\"change-image-btn file-input\\\">\\n        点击更新头像\\n        <input type=\\\"file\\\" accept=\\\"image/png, image/jpeg, image/jpg, image/x-png, image/gif\\\" name=\\\"file\\\"></div>\")],2)],2),_vm._ssrNode(\"<div class=\\\"hr\\\"></div>\"),_vm._ssrNode(\"<div class=\\\"form-item\\\">\",\"</div>\",[_vm._ssrNode(\"<p class=\\\"sub-title\\\">其它：</p>\"),_vm._ssrNode(\"<div class=\\\"container\\\">\",\"</div>\",[_c('user-setting-form')],1)],2)],2):_vm._e()}\nvar setting_staticRenderFns = []\nvar setting_esExports = { render: setting_render, staticRenderFns: setting_staticRenderFns }\n/* harmony default export */ var user_setting = (setting_esExports);\n// CONCATENATED MODULE: ./src/views/user/setting.vue\nfunction setting_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(253),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar setting_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar setting___vue_template_functional__ = false\n/* styles */\nvar setting___vue_styles__ = setting_injectStyle\n/* scopeId */\nvar setting___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar setting___vue_module_identifier__ = \"74689992\"\nvar setting_Component = setting_normalizeComponent(\n  setting,\n  user_setting,\n  setting___vue_template_functional__,\n  setting___vue_styles__,\n  setting___vue_scopeId__,\n  setting___vue_module_identifier__\n)\n\n/* harmony default export */ var views_user_setting = __webpack_exports__[\"default\"] = (setting_Component.exports);\n\n\n/***/ })\n\n};;",
    "16.server-bundle.js": "exports.ids = [16];\nexports.modules = {\n\n/***/ 135:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/search/Input.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var Input = ({\n  name: \"SearchInput\",\n  props: {\n    value: {\n      type: String,\n      default: \"\"\n    },\n    type: {\n      type: String,\n      default: \"all\"\n    },\n    showSuggestion: {\n      type: Boolean,\n      default: true\n    }\n  },\n\n  data() {\n    return {\n      word: this.value,\n      selectedType: this.type,\n      cacheKey: \"search-history\",\n      typing: false,\n      filteredSelect: [],\n      selectedIndex: -1\n    };\n  },\n\n  computed: {\n    bangumis() {\n      return this.$store.state.bangumi.all;\n    },\n\n    displaySuggestion() {\n      return this.showSuggestion && this.word.length && this.typing && this.filteredSelect.length;\n    }\n\n  },\n\n  mounted() {\n    this.$watch(\"value\", val => {\n      this.word = val;\n      this.typing = true;\n      this.selectedIndex = -1;\n      this.handleEnter(val);\n    });\n    this.$watch(\"word\", val => {\n      this.$emit(\"input\", val);\n    });\n    this.$watch(\"$route\", val => {\n      if (val.name === \"search-index\") {\n        this.word = val.query.q;\n        this.selectedType = val.query.type;\n        setTimeout(() => {\n          this.typing = false;\n        }, 0);\n      }\n    });\n  },\n\n  methods: {\n    handleInputBlur() {\n      this.$emit(\"input-blur\");\n      document.body.scrollTop = 0;\n    },\n\n    handleInputFocus() {\n      this.$emit(\"input-focus\");\n      document.body.scrollTop = 0;\n    },\n\n    clear() {\n      this.word = \"\";\n    },\n\n    submit() {\n      var q = this.selectedIndex !== -1 ? this.filteredSelect[this.selectedIndex].name : this.word;\n\n      if (!q) {\n        return;\n      }\n\n      this.setHistory(q);\n      this.$router.push({\n        name: \"search-index\",\n        query: {\n          q,\n          type: this.selectedType\n        }\n      });\n    },\n\n    setHistory(q) {\n      setTimeout(() => {\n        var list = this.getHistory();\n        var index = list.indexOf(q);\n\n        if (index !== -1) {\n          list.splice(index, 1);\n        }\n\n        list.unshift(q);\n\n        if (list.length > 10) {\n          list.pop();\n        }\n\n        try {\n          localStorage.setItem(this.cacheKey, JSON.stringify(list));\n        } catch (e) {}\n      }, 0);\n    },\n\n    getHistory() {\n      try {\n        return JSON.parse(localStorage.getItem(this.cacheKey)) || [];\n      } catch (e) {\n        return [];\n      }\n    },\n\n    clickToSearch(index) {\n      this.selectedIndex = index;\n      this.submit();\n    },\n\n    handleEnter(query) {\n      if (!query) {\n        this.filteredSelect = [];\n        return;\n      }\n\n      this.filteredSelect = this.bangumis.filter(option => {\n        return option.alias.indexOf(query) > -1 || option.name.indexOf(query) > -1;\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-456587b5\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/search/Input.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{staticClass:\"search-input-wrap\",attrs:{\"method\":\"get\",\"action\":\"#\"},on:{\"submit\":function($event){$event.preventDefault();_vm.submit($event)}}},[_vm._ssrNode(\"<button type=\\\"submit\\\" class=\\\"search-btn\\\"><i class=\\\"iconfont icon-sousuo\\\"></i></button>\"+((_vm.word)?(\"<button type=\\\"button\\\" class=\\\"clear-btn\\\">×</button>\"):\"<!---->\")+\"<div class=\\\"input-wrap\\\"><input maxlength=\\\"200\\\" name=\\\"q\\\" type=\\\"search\\\" aria-autocomplete=\\\"both\\\" aria-haspopup=\\\"false\\\" autocapitalize=\\\"off\\\" autocomplete=\\\"off\\\" autocorrect=\\\"off\\\" role=\\\"combobox\\\" spellcheck=\\\"false\\\" placeholder=\\\"搜索二次元的一切\\\" aria-label=\\\"搜索\\\"\"+(_vm._ssrAttr(\"value\",(_vm.word)))+\"></div><ul class=\\\"search-suggestion\\\"\"+(_vm._ssrStyle(null,null, { display: (_vm.displaySuggestion) ? '' : 'none' }))+\">\"+(_vm._ssrList((_vm.filteredSelect),function(item,index){return (\"<li\"+(_vm._ssrClass(null,{ active: index === _vm.selectedIndex }))+\"><img\"+(_vm._ssrAttr(\"src\",_vm.$resize(item.avatar, { width: 60 })))+\"><span>\"+_vm._ssrEscape(_vm._s(item.name))+\"</span></li>\")}))+\"</ul>\")])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var search_Input = (esExports);\n// CONCATENATED MODULE: ./src/components/search/Input.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(136),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"2f4cbda2\"\nvar Component = normalizeComponent(\n  Input,\n  search_Input,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_search_Input = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 136:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(137);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"9ae8ae98\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 137:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.search-input-wrap{position:relative;border-radius:8px}.search-input-wrap .clear-btn{float:right;color:#757575;font:27px/25px arial,sans-serif;padding:0 15px 0 5px;line-height:38px;border-top:1px solid #d9d9d9;border-bottom:1px solid #d9d9d9;height:40px}.search-input-wrap .search-btn{float:right;height:40px;width:40px;background-color:#ffafc9;border-top-right-radius:8px;border-bottom-right-radius:8px;font-weight:700;font-size:20px;color:#fff}.search-input-wrap .input-wrap{overflow:hidden;padding:7px 0 6px;border:1px solid #d9d9d9;border-right:0;border-top-left-radius:8px;border-bottom-left-radius:8px;height:40px}.search-input-wrap .input-wrap input{width:100%;height:100%;font-size:18px;color:rgba(0,0,0,.87);word-wrap:break-word;padding:0 0 0 16px}.search-input-wrap .search-suggestion{position:absolute;left:0;top:110%;width:100%;z-index:999;max-height:160px;background-color:#fff;overflow-y:scroll;border:1px solid #d9d9d9;border-radius:5px}.search-input-wrap .search-suggestion li{height:40px;padding:5px 0}.search-input-wrap .search-suggestion li img{height:30px;width:30px;border-radius:3px;vertical-align:middle;margin-left:10px;margin-right:8px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 204:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(205);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"68dd10d2\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 205:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}#homepage{position:relative;padding:0 10px}#homepage #banner{height:170px;min-height:50vw;position:relative;margin-top:10px}#homepage #banner div{position:absolute;left:0;top:0;width:100%;height:100%;border-top-left-radius:255px 15px;border-top-right-radius:15px 225px;border-bottom-right-radius:225px 15px;border-bottom-left-radius:15px 255px;opacity:0;-webkit-transition:opacity 1s ease-in-out;-o-transition:opacity 1s ease-in-out;transition:opacity 1s ease-in-out;border:1px solid #757575;background-color:#757575}#homepage #banner div.show{opacity:1}#homepage #main{margin-top:20px}#homepage #main .slogan{text-align:center;margin-top:24px;line-height:28px;font-size:small}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 206:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(207);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"9fc440f8\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 207:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}#footer{position:fixed;left:0;right:0;bottom:0;text-align:center;color:#999;padding-bottom:15px;font-size:13px;background-color:#fff}#footer .panel{margin-top:14px}#footer .panel a,#footer .panel button{padding:0 16px;color:#666;font-size:12px}#footer .panel a:not(:last-child),#footer .panel button:not(:last-child){position:relative}#footer .panel a:not(:last-child):after,#footer .panel button:not(:last-child):after{content:\\\"\\\";position:absolute;top:0;bottom:0;width:1px;background-color:#ccc;right:0}#footer .beian{margin-top:20px;padding-bottom:8px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 302:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: external \"@babel/runtime/regenerator\"\nvar regenerator_ = __webpack_require__(0);\nvar regenerator__default = /*#__PURE__*/__webpack_require__.n(regenerator_);\n\n// EXTERNAL MODULE: external \"regenerator-runtime/runtime\"\nvar runtime_ = __webpack_require__(1);\nvar runtime__default = /*#__PURE__*/__webpack_require__.n(runtime_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/asyncToGenerator\"\nvar asyncToGenerator_ = __webpack_require__(2);\nvar asyncToGenerator__default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator_);\n\n// EXTERNAL MODULE: ./src/components/search/Input.vue + 2 modules\nvar Input = __webpack_require__(135);\n\n// EXTERNAL MODULE: ./src/api/userApi.js\nvar userApi = __webpack_require__(12);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/layouts/Footer.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var Footer = ({\n  name: \"VFooter\",\n  methods: {\n    logout() {\n      this.$cookie.remove(\"JWT-TOKEN\");\n      var api = new userApi[\"a\" /* default */](this);\n      api.logout();\n      window.location.reload();\n    },\n\n    login() {\n      this.$channel.$emit(\"sign-in\", false);\n    },\n\n    register() {\n      this.$channel.$emit(\"sign-up\");\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-009217f0\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/layouts/Footer.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('footer',{attrs:{\"id\":\"footer\"}},[_vm._ssrNode(\"<div class=\\\"panel\\\">\"+((_vm.$store.state.login)?(\"<button>退出</button>\"):(\"<button>登录</button><button>注册</button>\"))+\"<button>反馈</button><a href=\\\"/about/hello\\\">欢迎</a><button>分享</button></div><p class=\\\"beian\\\">© 沪ICP备17050785号-1</p>\")])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var layouts_Footer = (esExports);\n// CONCATENATED MODULE: ./src/components/layouts/Footer.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(206),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"2eb91060\"\nvar Component = normalizeComponent(\n  Footer,\n  layouts_Footer,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_layouts_Footer = (Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/index.vue\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var views = ({\n  name: \"PageIndex\",\n  head: {\n    title: \"\"\n  },\n\n  asyncData(_ref) {\n    return asyncToGenerator__default()(\n    /*#__PURE__*/\n    regenerator__default.a.mark(function _callee() {\n      var store, ctx;\n      return regenerator__default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              store = _ref.store, ctx = _ref.ctx;\n              _context.next = 3;\n              return store.dispatch(\"homepage/getBanners\", ctx);\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }))();\n  },\n\n  components: {\n    vSearch: Input[\"a\" /* default */],\n    vFooter: components_layouts_Footer\n  },\n\n  data() {\n    return {\n      banner1: null,\n      banner2: null,\n      timer: null,\n      toggle: true,\n      index: 0,\n      showFooter: true,\n      options: {\n        width: 720,\n        height: 0,\n        mode: 0\n      },\n      slogan: \"···\",\n      showBanner: true,\n      query: \"\"\n    };\n  },\n\n  computed: {\n    banners() {\n      return this.$store.state.homepage.banners;\n    }\n\n  },\n\n  created() {\n    this.banner1 = this.banners[0];\n  },\n\n  mounted() {\n    this.loopBanner();\n    this.computeSlogan();\n  },\n\n  beforeDestroy() {\n    if (this.timer) {\n      clearInterval(this.timer);\n      this.timer = null;\n    }\n  },\n\n  methods: {\n    loopBanner() {\n      this.timer = setInterval(() => {\n        this.index = 1 + this.index === this.banners.length ? 0 : this.index + 1;\n        var data = this.banners[this.index];\n        this.toggle ? this.banner2 = data : this.banner1 = data;\n        setTimeout(() => {\n          this.toggle = !this.toggle;\n        }, 5000);\n      }, 10000);\n    },\n\n    computeSlogan() {\n      var slogan = \"calibur.tv：天下漫友是一家\";\n      var maxLen = slogan.length;\n      var maxTime = 900;\n      var index = 0;\n      var timer = setInterval(() => {\n        this.slogan = slogan.slice(0, index);\n        index++;\n\n        if (index > maxLen) {\n          clearInterval(timer);\n        }\n      }, maxTime / maxLen);\n    },\n\n    handleSearchFocus() {\n      this.showBanner = false;\n      this.showFooter = false;\n    },\n\n    handleSearchBlur() {\n      this.showBanner = true;\n      this.showFooter = true;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4b39753a\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/index.vue\nvar views_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"homepage\"}},[_vm._ssrNode(\"<section id=\\\"banner\\\"\"+(_vm._ssrStyle(null,null, { display: (_vm.showBanner) ? '' : 'none' }))+\"><div\"+(_vm._ssrClass(\"bg\",{ 'show' : _vm.toggle }))+(_vm._ssrStyle(null,{ backgroundImage: _vm.banner1 ? (\"url(\" + (_vm.$resize(_vm.banner1.url, _vm.options)) + \")\") : '' }, null))+\"></div><div\"+(_vm._ssrClass(\"bg\",{ 'show' : !_vm.toggle }))+(_vm._ssrStyle(null,{ backgroundImage: _vm.banner2 ? (\"url(\" + (_vm.$resize(_vm.banner2.url, _vm.options)) + \")\") : '' }, null))+\"></div></section>\"),_vm._ssrNode(\"<main id=\\\"main\\\">\",\"</main>\",[_c('v-search',{on:{\"input-focus\":_vm.handleSearchFocus,\"input-blur\":_vm.handleSearchBlur},model:{value:(_vm.query),callback:function ($$v) {_vm.query=$$v},expression:\"query\"}}),_vm._ssrNode(\"<div class=\\\"slogan\\\">\"+_vm._ssrEscape(\"「 \"+_vm._s(_vm.slogan)+\" 」\")+\"</div>\")],2),_c('v-footer',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showFooter),expression:\"showFooter\"}]})],2)}\nvar views_staticRenderFns = []\nvar views_esExports = { render: views_render, staticRenderFns: views_staticRenderFns }\n/* harmony default export */ var selectortype_template_index_0_src_views = (views_esExports);\n// CONCATENATED MODULE: ./src/views/index.vue\nfunction views_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(204),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar views_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar views___vue_template_functional__ = false\n/* styles */\nvar views___vue_styles__ = views_injectStyle\n/* scopeId */\nvar views___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar views___vue_module_identifier__ = \"3b05e737\"\nvar views_Component = views_normalizeComponent(\n  views,\n  selectortype_template_index_0_src_views,\n  views___vue_template_functional__,\n  views___vue_styles__,\n  views___vue_scopeId__,\n  views___vue_module_identifier__\n)\n\n/* harmony default export */ var src_views = __webpack_exports__[\"default\"] = (views_Component.exports);\n\n\n/***/ })\n\n};;",
    "17.server-bundle.js": "exports.ids = [17];\nexports.modules = {\n\n/***/ 126:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/flow/item/CartoonRoleFlowItem.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var CartoonRoleFlowItem = ({\n  name: \"CartoonRoleFlowItem\",\n  props: {\n    item: {\n      required: true,\n      type: Object\n    },\n    bangumiId: {\n      required: true,\n      type: Number\n    },\n    userZone: {\n      required: true,\n      type: String\n    },\n    index: {\n      type: Number,\n      default: -1\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-c369257a\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/flow/item/CartoonRoleFlowItem.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"cartoon-role-flow-item\"},[_vm._ssrNode(\"<div class=\\\"clearfix\\\">\",\"</div>\",[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.cartoonRole(_vm.item.id)))+\" class=\\\"avatar\\\">\",\"</a>\",[_c('v-img',{attrs:{\"src\":_vm.item.avatar,\"size\":\"100\"}})],1),_vm._ssrNode(\"<div class=\\\"summary\\\">\",\"</div>\",[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.cartoonRole(_vm.item.id)))+\" class=\\\"role\\\"><span class=\\\"name\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.name))+\"</span><span class=\\\"intro\\\">\"+_vm._ssrEscape(\"：\"+_vm._s(_vm.item.intro))+\"</span></a>\"),(_vm.item.lover)?_vm._ssrNode(\"<div class=\\\"lover\\\">\",\"</div>\",[_vm._ssrNode(\"<span>守护者：</span>\"),_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.item.lover.zone)))+\" class=\\\"fr\\\">\",\"</a>\",[_vm._ssrNode(\"<span>\"+_vm._ssrEscape(_vm._s(_vm.item.lover.nickname))+\"</span>\"),_c('v-img',{staticClass:\"image\",attrs:{\"src\":_vm.item.lover.avatar,\"avatar\":true,\"size\":\"20\"}})],2)],2):_vm._ssrNode((\"<div class=\\\"lover\\\"></div>\"))],2),_vm._ssrNode(\"<div class=\\\"footer\\\">\"+((_vm.userZone)?(\"<div class=\\\"stats\\\"><span>\"+_vm._ssrEscape(\"粉丝: \"+_vm._s(_vm.item.fans_count))+\"</span>\\n        ·\\n        <span>\"+_vm._ssrEscape(\"金币: \"+_vm._s(_vm.item.star_count))+\"</span>\\n        ·\\n        <span>\"+_vm._ssrEscape(\"贡献: \"+_vm._s(_vm.item.has_star))+\"</span></div>\"):(\"<div class=\\\"stats\\\"><span>\"+_vm._ssrEscape(\"\\n          粉丝:\\n          \"+_vm._s(_vm.$utils.shortenNumber(_vm.item.fans_count))+\"\\n        \")+\"</span><span>\"+_vm._ssrEscape(\"\\n          金币:\\n          \"+_vm._s(_vm.$utils.shortenNumber(_vm.item.star_count))+\"\\n        \")+\"</span>\"+((!_vm.bangumiId && _vm.index !== -1)?(\"<span>排名:</span><span\"+(_vm._ssrAttr(\"data-index\",_vm.item.fans_count ? _vm.index + 1 : '无'))+\" class=\\\"top\\\"></span>\"):\"<!---->\")+\"</div>\"))+\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.bangumi(_vm.item.bangumi.id)))+\" class=\\\"bangumi\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.bangumi.name))+\"</a></div>\")],2)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var item_CartoonRoleFlowItem = (esExports);\n// CONCATENATED MODULE: ./src/components/flow/item/CartoonRoleFlowItem.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(127),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"55cdab9b\"\nvar Component = normalizeComponent(\n  CartoonRoleFlowItem,\n  item_CartoonRoleFlowItem,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var flow_item_CartoonRoleFlowItem = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 127:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(128);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"4d09bf0d\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 128:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.cartoon-role-flow-item{position:relative;margin-top:15px}.cartoon-role-flow-item:not(:last-child):after{content:\\\"\\\";position:absolute;left:0;right:0;bottom:0;height:1px;background-color:#f0f0f0;-webkit-transform:scaleY(.5);-ms-transform:scaleY(.5);transform:scaleY(.5);margin-left:-15px;margin-right:-15px}.cartoon-role-flow-item .clearfix{overflow:hidden}.cartoon-role-flow-item .top{position:relative;display:block;float:right}.cartoon-role-flow-item .top:before{content:attr(data-index);line-height:48px}.cartoon-role-flow-item:first-of-type .top:before{color:#daa520;font-size:28px;line-height:44px}.cartoon-role-flow-item:nth-of-type(2) .top:before{color:#cd5c5c;font-size:22px;line-height:44px}.cartoon-role-flow-item:nth-of-type(3) .top:before{color:silver;font-size:16px;line-height:44px}.cartoon-role-flow-item .avatar{width:100px;height:100px;display:block;float:left;overflow:hidden;border-radius:5px;margin-right:10px;border:1px solid #e5e9ef}.cartoon-role-flow-item .avatar img{width:100%;height:auto}.cartoon-role-flow-item .summary{overflow:hidden}.cartoon-role-flow-item .summary .role{display:block;font-size:14px;line-height:20px;height:60px;overflow:hidden}.cartoon-role-flow-item .summary .role .name{font-weight:700}.cartoon-role-flow-item .summary .role .intro{color:#000}.cartoon-role-flow-item .summary .lover{height:40px;padding:10px 0;line-height:20px;vertical-align:middle;font-size:13px;color:#6d757a}.cartoon-role-flow-item .summary .lover .image{vertical-align:middle;border:1px solid #e5e9ef;margin-left:10px;display:inline-block}.cartoon-role-flow-item .footer{height:44px;line-height:44px}.cartoon-role-flow-item .footer .bangumi{color:#999;font-size:12px;overflow:hidden;margin-right:8px}.cartoon-role-flow-item .footer .stats{text-align:right;color:#666;float:right}.cartoon-role-flow-item .footer .stats span{margin-left:10px;font-size:12px;margin-right:2px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 147:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: external \"core-js/modules/es6.array.sort\"\nvar es6_array_sort_ = __webpack_require__(13);\nvar es6_array_sort__default = /*#__PURE__*/__webpack_require__.n(es6_array_sort_);\n\n// EXTERNAL MODULE: ./src/components/flow/list/_flowListMixin.js\nvar _flowListMixin = __webpack_require__(99);\n\n// EXTERNAL MODULE: ./src/components/flow/item/CartoonRoleFlowItem.vue + 2 modules\nvar CartoonRoleFlowItem = __webpack_require__(126);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/flow/list/CartoonRoleFlowList.vue\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var CartoonRoleFlowList = ({\n  name: \"CartoonRoleFlowList\",\n  components: {\n    CartoonRoleFlowItem: CartoonRoleFlowItem[\"a\" /* default */]\n  },\n  mixins: [_flowListMixin[\"a\" /* default */]],\n\n  data() {\n    return {\n      flowType: \"role\"\n    };\n  },\n\n  computed: {\n    roles() {\n      if (this.userZone) {\n        return this.source.list;\n      } // eslint-disable-next-line\n\n\n      return this.source.list.sort((a, b) => b.star_count - a.star_count);\n    }\n\n  },\n  methods: {\n    openFeedbackForRole() {\n      this.$channel.$emit(\"open-feedback\", {\n        type: 6,\n        desc: `我想要为《${this.bangumiName}》的 {?} 应援`,\n        placeholder: \"请填写你想要的角色\"\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-67bf019e\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/flow/list/CartoonRoleFlowList.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"cartoon-role-flow-list\"}},[_vm._ssrNode(\"<ul class=\\\"container\\\">\",\"</ul>\",_vm._l((_vm.roles),function(item,index){return _c('cartoon-role-flow-item',{key:item.id,attrs:{\"index\":index,\"item\":item,\"bangumi-id\":_vm.bangumiId,\"user-zone\":_vm.userZone}})})),(_vm.source.noMore && !_vm.source.loading && _vm.roles.length && _vm.bangumiId)?_vm._ssrNode(\"<div class=\\\"request-cartoon-role-btn\\\">\",\"</div>\",[_vm._ssrNode(\"<button class=\\\"request-cartoon-role-btn\\\">没有你喜欢的角色？</button>\")],2):_c('more-btn',{attrs:{\"no-more\":_vm.source.noMore,\"loading\":_vm.source.loading,\"length\":_vm.roles.length,\"auto\":true},on:{\"fetch\":_vm.loadMore}},[(_vm.isMe)?_c('a',{attrs:{\"href\":_vm.$alias.roleTrending}},[_c('button',[_vm._v(\"查看角色列表\")])]):_vm._e(),(_vm.bangumiId)?_c('button',{on:{\"click\":_vm.openFeedbackForRole}},[_vm._v(\"没有你喜欢的角色？\")]):_vm._e()])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var list_CartoonRoleFlowList = (esExports);\n// CONCATENATED MODULE: ./src/components/flow/list/CartoonRoleFlowList.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(148),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"72ff2831\"\nvar Component = normalizeComponent(\n  CartoonRoleFlowList,\n  list_CartoonRoleFlowList,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var flow_list_CartoonRoleFlowList = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 148:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(149);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"723e2d26\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 149:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}#cartoon-role-flow-list .request-cartoon-role-btn{text-align:center}#cartoon-role-flow-list .request-cartoon-role-btn button{margin-top:35px;margin-bottom:50px;position:relative;padding:4px 10px;font-size:14px;color:#333;background-color:transparent;border-radius:8px;white-space:nowrap}#cartoon-role-flow-list .request-cartoon-role-btn button:after{content:\\\"\\\";position:absolute;top:0;left:0;border:1px solid #333;width:200%;height:200%;-webkit-transform:scale(.5);-ms-transform:scale(.5);transform:scale(.5);-webkit-transform-origin:left top;-ms-transform-origin:left top;transform-origin:left top;border-radius:8px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 330:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: external \"@babel/runtime/regenerator\"\nvar regenerator_ = __webpack_require__(0);\nvar regenerator__default = /*#__PURE__*/__webpack_require__.n(regenerator_);\n\n// EXTERNAL MODULE: external \"regenerator-runtime/runtime\"\nvar runtime_ = __webpack_require__(1);\nvar runtime__default = /*#__PURE__*/__webpack_require__.n(runtime_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/asyncToGenerator\"\nvar asyncToGenerator_ = __webpack_require__(2);\nvar asyncToGenerator__default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator_);\n\n// EXTERNAL MODULE: ./src/components/flow/list/CartoonRoleFlowList.vue + 2 modules\nvar CartoonRoleFlowList = __webpack_require__(147);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/user/show/role.vue\n\n\n\n//\n//\n//\n//\n\n/* harmony default export */ var role = ({\n  name: \"UserCartoonRole\",\n\n  asyncData(_ref) {\n    return asyncToGenerator__default()(\n    /*#__PURE__*/\n    regenerator__default.a.mark(function _callee() {\n      var store, route, ctx;\n      return regenerator__default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              store = _ref.store, route = _ref.route, ctx = _ref.ctx;\n              _context.next = 3;\n              return store.dispatch(\"flow/initData\", {\n                type: \"role\",\n                sort: \"news\",\n                userZone: route.params.zone,\n                ctx\n              });\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }))();\n  },\n\n  components: {\n    CartoonRoleFlowList: CartoonRoleFlowList[\"a\" /* default */]\n  },\n  computed: {\n    zone() {\n      return this.$route.params.zone;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4203b28e\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/user/show/role.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('cartoon-role-flow-list',{attrs:{\"user-zone\":_vm.zone}})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var show_role = (esExports);\n// CONCATENATED MODULE: ./src/views/user/show/role.vue\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"b5d04522\"\nvar Component = normalizeComponent(\n  role,\n  show_role,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var user_show_role = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 99:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_regenerator_runtime_runtime__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_regenerator_runtime_runtime___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_regenerator_runtime_runtime__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_asyncToGenerator__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_asyncToGenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_asyncToGenerator__);\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  props: {\n    bangumiId: {\n      type: Number,\n      default: 0\n    },\n    userZone: {\n      type: String,\n      default: \"\"\n    },\n    bangumiName: {\n      type: String,\n      default: \"\"\n    }\n  },\n  computed: {\n    fetchMoreAction() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow/getData\";\n      }\n\n      return \"world/getData\";\n    },\n\n    fetchInitAction() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow/initData\";\n      }\n\n      return \"world/initData\";\n    },\n\n    fetchStore() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow\";\n      }\n\n      return \"world\";\n    },\n\n    fetchSort() {\n      if (this.userZone) {\n        return \"news\";\n      }\n\n      if (this.flowType === \"role\") {\n        return \"hot\";\n      }\n\n      return \"active\";\n    },\n\n    fetchEvent() {\n      if (this.bangumiId) {\n        return `bangumi-tab-switch-${this.flowType}`;\n      }\n\n      if (this.userZone) {\n        return `user-tab-switch-${this.flowType}`;\n      }\n\n      return \"\";\n    },\n\n    source() {\n      return this.$store.state[this.fetchStore][this.flowType][this.fetchSort];\n    },\n\n    showNoContentTips() {\n      return this.bangumiId || this.isMe;\n    },\n\n    isMe() {\n      return this.$store.state.login ? this.$store.state.user.zone === this.userZone : false;\n    }\n\n  },\n  methods: {\n    initData() {\n      var _this = this;\n\n      return __WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_asyncToGenerator___default()(\n      /*#__PURE__*/\n      __WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator___default.a.mark(function _callee() {\n        return __WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator___default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return _this.$store.dispatch(_this.fetchInitAction, {\n                  ctx: _this,\n                  type: _this.flowType,\n                  sort: _this.fetchSort,\n                  userZone: _this.userZone,\n                  bangumiId: _this.bangumiId\n                });\n\n              case 3:\n                _context.next = 8;\n                break;\n\n              case 5:\n                _context.prev = 5;\n                _context.t0 = _context[\"catch\"](0);\n\n                _this.$toast.error(_context.t0);\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 5]]);\n      }))();\n    },\n\n    loadMore() {\n      var _this2 = this;\n\n      return __WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_asyncToGenerator___default()(\n      /*#__PURE__*/\n      __WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator___default.a.mark(function _callee2() {\n        return __WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator___default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                _context2.next = 3;\n                return _this2.$store.dispatch(_this2.fetchMoreAction, {\n                  ctx: _this2,\n                  type: _this2.flowType,\n                  sort: _this2.fetchSort,\n                  userZone: _this2.userZone,\n                  bangumiId: _this2.bangumiId\n                });\n\n              case 3:\n                _context2.next = 8;\n                break;\n\n              case 5:\n                _context2.prev = 5;\n                _context2.t0 = _context2[\"catch\"](0);\n\n                _this2.$toast.error(_context2.t0);\n\n              case 8:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[0, 5]]);\n      }))();\n    }\n\n  },\n\n  mounted() {\n    if (this.fetchEvent && !this.source.list.length) {\n      this.$channel.$on(this.fetchEvent, () => {\n        this.initData();\n        this.$channel.$off(this.fetchEvent);\n      });\n    }\n  }\n\n});\n\n/***/ })\n\n};;",
    "18.server-bundle.js": "exports.ids = [18];\nexports.modules = {\n\n/***/ 126:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/flow/item/CartoonRoleFlowItem.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var CartoonRoleFlowItem = ({\n  name: \"CartoonRoleFlowItem\",\n  props: {\n    item: {\n      required: true,\n      type: Object\n    },\n    bangumiId: {\n      required: true,\n      type: Number\n    },\n    userZone: {\n      required: true,\n      type: String\n    },\n    index: {\n      type: Number,\n      default: -1\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-c369257a\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/flow/item/CartoonRoleFlowItem.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"cartoon-role-flow-item\"},[_vm._ssrNode(\"<div class=\\\"clearfix\\\">\",\"</div>\",[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.cartoonRole(_vm.item.id)))+\" class=\\\"avatar\\\">\",\"</a>\",[_c('v-img',{attrs:{\"src\":_vm.item.avatar,\"size\":\"100\"}})],1),_vm._ssrNode(\"<div class=\\\"summary\\\">\",\"</div>\",[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.cartoonRole(_vm.item.id)))+\" class=\\\"role\\\"><span class=\\\"name\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.name))+\"</span><span class=\\\"intro\\\">\"+_vm._ssrEscape(\"：\"+_vm._s(_vm.item.intro))+\"</span></a>\"),(_vm.item.lover)?_vm._ssrNode(\"<div class=\\\"lover\\\">\",\"</div>\",[_vm._ssrNode(\"<span>守护者：</span>\"),_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.item.lover.zone)))+\" class=\\\"fr\\\">\",\"</a>\",[_vm._ssrNode(\"<span>\"+_vm._ssrEscape(_vm._s(_vm.item.lover.nickname))+\"</span>\"),_c('v-img',{staticClass:\"image\",attrs:{\"src\":_vm.item.lover.avatar,\"avatar\":true,\"size\":\"20\"}})],2)],2):_vm._ssrNode((\"<div class=\\\"lover\\\"></div>\"))],2),_vm._ssrNode(\"<div class=\\\"footer\\\">\"+((_vm.userZone)?(\"<div class=\\\"stats\\\"><span>\"+_vm._ssrEscape(\"粉丝: \"+_vm._s(_vm.item.fans_count))+\"</span>\\n        ·\\n        <span>\"+_vm._ssrEscape(\"金币: \"+_vm._s(_vm.item.star_count))+\"</span>\\n        ·\\n        <span>\"+_vm._ssrEscape(\"贡献: \"+_vm._s(_vm.item.has_star))+\"</span></div>\"):(\"<div class=\\\"stats\\\"><span>\"+_vm._ssrEscape(\"\\n          粉丝:\\n          \"+_vm._s(_vm.$utils.shortenNumber(_vm.item.fans_count))+\"\\n        \")+\"</span><span>\"+_vm._ssrEscape(\"\\n          金币:\\n          \"+_vm._s(_vm.$utils.shortenNumber(_vm.item.star_count))+\"\\n        \")+\"</span>\"+((!_vm.bangumiId && _vm.index !== -1)?(\"<span>排名:</span><span\"+(_vm._ssrAttr(\"data-index\",_vm.item.fans_count ? _vm.index + 1 : '无'))+\" class=\\\"top\\\"></span>\"):\"<!---->\")+\"</div>\"))+\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.bangumi(_vm.item.bangumi.id)))+\" class=\\\"bangumi\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.bangumi.name))+\"</a></div>\")],2)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var item_CartoonRoleFlowItem = (esExports);\n// CONCATENATED MODULE: ./src/components/flow/item/CartoonRoleFlowItem.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(127),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"55cdab9b\"\nvar Component = normalizeComponent(\n  CartoonRoleFlowItem,\n  item_CartoonRoleFlowItem,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var flow_item_CartoonRoleFlowItem = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 127:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(128);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"4d09bf0d\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 128:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.cartoon-role-flow-item{position:relative;margin-top:15px}.cartoon-role-flow-item:not(:last-child):after{content:\\\"\\\";position:absolute;left:0;right:0;bottom:0;height:1px;background-color:#f0f0f0;-webkit-transform:scaleY(.5);-ms-transform:scaleY(.5);transform:scaleY(.5);margin-left:-15px;margin-right:-15px}.cartoon-role-flow-item .clearfix{overflow:hidden}.cartoon-role-flow-item .top{position:relative;display:block;float:right}.cartoon-role-flow-item .top:before{content:attr(data-index);line-height:48px}.cartoon-role-flow-item:first-of-type .top:before{color:#daa520;font-size:28px;line-height:44px}.cartoon-role-flow-item:nth-of-type(2) .top:before{color:#cd5c5c;font-size:22px;line-height:44px}.cartoon-role-flow-item:nth-of-type(3) .top:before{color:silver;font-size:16px;line-height:44px}.cartoon-role-flow-item .avatar{width:100px;height:100px;display:block;float:left;overflow:hidden;border-radius:5px;margin-right:10px;border:1px solid #e5e9ef}.cartoon-role-flow-item .avatar img{width:100%;height:auto}.cartoon-role-flow-item .summary{overflow:hidden}.cartoon-role-flow-item .summary .role{display:block;font-size:14px;line-height:20px;height:60px;overflow:hidden}.cartoon-role-flow-item .summary .role .name{font-weight:700}.cartoon-role-flow-item .summary .role .intro{color:#000}.cartoon-role-flow-item .summary .lover{height:40px;padding:10px 0;line-height:20px;vertical-align:middle;font-size:13px;color:#6d757a}.cartoon-role-flow-item .summary .lover .image{vertical-align:middle;border:1px solid #e5e9ef;margin-left:10px;display:inline-block}.cartoon-role-flow-item .footer{height:44px;line-height:44px}.cartoon-role-flow-item .footer .bangumi{color:#999;font-size:12px;overflow:hidden;margin-right:8px}.cartoon-role-flow-item .footer .stats{text-align:right;color:#666;float:right}.cartoon-role-flow-item .footer .stats span{margin-left:10px;font-size:12px;margin-right:2px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 147:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: external \"core-js/modules/es6.array.sort\"\nvar es6_array_sort_ = __webpack_require__(13);\nvar es6_array_sort__default = /*#__PURE__*/__webpack_require__.n(es6_array_sort_);\n\n// EXTERNAL MODULE: ./src/components/flow/list/_flowListMixin.js\nvar _flowListMixin = __webpack_require__(99);\n\n// EXTERNAL MODULE: ./src/components/flow/item/CartoonRoleFlowItem.vue + 2 modules\nvar CartoonRoleFlowItem = __webpack_require__(126);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/flow/list/CartoonRoleFlowList.vue\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var CartoonRoleFlowList = ({\n  name: \"CartoonRoleFlowList\",\n  components: {\n    CartoonRoleFlowItem: CartoonRoleFlowItem[\"a\" /* default */]\n  },\n  mixins: [_flowListMixin[\"a\" /* default */]],\n\n  data() {\n    return {\n      flowType: \"role\"\n    };\n  },\n\n  computed: {\n    roles() {\n      if (this.userZone) {\n        return this.source.list;\n      } // eslint-disable-next-line\n\n\n      return this.source.list.sort((a, b) => b.star_count - a.star_count);\n    }\n\n  },\n  methods: {\n    openFeedbackForRole() {\n      this.$channel.$emit(\"open-feedback\", {\n        type: 6,\n        desc: `我想要为《${this.bangumiName}》的 {?} 应援`,\n        placeholder: \"请填写你想要的角色\"\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-67bf019e\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/flow/list/CartoonRoleFlowList.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"cartoon-role-flow-list\"}},[_vm._ssrNode(\"<ul class=\\\"container\\\">\",\"</ul>\",_vm._l((_vm.roles),function(item,index){return _c('cartoon-role-flow-item',{key:item.id,attrs:{\"index\":index,\"item\":item,\"bangumi-id\":_vm.bangumiId,\"user-zone\":_vm.userZone}})})),(_vm.source.noMore && !_vm.source.loading && _vm.roles.length && _vm.bangumiId)?_vm._ssrNode(\"<div class=\\\"request-cartoon-role-btn\\\">\",\"</div>\",[_vm._ssrNode(\"<button class=\\\"request-cartoon-role-btn\\\">没有你喜欢的角色？</button>\")],2):_c('more-btn',{attrs:{\"no-more\":_vm.source.noMore,\"loading\":_vm.source.loading,\"length\":_vm.roles.length,\"auto\":true},on:{\"fetch\":_vm.loadMore}},[(_vm.isMe)?_c('a',{attrs:{\"href\":_vm.$alias.roleTrending}},[_c('button',[_vm._v(\"查看角色列表\")])]):_vm._e(),(_vm.bangumiId)?_c('button',{on:{\"click\":_vm.openFeedbackForRole}},[_vm._v(\"没有你喜欢的角色？\")]):_vm._e()])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var list_CartoonRoleFlowList = (esExports);\n// CONCATENATED MODULE: ./src/components/flow/list/CartoonRoleFlowList.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(148),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"72ff2831\"\nvar Component = normalizeComponent(\n  CartoonRoleFlowList,\n  list_CartoonRoleFlowList,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var flow_list_CartoonRoleFlowList = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 148:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(149);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"723e2d26\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 149:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}#cartoon-role-flow-list .request-cartoon-role-btn{text-align:center}#cartoon-role-flow-list .request-cartoon-role-btn button{margin-top:35px;margin-bottom:50px;position:relative;padding:4px 10px;font-size:14px;color:#333;background-color:transparent;border-radius:8px;white-space:nowrap}#cartoon-role-flow-list .request-cartoon-role-btn button:after{content:\\\"\\\";position:absolute;top:0;left:0;border:1px solid #333;width:200%;height:200%;-webkit-transform:scale(.5);-ms-transform:scale(.5);transform:scale(.5);-webkit-transform-origin:left top;-ms-transform-origin:left top;transform-origin:left top;border-radius:8px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 340:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: external \"@babel/runtime/regenerator\"\nvar regenerator_ = __webpack_require__(0);\nvar regenerator__default = /*#__PURE__*/__webpack_require__.n(regenerator_);\n\n// EXTERNAL MODULE: external \"regenerator-runtime/runtime\"\nvar runtime_ = __webpack_require__(1);\nvar runtime__default = /*#__PURE__*/__webpack_require__.n(runtime_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/asyncToGenerator\"\nvar asyncToGenerator_ = __webpack_require__(2);\nvar asyncToGenerator__default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator_);\n\n// EXTERNAL MODULE: ./src/components/flow/list/CartoonRoleFlowList.vue + 2 modules\nvar CartoonRoleFlowList = __webpack_require__(147);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/role/trending.vue\n\n\n\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var trending = ({\n  name: \"TrendingRole\",\n\n  asyncData(_ref) {\n    return asyncToGenerator__default()(\n    /*#__PURE__*/\n    regenerator__default.a.mark(function _callee() {\n      var store, ctx;\n      return regenerator__default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              store = _ref.store, ctx = _ref.ctx;\n              _context.next = 3;\n              return store.dispatch(\"world/initData\", {\n                type: \"role\",\n                sort: \"hot\",\n                ctx\n              });\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }))();\n  },\n\n  head: {\n    title: \"角色排行榜\"\n  },\n  components: {\n    CartoonRoleFlowList: CartoonRoleFlowList[\"a\" /* default */]\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-49aaa8cc\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/role/trending.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"trending-role\"}},[_c('cartoon-role-flow-list')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var role_trending = (esExports);\n// CONCATENATED MODULE: ./src/views/role/trending.vue\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"44983603\"\nvar Component = normalizeComponent(\n  trending,\n  role_trending,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_role_trending = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 99:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_regenerator_runtime_runtime__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_regenerator_runtime_runtime___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_regenerator_runtime_runtime__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_asyncToGenerator__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_asyncToGenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_asyncToGenerator__);\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  props: {\n    bangumiId: {\n      type: Number,\n      default: 0\n    },\n    userZone: {\n      type: String,\n      default: \"\"\n    },\n    bangumiName: {\n      type: String,\n      default: \"\"\n    }\n  },\n  computed: {\n    fetchMoreAction() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow/getData\";\n      }\n\n      return \"world/getData\";\n    },\n\n    fetchInitAction() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow/initData\";\n      }\n\n      return \"world/initData\";\n    },\n\n    fetchStore() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow\";\n      }\n\n      return \"world\";\n    },\n\n    fetchSort() {\n      if (this.userZone) {\n        return \"news\";\n      }\n\n      if (this.flowType === \"role\") {\n        return \"hot\";\n      }\n\n      return \"active\";\n    },\n\n    fetchEvent() {\n      if (this.bangumiId) {\n        return `bangumi-tab-switch-${this.flowType}`;\n      }\n\n      if (this.userZone) {\n        return `user-tab-switch-${this.flowType}`;\n      }\n\n      return \"\";\n    },\n\n    source() {\n      return this.$store.state[this.fetchStore][this.flowType][this.fetchSort];\n    },\n\n    showNoContentTips() {\n      return this.bangumiId || this.isMe;\n    },\n\n    isMe() {\n      return this.$store.state.login ? this.$store.state.user.zone === this.userZone : false;\n    }\n\n  },\n  methods: {\n    initData() {\n      var _this = this;\n\n      return __WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_asyncToGenerator___default()(\n      /*#__PURE__*/\n      __WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator___default.a.mark(function _callee() {\n        return __WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator___default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return _this.$store.dispatch(_this.fetchInitAction, {\n                  ctx: _this,\n                  type: _this.flowType,\n                  sort: _this.fetchSort,\n                  userZone: _this.userZone,\n                  bangumiId: _this.bangumiId\n                });\n\n              case 3:\n                _context.next = 8;\n                break;\n\n              case 5:\n                _context.prev = 5;\n                _context.t0 = _context[\"catch\"](0);\n\n                _this.$toast.error(_context.t0);\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 5]]);\n      }))();\n    },\n\n    loadMore() {\n      var _this2 = this;\n\n      return __WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_asyncToGenerator___default()(\n      /*#__PURE__*/\n      __WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator___default.a.mark(function _callee2() {\n        return __WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator___default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                _context2.next = 3;\n                return _this2.$store.dispatch(_this2.fetchMoreAction, {\n                  ctx: _this2,\n                  type: _this2.flowType,\n                  sort: _this2.fetchSort,\n                  userZone: _this2.userZone,\n                  bangumiId: _this2.bangumiId\n                });\n\n              case 3:\n                _context2.next = 8;\n                break;\n\n              case 5:\n                _context2.prev = 5;\n                _context2.t0 = _context2[\"catch\"](0);\n\n                _this2.$toast.error(_context2.t0);\n\n              case 8:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[0, 5]]);\n      }))();\n    }\n\n  },\n\n  mounted() {\n    if (this.fetchEvent && !this.source.list.length) {\n      this.$channel.$on(this.fetchEvent, () => {\n        this.initData();\n        this.$channel.$off(this.fetchEvent);\n      });\n    }\n  }\n\n});\n\n/***/ })\n\n};;",
    "19.server-bundle.js": "exports.ids = [19];\nexports.modules = {\n\n/***/ 126:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/flow/item/CartoonRoleFlowItem.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var CartoonRoleFlowItem = ({\n  name: \"CartoonRoleFlowItem\",\n  props: {\n    item: {\n      required: true,\n      type: Object\n    },\n    bangumiId: {\n      required: true,\n      type: Number\n    },\n    userZone: {\n      required: true,\n      type: String\n    },\n    index: {\n      type: Number,\n      default: -1\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-c369257a\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/flow/item/CartoonRoleFlowItem.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"cartoon-role-flow-item\"},[_vm._ssrNode(\"<div class=\\\"clearfix\\\">\",\"</div>\",[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.cartoonRole(_vm.item.id)))+\" class=\\\"avatar\\\">\",\"</a>\",[_c('v-img',{attrs:{\"src\":_vm.item.avatar,\"size\":\"100\"}})],1),_vm._ssrNode(\"<div class=\\\"summary\\\">\",\"</div>\",[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.cartoonRole(_vm.item.id)))+\" class=\\\"role\\\"><span class=\\\"name\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.name))+\"</span><span class=\\\"intro\\\">\"+_vm._ssrEscape(\"：\"+_vm._s(_vm.item.intro))+\"</span></a>\"),(_vm.item.lover)?_vm._ssrNode(\"<div class=\\\"lover\\\">\",\"</div>\",[_vm._ssrNode(\"<span>守护者：</span>\"),_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.item.lover.zone)))+\" class=\\\"fr\\\">\",\"</a>\",[_vm._ssrNode(\"<span>\"+_vm._ssrEscape(_vm._s(_vm.item.lover.nickname))+\"</span>\"),_c('v-img',{staticClass:\"image\",attrs:{\"src\":_vm.item.lover.avatar,\"avatar\":true,\"size\":\"20\"}})],2)],2):_vm._ssrNode((\"<div class=\\\"lover\\\"></div>\"))],2),_vm._ssrNode(\"<div class=\\\"footer\\\">\"+((_vm.userZone)?(\"<div class=\\\"stats\\\"><span>\"+_vm._ssrEscape(\"粉丝: \"+_vm._s(_vm.item.fans_count))+\"</span>\\n        ·\\n        <span>\"+_vm._ssrEscape(\"金币: \"+_vm._s(_vm.item.star_count))+\"</span>\\n        ·\\n        <span>\"+_vm._ssrEscape(\"贡献: \"+_vm._s(_vm.item.has_star))+\"</span></div>\"):(\"<div class=\\\"stats\\\"><span>\"+_vm._ssrEscape(\"\\n          粉丝:\\n          \"+_vm._s(_vm.$utils.shortenNumber(_vm.item.fans_count))+\"\\n        \")+\"</span><span>\"+_vm._ssrEscape(\"\\n          金币:\\n          \"+_vm._s(_vm.$utils.shortenNumber(_vm.item.star_count))+\"\\n        \")+\"</span>\"+((!_vm.bangumiId && _vm.index !== -1)?(\"<span>排名:</span><span\"+(_vm._ssrAttr(\"data-index\",_vm.item.fans_count ? _vm.index + 1 : '无'))+\" class=\\\"top\\\"></span>\"):\"<!---->\")+\"</div>\"))+\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.bangumi(_vm.item.bangumi.id)))+\" class=\\\"bangumi\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.bangumi.name))+\"</a></div>\")],2)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var item_CartoonRoleFlowItem = (esExports);\n// CONCATENATED MODULE: ./src/components/flow/item/CartoonRoleFlowItem.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(127),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"55cdab9b\"\nvar Component = normalizeComponent(\n  CartoonRoleFlowItem,\n  item_CartoonRoleFlowItem,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var flow_item_CartoonRoleFlowItem = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 127:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(128);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"4d09bf0d\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 128:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.cartoon-role-flow-item{position:relative;margin-top:15px}.cartoon-role-flow-item:not(:last-child):after{content:\\\"\\\";position:absolute;left:0;right:0;bottom:0;height:1px;background-color:#f0f0f0;-webkit-transform:scaleY(.5);-ms-transform:scaleY(.5);transform:scaleY(.5);margin-left:-15px;margin-right:-15px}.cartoon-role-flow-item .clearfix{overflow:hidden}.cartoon-role-flow-item .top{position:relative;display:block;float:right}.cartoon-role-flow-item .top:before{content:attr(data-index);line-height:48px}.cartoon-role-flow-item:first-of-type .top:before{color:#daa520;font-size:28px;line-height:44px}.cartoon-role-flow-item:nth-of-type(2) .top:before{color:#cd5c5c;font-size:22px;line-height:44px}.cartoon-role-flow-item:nth-of-type(3) .top:before{color:silver;font-size:16px;line-height:44px}.cartoon-role-flow-item .avatar{width:100px;height:100px;display:block;float:left;overflow:hidden;border-radius:5px;margin-right:10px;border:1px solid #e5e9ef}.cartoon-role-flow-item .avatar img{width:100%;height:auto}.cartoon-role-flow-item .summary{overflow:hidden}.cartoon-role-flow-item .summary .role{display:block;font-size:14px;line-height:20px;height:60px;overflow:hidden}.cartoon-role-flow-item .summary .role .name{font-weight:700}.cartoon-role-flow-item .summary .role .intro{color:#000}.cartoon-role-flow-item .summary .lover{height:40px;padding:10px 0;line-height:20px;vertical-align:middle;font-size:13px;color:#6d757a}.cartoon-role-flow-item .summary .lover .image{vertical-align:middle;border:1px solid #e5e9ef;margin-left:10px;display:inline-block}.cartoon-role-flow-item .footer{height:44px;line-height:44px}.cartoon-role-flow-item .footer .bangumi{color:#999;font-size:12px;overflow:hidden;margin-right:8px}.cartoon-role-flow-item .footer .stats{text-align:right;color:#666;float:right}.cartoon-role-flow-item .footer .stats span{margin-left:10px;font-size:12px;margin-right:2px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 147:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: external \"core-js/modules/es6.array.sort\"\nvar es6_array_sort_ = __webpack_require__(13);\nvar es6_array_sort__default = /*#__PURE__*/__webpack_require__.n(es6_array_sort_);\n\n// EXTERNAL MODULE: ./src/components/flow/list/_flowListMixin.js\nvar _flowListMixin = __webpack_require__(99);\n\n// EXTERNAL MODULE: ./src/components/flow/item/CartoonRoleFlowItem.vue + 2 modules\nvar CartoonRoleFlowItem = __webpack_require__(126);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/flow/list/CartoonRoleFlowList.vue\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var CartoonRoleFlowList = ({\n  name: \"CartoonRoleFlowList\",\n  components: {\n    CartoonRoleFlowItem: CartoonRoleFlowItem[\"a\" /* default */]\n  },\n  mixins: [_flowListMixin[\"a\" /* default */]],\n\n  data() {\n    return {\n      flowType: \"role\"\n    };\n  },\n\n  computed: {\n    roles() {\n      if (this.userZone) {\n        return this.source.list;\n      } // eslint-disable-next-line\n\n\n      return this.source.list.sort((a, b) => b.star_count - a.star_count);\n    }\n\n  },\n  methods: {\n    openFeedbackForRole() {\n      this.$channel.$emit(\"open-feedback\", {\n        type: 6,\n        desc: `我想要为《${this.bangumiName}》的 {?} 应援`,\n        placeholder: \"请填写你想要的角色\"\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-67bf019e\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/flow/list/CartoonRoleFlowList.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"cartoon-role-flow-list\"}},[_vm._ssrNode(\"<ul class=\\\"container\\\">\",\"</ul>\",_vm._l((_vm.roles),function(item,index){return _c('cartoon-role-flow-item',{key:item.id,attrs:{\"index\":index,\"item\":item,\"bangumi-id\":_vm.bangumiId,\"user-zone\":_vm.userZone}})})),(_vm.source.noMore && !_vm.source.loading && _vm.roles.length && _vm.bangumiId)?_vm._ssrNode(\"<div class=\\\"request-cartoon-role-btn\\\">\",\"</div>\",[_vm._ssrNode(\"<button class=\\\"request-cartoon-role-btn\\\">没有你喜欢的角色？</button>\")],2):_c('more-btn',{attrs:{\"no-more\":_vm.source.noMore,\"loading\":_vm.source.loading,\"length\":_vm.roles.length,\"auto\":true},on:{\"fetch\":_vm.loadMore}},[(_vm.isMe)?_c('a',{attrs:{\"href\":_vm.$alias.roleTrending}},[_c('button',[_vm._v(\"查看角色列表\")])]):_vm._e(),(_vm.bangumiId)?_c('button',{on:{\"click\":_vm.openFeedbackForRole}},[_vm._v(\"没有你喜欢的角色？\")]):_vm._e()])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var list_CartoonRoleFlowList = (esExports);\n// CONCATENATED MODULE: ./src/components/flow/list/CartoonRoleFlowList.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(148),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"72ff2831\"\nvar Component = normalizeComponent(\n  CartoonRoleFlowList,\n  list_CartoonRoleFlowList,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var flow_list_CartoonRoleFlowList = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 148:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(149);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"723e2d26\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 149:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}#cartoon-role-flow-list .request-cartoon-role-btn{text-align:center}#cartoon-role-flow-list .request-cartoon-role-btn button{margin-top:35px;margin-bottom:50px;position:relative;padding:4px 10px;font-size:14px;color:#333;background-color:transparent;border-radius:8px;white-space:nowrap}#cartoon-role-flow-list .request-cartoon-role-btn button:after{content:\\\"\\\";position:absolute;top:0;left:0;border:1px solid #333;width:200%;height:200%;-webkit-transform:scale(.5);-ms-transform:scale(.5);transform:scale(.5);-webkit-transform-origin:left top;-ms-transform-origin:left top;transform-origin:left top;border-radius:8px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 316:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: external \"@babel/runtime/regenerator\"\nvar regenerator_ = __webpack_require__(0);\nvar regenerator__default = /*#__PURE__*/__webpack_require__.n(regenerator_);\n\n// EXTERNAL MODULE: external \"regenerator-runtime/runtime\"\nvar runtime_ = __webpack_require__(1);\nvar runtime__default = /*#__PURE__*/__webpack_require__.n(runtime_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/asyncToGenerator\"\nvar asyncToGenerator_ = __webpack_require__(2);\nvar asyncToGenerator__default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator_);\n\n// EXTERNAL MODULE: ./src/components/flow/list/CartoonRoleFlowList.vue + 2 modules\nvar CartoonRoleFlowList = __webpack_require__(147);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/bangumi/show/role.vue\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var role = ({\n  name: \"BangumiRole\",\n\n  asyncData(_ref) {\n    return asyncToGenerator__default()(\n    /*#__PURE__*/\n    regenerator__default.a.mark(function _callee() {\n      var store, route, ctx;\n      return regenerator__default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              store = _ref.store, route = _ref.route, ctx = _ref.ctx;\n              _context.next = 3;\n              return store.dispatch(\"flow/initData\", {\n                type: \"role\",\n                sort: \"hot\",\n                bangumiId: route.params.id,\n                ctx\n              });\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }))();\n  },\n\n  components: {\n    CartoonRoleFlowList: CartoonRoleFlowList[\"a\" /* default */]\n  },\n  computed: {\n    info() {\n      return this.$store.state.bangumi.info;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4e110e6d\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/bangumi/show/role.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.info)?_c('cartoon-role-flow-list',{attrs:{\"bangumi-id\":_vm.info.id,\"bangumi-name\":_vm.info.name}}):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var show_role = (esExports);\n// CONCATENATED MODULE: ./src/views/bangumi/show/role.vue\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"7a4b4c37\"\nvar Component = normalizeComponent(\n  role,\n  show_role,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var bangumi_show_role = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 99:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_regenerator_runtime_runtime__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_regenerator_runtime_runtime___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_regenerator_runtime_runtime__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_asyncToGenerator__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_asyncToGenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_asyncToGenerator__);\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  props: {\n    bangumiId: {\n      type: Number,\n      default: 0\n    },\n    userZone: {\n      type: String,\n      default: \"\"\n    },\n    bangumiName: {\n      type: String,\n      default: \"\"\n    }\n  },\n  computed: {\n    fetchMoreAction() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow/getData\";\n      }\n\n      return \"world/getData\";\n    },\n\n    fetchInitAction() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow/initData\";\n      }\n\n      return \"world/initData\";\n    },\n\n    fetchStore() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow\";\n      }\n\n      return \"world\";\n    },\n\n    fetchSort() {\n      if (this.userZone) {\n        return \"news\";\n      }\n\n      if (this.flowType === \"role\") {\n        return \"hot\";\n      }\n\n      return \"active\";\n    },\n\n    fetchEvent() {\n      if (this.bangumiId) {\n        return `bangumi-tab-switch-${this.flowType}`;\n      }\n\n      if (this.userZone) {\n        return `user-tab-switch-${this.flowType}`;\n      }\n\n      return \"\";\n    },\n\n    source() {\n      return this.$store.state[this.fetchStore][this.flowType][this.fetchSort];\n    },\n\n    showNoContentTips() {\n      return this.bangumiId || this.isMe;\n    },\n\n    isMe() {\n      return this.$store.state.login ? this.$store.state.user.zone === this.userZone : false;\n    }\n\n  },\n  methods: {\n    initData() {\n      var _this = this;\n\n      return __WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_asyncToGenerator___default()(\n      /*#__PURE__*/\n      __WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator___default.a.mark(function _callee() {\n        return __WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator___default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return _this.$store.dispatch(_this.fetchInitAction, {\n                  ctx: _this,\n                  type: _this.flowType,\n                  sort: _this.fetchSort,\n                  userZone: _this.userZone,\n                  bangumiId: _this.bangumiId\n                });\n\n              case 3:\n                _context.next = 8;\n                break;\n\n              case 5:\n                _context.prev = 5;\n                _context.t0 = _context[\"catch\"](0);\n\n                _this.$toast.error(_context.t0);\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 5]]);\n      }))();\n    },\n\n    loadMore() {\n      var _this2 = this;\n\n      return __WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_asyncToGenerator___default()(\n      /*#__PURE__*/\n      __WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator___default.a.mark(function _callee2() {\n        return __WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator___default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                _context2.next = 3;\n                return _this2.$store.dispatch(_this2.fetchMoreAction, {\n                  ctx: _this2,\n                  type: _this2.flowType,\n                  sort: _this2.fetchSort,\n                  userZone: _this2.userZone,\n                  bangumiId: _this2.bangumiId\n                });\n\n              case 3:\n                _context2.next = 8;\n                break;\n\n              case 5:\n                _context2.prev = 5;\n                _context2.t0 = _context2[\"catch\"](0);\n\n                _this2.$toast.error(_context2.t0);\n\n              case 8:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[0, 5]]);\n      }))();\n    }\n\n  },\n\n  mounted() {\n    if (this.fetchEvent && !this.source.list.length) {\n      this.$channel.$on(this.fetchEvent, () => {\n        this.initData();\n        this.$channel.$off(this.fetchEvent);\n      });\n    }\n  }\n\n});\n\n/***/ })\n\n};;",
    "20.server-bundle.js": "exports.ids = [20];\nexports.modules = {\n\n/***/ 120:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/flow/item/PostFlowItem.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var PostFlowItem = ({\n  name: \"PostFlowItem\",\n  props: {\n    item: {\n      required: true,\n      type: Object\n    },\n    bangumiId: {\n      type: Number,\n      default: 0\n    },\n    userZone: {\n      type: String,\n      default: \"\"\n    }\n  },\n  methods: {\n    imageFilter(images) {\n      return images.slice(0, 3);\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-11eca6db\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/flow/item/PostFlowItem.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"post-flow-item\"},[_c('router-link',{attrs:{\"to\":_vm.$alias.post(_vm.item.id),\"tag\":\"div\"}},[_c('div',{staticClass:\"header\"},[(_vm.item.user)?_c('router-link',{staticClass:\"user-avatar\",attrs:{\"to\":_vm.$alias.user(_vm.item.user.zone)}},[_c('v-img',{attrs:{\"src\":_vm.item.user.avatar,\"avatar\":true,\"size\":\"35\"}})],1):_c('router-link',{staticClass:\"bangumi-avatar\",attrs:{\"to\":_vm.$alias.bangumi(_vm.item.bangumi.id)}},[_c('v-img',{attrs:{\"src\":_vm.item.bangumi.avatar,\"size\":\"35\"}})],1),_c('div',{staticClass:\"name\"},[(_vm.item.user)?_c('div',{staticClass:\"clearfix\"},[_c('router-link',{staticClass:\"nickname\",attrs:{\"to\":_vm.$alias.user(_vm.item.user.zone)},domProps:{\"textContent\":_vm._s(_vm.item.user.nickname)}})],1):_c('div',{staticClass:\"clearfix\"},[_c('span',{staticClass:\"nickname\"},[_vm._v(\"发表在\")])]),(_vm.item.bangumi)?[_c('router-link',{attrs:{\"to\":_vm.$alias.bangumi(_vm.item.bangumi.id)},domProps:{\"textContent\":_vm._s(_vm.item.bangumi.name)}}),_c('span',[_vm._v(\" · \")])]:[_c('span',[_vm._v(\"发表于 · \")])],_c('v-time',{model:{value:(_vm.item.created_at),callback:function ($$v) {_vm.$set(_vm.item, \"created_at\", $$v)},expression:\"item.created_at\"}})],2)],1),_c('div',{staticClass:\"body\"},[_c('div',{staticClass:\"title\"},[(_vm.item.top_at && _vm.bangumiId)?_c('div',{staticClass:\"top_badge\"},[_vm._v(\"置顶\")]):_vm._e(),(_vm.item.is_nice)?_c('div',{staticClass:\"nice_badge\"},[_vm._v(\"精\")]):_vm._e(),(_vm.item.is_creator)?_c('div',{staticClass:\"creator_badge\"},[_vm._v(\"原创\")]):_vm._e(),_c('p',{staticClass:\"oneline\",domProps:{\"textContent\":_vm._s(_vm.item.title)}})]),_c('p',{staticClass:\"content\",domProps:{\"textContent\":_vm._s(_vm.item.desc)}}),(_vm.item.images.length)?_c('div',{staticClass:\"images\"},[(_vm.item.images.length === 1)?_c('v-img',{staticClass:\"poster-image\",attrs:{\"src\":_vm.item.images[0].url,\"width\":\"100%\",\"height\":\"160\"}}):_c('div',{staticClass:\"image-list\"},_vm._l((_vm.imageFilter(_vm.item.images)),function(image,index){return _c('v-img',{key:index,staticClass:\"image\",attrs:{\"src\":image.url,\"width\":\"32%\",\"height\":\"93\"}})}))],1):_vm._e()]),_c('div',{staticClass:\"footer\"},[(_vm.item.is_creator)?_c('span',[_vm._v(\"\\n        投食\\n        \"+_vm._s(_vm.$utils.shortenNumber(_vm.item.reward_count))+\"\\n      \")]):_c('span',[_vm._v(\"\\n        喜欢\\n        \"+_vm._s(_vm.$utils.shortenNumber(_vm.item.like_count))+\"\\n      \")]),_c('span',[_vm._v(\"\\n        收藏\\n        \"+_vm._s(_vm.$utils.shortenNumber(_vm.item.mark_count))+\"\\n      \")]),_c('span',[_vm._v(\"\\n        评论\\n        \"+_vm._s(_vm.$utils.shortenNumber(_vm.item.comment_count))+\"\\n      \")])])]),_vm._ssrNode(\"<div class=\\\"hr\\\"></div>\")],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var item_PostFlowItem = (esExports);\n// CONCATENATED MODULE: ./src/components/flow/item/PostFlowItem.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(121),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"2af8b4fb\"\nvar Component = normalizeComponent(\n  PostFlowItem,\n  item_PostFlowItem,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var flow_item_PostFlowItem = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 121:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(122);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"81777b88\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 122:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".post-flow-item .body .images .image-list:after,.post-flow-item .body .images .image-list:before{content:\\\"\\\";clear:both;display:table}@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.post-flow-item{padding-top:15px;padding-left:15px;padding-right:15px}.post-flow-item .header{height:35px;margin-bottom:10px}.post-flow-item .header .user-avatar{margin-right:7px;float:left;position:relative}.post-flow-item .header .bangumi-avatar{margin-right:10px;display:block;float:left;width:35px;height:35px}.post-flow-item .header .bangumi-avatar img{display:block;width:100%;height:auto;overflow:hidden}.post-flow-item .header .name{vertical-align:middle;display:block;overflow:hidden;height:35px}.post-flow-item .header .name .nickname{font-size:14px;line-height:14px;overflow:hidden;margin-top:4px;margin-bottom:0;color:#333}.post-flow-item .header .name a,.post-flow-item .header .name span,.post-flow-item .header .name time{display:block;color:#999;font-size:11px;line-height:11px;margin-top:4px;float:left}.post-flow-item .body .title{margin-bottom:5px}.post-flow-item .body .title .creator_badge,.post-flow-item .body .title .nice_badge,.post-flow-item .body .title .top_badge{float:left;height:14px;line-height:14px;color:#fff;cursor:default;font-size:11px;font-weight:700;text-align:center;border-radius:4px;padding:0 4px;margin-right:5px}.post-flow-item .body .title .top_badge{background-color:#00a1d6}.post-flow-item .body .title .nice_badge{background-color:#f25d8e}.post-flow-item .body .title .creator_badge{background-color:#daa520}.post-flow-item .body .title .oneline{color:#4c4c4c;font-weight:700;font-size:14px;line-height:14px;margin-top:0;margin-bottom:0}.post-flow-item .body .content{color:#333;font-size:14px;margin-top:0;margin-bottom:8px;line-height:18px;max-height:36px;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.post-flow-item .body .images{position:relative;margin-bottom:8px}.post-flow-item .body .images .poster-image img{height:auto;position:absolute;left:0;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);border-radius:4px}.post-flow-item .body .images .image-list .image{float:left;border-radius:4px}.post-flow-item .body .images .image-list .image:not(:last-child){margin-right:2%}.post-flow-item .footer{height:35px;line-height:30px;width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:distribute;justify-content:space-around;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding-bottom:5px}.post-flow-item .footer span{font-size:12px;color:#666}.post-flow-item .footer .done{color:#00a1d6}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 139:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./src/components/flow/list/_flowListMixin.js\nvar _flowListMixin = __webpack_require__(99);\n\n// EXTERNAL MODULE: ./src/components/flow/item/PostFlowItem.vue + 2 modules\nvar PostFlowItem = __webpack_require__(120);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/flow/list/PostFlowList.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var PostFlowList = ({\n  name: \"PostFlowList\",\n  components: {\n    PostFlowItem: PostFlowItem[\"a\" /* default */]\n  },\n  mixins: [_flowListMixin[\"a\" /* default */]],\n\n  data() {\n    return {\n      flowType: \"post\"\n    };\n  },\n\n  computed: {\n    topPosts() {\n      return this.$store.state.bangumi.topPosts;\n    },\n\n    postList() {\n      if (!this.bangumiId) {\n        return this.source.list;\n      }\n\n      return this.source ? this.topPosts.concat(this.source.list) : this.topPosts;\n    }\n\n  },\n  methods: {\n    openCreatePostModal() {\n      if (this.$store.state.login) {\n        this.$channel.$emit(\"drawer-open-write-post\");\n      } else {\n        this.$channel.$emit(\"sign-in\");\n      }\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5b4a6296\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/flow/list/PostFlowList.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.source)?_c('div',{attrs:{\"id\":\"post-flow-list\"}},[_vm._ssrNode(\"<ul>\",\"</ul>\",_vm._l((_vm.postList),function(item){return _c('post-flow-item',{key:item.id,attrs:{\"item\":item,\"bangumi-id\":_vm.bangumiId,\"user-zone\":_vm.userZone}})})),_c('more-btn',{attrs:{\"no-more\":_vm.source.noMore,\"loading\":_vm.source.loading,\"length\":_vm.postList.length,\"auto\":true},on:{\"fetch\":_vm.loadMore}},[(_vm.showNoContentTips)?_c('button',{on:{\"click\":_vm.openCreatePostModal}},[_vm._v(_vm._s(_vm.userZone ? '发表第一篇帖子' : '发表《' + _vm.bangumiName + '》的第一篇帖子'))]):_vm._e()])],1):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var list_PostFlowList = (esExports);\n// CONCATENATED MODULE: ./src/components/flow/list/PostFlowList.vue\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"06235edb\"\nvar Component = normalizeComponent(\n  PostFlowList,\n  list_PostFlowList,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var flow_list_PostFlowList = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 247:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(248);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"c0b53cda\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 248:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}#user-post .label{font-size:0}#user-post .label button{display:inline-block;width:50%;height:40px;font-size:13px;background-color:#f6f9fa;color:#6d757a}#user-post .label .active{background-color:#e5e9ef}#user-post #posts-of-reply{background-color:#fff}#user-post #posts-of-reply li{float:none;padding:10px;position:relative}#user-post #posts-of-reply li:after{content:\\\"\\\";position:absolute;left:0;right:0;bottom:0;height:1px;background-color:#f0f0f0;-webkit-transform:scaleY(.5);-ms-transform:scaleY(.5);transform:scaleY(.5);margin-left:-15px;margin-right:-15px}#user-post #posts-of-reply li .header{position:relative;height:32px;line-height:32px}#user-post #posts-of-reply li .header .time{float:right;display:block;color:#999;font-size:12px;position:relative;z-index:1;margin-right:12px}#user-post #posts-of-reply li .origin{display:block;background-color:#e5e9ef;padding:10px 20px;margin:10px 0;border-radius:5px}#user-post #posts-of-reply li .reply{display:block;border-left:5px solid #e5e9ef;margin:10px 0;padding-left:10px}#user-post #posts-of-reply li .content{margin-top:3px;color:#666;font-size:12px;line-height:22px;max-height:44px;overflow:hidden}#user-post #posts-of-reply li .images{margin-bottom:5px}#user-post #posts-of-reply li .images .poster-image{border-radius:5px;overflow:hidden}#user-post #posts-of-reply li .images .poster-image img{height:auto;position:absolute;left:0;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%)}#user-post #posts-of-reply li .images .image-list .image{float:left}#user-post #posts-of-reply li .images .image-list .image:not(:last-child){margin-right:2%}#user-post #posts-of-reply li .footer{color:#a3a8ad;font-size:12px;line-height:24px}#user-post #posts-of-reply li .footer span{margin:0 5px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 326:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: external \"@babel/runtime/regenerator\"\nvar regenerator_ = __webpack_require__(0);\nvar regenerator__default = /*#__PURE__*/__webpack_require__.n(regenerator_);\n\n// EXTERNAL MODULE: external \"regenerator-runtime/runtime\"\nvar runtime_ = __webpack_require__(1);\nvar runtime__default = /*#__PURE__*/__webpack_require__.n(runtime_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/asyncToGenerator\"\nvar asyncToGenerator_ = __webpack_require__(2);\nvar asyncToGenerator__default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator_);\n\n// EXTERNAL MODULE: ./src/components/flow/list/PostFlowList.vue + 2 modules\nvar PostFlowList = __webpack_require__(139);\n\n// EXTERNAL MODULE: ./src/api/userApi.js\nvar userApi = __webpack_require__(12);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/user/show/post.vue\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var post = ({\n  name: \"UserPost\",\n\n  asyncData(_ref) {\n    return asyncToGenerator__default()(\n    /*#__PURE__*/\n    regenerator__default.a.mark(function _callee() {\n      var store, route, ctx;\n      return regenerator__default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              store = _ref.store, route = _ref.route, ctx = _ref.ctx;\n              _context.next = 3;\n              return store.dispatch(\"flow/initData\", {\n                type: \"post\",\n                sort: \"news\",\n                userZone: route.params.zone,\n                ctx\n              });\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }))();\n  },\n\n  components: {\n    PostFlowList: PostFlowList[\"a\" /* default */]\n  },\n\n  data() {\n    return {\n      active: 0,\n      list: [],\n      loading: false,\n      fetched: false,\n      noMore: false,\n      page: 0\n    };\n  },\n\n  computed: {\n    zone() {\n      return this.$route.params.zone;\n    }\n\n  },\n  methods: {\n    switchTab(value) {\n      this.active = value;\n\n      if (value === 1) {\n        this.getUserPosts(true);\n      }\n    },\n\n    getUserPosts() {\n      var _this = this,\n          _arguments = arguments;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee2() {\n        var init, api, data;\n        return regenerator__default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                init = _arguments.length > 0 && _arguments[0] !== undefined ? _arguments[0] : false;\n\n                if (!(init && _this.fetched)) {\n                  _context2.next = 3;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\");\n\n              case 3:\n                if (!(_this.loading || _this.noMore)) {\n                  _context2.next = 5;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\");\n\n              case 5:\n                _this.loading = true;\n                api = new userApi[\"a\" /* default */](_this);\n                _context2.prev = 7;\n                _context2.next = 10;\n                return api.replyPosts({\n                  take: 10,\n                  page: _this.page,\n                  zone: _this.zone\n                });\n\n              case 10:\n                data = _context2.sent;\n                _this.fetched = true;\n                _this.list = _this.list.concat(data.list);\n                _this.noMore = data.noMore;\n                _this.page++;\n                _context2.next = 20;\n                break;\n\n              case 17:\n                _context2.prev = 17;\n                _context2.t0 = _context2[\"catch\"](7);\n\n                _this.$toast.error(_context2.t0);\n\n              case 20:\n                _context2.prev = 20;\n                _this.loading = false;\n                return _context2.finish(20);\n\n              case 23:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[7, 17, 20, 23]]);\n      }))();\n    },\n\n    imageFilter(images) {\n      return images.slice(0, 3);\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7acee74a\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/user/show/post.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"user-post\"}},[_vm._ssrNode(\"<div class=\\\"label\\\"><button\"+(_vm._ssrClass(null,{ active: _vm.active === 0 }))+\">发帖</button><button\"+(_vm._ssrClass(null,{ active: _vm.active === 1 }))+\">回帖</button></div>\"),(_vm.active === 0)?_c('post-flow-list',{attrs:{\"user-zone\":_vm.zone}}):(_vm.active === 1)?_c('div',[_c('ul',{attrs:{\"id\":\"posts-of-reply\"}},_vm._l((_vm.list),function(item){return _c('li',{key:item.id},[_c('a',{staticClass:\"header\",attrs:{\"href\":_vm.$alias.post(item.post.id)},domProps:{\"textContent\":_vm._s(item.post.title)}}),_c('a',{staticClass:\"origin\",attrs:{\"href\":_vm.$alias.post(item.post.id, { comment: item.post.id })}},[_c('div',{staticClass:\"content\",domProps:{\"innerHTML\":_vm._s(item.post.content)}}),(item.post.images.length)?_c('div',{staticClass:\"images clearfix\"},[(item.post.images.length === 1)?_c('v-img',{staticClass:\"poster-image\",attrs:{\"src\":item.post.images[0].url,\"width\":\"100%\",\"height\":\"190\"}}):_c('div',{staticClass:\"image-list\"},_vm._l((_vm.imageFilter(item.post.images)),function(image,index){return _c('v-img',{key:index,staticClass:\"image\",attrs:{\"src\":image.url,\"width\":\"32%\",\"height\":\"93\"}})}))],1):_vm._e()]),_c('a',{staticClass:\"reply\",attrs:{\"href\":_vm.$alias.post(item.post.id, { comment: item.post.id, reply: item.id })}},[_c('div',{staticClass:\"content\",domProps:{\"innerHTML\":_vm._s(item.content)}}),(item.images.length)?_c('div',{staticClass:\"images clearfix\"},[(item.images.length === 1)?_c('v-img',{staticClass:\"poster-image\",attrs:{\"src\":item.images[0].url,\"width\":\"100%\",\"height\":\"190\"}}):_c('div',{staticClass:\"image-list\"},_vm._l((_vm.imageFilter(item.images)),function(image,index){return _c('v-img',{key:index,staticClass:\"image\",attrs:{\"src\":image.url,\"width\":\"32%\",\"height\":\"93\"}})}))],1):_vm._e()]),_c('a',{staticClass:\"footer\",attrs:{\"href\":_vm.$alias.bangumi(item.bangumi.id)}},[_vm._v(\"\\n          回复于\\n          \"),_c('span',{domProps:{\"textContent\":_vm._s(item.bangumi.name)}}),_c('v-time',{model:{value:(item.created_at),callback:function ($$v) {_vm.$set(item, \"created_at\", $$v)},expression:\"item.created_at\"}})],1)])})),_c('more-btn',{attrs:{\"no-more\":_vm.noMore,\"loading\":_vm.loading,\"length\":_vm.list.length,\"auto\":true},on:{\"fetch\":function($event){_vm.getUserPosts(false)}}})],1):_vm._e()],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var show_post = (esExports);\n// CONCATENATED MODULE: ./src/views/user/show/post.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(247),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"3bca5ece\"\nvar Component = normalizeComponent(\n  post,\n  show_post,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var user_show_post = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 99:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_regenerator_runtime_runtime__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_regenerator_runtime_runtime___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_regenerator_runtime_runtime__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_asyncToGenerator__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_asyncToGenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_asyncToGenerator__);\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  props: {\n    bangumiId: {\n      type: Number,\n      default: 0\n    },\n    userZone: {\n      type: String,\n      default: \"\"\n    },\n    bangumiName: {\n      type: String,\n      default: \"\"\n    }\n  },\n  computed: {\n    fetchMoreAction() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow/getData\";\n      }\n\n      return \"world/getData\";\n    },\n\n    fetchInitAction() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow/initData\";\n      }\n\n      return \"world/initData\";\n    },\n\n    fetchStore() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow\";\n      }\n\n      return \"world\";\n    },\n\n    fetchSort() {\n      if (this.userZone) {\n        return \"news\";\n      }\n\n      if (this.flowType === \"role\") {\n        return \"hot\";\n      }\n\n      return \"active\";\n    },\n\n    fetchEvent() {\n      if (this.bangumiId) {\n        return `bangumi-tab-switch-${this.flowType}`;\n      }\n\n      if (this.userZone) {\n        return `user-tab-switch-${this.flowType}`;\n      }\n\n      return \"\";\n    },\n\n    source() {\n      return this.$store.state[this.fetchStore][this.flowType][this.fetchSort];\n    },\n\n    showNoContentTips() {\n      return this.bangumiId || this.isMe;\n    },\n\n    isMe() {\n      return this.$store.state.login ? this.$store.state.user.zone === this.userZone : false;\n    }\n\n  },\n  methods: {\n    initData() {\n      var _this = this;\n\n      return __WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_asyncToGenerator___default()(\n      /*#__PURE__*/\n      __WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator___default.a.mark(function _callee() {\n        return __WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator___default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return _this.$store.dispatch(_this.fetchInitAction, {\n                  ctx: _this,\n                  type: _this.flowType,\n                  sort: _this.fetchSort,\n                  userZone: _this.userZone,\n                  bangumiId: _this.bangumiId\n                });\n\n              case 3:\n                _context.next = 8;\n                break;\n\n              case 5:\n                _context.prev = 5;\n                _context.t0 = _context[\"catch\"](0);\n\n                _this.$toast.error(_context.t0);\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 5]]);\n      }))();\n    },\n\n    loadMore() {\n      var _this2 = this;\n\n      return __WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_asyncToGenerator___default()(\n      /*#__PURE__*/\n      __WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator___default.a.mark(function _callee2() {\n        return __WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator___default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                _context2.next = 3;\n                return _this2.$store.dispatch(_this2.fetchMoreAction, {\n                  ctx: _this2,\n                  type: _this2.flowType,\n                  sort: _this2.fetchSort,\n                  userZone: _this2.userZone,\n                  bangumiId: _this2.bangumiId\n                });\n\n              case 3:\n                _context2.next = 8;\n                break;\n\n              case 5:\n                _context2.prev = 5;\n                _context2.t0 = _context2[\"catch\"](0);\n\n                _this2.$toast.error(_context2.t0);\n\n              case 8:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[0, 5]]);\n      }))();\n    }\n\n  },\n\n  mounted() {\n    if (this.fetchEvent && !this.source.list.length) {\n      this.$channel.$on(this.fetchEvent, () => {\n        this.initData();\n        this.$channel.$off(this.fetchEvent);\n      });\n    }\n  }\n\n});\n\n/***/ })\n\n};;",
    "21.server-bundle.js": "exports.ids = [21];\nexports.modules = {\n\n/***/ 159:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/common/Radio.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/**\n * mt-radio\n * @module components/radio\n * @desc 单选框列表，依赖 cell 组件\n *\n * @param {string[], object[]} options - 选项数组，可以传入 [{label: 'label', value: 'value', disabled: true}] 或者 ['ab', 'cd', 'ef']\n * @param {string} value - 选中值\n * @param {string} title - 标题\n * @param {string} [align=left] - checkbox 对齐位置，`left`, `right`\n *\n * @example\n * <mt-radio v-model=\"value\" :options=\"['a', 'b', 'c']\"></mt-radio>\n */\n/* harmony default export */ var Radio = ({\n  name: \"VRadio\",\n  props: {\n    title: {\n      type: String,\n      default: \"\"\n    },\n    align: {\n      type: String,\n      default: \"\"\n    },\n    options: {\n      type: Array,\n      required: true\n    },\n    value: {\n      type: [String, Number],\n      default: \"\"\n    }\n  },\n\n  data() {\n    return {\n      currentValue: this.value\n    };\n  },\n\n  watch: {\n    value(val) {\n      this.currentValue = val;\n    },\n\n    currentValue(val) {\n      this.$emit(\"input\", val);\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-a846a36e\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/Radio.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mint-radiolist\",on:{\"change\":function($event){_vm.$emit('change', _vm.currentValue)}}},[_vm._ssrNode(((_vm.title)?(\"<label class=\\\"mint-radiolist-title\\\">\"+_vm._ssrEscape(_vm._s(_vm.title))+\"</label>\"):\"<!---->\")+(_vm._ssrList((_vm.options),function(option,index){return (\"<div class=\\\"mint-radio-wrap\\\"><label class=\\\"mint-radiolist-label\\\"><span\"+(_vm._ssrClass(\"mint-radio\",{'is-right': _vm.align === 'right'}))+\"><input\"+(_vm._ssrAttr(\"disabled\",option.disabled))+\" type=\\\"radio\\\"\"+(_vm._ssrAttr(\"value\",option.value || option))+(_vm._ssrAttr(\"checked\",_vm._q(_vm.currentValue,option.value || option)))+\" class=\\\"mint-radio-input\\\"><span class=\\\"mint-radio-core\\\"></span></span><span class=\\\"mint-radio-label\\\">\"+_vm._ssrEscape(_vm._s(option.label || option))+\"</span></label></div>\")})))])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var common_Radio = (esExports);\n// CONCATENATED MODULE: ./src/components/common/Radio.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(161),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"7e96f454\"\nvar Component = normalizeComponent(\n  Radio,\n  common_Radio,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_common_Radio = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 161:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(162);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"125c3291\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 162:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.mint-radiolist{text-align:left}.mint-radiolist .mint-radiolist-label{height:48px;display:block;padding:0 10px;position:relative}.mint-radiolist .mint-radiolist-label:before{content:\\\"\\\";position:absolute;left:0;height:1px;width:100%;background-color:#f0f0f0;bottom:0}.mint-radiolist .mint-radiolist-title{font-size:12px;padding:8px;display:block;color:#888;position:relative}.mint-radiolist .mint-radiolist-title:before{content:\\\"\\\";position:absolute;left:0;height:1px;width:100%;background-color:#f0f0f0;bottom:0}.mint-radio-wrap{height:48px;background-color:#fff}.mint-radio{display:inline-block;vertical-align:middle;line-height:48px;height:48px}.mint-radio.is-right{float:right}.mint-radio .mint-radio-input{opacity:0;width:0;height:0}.mint-radio .mint-radio-input:checked+.mint-radio-core{background-color:#26a2ff;border-color:#26a2ff}.mint-radio .mint-radio-input:checked+.mint-radio-core:after{background-color:#fff;-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1)}.mint-radio .mint-radio-input[disabled]+.mint-radio-core{background-color:#d9d9d9;border-color:#ccc}.mint-radio .mint-radio-core{-webkit-box-sizing:border-box;box-sizing:border-box;display:inline-block;background-color:#fff;border-radius:100%;border:1px solid #ccc;position:relative;width:20px;height:20px;vertical-align:middle;top:-2px}.mint-radio .mint-radio-core:after{content:\\\"\\\";border-radius:100%;position:absolute;left:5px;top:5px;width:8px;height:8px;-webkit-transition:-webkit-transform .2s;transition:-webkit-transform .2s;-o-transition:transform .2s;transition:transform .2s;transition:transform .2s,-webkit-transform .2s;-webkit-transform:scale(0);-ms-transform:scale(0);transform:scale(0)}.mint-radio-label{display:inline-block;height:48px;line-height:48px;vertical-align:middle;margin-left:6px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 163:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: external \"@babel/runtime/regenerator\"\nvar regenerator_ = __webpack_require__(0);\nvar regenerator__default = /*#__PURE__*/__webpack_require__.n(regenerator_);\n\n// EXTERNAL MODULE: external \"regenerator-runtime/runtime\"\nvar runtime_ = __webpack_require__(1);\nvar runtime__default = /*#__PURE__*/__webpack_require__.n(runtime_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/asyncToGenerator\"\nvar asyncToGenerator_ = __webpack_require__(2);\nvar asyncToGenerator__default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator_);\n\n// EXTERNAL MODULE: ./src/api/userApi.js\nvar userApi = __webpack_require__(12);\n\n// EXTERNAL MODULE: ./src/components/common/Radio.vue + 2 modules\nvar Radio = __webpack_require__(159);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/user/UserReportForm.vue\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var UserReportForm = ({\n  name: \"UserReportForm\",\n  components: {\n    VRadio: Radio[\"a\" /* default */]\n  },\n  props: {\n    id: {\n      type: [Number, String],\n      default: 0\n    },\n    model: {\n      type: [Number, String],\n      default: 0\n    }\n  },\n\n  data() {\n    return {\n      selectedType: -1,\n      loading: false,\n      content: \"\"\n    };\n  },\n\n  computed: {\n    options1() {\n      return [{\n        label: \"违法违规\",\n        value: 1\n      }, {\n        label: \"色情低俗\",\n        value: 2\n      }, {\n        label: \"赌博诈骗\",\n        value: 3\n      }];\n    },\n\n    options2() {\n      return [{\n        label: \"人身攻击\",\n        value: 4\n      }, {\n        label: \"侵犯隐私\",\n        value: 5\n      }, {\n        label: \"内容抄袭\",\n        value: 6\n      }];\n    },\n\n    options3() {\n      return [{\n        label: \"垃圾广告\",\n        value: 7\n      }, {\n        label: \"恶意引战\",\n        value: 8\n      }, {\n        label: \"重复内容/刷屏\",\n        value: 9\n      }, {\n        label: \"内容不相关\",\n        value: 10\n      }, {\n        label: \"互刷金币\",\n        value: 11\n      }, {\n        label: \"其它\",\n        value: 99\n      }];\n    },\n\n    needContent() {\n      return this.selectedType === 99 || this.selectedType === 6;\n    }\n\n  },\n  methods: {\n    submit() {\n      var _this = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee() {\n        var api;\n        return regenerator__default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!(!_this.id || !_this.model)) {\n                  _context.next = 3;\n                  break;\n                }\n\n                _this.$toast.error(\"参数错误\");\n\n                return _context.abrupt(\"return\");\n\n              case 3:\n                if (!(_this.selectedType < 0)) {\n                  _context.next = 6;\n                  break;\n                }\n\n                _this.$toast.error(\"请选择正确的分类\");\n\n                return _context.abrupt(\"return\");\n\n              case 6:\n                if (!(_this.needContent && !_this.content)) {\n                  _context.next = 9;\n                  break;\n                }\n\n                _this.$toast.error(\"请填写具体情况\");\n\n                return _context.abrupt(\"return\");\n\n              case 9:\n                if (!_this.loading) {\n                  _context.next = 11;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 11:\n                _this.loading = true;\n                api = new userApi[\"a\" /* default */](_this);\n\n                try {\n                  api.report({\n                    id: _this.id,\n                    message: _this.content,\n                    type: _this.selectedType === 99 ? 0 : _this.selectedType,\n                    model: _this.model\n                  });\n                } finally {\n                  _this.loading = false;\n\n                  _this.$toast.success(\"感谢您的反馈！\");\n\n                  _this.content = \"\";\n                  _this.selectedType = -1;\n\n                  _this.$emit(\"success\");\n                }\n\n              case 14:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }))();\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5509bc0e\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/user/UserReportForm.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\",attrs:{\"id\":\"user-report-form\"}},[_c('v-radio',{attrs:{\"options\":_vm.options1,\"title\":\"违反法律法规\"},model:{value:(_vm.selectedType),callback:function ($$v) {_vm.selectedType=$$v},expression:\"selectedType\"}}),_c('v-radio',{attrs:{\"options\":_vm.options2,\"title\":\"侵犯个人权益\"},model:{value:(_vm.selectedType),callback:function ($$v) {_vm.selectedType=$$v},expression:\"selectedType\"}}),_c('v-radio',{attrs:{\"options\":_vm.options3,\"title\":\"有害社区环境\"},model:{value:(_vm.selectedType),callback:function ($$v) {_vm.selectedType=$$v},expression:\"selectedType\"}}),_vm._ssrNode(((_vm.needContent)?(\"<div><p>留言：</p><textarea placeholder=\\\"请说明情况\\\"></textarea></div>\"):\"<!---->\")),_c('el-button',{staticClass:\"submit-btn\",attrs:{\"loading\":_vm.loading,\"type\":\"primary\"},on:{\"click\":_vm.submit}},[_vm._v(\"提交\")])],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var user_UserReportForm = (esExports);\n// CONCATENATED MODULE: ./src/components/user/UserReportForm.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(164),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"de46f350\"\nvar Component = normalizeComponent(\n  UserReportForm,\n  user_UserReportForm,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_user_UserReportForm = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 164:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(165);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"59e87b36\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 165:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}#user-report-form{margin-top:10px}#user-report-form p{font-size:12px;padding:8px;color:#888}#user-report-form textarea{min-height:120px;background-color:#fafafa;padding:10px}#user-report-form .submit-btn{margin-top:15px;margin-bottom:30px;width:100%}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 352:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/components/user/UserReportForm.vue + 2 modules\nvar UserReportForm = __webpack_require__(163);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/app/report.vue\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var report = ({\n  name: \"AppReport\",\n  components: {\n    UserReportForm: UserReportForm[\"a\" /* default */]\n  },\n  computed: {\n    id() {\n      return this.$route.query.id;\n    },\n\n    model() {\n      return this.$route.query.type;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-610ce91f\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/app/report.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('user-report-form',{attrs:{\"id\":_vm.id,\"model\":_vm.model}})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var app_report = (esExports);\n// CONCATENATED MODULE: ./src/views/app/report.vue\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"7edc2c66\"\nvar Component = normalizeComponent(\n  report,\n  app_report,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_app_report = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n};;",
    "22.server-bundle.js": "exports.ids = [22];\nexports.modules = {\n\n/***/ 116:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 123:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./node_modules/element-ui/lib/theme-chalk/rate.css\nvar rate = __webpack_require__(116);\nvar rate_default = /*#__PURE__*/__webpack_require__.n(rate);\n\n// EXTERNAL MODULE: ./node_modules/element-ui/lib/theme-chalk/base.css\nvar base = __webpack_require__(11);\nvar base_default = /*#__PURE__*/__webpack_require__.n(base);\n\n// EXTERNAL MODULE: external \"element-ui/lib/rate\"\nvar rate_ = __webpack_require__(85);\nvar rate__default = /*#__PURE__*/__webpack_require__.n(rate_);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/flow/item/ScoreFlowItem.vue\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var ScoreFlowItem = ({\n  name: \"ScoreFlowItem\",\n  components: {\n    \"el-rate\": rate__default.a\n  },\n  props: {\n    item: {\n      required: true,\n      type: Object\n    },\n    bangumiId: {\n      required: true,\n      type: Number\n    },\n    userZone: {\n      required: true,\n      type: String\n    }\n  },\n\n  data() {\n    return {\n      zero: 0\n    };\n  },\n\n  computed: {\n    pageName() {\n      return this.$route.name;\n    },\n\n    starCount() {\n      return this.item.total / 2;\n    }\n\n  },\n  methods: {\n    linkStart() {\n      this.$router.push(this.$alias.score(this.item.id));\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2f813ab8\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/flow/item/ScoreFlowItem.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"score-flow-item\"},[_vm._ssrNode(\"<div>\",\"</div>\",[(_vm.item.bangumi && _vm.item.user)?_vm._ssrNode(\"<div class=\\\"header trending-header\\\">\",\"</div>\",[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.item.user.zone)))+\" class=\\\"user-avatar\\\">\",\"</a>\",[_c('v-img',{attrs:{\"src\":_vm.item.user.avatar,\"avatar\":true,\"size\":\"35\"}})],1),_vm._ssrNode(\"<div class=\\\"header-content\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"about\\\">\",\"</div>\",[(_vm.starCount)?_c('el-rate',{attrs:{\"disabled\":\"\"},model:{value:(_vm.starCount),callback:function ($$v) {_vm.starCount=$$v},expression:\"starCount\"}}):_c('el-rate',{attrs:{\"disabled\":\"\"},model:{value:(_vm.zero),callback:function ($$v) {_vm.zero=$$v},expression:\"zero\"}}),_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.bangumi(_vm.item.bangumi.id)))+\" class=\\\"bangumi-name oneline\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.bangumi.name))+\"</a>\")],2),_vm._ssrNode(\"<div class=\\\"meta\\\">\",\"</div>\",[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.item.user.zone)))+\" class=\\\"author\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.user.nickname))+\"</a>\\n           · \\n          \"),_c('v-time',{staticClass:\"created-at\",model:{value:(_vm.item.created_at),callback:function ($$v) {_vm.$set(_vm.item, \"created_at\", $$v)},expression:\"item.created_at\"}})],2)])]):(!_vm.item.bangumi)?_vm._ssrNode(\"<div class=\\\"header bangumi-header\\\">\",\"</div>\",[(_vm.starCount)?_c('el-rate',{attrs:{\"disabled\":\"\"},model:{value:(_vm.starCount),callback:function ($$v) {_vm.starCount=$$v},expression:\"starCount\"}}):_c('el-rate',{attrs:{\"disabled\":\"\"},model:{value:(_vm.zero),callback:function ($$v) {_vm.zero=$$v},expression:\"zero\"}}),_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(_vm.item.user.zone)))+\" class=\\\"user\\\">\",\"</a>\",[_vm._ssrNode(\"<div class=\\\"user-avatar\\\">\",\"</div>\",[_c('v-img',{attrs:{\"src\":_vm.item.user.avatar,\"avatar\":true,\"size\":\"35\"}})],1),_vm._ssrNode(\"<div class=\\\"nickname oneline\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.user.nickname))+\"</div>\")],2)],1):(!_vm.item.user)?_vm._ssrNode(\"<div class=\\\"header user-header\\\">\",\"</div>\",[(_vm.starCount)?_c('el-rate',{attrs:{\"disabled\":\"\"},model:{value:(_vm.starCount),callback:function ($$v) {_vm.starCount=$$v},expression:\"starCount\"}}):_c('el-rate',{attrs:{\"disabled\":\"\"},model:{value:(_vm.zero),callback:function ($$v) {_vm.zero=$$v},expression:\"zero\"}}),_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.bangumi(_vm.item.bangumi.id)))+\" class=\\\"bangumi\\\">\",\"</a>\",[_vm._ssrNode(\"<div class=\\\"bangumi-avatar\\\">\",\"</div>\",[_c('v-img',{attrs:{\"src\":_vm.item.bangumi.avatar,\"size\":\"23\"}})],1),_vm._ssrNode(\"<div class=\\\"nickname oneline\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.bangumi.name))+\"</div>\")],2)],1):_vm._e(),_vm._ssrNode(\"<div class=\\\"body\\\"><div class=\\\"title\\\"><p class=\\\"oneline\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.title))+\"</p></div><div class=\\\"content\\\">\"+_vm._ssrEscape(_vm._s(_vm.item.intro))+\"</div></div><div class=\\\"footer\\\">\"+((_vm.item.is_creator)?(\"<span>\"+_vm._ssrEscape(\"\\n        投食\\n        \"+_vm._s(_vm.$utils.shortenNumber(_vm.item.reward_count))+\"\\n      \")+\"</span>\"):(\"<span>\"+_vm._ssrEscape(\"\\n        喜欢\\n        \"+_vm._s(_vm.$utils.shortenNumber(_vm.item.like_count))+\"\\n      \")+\"</span>\"))+\"<span>\"+_vm._ssrEscape(\"\\n        收藏\\n        \"+_vm._s(_vm.$utils.shortenNumber(_vm.item.mark_count))+\"\\n      \")+\"</span><span>\"+_vm._ssrEscape(\"\\n        评论\\n        \"+_vm._s(_vm.$utils.shortenNumber(_vm.item.comment_count))+\"\\n      \")+\"</span></div>\")],2),_vm._ssrNode(\"<div class=\\\"hr\\\"></div>\")],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var item_ScoreFlowItem = (esExports);\n// CONCATENATED MODULE: ./src/components/flow/item/ScoreFlowItem.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(124),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"0548aea9\"\nvar Component = normalizeComponent(\n  ScoreFlowItem,\n  item_ScoreFlowItem,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var flow_item_ScoreFlowItem = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 124:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(125);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"39ee3e48\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 125:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.score-flow-item{padding-top:15px;padding-left:15px;padding-right:15px}.score-flow-item .header{margin-bottom:10px}.score-flow-item .header .el-rate{display:inline-block;vertical-align:middle;height:23px;margin-left:10px;float:right}.score-flow-item .trending-header .user-avatar{margin-right:5px;float:left}.score-flow-item .trending-header .header-content,.score-flow-item .trending-header .header-content .about{overflow:hidden}.score-flow-item .trending-header .header-content .about .bangumi-name{overflow:hidden;display:block;line-height:20px;font-size:12px;vertical-align:middle;color:#333}.score-flow-item .trending-header .header-content .meta{color:#999;font-size:11px;line-height:11px;margin-top:-3px}.score-flow-item .trending-header .header-content .meta a{color:#999;font-size:11px}.score-flow-item .bangumi-header .user{display:block;overflow:hidden}.score-flow-item .bangumi-header .user .user-avatar{margin-right:5px;float:left}.score-flow-item .bangumi-header .user .nickname{overflow:hidden;display:block;line-height:23px;vertical-align:middle;color:#333;font-size:11px}.score-flow-item .user-header .bangumi{display:block;overflow:hidden}.score-flow-item .user-header .bangumi .bangumi-avatar{margin-right:5px;float:left;border-radius:4px}.score-flow-item .user-header .bangumi .nickname{overflow:hidden;display:block;line-height:23px;vertical-align:middle;color:#333;font-size:11px}.score-flow-item .body .title{margin-bottom:5px}.score-flow-item .body .title .nice_badge,.score-flow-item .body .title .top_badge{float:left;height:16px;line-height:18px;color:#fff;cursor:default;font-size:11px;font-weight:700;text-align:center;border-radius:4px;padding:0 4px;margin-right:5px}.score-flow-item .body .title .top_badge{background-color:#00a1d6}.score-flow-item .body .title .nice_badge{background-color:#f25d8e}.score-flow-item .body .title .oneline{color:#4c4c4c;font-weight:700;font-size:14px;line-height:14px;margin-top:0;margin-bottom:0}.score-flow-item .body .content{color:#333;font-size:14px;margin-top:0;margin-bottom:8px;line-height:18px;max-height:36px;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.score-flow-item .footer{height:35px;line-height:30px;width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:distribute;justify-content:space-around;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding-bottom:5px}.score-flow-item .footer span{font-size:12px;color:#666}.score-flow-item .footer .done{color:#00a1d6}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 143:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./src/components/flow/list/_flowListMixin.js\nvar _flowListMixin = __webpack_require__(99);\n\n// EXTERNAL MODULE: ./src/components/flow/item/ScoreFlowItem.vue + 2 modules\nvar ScoreFlowItem = __webpack_require__(123);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/flow/list/ScoreFlowList.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var ScoreFlowList = ({\n  name: \"ScoreFlowList\",\n  components: {\n    ScoreFlowItem: ScoreFlowItem[\"a\" /* default */]\n  },\n  mixins: [_flowListMixin[\"a\" /* default */]],\n\n  data() {\n    return {\n      flowType: \"score\"\n    };\n  }\n\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-daf240ba\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/flow/list/ScoreFlowList.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.source)?_c('div',{attrs:{\"id\":\"score-flow-list\"}},[_vm._ssrNode(\"<ul>\",\"</ul>\",_vm._l((_vm.source.list),function(item){return _c('score-flow-item',{key:item.id,attrs:{\"item\":item,\"bangumi-id\":_vm.bangumiId,\"user-zone\":_vm.userZone}})})),_c('more-btn',{attrs:{\"no-more\":_vm.source.noMore,\"loading\":_vm.source.loading,\"length\":_vm.source.list.length,\"auto\":true},on:{\"fetch\":_vm.loadMore}},[(_vm.showNoContentTips)?[(_vm.bangumiId)?_c('a',{attrs:{\"href\":((_vm.$alias.createScore) + \"?bid=\" + _vm.bangumiId)}},[_c('button',[_vm._v(\"\\n          \"+_vm._s('写下《' + _vm.bangumiName + '》的第一篇漫评')+\"\\n        \")])]):_c('a',{attrs:{\"href\":_vm.$alias.createScore}},[_c('button',[_vm._v(\"写漫评\")])])]:_vm._e()],2)],1):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var list_ScoreFlowList = (esExports);\n// CONCATENATED MODULE: ./src/components/flow/list/ScoreFlowList.vue\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"62cf2f7f\"\nvar Component = normalizeComponent(\n  ScoreFlowList,\n  list_ScoreFlowList,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var flow_list_ScoreFlowList = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 328:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: external \"@babel/runtime/regenerator\"\nvar regenerator_ = __webpack_require__(0);\nvar regenerator__default = /*#__PURE__*/__webpack_require__.n(regenerator_);\n\n// EXTERNAL MODULE: external \"regenerator-runtime/runtime\"\nvar runtime_ = __webpack_require__(1);\nvar runtime__default = /*#__PURE__*/__webpack_require__.n(runtime_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/asyncToGenerator\"\nvar asyncToGenerator_ = __webpack_require__(2);\nvar asyncToGenerator__default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator_);\n\n// EXTERNAL MODULE: ./src/components/flow/list/ScoreFlowList.vue + 2 modules\nvar ScoreFlowList = __webpack_require__(143);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/user/show/score.vue\n\n\n\n//\n//\n//\n//\n\n/* harmony default export */ var score = ({\n  name: \"UserScore\",\n\n  asyncData(_ref) {\n    return asyncToGenerator__default()(\n    /*#__PURE__*/\n    regenerator__default.a.mark(function _callee() {\n      var store, route, ctx;\n      return regenerator__default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              store = _ref.store, route = _ref.route, ctx = _ref.ctx;\n              _context.next = 3;\n              return store.dispatch(\"flow/initData\", {\n                type: \"score\",\n                sort: \"news\",\n                userZone: route.params.zone,\n                ctx\n              });\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }))();\n  },\n\n  components: {\n    ScoreFlowList: ScoreFlowList[\"a\" /* default */]\n  },\n  computed: {\n    zone() {\n      return this.$route.params.zone;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-e0a2cfd4\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/user/show/score.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('score-flow-list',{attrs:{\"user-zone\":_vm.zone}})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var show_score = (esExports);\n// CONCATENATED MODULE: ./src/views/user/show/score.vue\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"6b622ee9\"\nvar Component = normalizeComponent(\n  score,\n  show_score,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var user_show_score = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 99:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_regenerator_runtime_runtime__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_regenerator_runtime_runtime___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_regenerator_runtime_runtime__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_asyncToGenerator__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_asyncToGenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_asyncToGenerator__);\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  props: {\n    bangumiId: {\n      type: Number,\n      default: 0\n    },\n    userZone: {\n      type: String,\n      default: \"\"\n    },\n    bangumiName: {\n      type: String,\n      default: \"\"\n    }\n  },\n  computed: {\n    fetchMoreAction() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow/getData\";\n      }\n\n      return \"world/getData\";\n    },\n\n    fetchInitAction() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow/initData\";\n      }\n\n      return \"world/initData\";\n    },\n\n    fetchStore() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow\";\n      }\n\n      return \"world\";\n    },\n\n    fetchSort() {\n      if (this.userZone) {\n        return \"news\";\n      }\n\n      if (this.flowType === \"role\") {\n        return \"hot\";\n      }\n\n      return \"active\";\n    },\n\n    fetchEvent() {\n      if (this.bangumiId) {\n        return `bangumi-tab-switch-${this.flowType}`;\n      }\n\n      if (this.userZone) {\n        return `user-tab-switch-${this.flowType}`;\n      }\n\n      return \"\";\n    },\n\n    source() {\n      return this.$store.state[this.fetchStore][this.flowType][this.fetchSort];\n    },\n\n    showNoContentTips() {\n      return this.bangumiId || this.isMe;\n    },\n\n    isMe() {\n      return this.$store.state.login ? this.$store.state.user.zone === this.userZone : false;\n    }\n\n  },\n  methods: {\n    initData() {\n      var _this = this;\n\n      return __WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_asyncToGenerator___default()(\n      /*#__PURE__*/\n      __WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator___default.a.mark(function _callee() {\n        return __WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator___default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return _this.$store.dispatch(_this.fetchInitAction, {\n                  ctx: _this,\n                  type: _this.flowType,\n                  sort: _this.fetchSort,\n                  userZone: _this.userZone,\n                  bangumiId: _this.bangumiId\n                });\n\n              case 3:\n                _context.next = 8;\n                break;\n\n              case 5:\n                _context.prev = 5;\n                _context.t0 = _context[\"catch\"](0);\n\n                _this.$toast.error(_context.t0);\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 5]]);\n      }))();\n    },\n\n    loadMore() {\n      var _this2 = this;\n\n      return __WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_asyncToGenerator___default()(\n      /*#__PURE__*/\n      __WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator___default.a.mark(function _callee2() {\n        return __WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator___default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                _context2.next = 3;\n                return _this2.$store.dispatch(_this2.fetchMoreAction, {\n                  ctx: _this2,\n                  type: _this2.flowType,\n                  sort: _this2.fetchSort,\n                  userZone: _this2.userZone,\n                  bangumiId: _this2.bangumiId\n                });\n\n              case 3:\n                _context2.next = 8;\n                break;\n\n              case 5:\n                _context2.prev = 5;\n                _context2.t0 = _context2[\"catch\"](0);\n\n                _this2.$toast.error(_context2.t0);\n\n              case 8:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[0, 5]]);\n      }))();\n    }\n\n  },\n\n  mounted() {\n    if (this.fetchEvent && !this.source.list.length) {\n      this.$channel.$on(this.fetchEvent, () => {\n        this.initData();\n        this.$channel.$off(this.fetchEvent);\n      });\n    }\n  }\n\n});\n\n/***/ })\n\n};;",
    "23.server-bundle.js": "exports.ids = [23];\nexports.modules = {\n\n/***/ 166:\n/***/ (function(module, exports) {\n\nmodule.exports = function escape(url) {\n    if (typeof url !== 'string') {\n        return url\n    }\n    // If url is already wrapped in quotes, remove them\n    if (/^['\"].*['\"]$/.test(url)) {\n        url = url.slice(1, -1);\n    }\n    // Should url be wrapped?\n    // See https://drafts.csswg.org/css-values-3/#urls\n    if (/[\"'() \\t\\n]/.test(url)) {\n        return '\"' + url.replace(/\"/g, '\\\\\"').replace(/\\n/g, '\\\\n') + '\"'\n    }\n\n    return url\n}\n\n\n/***/ }),\n\n/***/ 167:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"src/assets/img/campaign/invite-bg.e3c005f3.png\";\n\n/***/ }),\n\n/***/ 168:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"src/assets/img/campaign/calibur-logo.529ff94b.png\";\n\n/***/ }),\n\n/***/ 260:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(261);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"08ff7da1\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 261:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar escape = __webpack_require__(166);\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#user-invite .capture-wrap .capture-area .main .avatar{border-radius:50%;overflow:hidden;border:1px solid #e5e9ef}@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}#user-invite{background-color:#fff;padding:20px 0}#user-invite .capture-wrap{-webkit-box-shadow:0 4px 10px #ddd;box-shadow:0 4px 10px #ddd;width:300px;height:518px;margin:0 auto 20px;border-radius:5px;overflow:hidden}#user-invite .capture-wrap .capture-area{width:200%;height:200%;-webkit-transform:scale(.5);-ms-transform:scale(.5);transform:scale(.5);-webkit-transform-origin:0 0;-ms-transform-origin:0 0;transform-origin:0 0;padding-top:30px;position:relative;background-color:#fd8ab4}#user-invite .capture-wrap .capture-area #background{position:absolute;left:0;top:0;width:100%;height:100%}#user-invite .capture-wrap .capture-area .main{background-color:#fff;margin:0 30px 30px;border-radius:20px;padding:100px 0 50px;background-image:url(\" + escape(__webpack_require__(167)) + \");background-size:contain;background-repeat:no-repeat}#user-invite .capture-wrap .capture-area .main .avatar{margin:0 auto;border:10px solid #fff;width:200px;height:200px}#user-invite .capture-wrap .capture-area .main .nickname{font-size:42px;font-weight:700;margin-top:10px;margin-left:30px;margin-right:30px;text-align:center;color:#333}#user-invite .capture-wrap .capture-area .main .nickname strong{color:#f25d8e}#user-invite .capture-wrap .capture-area .main .info{font-size:28px;margin-top:20px;text-align:center}#user-invite .capture-wrap .capture-area .main .info strong{color:#f25d8e}#user-invite .capture-wrap .capture-area .main .tags{margin:40px 20px;text-align:center;height:106px;overflow:hidden}#user-invite .capture-wrap .capture-area .main .tags .mint-badge{border-radius:20px;font-size:24px;padding:8px 20px;margin:6px;background-color:#fd8ab4}#user-invite .capture-wrap .capture-area .main .logo{margin:0 auto;width:180px;height:100px;background-image:url(\" + escape(__webpack_require__(168)) + \");background-size:contain;background-repeat:no-repeat}#user-invite .capture-wrap .capture-area .qrcode-wrap{position:relative;margin:0 30px 30px;background-color:#fff;border-radius:20px}#user-invite .capture-wrap .capture-area .qrcode-wrap .qrcode{margin-left:20px;width:200px;height:200px;padding:30px}#user-invite .capture-wrap .capture-area .qrcode-wrap .tips{position:absolute;top:60px;left:220px;margin-top:-24px;font-size:26px;line-height:42px}#user-invite .intros li{list-style-type:disc;font-size:13px;line-height:15px;margin-left:15px;margin-bottom:5px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 333:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: external \"html2canvas\"\nvar external__html2canvas_ = __webpack_require__(88);\nvar external__html2canvas__default = /*#__PURE__*/__webpack_require__.n(external__html2canvas_);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/user/invite.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var invite = ({\n  name: \"PageUserInvite\",\n\n  data() {\n    return {\n      created: false,\n      result: \"\",\n      cartoons: [\"喰种\", \"死亡笔记\", \"刀剑神域\", \"一拳超人\", \"进击的巨人\", \"海贼王\", \"CLANNAD\", \"叛逆的鲁鲁修\", \"七宗罪\", \"JOJO的奇妙冒险\", \"火影忍者\", \"从零开始的异界生活\"]\n    };\n  },\n\n  computed: {\n    user() {\n      return this.$store.state.user;\n    },\n\n    link() {\n      return this.user ? `http://calibur.tv/about/invite/${this.user.id}` : \"\";\n    },\n\n    tags() {\n      return this.$utils.shuffle(this.cartoons).slice(0, 5);\n    }\n\n  },\n\n  mounted() {\n    if (!this.user) {\n      this.$toast.error(\"请先登录\").then(() => {\n        window.location.href = \"/\";\n      });\n      return;\n    }\n\n    this.$nextTick(() => {\n      this.generateQrCode();\n    });\n  },\n\n  methods: {\n    generateQrCode() {\n      __webpack_require__.e/* import() */(48/* duplicate */).then(__webpack_require__.bind(null, 334)).then(ESModule => {\n        var QRCode = ESModule.default;\n        new QRCode(this.$refs.qr, {\n          text: this.link,\n          width: 300,\n          height: 300\n        });\n        setTimeout(() => {\n          this.create();\n        }, 3000);\n      });\n    },\n\n    create() {\n      external__html2canvas__default()(document.querySelector(\".capture-area\"), {\n        allowTaint: false,\n        useCORS: true,\n        backgroundColor: null\n      }).then(canvas => {\n        this.result = canvas.toDataURL(\"image/png\");\n        this.created = true;\n        this.$toast.success(\"长按图片保存\");\n      }).catch(() => {});\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-690ad3be\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/user/invite.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.user)?_c('div',{attrs:{\"id\":\"user-invite\"}},[_vm._ssrNode(\"<div class=\\\"container\\\"><h3 class=\\\"sub-title\\\">\"+_vm._ssrEscape(\"邀请码\"+_vm._s(_vm.created ? '（长按图片可保存到手机相册）' : ''))+\"</h3></div>\"),_vm._ssrNode(\"<div class=\\\"capture-wrap\\\">\",\"</div>\",[(_vm.result)?_vm._ssrNode(\"<img\"+(_vm._ssrAttr(\"src\",_vm.result))+\">\",\"</img>\"):_vm._ssrNode(\"<div class=\\\"capture-area\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"main\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"avatar\\\"><img\"+(_vm._ssrAttr(\"src\",_vm.$resize(_vm.user.avatar, { width: 200 })))+\" crossorigin=\\\"anonymous\\\"></div><p class=\\\"nickname\\\">我是<strong>\"+_vm._ssrEscape(_vm._s(_vm.user.nickname))+\"</strong></p><p class=\\\"info\\\">跟我一起在 <strong>calibur.tv</strong> 追番吧</p>\"),_c('no-ssr',[_c('div',{staticClass:\"tags\"},_vm._l((_vm.tags),function(tag,index){return _c('mt-badge',{key:index,attrs:{\"size\":\"large\"},domProps:{\"textContent\":_vm._s(tag)}})}))]),_vm._ssrNode(\"<div class=\\\"logo\\\"></div>\")],2),_vm._ssrNode(\"<div class=\\\"qrcode-wrap\\\"><div class=\\\"qrcode\\\"></div><p class=\\\"tips\\\"><strong>扫描二维码注册</strong><br><strong>邀请者可获得现金奖励</strong><br>\\n          求扫求转发！\\n        </p></div>\")],2)]),_vm._ssrNode(\"<div class=\\\"container\\\"><h3 class=\\\"sub-title\\\">使用介绍</h3><ul class=\\\"intros\\\"><li>非常感谢大家对 calibur.tv 的支持</li><li>目前网站还在初始阶段，为了促进推广，因此推出了金币功能</li><li>大家除了每日签到、发表原创内容来赚取金币外</li><li>还可以通过邀请朋友注册来赚取金币</li><li>每有一个人通过扫你的二维码注册，你就会获得一枚金币，并会收到短信通知</li><li>1金币 = 1人民币，满 100 金币可提现</li><li>大家快去邀请自己的漫友来 calibur 一起玩耍吧！</li>\"+((_vm.created)?(\"<li>长按图片可保存到手机相册，更方便分享</li>\"):\"<!---->\")+\"</ul></div>\")],2):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var user_invite = (esExports);\n// CONCATENATED MODULE: ./src/views/user/invite.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(260),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"6efe94f2\"\nvar Component = normalizeComponent(\n  invite,\n  user_invite,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_user_invite = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n};;",
    "24.server-bundle.js": "exports.ids = [24];\nexports.modules = {\n\n/***/ 166:\n/***/ (function(module, exports) {\n\nmodule.exports = function escape(url) {\n    if (typeof url !== 'string') {\n        return url\n    }\n    // If url is already wrapped in quotes, remove them\n    if (/^['\"].*['\"]$/.test(url)) {\n        url = url.slice(1, -1);\n    }\n    // Should url be wrapped?\n    // See https://drafts.csswg.org/css-values-3/#urls\n    if (/[\"'() \\t\\n]/.test(url)) {\n        return '\"' + url.replace(/\"/g, '\\\\\"').replace(/\\n/g, '\\\\n') + '\"'\n    }\n\n    return url\n}\n\n\n/***/ }),\n\n/***/ 167:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"src/assets/img/campaign/invite-bg.e3c005f3.png\";\n\n/***/ }),\n\n/***/ 168:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"src/assets/img/campaign/calibur-logo.529ff94b.png\";\n\n/***/ }),\n\n/***/ 299:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(300);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"2755a212\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 300:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar escape = __webpack_require__(166);\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#app-invite .capture-area .main .avatar{border-radius:50%;overflow:hidden;border:1px solid #e5e9ef}@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}#app-invite{width:100%;min-height:100%;overflow:hidden;background-color:#fb7784}#app-invite .capture-area{width:200%;height:200%;-webkit-transform:scale(.5);-ms-transform:scale(.5);transform:scale(.5);-webkit-transform-origin:0 0;-ms-transform-origin:0 0;transform-origin:0 0;padding-top:30px;position:relative;background-color:#fb7784}#app-invite .capture-area #background{position:absolute;left:0;top:0;width:100%;height:100%}#app-invite .capture-area .main{background-color:#fff;margin:0 30px 30px;border-radius:20px;padding:100px 0 50px;background-image:url(\" + escape(__webpack_require__(167)) + \");background-size:contain;background-repeat:no-repeat}#app-invite .capture-area .main .avatar{margin:0 auto;border:10px solid #fff;width:200px;height:200px}#app-invite .capture-area .main .nickname{font-size:42px;font-weight:700;margin-top:10px;margin-left:30px;margin-right:30px;text-align:center;color:#333}#app-invite .capture-area .main .nickname strong{color:#fb7784}#app-invite .capture-area .main .info{font-size:28px;margin-top:20px;text-align:center}#app-invite .capture-area .main .info strong{color:#fb7784}#app-invite .capture-area .main .tags{margin:40px 20px;text-align:center;height:106px;overflow:hidden}#app-invite .capture-area .main .tags .mint-badge{border-radius:20px;font-size:24px;padding:8px 20px;margin:6px;background-color:#fb7784}#app-invite .capture-area .main .logo{margin:0 auto;width:180px;height:100px;background-image:url(\" + escape(__webpack_require__(168)) + \");background-size:contain;background-repeat:no-repeat}#app-invite .capture-area .qrcode-wrap{position:relative;margin:0 30px 30px;background-color:#fff;border-radius:20px}#app-invite .capture-area .qrcode-wrap .qrcode{margin-left:20px;width:200px;height:200px;padding:30px}#app-invite .capture-area .qrcode-wrap .tips{position:absolute;top:60px;left:220px;margin-top:-24px;font-size:26px;line-height:42px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 351:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: external \"html2canvas\"\nvar external__html2canvas_ = __webpack_require__(88);\nvar external__html2canvas__default = /*#__PURE__*/__webpack_require__.n(external__html2canvas_);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/app/invite.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var invite = ({\n  name: \"AppInvite\",\n\n  data() {\n    return {\n      created: false,\n      result: \"\",\n      cartoons: [\"喰种\", \"死亡笔记\", \"刀剑神域\", \"一拳超人\", \"进击的巨人\", \"海贼王\", \"CLANNAD\", \"叛逆的鲁鲁修\", \"七宗罪\", \"JOJO的奇妙冒险\", \"火影忍者\", \"从零开始的异界生活\"]\n    };\n  },\n\n  computed: {\n    user() {\n      return this.$store.state.user;\n    },\n\n    link() {\n      return this.user ? `https://m.calibur.tv/about/invite/${this.user.id}` : \"https://m.calibur.tv/\";\n    },\n\n    tags() {\n      return this.$utils.shuffle(this.cartoons).slice(0, 5);\n    }\n\n  },\n\n  mounted() {\n    if (!this.user) {\n      this.$toast.error(\"请先登录\");\n      return;\n    }\n\n    this.$nextTick(() => {\n      this.generateQrCode();\n    });\n  },\n\n  methods: {\n    generateQrCode() {\n      __webpack_require__.e/* import() */(48/* duplicate */).then(__webpack_require__.bind(null, 334)).then(ESModule => {\n        var QRCode = ESModule.default;\n        new QRCode(this.$refs.qr, {\n          text: this.link,\n          width: 300,\n          height: 300\n        });\n        setTimeout(() => {\n          this.create();\n        }, 3000);\n      });\n    },\n\n    create() {\n      if (!this.$store.state.ua.ios) {\n        return;\n      }\n\n      external__html2canvas__default()(document.querySelector(\".capture-area\"), {\n        allowTaint: false,\n        useCORS: true,\n        backgroundColor: null\n      }).then(canvas => {\n        this.result = canvas.toDataURL(\"image/png\");\n        this.created = true;\n        this.$toast.success(\"长按图片保存\");\n      }).catch(() => {});\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4dea90dc\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/app/invite.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app-invite\"}},[(_vm.result)?_vm._ssrNode(\"<img\"+(_vm._ssrAttr(\"src\",_vm.result))+\">\",\"</img>\"):(_vm.user)?_vm._ssrNode(\"<div class=\\\"capture-area\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"main\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"avatar\\\"><img\"+(_vm._ssrAttr(\"src\",_vm.$resize(_vm.user.avatar, { width: 200 })))+\" crossorigin=\\\"anonymous\\\"></div><p class=\\\"nickname\\\">我是<strong>\"+_vm._ssrEscape(_vm._s(_vm.user.nickname))+\"</strong></p><p class=\\\"info\\\">跟我一起在 <strong>calibur.tv</strong> 追番吧</p>\"),_c('no-ssr',[_c('div',{staticClass:\"tags\"},_vm._l((_vm.tags),function(tag,index){return _c('mt-badge',{key:index,attrs:{\"size\":\"large\"},domProps:{\"textContent\":_vm._s(tag)}})}))]),_vm._ssrNode(\"<div class=\\\"logo\\\"></div>\")],2),_vm._ssrNode(\"<div class=\\\"qrcode-wrap\\\"><div class=\\\"qrcode\\\"></div><p class=\\\"tips\\\"><strong>扫描二维码注册</strong><br><strong>邀请者可获得现金奖励</strong><br>\\n        求扫求转发！\\n      </p></div>\")],2):_vm._e()])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var app_invite = (esExports);\n// CONCATENATED MODULE: ./src/views/app/invite.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(299),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"d6465dbc\"\nvar Component = normalizeComponent(\n  invite,\n  app_invite,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_app_invite = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n};;",
    "25.server-bundle.js": "exports.ids = [25];\nexports.modules = {\n\n/***/ 120:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/flow/item/PostFlowItem.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var PostFlowItem = ({\n  name: \"PostFlowItem\",\n  props: {\n    item: {\n      required: true,\n      type: Object\n    },\n    bangumiId: {\n      type: Number,\n      default: 0\n    },\n    userZone: {\n      type: String,\n      default: \"\"\n    }\n  },\n  methods: {\n    imageFilter(images) {\n      return images.slice(0, 3);\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-11eca6db\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/flow/item/PostFlowItem.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"post-flow-item\"},[_c('router-link',{attrs:{\"to\":_vm.$alias.post(_vm.item.id),\"tag\":\"div\"}},[_c('div',{staticClass:\"header\"},[(_vm.item.user)?_c('router-link',{staticClass:\"user-avatar\",attrs:{\"to\":_vm.$alias.user(_vm.item.user.zone)}},[_c('v-img',{attrs:{\"src\":_vm.item.user.avatar,\"avatar\":true,\"size\":\"35\"}})],1):_c('router-link',{staticClass:\"bangumi-avatar\",attrs:{\"to\":_vm.$alias.bangumi(_vm.item.bangumi.id)}},[_c('v-img',{attrs:{\"src\":_vm.item.bangumi.avatar,\"size\":\"35\"}})],1),_c('div',{staticClass:\"name\"},[(_vm.item.user)?_c('div',{staticClass:\"clearfix\"},[_c('router-link',{staticClass:\"nickname\",attrs:{\"to\":_vm.$alias.user(_vm.item.user.zone)},domProps:{\"textContent\":_vm._s(_vm.item.user.nickname)}})],1):_c('div',{staticClass:\"clearfix\"},[_c('span',{staticClass:\"nickname\"},[_vm._v(\"发表在\")])]),(_vm.item.bangumi)?[_c('router-link',{attrs:{\"to\":_vm.$alias.bangumi(_vm.item.bangumi.id)},domProps:{\"textContent\":_vm._s(_vm.item.bangumi.name)}}),_c('span',[_vm._v(\" · \")])]:[_c('span',[_vm._v(\"发表于 · \")])],_c('v-time',{model:{value:(_vm.item.created_at),callback:function ($$v) {_vm.$set(_vm.item, \"created_at\", $$v)},expression:\"item.created_at\"}})],2)],1),_c('div',{staticClass:\"body\"},[_c('div',{staticClass:\"title\"},[(_vm.item.top_at && _vm.bangumiId)?_c('div',{staticClass:\"top_badge\"},[_vm._v(\"置顶\")]):_vm._e(),(_vm.item.is_nice)?_c('div',{staticClass:\"nice_badge\"},[_vm._v(\"精\")]):_vm._e(),(_vm.item.is_creator)?_c('div',{staticClass:\"creator_badge\"},[_vm._v(\"原创\")]):_vm._e(),_c('p',{staticClass:\"oneline\",domProps:{\"textContent\":_vm._s(_vm.item.title)}})]),_c('p',{staticClass:\"content\",domProps:{\"textContent\":_vm._s(_vm.item.desc)}}),(_vm.item.images.length)?_c('div',{staticClass:\"images\"},[(_vm.item.images.length === 1)?_c('v-img',{staticClass:\"poster-image\",attrs:{\"src\":_vm.item.images[0].url,\"width\":\"100%\",\"height\":\"160\"}}):_c('div',{staticClass:\"image-list\"},_vm._l((_vm.imageFilter(_vm.item.images)),function(image,index){return _c('v-img',{key:index,staticClass:\"image\",attrs:{\"src\":image.url,\"width\":\"32%\",\"height\":\"93\"}})}))],1):_vm._e()]),_c('div',{staticClass:\"footer\"},[(_vm.item.is_creator)?_c('span',[_vm._v(\"\\n        投食\\n        \"+_vm._s(_vm.$utils.shortenNumber(_vm.item.reward_count))+\"\\n      \")]):_c('span',[_vm._v(\"\\n        喜欢\\n        \"+_vm._s(_vm.$utils.shortenNumber(_vm.item.like_count))+\"\\n      \")]),_c('span',[_vm._v(\"\\n        收藏\\n        \"+_vm._s(_vm.$utils.shortenNumber(_vm.item.mark_count))+\"\\n      \")]),_c('span',[_vm._v(\"\\n        评论\\n        \"+_vm._s(_vm.$utils.shortenNumber(_vm.item.comment_count))+\"\\n      \")])])]),_vm._ssrNode(\"<div class=\\\"hr\\\"></div>\")],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var item_PostFlowItem = (esExports);\n// CONCATENATED MODULE: ./src/components/flow/item/PostFlowItem.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(121),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"2af8b4fb\"\nvar Component = normalizeComponent(\n  PostFlowItem,\n  item_PostFlowItem,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var flow_item_PostFlowItem = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 121:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(122);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"81777b88\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 122:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".post-flow-item .body .images .image-list:after,.post-flow-item .body .images .image-list:before{content:\\\"\\\";clear:both;display:table}@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.post-flow-item{padding-top:15px;padding-left:15px;padding-right:15px}.post-flow-item .header{height:35px;margin-bottom:10px}.post-flow-item .header .user-avatar{margin-right:7px;float:left;position:relative}.post-flow-item .header .bangumi-avatar{margin-right:10px;display:block;float:left;width:35px;height:35px}.post-flow-item .header .bangumi-avatar img{display:block;width:100%;height:auto;overflow:hidden}.post-flow-item .header .name{vertical-align:middle;display:block;overflow:hidden;height:35px}.post-flow-item .header .name .nickname{font-size:14px;line-height:14px;overflow:hidden;margin-top:4px;margin-bottom:0;color:#333}.post-flow-item .header .name a,.post-flow-item .header .name span,.post-flow-item .header .name time{display:block;color:#999;font-size:11px;line-height:11px;margin-top:4px;float:left}.post-flow-item .body .title{margin-bottom:5px}.post-flow-item .body .title .creator_badge,.post-flow-item .body .title .nice_badge,.post-flow-item .body .title .top_badge{float:left;height:14px;line-height:14px;color:#fff;cursor:default;font-size:11px;font-weight:700;text-align:center;border-radius:4px;padding:0 4px;margin-right:5px}.post-flow-item .body .title .top_badge{background-color:#00a1d6}.post-flow-item .body .title .nice_badge{background-color:#f25d8e}.post-flow-item .body .title .creator_badge{background-color:#daa520}.post-flow-item .body .title .oneline{color:#4c4c4c;font-weight:700;font-size:14px;line-height:14px;margin-top:0;margin-bottom:0}.post-flow-item .body .content{color:#333;font-size:14px;margin-top:0;margin-bottom:8px;line-height:18px;max-height:36px;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.post-flow-item .body .images{position:relative;margin-bottom:8px}.post-flow-item .body .images .poster-image img{height:auto;position:absolute;left:0;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);border-radius:4px}.post-flow-item .body .images .image-list .image{float:left;border-radius:4px}.post-flow-item .body .images .image-list .image:not(:last-child){margin-right:2%}.post-flow-item .footer{height:35px;line-height:30px;width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:distribute;justify-content:space-around;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding-bottom:5px}.post-flow-item .footer span{font-size:12px;color:#666}.post-flow-item .footer .done{color:#00a1d6}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 139:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./src/components/flow/list/_flowListMixin.js\nvar _flowListMixin = __webpack_require__(99);\n\n// EXTERNAL MODULE: ./src/components/flow/item/PostFlowItem.vue + 2 modules\nvar PostFlowItem = __webpack_require__(120);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/flow/list/PostFlowList.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var PostFlowList = ({\n  name: \"PostFlowList\",\n  components: {\n    PostFlowItem: PostFlowItem[\"a\" /* default */]\n  },\n  mixins: [_flowListMixin[\"a\" /* default */]],\n\n  data() {\n    return {\n      flowType: \"post\"\n    };\n  },\n\n  computed: {\n    topPosts() {\n      return this.$store.state.bangumi.topPosts;\n    },\n\n    postList() {\n      if (!this.bangumiId) {\n        return this.source.list;\n      }\n\n      return this.source ? this.topPosts.concat(this.source.list) : this.topPosts;\n    }\n\n  },\n  methods: {\n    openCreatePostModal() {\n      if (this.$store.state.login) {\n        this.$channel.$emit(\"drawer-open-write-post\");\n      } else {\n        this.$channel.$emit(\"sign-in\");\n      }\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5b4a6296\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/flow/list/PostFlowList.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.source)?_c('div',{attrs:{\"id\":\"post-flow-list\"}},[_vm._ssrNode(\"<ul>\",\"</ul>\",_vm._l((_vm.postList),function(item){return _c('post-flow-item',{key:item.id,attrs:{\"item\":item,\"bangumi-id\":_vm.bangumiId,\"user-zone\":_vm.userZone}})})),_c('more-btn',{attrs:{\"no-more\":_vm.source.noMore,\"loading\":_vm.source.loading,\"length\":_vm.postList.length,\"auto\":true},on:{\"fetch\":_vm.loadMore}},[(_vm.showNoContentTips)?_c('button',{on:{\"click\":_vm.openCreatePostModal}},[_vm._v(_vm._s(_vm.userZone ? '发表第一篇帖子' : '发表《' + _vm.bangumiName + '》的第一篇帖子'))]):_vm._e()])],1):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var list_PostFlowList = (esExports);\n// CONCATENATED MODULE: ./src/components/flow/list/PostFlowList.vue\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"06235edb\"\nvar Component = normalizeComponent(\n  PostFlowList,\n  list_PostFlowList,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var flow_list_PostFlowList = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 313:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: external \"@babel/runtime/regenerator\"\nvar regenerator_ = __webpack_require__(0);\nvar regenerator__default = /*#__PURE__*/__webpack_require__.n(regenerator_);\n\n// EXTERNAL MODULE: external \"core-js/modules/es6.promise\"\nvar es6_promise_ = __webpack_require__(21);\nvar es6_promise__default = /*#__PURE__*/__webpack_require__.n(es6_promise_);\n\n// EXTERNAL MODULE: external \"core-js/modules/web.dom.iterable\"\nvar web_dom_iterable_ = __webpack_require__(3);\nvar web_dom_iterable__default = /*#__PURE__*/__webpack_require__.n(web_dom_iterable_);\n\n// EXTERNAL MODULE: external \"regenerator-runtime/runtime\"\nvar runtime_ = __webpack_require__(1);\nvar runtime__default = /*#__PURE__*/__webpack_require__.n(runtime_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/asyncToGenerator\"\nvar asyncToGenerator_ = __webpack_require__(2);\nvar asyncToGenerator__default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator_);\n\n// EXTERNAL MODULE: ./src/components/flow/list/PostFlowList.vue + 2 modules\nvar PostFlowList = __webpack_require__(139);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/bangumi/show/post.vue\n\n\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var post = ({\n  name: \"BangumiPost\",\n\n  asyncData(_ref) {\n    return asyncToGenerator__default()(\n    /*#__PURE__*/\n    regenerator__default.a.mark(function _callee() {\n      var route, store, ctx, id;\n      return regenerator__default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              route = _ref.route, store = _ref.store, ctx = _ref.ctx;\n              id = route.params.id;\n              _context.next = 4;\n              return Promise.all([store.dispatch(\"bangumi/getTopPosts\", {\n                ctx,\n                id\n              }), store.dispatch(\"flow/initData\", {\n                type: \"post\",\n                sort: \"active\",\n                bangumiId: id,\n                ctx\n              })]);\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }))();\n  },\n\n  components: {\n    PostFlowList: PostFlowList[\"a\" /* default */]\n  },\n  computed: {\n    info() {\n      return this.$store.state.bangumi.info;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-adde8f5a\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/bangumi/show/post.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.info)?_c('post-flow-list',{attrs:{\"bangumi-id\":_vm.info.id,\"bangumi-name\":_vm.info.name}}):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var show_post = (esExports);\n// CONCATENATED MODULE: ./src/views/bangumi/show/post.vue\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"9163813e\"\nvar Component = normalizeComponent(\n  post,\n  show_post,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var bangumi_show_post = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 99:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_regenerator_runtime_runtime__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_regenerator_runtime_runtime___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_regenerator_runtime_runtime__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_asyncToGenerator__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_asyncToGenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_asyncToGenerator__);\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  props: {\n    bangumiId: {\n      type: Number,\n      default: 0\n    },\n    userZone: {\n      type: String,\n      default: \"\"\n    },\n    bangumiName: {\n      type: String,\n      default: \"\"\n    }\n  },\n  computed: {\n    fetchMoreAction() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow/getData\";\n      }\n\n      return \"world/getData\";\n    },\n\n    fetchInitAction() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow/initData\";\n      }\n\n      return \"world/initData\";\n    },\n\n    fetchStore() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow\";\n      }\n\n      return \"world\";\n    },\n\n    fetchSort() {\n      if (this.userZone) {\n        return \"news\";\n      }\n\n      if (this.flowType === \"role\") {\n        return \"hot\";\n      }\n\n      return \"active\";\n    },\n\n    fetchEvent() {\n      if (this.bangumiId) {\n        return `bangumi-tab-switch-${this.flowType}`;\n      }\n\n      if (this.userZone) {\n        return `user-tab-switch-${this.flowType}`;\n      }\n\n      return \"\";\n    },\n\n    source() {\n      return this.$store.state[this.fetchStore][this.flowType][this.fetchSort];\n    },\n\n    showNoContentTips() {\n      return this.bangumiId || this.isMe;\n    },\n\n    isMe() {\n      return this.$store.state.login ? this.$store.state.user.zone === this.userZone : false;\n    }\n\n  },\n  methods: {\n    initData() {\n      var _this = this;\n\n      return __WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_asyncToGenerator___default()(\n      /*#__PURE__*/\n      __WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator___default.a.mark(function _callee() {\n        return __WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator___default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return _this.$store.dispatch(_this.fetchInitAction, {\n                  ctx: _this,\n                  type: _this.flowType,\n                  sort: _this.fetchSort,\n                  userZone: _this.userZone,\n                  bangumiId: _this.bangumiId\n                });\n\n              case 3:\n                _context.next = 8;\n                break;\n\n              case 5:\n                _context.prev = 5;\n                _context.t0 = _context[\"catch\"](0);\n\n                _this.$toast.error(_context.t0);\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 5]]);\n      }))();\n    },\n\n    loadMore() {\n      var _this2 = this;\n\n      return __WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_asyncToGenerator___default()(\n      /*#__PURE__*/\n      __WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator___default.a.mark(function _callee2() {\n        return __WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator___default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                _context2.next = 3;\n                return _this2.$store.dispatch(_this2.fetchMoreAction, {\n                  ctx: _this2,\n                  type: _this2.flowType,\n                  sort: _this2.fetchSort,\n                  userZone: _this2.userZone,\n                  bangumiId: _this2.bangumiId\n                });\n\n              case 3:\n                _context2.next = 8;\n                break;\n\n              case 5:\n                _context2.prev = 5;\n                _context2.t0 = _context2[\"catch\"](0);\n\n                _this2.$toast.error(_context2.t0);\n\n              case 8:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[0, 5]]);\n      }))();\n    }\n\n  },\n\n  mounted() {\n    if (this.fetchEvent && !this.source.list.length) {\n      this.$channel.$on(this.fetchEvent, () => {\n        this.initData();\n        this.$channel.$off(this.fetchEvent);\n      });\n    }\n  }\n\n});\n\n/***/ })\n\n};;",
    "26.server-bundle.js": "exports.ids = [26];\nexports.modules = {\n\n/***/ 226:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(227);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"46b6f026\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 227:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}#bangumi-show .bangumi-tabs{background-color:#fff;position:relative;height:40px;padding-left:15px;padding-right:15px;width:100%;font-size:0}#bangumi-show .bangumi-tabs:after{content:\\\"\\\";position:absolute;left:0;right:0;bottom:0;height:1px;background-color:#f0f0f0;-webkit-transform:scaleY(.5);-ms-transform:scaleY(.5);transform:scaleY(.5);margin-left:-15px;margin-right:-15px}#bangumi-show .bangumi-tabs a{height:40px;line-height:40px;color:#000;font-size:14px;display:inline-block;text-align:center;width:14%}#bangumi-show .bangumi-tabs a.router-link-active{position:relative}#bangumi-show .bangumi-tabs a.router-link-active:before{content:\\\"\\\";position:absolute;left:0;bottom:1px;width:100%;height:2px;background:#333;border-radius:3px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 228:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(229);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"73c4d1fa\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 229:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}#bangumi-header{position:relative;width:100%;height:140px;overflow:hidden;-webkit-box-shadow:inset 0 0 15px 0 rgba(0,0,0,.5);box-shadow:inset 0 0 15px 0 rgba(0,0,0,.5);z-index:0}#bangumi-header .img{width:110%;height:140px;margin:-70px -55%;position:absolute;top:50%;left:50%;z-index:-1;background-color:#999;-webkit-filter:blur(2px);filter:blur(2px);filter:progid:DXImageTransform.Microsoft.Blur(PixelRadius=$size,MakeShadow=false)}#bangumi-header .bangumi-mask{width:100%;height:100%;position:absolute;left:0;top:0;background-color:rgba(0,0,0,.3)}#bangumi-header .info{position:absolute;left:0;bottom:0;right:0;color:#fff;text-shadow:0 1px 10px gray;padding:15px}#bangumi-header .info .avatar{width:54px;height:54px;margin-right:12px;float:left;-webkit-box-shadow:0 4px 10px rgba(0,0,0,.2);box-shadow:0 4px 10px rgba(0,0,0,.2)}#bangumi-header .info .follow-button{float:right;margin-top:13px;margin-left:5px;text-shadow:0 1px 10px gray;color:#fff}#bangumi-header .info .follow-button:after{border-color:#fff}#bangumi-header .info .summary{overflow:hidden}#bangumi-header .info .summary .title{font-size:16px;line-height:18px;display:block;margin-bottom:7px}#bangumi-header .info .summary span{font-size:13px;margin-right:12px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 312:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: external \"core-js/modules/web.dom.iterable\"\nvar web_dom_iterable_ = __webpack_require__(3);\nvar web_dom_iterable__default = /*#__PURE__*/__webpack_require__.n(web_dom_iterable_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/regenerator\"\nvar regenerator_ = __webpack_require__(0);\nvar regenerator__default = /*#__PURE__*/__webpack_require__.n(regenerator_);\n\n// EXTERNAL MODULE: external \"regenerator-runtime/runtime\"\nvar runtime_ = __webpack_require__(1);\nvar runtime__default = /*#__PURE__*/__webpack_require__.n(runtime_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/asyncToGenerator\"\nvar asyncToGenerator_ = __webpack_require__(2);\nvar asyncToGenerator__default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator_);\n\n// EXTERNAL MODULE: ./src/components/common/FollowButton.vue + 2 modules\nvar FollowButton = __webpack_require__(23);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/bangumi/BangumiHeader.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var BangumiHeader = ({\n  name: \"VBangumiHeader\",\n  components: {\n    FollowButton: FollowButton[\"a\" /* default */]\n  },\n  computed: {\n    info() {\n      return this.$store.state.bangumi.info;\n    }\n\n  },\n  methods: {\n    actionFollow(result) {\n      this.$store.commit(\"bangumi/SET_FOLLOW\", {\n        result\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7d48bbe6\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/bangumi/BangumiHeader.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.info)?_c('section',{attrs:{\"id\":\"bangumi-header\"}},[_vm._ssrNode(\"<div class=\\\"img bg\\\"\"+(_vm._ssrStyle(null,{ backgroundImage: (\"url(\" + (_vm.$resize(_vm.info.banner, { height: 400, mode: 2 })) + \")\") }, null))+\"></div><div class=\\\"bangumi-mask\\\"></div>\"),_vm._ssrNode(\"<div class=\\\"info\\\">\",\"</div>\",[_vm._ssrNode(\"<img\"+(_vm._ssrAttr(\"src\",_vm.$resize(_vm.info.avatar, { width: 200 })))+\" alt=\\\"avatar\\\" class=\\\"avatar\\\">\"),_c('follow-button',{class:_vm.info.followed ? 'is-followed' : 'not-follow',attrs:{\"id\":_vm.info.id,\"followed\":_vm.info.followed,\"type\":\"bangumi\"},on:{\"submit\":_vm.actionFollow}}),_vm._ssrNode(\"<div class=\\\"summary\\\"><p class=\\\"title oneline\\\">\"+_vm._ssrEscape(_vm._s(_vm.info.name))+\"</p><span>\"+_vm._ssrEscape(\"关注 \"+_vm._s(_vm.$utils.shortenNumber(_vm.info.follow_users.total)))+\"</span></div>\")],2)],2):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var bangumi_BangumiHeader = (esExports);\n// CONCATENATED MODULE: ./src/components/bangumi/BangumiHeader.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(228),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"5518d43e\"\nvar Component = normalizeComponent(\n  BangumiHeader,\n  bangumi_BangumiHeader,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_bangumi_BangumiHeader = (Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/bangumi/show/layout.vue\n\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var layout = ({\n  name: \"BangumiShowLayout\",\n\n  asyncData(_ref) {\n    return asyncToGenerator__default()(\n    /*#__PURE__*/\n    regenerator__default.a.mark(function _callee() {\n      var route, store, ctx;\n      return regenerator__default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              route = _ref.route, store = _ref.store, ctx = _ref.ctx;\n              _context.next = 3;\n              return store.dispatch(\"bangumi/getBangumi\", {\n                ctx,\n                id: route.params.id\n              });\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }))();\n  },\n\n  components: {\n    BangumiHeader: components_bangumi_BangumiHeader\n  },\n\n  head() {\n    if (!this.id) {\n      return;\n    }\n\n    var keywords = this.info.alias;\n    this.tags.forEach(tag => {\n      keywords += `,${tag.name}`;\n    });\n    var name = this.info.name;\n    keywords += `${keywords}, ${name}动漫, ${name}动画片, ${name}全集, ${name}在线观看, ${name}吧`;\n    var desc = this.info.summary;\n    return {\n      title: `${name} - 番剧`,\n      meta: [{\n        hid: \"description\",\n        name: \"description\",\n        content: desc\n      }, {\n        hid: \"keywords\",\n        name: \"keywords\",\n        content: keywords\n      }],\n      script: [{\n        hid: \"share-data\",\n        innerHTML: JSON.stringify({\n          title: name,\n          description: desc,\n          imageUrl: this.info.avatar\n        }),\n        type: \"application/json\"\n      }]\n    };\n  },\n\n  computed: {\n    id() {\n      return +this.$route.params.id;\n    },\n\n    info() {\n      return this.$store.state.bangumi.info;\n    },\n\n    tags() {\n      return this.info.tags;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6a8d67bc\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/bangumi/show/layout.vue\nvar layout_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"bangumi-show\"}},[_c('bangumi-header'),_vm._ssrNode(\"<div>\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"bangumi-tabs\\\">\",\"</div>\",[_c('router-link',{attrs:{\"to\":_vm.$alias.bangumi(_vm.id, 'post')}},[_vm._v(\"帖子\")]),(_vm.info.has_video)?_c('router-link',{attrs:{\"to\":_vm.$alias.bangumi(_vm.id, 'video')}},[_vm._v(\"视频\")]):_vm._e(),(_vm.info.has_cartoon)?_c('router-link',{attrs:{\"to\":_vm.$alias.bangumi(_vm.id, 'cartoon')}},[_vm._v(\"漫画\")]):_vm._e(),_c('router-link',{attrs:{\"to\":_vm.$alias.bangumi(_vm.id, 'role')}},[_vm._v(\"偶像\")]),_c('router-link',{attrs:{\"to\":_vm.$alias.bangumi(_vm.id, 'pins')}},[_vm._v(\"相册\")]),_c('router-link',{attrs:{\"to\":_vm.$alias.bangumi(_vm.id, 'qaq')}},[_vm._v(\"问答\")]),_c('router-link',{attrs:{\"to\":_vm.$alias.bangumi(_vm.id, 'review')}},[_vm._v(\"漫评\")])],1),_c('router-view')],1)],1)}\nvar layout_staticRenderFns = []\nvar layout_esExports = { render: layout_render, staticRenderFns: layout_staticRenderFns }\n/* harmony default export */ var show_layout = (layout_esExports);\n// CONCATENATED MODULE: ./src/views/bangumi/show/layout.vue\nfunction layout_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(226),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar layout_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar layout___vue_template_functional__ = false\n/* styles */\nvar layout___vue_styles__ = layout_injectStyle\n/* scopeId */\nvar layout___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar layout___vue_module_identifier__ = \"0f8be6ab\"\nvar layout_Component = layout_normalizeComponent(\n  layout,\n  show_layout,\n  layout___vue_template_functional__,\n  layout___vue_styles__,\n  layout___vue_scopeId__,\n  layout___vue_module_identifier__\n)\n\n/* harmony default export */ var bangumi_show_layout = __webpack_exports__[\"default\"] = (layout_Component.exports);\n\n\n/***/ })\n\n};;",
    "27.server-bundle.js": "exports.ids = [27];\nexports.modules = {\n\n/***/ 295:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(296);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"330ee764\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 296:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}#app-handbook{font-size:12px;line-height:20px}#app-handbook .title{height:48px;line-height:48px;font-weight:500;font-size:13px;padding-left:15px;position:relative}#app-handbook .title:before{content:\\\"\\\";position:absolute;left:0;top:16px;width:5px;height:16px;background-color:#ff8eb3;border-radius:2px}#app-handbook .p,#app-handbook .subtitle{margin-bottom:5px}#app-handbook .p{text-indent:2em;font-size:12px;line-height:20px}#app-handbook .strong{color:#ff8eb3;font-weight:700}#app-handbook ul{margin-left:2em;margin-bottom:5px}#app-handbook li{list-style-type:disc;font-size:12px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 297:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 298:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 350:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./node_modules/element-ui/lib/theme-chalk/collapse-item.css\nvar collapse_item = __webpack_require__(297);\nvar collapse_item_default = /*#__PURE__*/__webpack_require__.n(collapse_item);\n\n// EXTERNAL MODULE: ./node_modules/element-ui/lib/theme-chalk/base.css\nvar base = __webpack_require__(11);\nvar base_default = /*#__PURE__*/__webpack_require__.n(base);\n\n// EXTERNAL MODULE: external \"element-ui/lib/collapse-item\"\nvar collapse_item_ = __webpack_require__(97);\nvar collapse_item__default = /*#__PURE__*/__webpack_require__.n(collapse_item_);\n\n// EXTERNAL MODULE: ./node_modules/element-ui/lib/theme-chalk/collapse.css\nvar collapse = __webpack_require__(298);\nvar collapse_default = /*#__PURE__*/__webpack_require__.n(collapse);\n\n// EXTERNAL MODULE: external \"element-ui/lib/collapse\"\nvar collapse_ = __webpack_require__(98);\nvar collapse__default = /*#__PURE__*/__webpack_require__.n(collapse_);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/app/handbook.vue\n\n\n\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var handbook = ({\n  name: \"AppHandbook\",\n  components: {\n    \"el-collapse\": collapse__default.a,\n    \"el-collapse-item\": collapse_item__default.a\n  },\n\n  data() {\n    return {\n      activeName: this.$route.query.index || \"\"\n    };\n  }\n\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-420731b4\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/app/handbook.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\",attrs:{\"id\":\"app-handbook\"}},[_c('no-ssr',[_c('el-collapse',{attrs:{\"accordion\":\"\"},model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[_c('el-collapse-item',{attrs:{\"name\":\"1\"}},[_c('h4',{staticClass:\"title\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"\\n          金币系统\\n        \")]),_c('h5',{staticClass:\"subtitle\"},[_vm._v(\"什么是金币系统：\")]),_c('p',{staticClass:\"p\"},[_vm._v(\"\\n          金币系统是 calibur 的一个特点，大家可以通过很多方式获得这种虚拟币，\\n          \"),_c('span',{staticClass:\"strong\"},[_vm._v(\"1金币 = 1人民币，满100金币可提现\")]),_vm._v(\"。\\n        \")]),_c('h5',{staticClass:\"subtitle\"},[_vm._v(\"获得金币的渠道：\")]),_c('ul',[_c('li',[_vm._v(\"每天签到可获得一枚金币（签到获得的金币无法提现，但可以打赏给别人）\")]),_c('li',[_vm._v(\"发表帖子、图片等，在发表时勾选了\\\"原创\\\"，就可以开启投食，其它人可以给你投食\")]),_c('li',[_vm._v(\"每个用户都有自己的邀请码，其它用户注册时输入你的邀请码，每有一个人注册，你就会获得一枚金币\")]),_c('li',[_vm._v(\"抱歉暂不支持氪金~\")])]),_c('h5',{staticClass:\"subtitle\"},[_vm._v(\"失去金币：\")]),_c('ul',[_c('li',[_vm._v(\"当你给其它内容投食时，内容的发表者会获得一枚金币，而你会损失一枚金币\")]),_c('li',[_vm._v(\"当你发表的内容获得金币后，但是被删除了（违规被删除或自己删除），该内容获得的金币就会丢失\")]),_c('li',[_vm._v(\"当你在偶像区为喜欢的角色应援时，每应援一次，金币-1（鉴定真爱的时刻到了，2333）\")]),_c('li',[_vm._v(\"提现的时候，你提多少，就扣多少\")])]),_c('h5',{staticClass:\"subtitle\"},[_vm._v(\"如何提现：\")]),_c('p',{staticClass:\"p\"},[_vm._v(\"\\n          目前不支持自动提现，需加QQ群：\"),_c('span',{staticClass:\"strong\"},[_vm._v(\"718529809\")]),_vm._v(\"，加群时附上你的邀请码，审核通过后可进群提现\\n        \")]),_c('h5',{staticClass:\"subtitle\"},[_vm._v(\"重要提醒：\")]),_c('p',{staticClass:\"p\"},[_vm._v(\"金币系统是站长送给大家的礼物，希望大家能在二次元付出时间与感情的同时，不仅可以收获精神回报，也能得到物质回报，因此是一项福利，所以不限于以下情况是无法提现的\")]),_c('ul',[_c('li',[_vm._v(\"非原创的内容，却勾选了原创。如：转载他人帖子、转载其他画师的作品，一旦发现，不予提现\")]),_c('li',[_vm._v(\"通过创建多个账号来刷金币，或者操控金币者，无法提现，并可能随时被封号处理\")]),_c('li',[_vm._v(\"「不利于社区发展」的内容，无法提现\")])]),_c('p',{staticClass:\"p\"},[_vm._v(\"\\n          以上措施的目的都是为了维护社区的健康发展，以及公平竞争性，如果有人恶意利用金币规则，绝对严惩。而通过自己的努力付出获得的金币，希望大家踊跃找我来提现。\\n        \")])]),_c('el-collapse-item',{attrs:{\"name\":\"2\"}},[_c('h4',{staticClass:\"title\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"\\n          等级系统\\n        \")]),_c('h5',{staticClass:\"subtitle\"},[_vm._v(\"什么是等级系统：\")]),_c('p',{staticClass:\"p\"},[_vm._v(\"\\n          在 calibur 每个漫友初始等级为 1，通过签到或发表内容可获得经验，经验达到等级要求，就会升级\\n        \")]),_c('h5',{staticClass:\"subtitle\"},[_vm._v(\"等级有什么用：\")]),_c('p',{staticClass:\"p\"},[_vm._v(\"\\n          等级越高可以获得的特权越多，目前等级的作用还比较小，仅有以下作用：\\n        \")]),_c('ul',[_c('li',[_vm._v(\"3级以后才可以看视频\"),_c('span',{staticClass:\"strong\"},[_vm._v(\"（本周更新的连载最新一集没有等级限制）\")])]),_c('li',[_vm._v(\"3级以后才可以发漫评、在问答区提问\"),_c('span',{staticClass:\"strong\"},[_vm._v(\"（目前发表漫评、问答区仅在网页端开放，APP相关还在研发中）\")])])]),_c('h5',{staticClass:\"subtitle\"},[_vm._v(\"如何获得经验：\")]),_c('ul',[_c('li',[_vm._v(\"每日签到：+2\")]),_c('li',[_vm._v(\"发帖子：+4\")]),_c('li',[_vm._v(\"写漫评：+5\")]),_c('li',[_vm._v(\"写回答：+4\")]),_c('li',[_vm._v(\"传图片（限图片区）：+3\")]),_c('li',[_vm._v(\"提问题（限问答区）：+3\")]),_c('li',[_vm._v(\"写评论（包括跟帖）：+2\")]),_c('li',[_vm._v(\"回复评论：+1\")]),_c('li',[_vm._v(\"获得喜欢：+2\")]),_c('li',[_vm._v(\"获得收藏：+2\")]),_c('li',[_vm._v(\"获得金币：+3\")])]),_c('h5',{staticClass:\"subtitle\"},[_vm._v(\"什么情况没有经验：\")]),_c('ul',[_c('li',[_vm._v(\"评论/回复自己的内容\")]),_c('li',[_vm._v(\"发表少于15字的内容，或发表无语意的内容\")]),_c('li',[_vm._v(\"如果内容被删除，会掉经验和等级\")]),_c('li',[_vm._v(\"大量重复刷屏的内容，会被删除\")]),_c('li',[_vm._v(\"没有参与话题讨论的不相关内容，会被删除\")])]),_c('h5',{staticClass:\"subtitle\"},[_vm._v(\"关于水贴：\")]),_c('p',{staticClass:\"p\"},[_vm._v(\"\\n          我知道3级的限制会对新人很不友好，但是没办法，站长没足够的资金去支撑过高的视频流量，因此才限流的，\\n          calibur 还在初始阶段，有很多不完善的地方，很多功能需要站长去开发，但是现在每天都得盯着后台删水贴，浪费了很多时间\\n        \")]),_c('p',{staticClass:\"p\"},[_vm._v(\"\\n          发水贴不仅浪费你自己的时间，肯定会被删掉，经验也会丢失，同时浪费站长的时间，无法为大家提供更好的功能，这样就进入了一个死循环，\\n          还请大家多多谅解，不要水贴了~~~\\n        \")])]),_c('el-collapse-item',{attrs:{\"name\":\"3\"}},[_c('h4',{staticClass:\"title\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"\\n          视频限流\\n        \")]),_c('h5',{staticClass:\"subtitle\"},[_vm._v(\"什么是视频限流\")]),_c('p',{staticClass:\"p\"},[_vm._v(\"\\n          目前 calibur 的视频资源，如果是本周更新的连载新番最新一话，则需要投食才能观看，其它资源都要求用户等级达到3级后才能观看\\n        \")]),_c('p',{staticClass:\"p\"},[_vm._v(\"\\n          也就是说：新番没有等级限制，老番不需要投食\\n        \")]),_c('h5',{staticClass:\"subtitle\"},[_vm._v(\"为什么要限流\")]),_c('p',{staticClass:\"p\"},[_vm._v(\"\\n          因为站长没钱了，目前一个月的视频流量费已经接近两万，我已经支持不起了，再这么下去就得吃土了\\n        \")]),_c('h5',{staticClass:\"subtitle\"},[_vm._v(\"限流规则会改变吗\")]),_c('p',{staticClass:\"p\"},[_vm._v(\"\\n          限流的原因也就是因为我没钱了，并且已经产生了欠款，在我的资金恢复正常之前是不会取消限流的，目前的限流策略对\"),_c('span',{staticClass:\"strong\"},[_vm._v(\"新人看旧番\")]),_vm._v(\"很不友好，这是无奈之举\\n        \")]),_c('p',{staticClass:\"p\"},[_vm._v(\"\\n          如果出现大量的人发垃圾内容刷等级迅速达到限流门槛，首先我会去删除内容扣经验，如果我管理不过来了，抱歉我只能提高这个门槛了，所以为了大部分人的权益，不要引导新人发垃圾内容，同时看到水贴就举报吧\\n        \")])]),_c('el-collapse-item',{attrs:{\"name\":\"4\"}},[_c('h4',{staticClass:\"title\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"\\n          分享这里\\n        \")]),_c('h5',{staticClass:\"subtitle\"},[_vm._v(\"是否该分享这么小站？\")]),_c('p',{staticClass:\"p\"},[_vm._v(\"正如其它话题提到的，站长现在比较穷，再来更多的人看视频就要GG了~但还是希望大家把 calibur 分享给身边喜欢二次元的小伙伴，为什么？\")]),_c('p',{staticClass:\"p\"},[_vm._v(\"因为你的分享，新用户的到来，正是对站长长久坚持努力的认可，同时新用户的到来也能够为社区注入新鲜血液，让社区活起来\")]),_c('h5',{staticClass:\"subtitle\"},[_vm._v(\"如何分享这个小站？\")]),_c('p',{staticClass:\"p\"},[_vm._v(\"\\n          每个用户都有自己的邀请码（详见各个主页），把自己的邀请码分享给你的朋友，其他人注册的时候只要填了你的邀请码，那么你就可以获得金币（每注册一个人获得一枚金币）\\n        \")])]),_c('el-collapse-item',{attrs:{\"name\":\"5\"}},[_c('h4',{staticClass:\"title\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"\\n          申请版主\\n        \")]),_c('p',{staticClass:\"p\"},[_vm._v(\"如果你成为了吧主，那就代表你成为了这里重要的一员，因此我们在甄选吧主时会非常谨慎，你起码要满足一下要求：\")]),_c('ul',[_c('li',[_vm._v(\"你要有足够的阅片量，是个真正的漫迷，足够强\")]),_c('li',[_vm._v(\"你要有充足的精力和耐心，与 calibur 一同成长\")]),_c('li',[_vm._v(\"你要有负责人的精神，不能滥用权限\")]),_c('li',[_vm._v(\"你要待人和善，不能有意伤害其他漫友\")]),_c('li',[_vm._v(\"思想正直，是社会主义的接班人~\")])]),_c('p',{staticClass:\"p\"},[_vm._v(\"如果你满足以上条件，请尽快联系我们\"),_c('span',{staticClass:\"strong\"},[_vm._v(\"QQ群：106402736\")]),_vm._v(\"，组织需要你！\")])]),_c('el-collapse-item',{attrs:{\"name\":\"6\"}},[_c('h4',{staticClass:\"title\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"\\n          尾巴\\n        \")]),_c('p',{staticClass:\"p\"},[_vm._v(\"一开始我只是因为喜欢动漫，从而萌生了创建 calibur 的这个想法，时至今日从我第一天开始坚持到现在已经过了3年，我经历了很久很久一段\\\"无人问津\\\"的时期，如今能坚持到与大家相见非常的开心，感谢大家来到这里\")]),_c('p',{staticClass:\"p\"},[_vm._v(\"\\n          calibur 建设的初衷是：\\n          \"),_c('span',{staticClass:\"strong\"},[_vm._v(\"为了让喜欢动漫的人，在为动漫付出的同时，既可以得到精神上的回报，也可以获得物质上的奖励\")]),_vm._v(\"，\\n          让大家\"),_c('span',{staticClass:\"strong\"},[_vm._v(\"不需要再用爱来发电\")]),_vm._v(\"，\\n          因此有了金币系统，并且我坚持让金币可提现，都是为了贯彻我的初衷，保持最初的\\\"纯粹\\\"\\n        \")]),_c('p',{staticClass:\"p\"},[_vm._v(\"\\n          然而 calibur 目前仍然处于初级阶段，有很多不完善的地方，这得给大家说声抱歉，我还做的不够好，必须继续努力\\n        \")]),_c('p',{staticClass:\"p\"},[_vm._v(\"\\n          calibur 的定位是一个「二次元社区」，因此重要的就是\"),_c('span',{staticClass:\"strong\"},[_vm._v(\"社区氛围\")]),_vm._v(\"与\"),_c('span',{staticClass:\"strong\"},[_vm._v(\"内容质量\")]),_vm._v(\"\\n          如果大家想为 calibur 的成长做一点贡献，希望多发表一些高质量的内容，帮助社区成长\\n        \")]),_c('p',{staticClass:\"p\"},[_vm._v(\"\\n          最后，感谢大家的到来，大家加油！\\n        \")])])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var app_handbook = (esExports);\n// CONCATENATED MODULE: ./src/views/app/handbook.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(295),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"39545b9e\"\nvar Component = normalizeComponent(\n  handbook,\n  app_handbook,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_app_handbook = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n};;",
    "28.server-bundle.js": "exports.ids = [28];\nexports.modules = {\n\n/***/ 140:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./src/components/flow/list/_flowListMixin.js\nvar _flowListMixin = __webpack_require__(99);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/image/ImageWaterfallFlow.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var ImageWaterfallFlow = ({\n  name: \"ImageWaterfallFlow\",\n  components: {\n    waterfall: () => {\n      if (typeof window === \"undefined\") {\n        return __webpack_require__.e/* import() */(47/* duplicate */).then(__webpack_require__.bind(null, 304));\n      }\n\n      return new Promise(function(resolve) { resolve(); }).then(__webpack_require__.bind(null, 305));\n    },\n    \"waterfall-slot\": () => {\n      if (typeof window === \"undefined\") {\n        return __webpack_require__.e/* import() */(47/* duplicate */).then(__webpack_require__.bind(null, 304));\n      }\n\n      return new Promise(function(resolve) { resolve(); }).then(__webpack_require__.bind(null, 306));\n    }\n  },\n  props: {\n    list: {\n      required: true,\n      type: Array,\n      default: () => []\n    },\n    bangumiId: {\n      type: Number,\n      default: 0\n    },\n    userZone: {\n      type: String,\n      default: \"\"\n    },\n    width: {\n      type: Number,\n      default: 145\n    }\n  },\n  methods: {\n    computeBoxHeight(image) {\n      return this.computeImageHeight(image) + 106;\n    },\n\n    computeImageHeight(image) {\n      if (!image) {\n        return 0;\n      }\n\n      var result = parseInt(image.height / image.width * this.width, 10);\n\n      if (result > 240) {\n        return 240;\n      }\n\n      return result;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-e4566d5a\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/image/ImageWaterfallFlow.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"image-waterfall-flow\"}},[_c('no-ssr',[(_vm.list.length)?_c('waterfall',{attrs:{\"line-gap\":_vm.width + 10,\"auto-resize\":false}},_vm._l((_vm.list),function(item,index){return _c('waterfall-slot',{key:item.id,attrs:{\"order\":index,\"width\":_vm.width,\"height\":_vm.computeBoxHeight(item.source)}},[(_vm.computeImageHeight(item.source))?_c('div',{staticClass:\"image\"},[_c('a',{staticClass:\"image-box\",class:{ 'album-box': item.is_album },attrs:{\"href\":_vm.$alias.image(item.id)}},[(item.is_creator)?_c('i',{staticClass:\"is-creator iconfont icon-huangguan\"}):_vm._e(),_c('v-img',{attrs:{\"src\":item.source.url,\"lazy\":false,\"width\":_vm.width,\"height\":_vm.computeImageHeight(item.source)}}),(item.is_album)?_c('div',{staticClass:\"is-album\"},[_c('i',{staticClass:\"el-icon-picture-outline\"}),_c('span',{staticClass:\"image-count\",domProps:{\"textContent\":_vm._s(item.image_count)}})]):_vm._e()],1),_c('div',{staticClass:\"intro\"},[_c('p',{staticClass:\"name oneline\",domProps:{\"textContent\":_vm._s(item.name)}}),_c('div',{staticClass:\"social\"},[(item.is_creator)?_c('span',[_c('i',{staticClass:\"iconfont icon-guanzhu\"}),_vm._v(\"\\n                \"+_vm._s(item.reward_count)+\"\\n              \")]):_c('span',[_c('i',{staticClass:\"iconfont icon-icon_good\"}),_vm._v(\"\\n                \"+_vm._s(item.like_count)+\"\\n              \")]),_c('span',[_c('i',{staticClass:\"iconfont icon-pinglun1\"}),_vm._v(\"\\n                \"+_vm._s(item.comment_count)+\"\\n              \")]),_c('span',[_c('i',{staticClass:\"iconfont icon-pinglun\"}),_vm._v(\"\\n                \"+_vm._s(item.mark_count)+\"\\n              \")])])]),_c('div',{staticClass:\"about\"},[(_vm.userZone)?[_c('a',{staticClass:\"bangumi-avatar\",attrs:{\"href\":_vm.$alias.bangumi(item.bangumi.id)}},[_c('v-img',{attrs:{\"src\":item.bangumi.avatar,\"size\":\"60\"}})],1),_c('div',{staticClass:\"info\"},[_c('a',{staticClass:\"main-name oneline\",attrs:{\"href\":_vm.$alias.bangumi(item.bangumi.id)},domProps:{\"textContent\":_vm._s(item.bangumi.name)}})])]:(_vm.bangumiId)?[_c('a',{staticClass:\"user-avatar\",attrs:{\"href\":_vm.$alias.user(item.user.zone)}},[_c('v-img',{attrs:{\"src\":item.user.avatar,\"size\":\"30\"}})],1),_c('a',{staticClass:\"main-name\",attrs:{\"href\":_vm.$alias.user(item.user.zone)},domProps:{\"textContent\":_vm._s(item.user.nickname)}})]:[_c('a',{staticClass:\"bangumi-avatar\",attrs:{\"href\":_vm.$alias.bangumi(item.bangumi.id)}},[_c('v-img',{attrs:{\"src\":item.bangumi.avatar,\"size\":\"30\"}})],1),_c('div',{staticClass:\"info\"},[_c('p',{staticClass:\"main-info\"},[_c('span',[_vm._v(\"UP：\")]),_c('a',{staticClass:\"oneline\",attrs:{\"href\":_vm.$alias.user(item.user.zone)},domProps:{\"textContent\":_vm._s(item.user.nickname)}})]),_c('a',{staticClass:\"oneline\",attrs:{\"href\":_vm.$alias.bangumi(item.bangumi.id)},domProps:{\"textContent\":_vm._s(item.bangumi.name)}})])]],2)]):_vm._e()])})):_vm._e()],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var image_ImageWaterfallFlow = (esExports);\n// CONCATENATED MODULE: ./src/components/image/ImageWaterfallFlow.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(141),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"42fa3cb8\"\nvar Component = normalizeComponent(\n  ImageWaterfallFlow,\n  image_ImageWaterfallFlow,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_image_ImageWaterfallFlow = (Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/flow/list/ImageFlowList.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var ImageFlowList = ({\n  name: \"ImageFlowList\",\n  components: {\n    ImageWaterfallFlow: components_image_ImageWaterfallFlow\n  },\n  mixins: [_flowListMixin[\"a\" /* default */]],\n\n  data() {\n    return {\n      flowType: \"image\"\n    };\n  },\n\n  methods: {\n    openCreateImageModal() {\n      if (this.$store.state.login) {\n        this.$channel.$emit(\"open-create-image-drawer\");\n      } else {\n        this.$channel.$emit(\"sign-in\");\n      }\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-f0f4ba2e\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/flow/list/ImageFlowList.vue\nvar ImageFlowList_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.source)?_c('div',{attrs:{\"id\":\"image-flow-list\"}},[_vm._ssrNode(\"<div>\",\"</div>\",[_c('image-waterfall-flow',{attrs:{\"list\":_vm.source.list,\"user-zone\":_vm.userZone,\"bangumi-id\":_vm.bangumiId}})],1),_c('more-btn',{attrs:{\"no-more\":_vm.source.noMore,\"loading\":_vm.source.loading,\"length\":_vm.source.list.length,\"auto\":true},on:{\"fetch\":_vm.loadMore}},[(_vm.showNoContentTips)?_c('button',{on:{\"click\":_vm.openCreateImageModal}},[_vm._v(_vm._s(_vm.userZone ? '上传第一张图片' : '上传《' + _vm.bangumiName + '》的第一张图片'))]):_vm._e()])],1):_vm._e()}\nvar ImageFlowList_staticRenderFns = []\nvar ImageFlowList_esExports = { render: ImageFlowList_render, staticRenderFns: ImageFlowList_staticRenderFns }\n/* harmony default export */ var list_ImageFlowList = (ImageFlowList_esExports);\n// CONCATENATED MODULE: ./src/components/flow/list/ImageFlowList.vue\nvar ImageFlowList_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar ImageFlowList___vue_template_functional__ = false\n/* styles */\nvar ImageFlowList___vue_styles__ = null\n/* scopeId */\nvar ImageFlowList___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar ImageFlowList___vue_module_identifier__ = \"6d57b4c8\"\nvar ImageFlowList_Component = ImageFlowList_normalizeComponent(\n  ImageFlowList,\n  list_ImageFlowList,\n  ImageFlowList___vue_template_functional__,\n  ImageFlowList___vue_styles__,\n  ImageFlowList___vue_scopeId__,\n  ImageFlowList___vue_module_identifier__\n)\n\n/* harmony default export */ var flow_list_ImageFlowList = __webpack_exports__[\"a\"] = (ImageFlowList_Component.exports);\n\n\n/***/ }),\n\n/***/ 141:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(142);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"0fd26987\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 142:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#image-waterfall-flow .image .about .user-avatar{border-radius:50%;overflow:hidden;border:1px solid #e5e9ef}@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}#image-waterfall-flow{margin-right:-5px;background-color:#fff}#image-waterfall-flow .vue-waterfall{width:310px;margin:10px auto 0}#image-waterfall-flow .vue-waterfall-slot{padding-right:10px;padding-bottom:10px;margin-left:3px;margin-top:3px}#image-waterfall-flow .image{width:100%;overflow:hidden;-webkit-box-shadow:0 1px 3px rgba(0,0,0,.2);box-shadow:0 1px 3px rgba(0,0,0,.2);background-color:#fafafa}#image-waterfall-flow .image .image-box{position:relative;overflow:hidden;display:block;font-size:0}#image-waterfall-flow .image .image-box.album-box:after{content:\\\"\\\";position:absolute;bottom:0;left:0;width:100%;height:50px;opacity:.3;background-color:transparent;background-image:-webkit-gradient(linear,left top,left bottom,from(transparent),color-stop(20%,rgba(0,0,0,.1)),color-stop(35%,rgba(0,0,0,.2)),color-stop(65%,rgba(0,0,0,.6)),to(rgba(0,0,0,.9)));background-image:-o-linear-gradient(transparent,rgba(0,0,0,.1) 20%,rgba(0,0,0,.2) 35%,rgba(0,0,0,.6) 65%,rgba(0,0,0,.9));background-image:linear-gradient(transparent,rgba(0,0,0,.1) 20%,rgba(0,0,0,.2) 35%,rgba(0,0,0,.6) 65%,rgba(0,0,0,.9))}#image-waterfall-flow .image .image-box .is-creator{font-size:20px;position:absolute;left:5px;top:2px;z-index:1;color:#ffcf00}#image-waterfall-flow .image .image-box .is-album{position:absolute;left:7px;bottom:4px;z-index:1;color:#fff;line-height:20px}#image-waterfall-flow .image .image-box .is-album i{font-size:20px;vertical-align:middle}#image-waterfall-flow .image .image-box .is-album .image-count{margin-left:5px;font-size:14px;vertical-align:middle}#image-waterfall-flow .image .intro{height:55px;padding:5px 15px;background-color:#fff}#image-waterfall-flow .image .intro .name,#image-waterfall-flow .image .intro .social{height:20px;font-size:12px;line-height:20px}#image-waterfall-flow .image .intro .social{color:#99a2aa;margin-top:5px}#image-waterfall-flow .image .intro .social span{margin-right:10px}#image-waterfall-flow .image .intro .social .done{color:#f25d8e}#image-waterfall-flow .image .about{height:51px;padding:10px 15px;border-top:1px solid #f2f2f2}#image-waterfall-flow .image .about .bangumi-avatar{width:30px;height:30px}#image-waterfall-flow .image .about .bangumi-avatar,#image-waterfall-flow .image .about .user-avatar{display:block;margin-right:10px;overflow:hidden;float:left}#image-waterfall-flow .image .about .main-name{line-height:30px;font-size:12px;word-wrap:break-word;color:#6d757a}#image-waterfall-flow .image .about .info{overflow:hidden;font-size:12px;line-height:15px}#image-waterfall-flow .image .about .info .main-info{margin-bottom:2px}#image-waterfall-flow .image .about .info .main-info span{color:#99a2aa;float:left}#image-waterfall-flow .image .about .info a{color:#6d757a;font-size:12px;display:block}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 327:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: external \"@babel/runtime/regenerator\"\nvar regenerator_ = __webpack_require__(0);\nvar regenerator__default = /*#__PURE__*/__webpack_require__.n(regenerator_);\n\n// EXTERNAL MODULE: external \"regenerator-runtime/runtime\"\nvar runtime_ = __webpack_require__(1);\nvar runtime__default = /*#__PURE__*/__webpack_require__.n(runtime_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/asyncToGenerator\"\nvar asyncToGenerator_ = __webpack_require__(2);\nvar asyncToGenerator__default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator_);\n\n// EXTERNAL MODULE: ./src/components/flow/list/ImageFlowList.vue + 5 modules\nvar ImageFlowList = __webpack_require__(140);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/user/show/image.vue\n\n\n\n//\n//\n//\n//\n\n/* harmony default export */ var show_image = ({\n  name: \"UserImage\",\n\n  asyncData(_ref) {\n    return asyncToGenerator__default()(\n    /*#__PURE__*/\n    regenerator__default.a.mark(function _callee() {\n      var store, route, ctx;\n      return regenerator__default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              store = _ref.store, route = _ref.route, ctx = _ref.ctx;\n              _context.next = 3;\n              return store.dispatch(\"flow/initData\", {\n                type: \"image\",\n                sort: \"news\",\n                userZone: route.params.zone,\n                ctx\n              });\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }))();\n  },\n\n  components: {\n    ImageFlowList: ImageFlowList[\"a\" /* default */]\n  },\n  computed: {\n    zone() {\n      return this.$route.params.zone;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-55f2f4ff\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/user/show/image.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('image-flow-list',{attrs:{\"user-zone\":_vm.zone}})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var user_show_image = (esExports);\n// CONCATENATED MODULE: ./src/views/user/show/image.vue\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"8fb5e59c\"\nvar Component = normalizeComponent(\n  show_image,\n  user_show_image,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_user_show_image = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 99:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_regenerator_runtime_runtime__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_regenerator_runtime_runtime___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_regenerator_runtime_runtime__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_asyncToGenerator__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_asyncToGenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_asyncToGenerator__);\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  props: {\n    bangumiId: {\n      type: Number,\n      default: 0\n    },\n    userZone: {\n      type: String,\n      default: \"\"\n    },\n    bangumiName: {\n      type: String,\n      default: \"\"\n    }\n  },\n  computed: {\n    fetchMoreAction() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow/getData\";\n      }\n\n      return \"world/getData\";\n    },\n\n    fetchInitAction() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow/initData\";\n      }\n\n      return \"world/initData\";\n    },\n\n    fetchStore() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow\";\n      }\n\n      return \"world\";\n    },\n\n    fetchSort() {\n      if (this.userZone) {\n        return \"news\";\n      }\n\n      if (this.flowType === \"role\") {\n        return \"hot\";\n      }\n\n      return \"active\";\n    },\n\n    fetchEvent() {\n      if (this.bangumiId) {\n        return `bangumi-tab-switch-${this.flowType}`;\n      }\n\n      if (this.userZone) {\n        return `user-tab-switch-${this.flowType}`;\n      }\n\n      return \"\";\n    },\n\n    source() {\n      return this.$store.state[this.fetchStore][this.flowType][this.fetchSort];\n    },\n\n    showNoContentTips() {\n      return this.bangumiId || this.isMe;\n    },\n\n    isMe() {\n      return this.$store.state.login ? this.$store.state.user.zone === this.userZone : false;\n    }\n\n  },\n  methods: {\n    initData() {\n      var _this = this;\n\n      return __WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_asyncToGenerator___default()(\n      /*#__PURE__*/\n      __WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator___default.a.mark(function _callee() {\n        return __WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator___default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return _this.$store.dispatch(_this.fetchInitAction, {\n                  ctx: _this,\n                  type: _this.flowType,\n                  sort: _this.fetchSort,\n                  userZone: _this.userZone,\n                  bangumiId: _this.bangumiId\n                });\n\n              case 3:\n                _context.next = 8;\n                break;\n\n              case 5:\n                _context.prev = 5;\n                _context.t0 = _context[\"catch\"](0);\n\n                _this.$toast.error(_context.t0);\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 5]]);\n      }))();\n    },\n\n    loadMore() {\n      var _this2 = this;\n\n      return __WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_asyncToGenerator___default()(\n      /*#__PURE__*/\n      __WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator___default.a.mark(function _callee2() {\n        return __WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator___default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                _context2.next = 3;\n                return _this2.$store.dispatch(_this2.fetchMoreAction, {\n                  ctx: _this2,\n                  type: _this2.flowType,\n                  sort: _this2.fetchSort,\n                  userZone: _this2.userZone,\n                  bangumiId: _this2.bangumiId\n                });\n\n              case 3:\n                _context2.next = 8;\n                break;\n\n              case 5:\n                _context2.prev = 5;\n                _context2.t0 = _context2[\"catch\"](0);\n\n                _this2.$toast.error(_context2.t0);\n\n              case 8:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[0, 5]]);\n      }))();\n    }\n\n  },\n\n  mounted() {\n    if (this.fetchEvent && !this.source.list.length) {\n      this.$channel.$on(this.fetchEvent, () => {\n        this.initData();\n        this.$channel.$off(this.fetchEvent);\n      });\n    }\n  }\n\n});\n\n/***/ })\n\n};;",
    "29.server-bundle.js": "exports.ids = [29];\nexports.modules = {\n\n/***/ 140:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: ./src/components/flow/list/_flowListMixin.js\nvar _flowListMixin = __webpack_require__(99);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/image/ImageWaterfallFlow.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var ImageWaterfallFlow = ({\n  name: \"ImageWaterfallFlow\",\n  components: {\n    waterfall: () => {\n      if (typeof window === \"undefined\") {\n        return __webpack_require__.e/* import() */(47/* duplicate */).then(__webpack_require__.bind(null, 304));\n      }\n\n      return new Promise(function(resolve) { resolve(); }).then(__webpack_require__.bind(null, 305));\n    },\n    \"waterfall-slot\": () => {\n      if (typeof window === \"undefined\") {\n        return __webpack_require__.e/* import() */(47/* duplicate */).then(__webpack_require__.bind(null, 304));\n      }\n\n      return new Promise(function(resolve) { resolve(); }).then(__webpack_require__.bind(null, 306));\n    }\n  },\n  props: {\n    list: {\n      required: true,\n      type: Array,\n      default: () => []\n    },\n    bangumiId: {\n      type: Number,\n      default: 0\n    },\n    userZone: {\n      type: String,\n      default: \"\"\n    },\n    width: {\n      type: Number,\n      default: 145\n    }\n  },\n  methods: {\n    computeBoxHeight(image) {\n      return this.computeImageHeight(image) + 106;\n    },\n\n    computeImageHeight(image) {\n      if (!image) {\n        return 0;\n      }\n\n      var result = parseInt(image.height / image.width * this.width, 10);\n\n      if (result > 240) {\n        return 240;\n      }\n\n      return result;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-e4566d5a\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/image/ImageWaterfallFlow.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"image-waterfall-flow\"}},[_c('no-ssr',[(_vm.list.length)?_c('waterfall',{attrs:{\"line-gap\":_vm.width + 10,\"auto-resize\":false}},_vm._l((_vm.list),function(item,index){return _c('waterfall-slot',{key:item.id,attrs:{\"order\":index,\"width\":_vm.width,\"height\":_vm.computeBoxHeight(item.source)}},[(_vm.computeImageHeight(item.source))?_c('div',{staticClass:\"image\"},[_c('a',{staticClass:\"image-box\",class:{ 'album-box': item.is_album },attrs:{\"href\":_vm.$alias.image(item.id)}},[(item.is_creator)?_c('i',{staticClass:\"is-creator iconfont icon-huangguan\"}):_vm._e(),_c('v-img',{attrs:{\"src\":item.source.url,\"lazy\":false,\"width\":_vm.width,\"height\":_vm.computeImageHeight(item.source)}}),(item.is_album)?_c('div',{staticClass:\"is-album\"},[_c('i',{staticClass:\"el-icon-picture-outline\"}),_c('span',{staticClass:\"image-count\",domProps:{\"textContent\":_vm._s(item.image_count)}})]):_vm._e()],1),_c('div',{staticClass:\"intro\"},[_c('p',{staticClass:\"name oneline\",domProps:{\"textContent\":_vm._s(item.name)}}),_c('div',{staticClass:\"social\"},[(item.is_creator)?_c('span',[_c('i',{staticClass:\"iconfont icon-guanzhu\"}),_vm._v(\"\\n                \"+_vm._s(item.reward_count)+\"\\n              \")]):_c('span',[_c('i',{staticClass:\"iconfont icon-icon_good\"}),_vm._v(\"\\n                \"+_vm._s(item.like_count)+\"\\n              \")]),_c('span',[_c('i',{staticClass:\"iconfont icon-pinglun1\"}),_vm._v(\"\\n                \"+_vm._s(item.comment_count)+\"\\n              \")]),_c('span',[_c('i',{staticClass:\"iconfont icon-pinglun\"}),_vm._v(\"\\n                \"+_vm._s(item.mark_count)+\"\\n              \")])])]),_c('div',{staticClass:\"about\"},[(_vm.userZone)?[_c('a',{staticClass:\"bangumi-avatar\",attrs:{\"href\":_vm.$alias.bangumi(item.bangumi.id)}},[_c('v-img',{attrs:{\"src\":item.bangumi.avatar,\"size\":\"60\"}})],1),_c('div',{staticClass:\"info\"},[_c('a',{staticClass:\"main-name oneline\",attrs:{\"href\":_vm.$alias.bangumi(item.bangumi.id)},domProps:{\"textContent\":_vm._s(item.bangumi.name)}})])]:(_vm.bangumiId)?[_c('a',{staticClass:\"user-avatar\",attrs:{\"href\":_vm.$alias.user(item.user.zone)}},[_c('v-img',{attrs:{\"src\":item.user.avatar,\"size\":\"30\"}})],1),_c('a',{staticClass:\"main-name\",attrs:{\"href\":_vm.$alias.user(item.user.zone)},domProps:{\"textContent\":_vm._s(item.user.nickname)}})]:[_c('a',{staticClass:\"bangumi-avatar\",attrs:{\"href\":_vm.$alias.bangumi(item.bangumi.id)}},[_c('v-img',{attrs:{\"src\":item.bangumi.avatar,\"size\":\"30\"}})],1),_c('div',{staticClass:\"info\"},[_c('p',{staticClass:\"main-info\"},[_c('span',[_vm._v(\"UP：\")]),_c('a',{staticClass:\"oneline\",attrs:{\"href\":_vm.$alias.user(item.user.zone)},domProps:{\"textContent\":_vm._s(item.user.nickname)}})]),_c('a',{staticClass:\"oneline\",attrs:{\"href\":_vm.$alias.bangumi(item.bangumi.id)},domProps:{\"textContent\":_vm._s(item.bangumi.name)}})])]],2)]):_vm._e()])})):_vm._e()],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var image_ImageWaterfallFlow = (esExports);\n// CONCATENATED MODULE: ./src/components/image/ImageWaterfallFlow.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(141),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"42fa3cb8\"\nvar Component = normalizeComponent(\n  ImageWaterfallFlow,\n  image_ImageWaterfallFlow,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_image_ImageWaterfallFlow = (Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/flow/list/ImageFlowList.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var ImageFlowList = ({\n  name: \"ImageFlowList\",\n  components: {\n    ImageWaterfallFlow: components_image_ImageWaterfallFlow\n  },\n  mixins: [_flowListMixin[\"a\" /* default */]],\n\n  data() {\n    return {\n      flowType: \"image\"\n    };\n  },\n\n  methods: {\n    openCreateImageModal() {\n      if (this.$store.state.login) {\n        this.$channel.$emit(\"open-create-image-drawer\");\n      } else {\n        this.$channel.$emit(\"sign-in\");\n      }\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-f0f4ba2e\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/flow/list/ImageFlowList.vue\nvar ImageFlowList_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.source)?_c('div',{attrs:{\"id\":\"image-flow-list\"}},[_vm._ssrNode(\"<div>\",\"</div>\",[_c('image-waterfall-flow',{attrs:{\"list\":_vm.source.list,\"user-zone\":_vm.userZone,\"bangumi-id\":_vm.bangumiId}})],1),_c('more-btn',{attrs:{\"no-more\":_vm.source.noMore,\"loading\":_vm.source.loading,\"length\":_vm.source.list.length,\"auto\":true},on:{\"fetch\":_vm.loadMore}},[(_vm.showNoContentTips)?_c('button',{on:{\"click\":_vm.openCreateImageModal}},[_vm._v(_vm._s(_vm.userZone ? '上传第一张图片' : '上传《' + _vm.bangumiName + '》的第一张图片'))]):_vm._e()])],1):_vm._e()}\nvar ImageFlowList_staticRenderFns = []\nvar ImageFlowList_esExports = { render: ImageFlowList_render, staticRenderFns: ImageFlowList_staticRenderFns }\n/* harmony default export */ var list_ImageFlowList = (ImageFlowList_esExports);\n// CONCATENATED MODULE: ./src/components/flow/list/ImageFlowList.vue\nvar ImageFlowList_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar ImageFlowList___vue_template_functional__ = false\n/* styles */\nvar ImageFlowList___vue_styles__ = null\n/* scopeId */\nvar ImageFlowList___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar ImageFlowList___vue_module_identifier__ = \"6d57b4c8\"\nvar ImageFlowList_Component = ImageFlowList_normalizeComponent(\n  ImageFlowList,\n  list_ImageFlowList,\n  ImageFlowList___vue_template_functional__,\n  ImageFlowList___vue_styles__,\n  ImageFlowList___vue_scopeId__,\n  ImageFlowList___vue_module_identifier__\n)\n\n/* harmony default export */ var flow_list_ImageFlowList = __webpack_exports__[\"a\"] = (ImageFlowList_Component.exports);\n\n\n/***/ }),\n\n/***/ 141:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(142);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"0fd26987\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 142:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#image-waterfall-flow .image .about .user-avatar{border-radius:50%;overflow:hidden;border:1px solid #e5e9ef}@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}#image-waterfall-flow{margin-right:-5px;background-color:#fff}#image-waterfall-flow .vue-waterfall{width:310px;margin:10px auto 0}#image-waterfall-flow .vue-waterfall-slot{padding-right:10px;padding-bottom:10px;margin-left:3px;margin-top:3px}#image-waterfall-flow .image{width:100%;overflow:hidden;-webkit-box-shadow:0 1px 3px rgba(0,0,0,.2);box-shadow:0 1px 3px rgba(0,0,0,.2);background-color:#fafafa}#image-waterfall-flow .image .image-box{position:relative;overflow:hidden;display:block;font-size:0}#image-waterfall-flow .image .image-box.album-box:after{content:\\\"\\\";position:absolute;bottom:0;left:0;width:100%;height:50px;opacity:.3;background-color:transparent;background-image:-webkit-gradient(linear,left top,left bottom,from(transparent),color-stop(20%,rgba(0,0,0,.1)),color-stop(35%,rgba(0,0,0,.2)),color-stop(65%,rgba(0,0,0,.6)),to(rgba(0,0,0,.9)));background-image:-o-linear-gradient(transparent,rgba(0,0,0,.1) 20%,rgba(0,0,0,.2) 35%,rgba(0,0,0,.6) 65%,rgba(0,0,0,.9));background-image:linear-gradient(transparent,rgba(0,0,0,.1) 20%,rgba(0,0,0,.2) 35%,rgba(0,0,0,.6) 65%,rgba(0,0,0,.9))}#image-waterfall-flow .image .image-box .is-creator{font-size:20px;position:absolute;left:5px;top:2px;z-index:1;color:#ffcf00}#image-waterfall-flow .image .image-box .is-album{position:absolute;left:7px;bottom:4px;z-index:1;color:#fff;line-height:20px}#image-waterfall-flow .image .image-box .is-album i{font-size:20px;vertical-align:middle}#image-waterfall-flow .image .image-box .is-album .image-count{margin-left:5px;font-size:14px;vertical-align:middle}#image-waterfall-flow .image .intro{height:55px;padding:5px 15px;background-color:#fff}#image-waterfall-flow .image .intro .name,#image-waterfall-flow .image .intro .social{height:20px;font-size:12px;line-height:20px}#image-waterfall-flow .image .intro .social{color:#99a2aa;margin-top:5px}#image-waterfall-flow .image .intro .social span{margin-right:10px}#image-waterfall-flow .image .intro .social .done{color:#f25d8e}#image-waterfall-flow .image .about{height:51px;padding:10px 15px;border-top:1px solid #f2f2f2}#image-waterfall-flow .image .about .bangumi-avatar{width:30px;height:30px}#image-waterfall-flow .image .about .bangumi-avatar,#image-waterfall-flow .image .about .user-avatar{display:block;margin-right:10px;overflow:hidden;float:left}#image-waterfall-flow .image .about .main-name{line-height:30px;font-size:12px;word-wrap:break-word;color:#6d757a}#image-waterfall-flow .image .about .info{overflow:hidden;font-size:12px;line-height:15px}#image-waterfall-flow .image .about .info .main-info{margin-bottom:2px}#image-waterfall-flow .image .about .info .main-info span{color:#99a2aa;float:left}#image-waterfall-flow .image .about .info a{color:#6d757a;font-size:12px;display:block}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 317:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: external \"@babel/runtime/regenerator\"\nvar regenerator_ = __webpack_require__(0);\nvar regenerator__default = /*#__PURE__*/__webpack_require__.n(regenerator_);\n\n// EXTERNAL MODULE: external \"regenerator-runtime/runtime\"\nvar runtime_ = __webpack_require__(1);\nvar runtime__default = /*#__PURE__*/__webpack_require__.n(runtime_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/asyncToGenerator\"\nvar asyncToGenerator_ = __webpack_require__(2);\nvar asyncToGenerator__default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator_);\n\n// EXTERNAL MODULE: ./src/components/flow/list/ImageFlowList.vue + 5 modules\nvar ImageFlowList = __webpack_require__(140);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/bangumi/show/image.vue\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var show_image = ({\n  name: \"BangumiImage\",\n\n  asyncData(_ref) {\n    return asyncToGenerator__default()(\n    /*#__PURE__*/\n    regenerator__default.a.mark(function _callee() {\n      var store, route, ctx;\n      return regenerator__default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              store = _ref.store, route = _ref.route, ctx = _ref.ctx;\n              _context.next = 3;\n              return store.dispatch(\"flow/initData\", {\n                type: \"image\",\n                sort: \"active\",\n                bangumiId: route.params.id,\n                ctx\n              });\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }))();\n  },\n\n  components: {\n    ImageFlowList: ImageFlowList[\"a\" /* default */]\n  },\n  computed: {\n    info() {\n      return this.$store.state.bangumi.info;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5d3eba10\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/bangumi/show/image.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.info)?_c('image-flow-list',{attrs:{\"bangumi-id\":_vm.info.id,\"bangumi-name\":_vm.info.name}}):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var bangumi_show_image = (esExports);\n// CONCATENATED MODULE: ./src/views/bangumi/show/image.vue\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"ed41112c\"\nvar Component = normalizeComponent(\n  show_image,\n  bangumi_show_image,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_bangumi_show_image = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 99:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_regenerator_runtime_runtime__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_regenerator_runtime_runtime___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_regenerator_runtime_runtime__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_asyncToGenerator__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_asyncToGenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_asyncToGenerator__);\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  props: {\n    bangumiId: {\n      type: Number,\n      default: 0\n    },\n    userZone: {\n      type: String,\n      default: \"\"\n    },\n    bangumiName: {\n      type: String,\n      default: \"\"\n    }\n  },\n  computed: {\n    fetchMoreAction() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow/getData\";\n      }\n\n      return \"world/getData\";\n    },\n\n    fetchInitAction() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow/initData\";\n      }\n\n      return \"world/initData\";\n    },\n\n    fetchStore() {\n      if (this.bangumiId || this.userZone) {\n        return \"flow\";\n      }\n\n      return \"world\";\n    },\n\n    fetchSort() {\n      if (this.userZone) {\n        return \"news\";\n      }\n\n      if (this.flowType === \"role\") {\n        return \"hot\";\n      }\n\n      return \"active\";\n    },\n\n    fetchEvent() {\n      if (this.bangumiId) {\n        return `bangumi-tab-switch-${this.flowType}`;\n      }\n\n      if (this.userZone) {\n        return `user-tab-switch-${this.flowType}`;\n      }\n\n      return \"\";\n    },\n\n    source() {\n      return this.$store.state[this.fetchStore][this.flowType][this.fetchSort];\n    },\n\n    showNoContentTips() {\n      return this.bangumiId || this.isMe;\n    },\n\n    isMe() {\n      return this.$store.state.login ? this.$store.state.user.zone === this.userZone : false;\n    }\n\n  },\n  methods: {\n    initData() {\n      var _this = this;\n\n      return __WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_asyncToGenerator___default()(\n      /*#__PURE__*/\n      __WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator___default.a.mark(function _callee() {\n        return __WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator___default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return _this.$store.dispatch(_this.fetchInitAction, {\n                  ctx: _this,\n                  type: _this.flowType,\n                  sort: _this.fetchSort,\n                  userZone: _this.userZone,\n                  bangumiId: _this.bangumiId\n                });\n\n              case 3:\n                _context.next = 8;\n                break;\n\n              case 5:\n                _context.prev = 5;\n                _context.t0 = _context[\"catch\"](0);\n\n                _this.$toast.error(_context.t0);\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 5]]);\n      }))();\n    },\n\n    loadMore() {\n      var _this2 = this;\n\n      return __WEBPACK_IMPORTED_MODULE_2__babel_runtime_helpers_asyncToGenerator___default()(\n      /*#__PURE__*/\n      __WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator___default.a.mark(function _callee2() {\n        return __WEBPACK_IMPORTED_MODULE_0__babel_runtime_regenerator___default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                _context2.next = 3;\n                return _this2.$store.dispatch(_this2.fetchMoreAction, {\n                  ctx: _this2,\n                  type: _this2.flowType,\n                  sort: _this2.fetchSort,\n                  userZone: _this2.userZone,\n                  bangumiId: _this2.bangumiId\n                });\n\n              case 3:\n                _context2.next = 8;\n                break;\n\n              case 5:\n                _context2.prev = 5;\n                _context2.t0 = _context2[\"catch\"](0);\n\n                _this2.$toast.error(_context2.t0);\n\n              case 8:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[0, 5]]);\n      }))();\n    }\n\n  },\n\n  mounted() {\n    if (this.fetchEvent && !this.source.list.length) {\n      this.$channel.$on(this.fetchEvent, () => {\n        this.initData();\n        this.$channel.$off(this.fetchEvent);\n      });\n    }\n  }\n\n});\n\n/***/ })\n\n};;",
    "30.server-bundle.js": "exports.ids = [30];\nexports.modules = {\n\n/***/ 242:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(243);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"3151a777\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 243:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}#user-show .user-banner{position:relative;width:100%;overflow:hidden;z-index:0;height:120px}#user-show .user-banner .img{width:110%;height:120px;margin:-60px -55%;position:absolute;top:50%;left:50%;z-index:-1}#user-show .user-panel{position:relative;z-index:0}#user-show .user-panel .avatar{position:absolute;left:15px;top:-40px}#user-show .user-panel .info{padding-left:90px;padding-bottom:10px}#user-show .user-panel .info .nickname{overflow:hidden;line-height:40px}#user-show .user-panel .info .nickname .level{margin-left:7px;color:#99a2aa}#user-show .user-panel .info button{margin-top:8px;float:right;position:relative;padding:4px 10px;font-size:14px;color:#00a1d6;background-color:transparent;border-radius:8px;white-space:nowrap}#user-show .user-panel .info button:after{content:\\\"\\\";position:absolute;top:0;left:0;border:1px solid #00a1d6;width:200%;height:200%;-webkit-transform:scale(.5);-ms-transform:scale(.5);transform:scale(.5);-webkit-transform-origin:left top;-ms-transform-origin:left top;transform-origin:left top;border-radius:8px}#user-show .user-panel .faker-tips{margin-bottom:5px;padding:8px 16px;border-radius:4px;background-color:#fef0f0;color:#f56c6c;margin-top:10px}#user-show .user-panel .faker-tips span{font-size:13px;line-height:18px;font-weight:700}#user-show .user-panel .faker-tips p{font-size:12px;margin-top:5px}#user-show .user-panel .signature{font-size:13px;line-height:18px}#user-show .user-panel .exp-container{font-size:12px;line-height:14px;margin-bottom:10px;margin-top:10px}#user-show .user-panel .exp-container .title{float:left;font-size:13px}#user-show .user-panel .exp-container .level{float:left;margin-right:5px}#user-show .user-panel .exp-container .detail{float:right;margin-left:6px}#user-show .user-panel .exp-container i{float:right;line-height:16px;font-size:13px;margin-left:3px}#user-show .user-panel .exp-container .el-progress{overflow:hidden}#user-show .user-panel .exp-detail{padding:5px 8px 3px;background-color:#e5e9ef;color:#6d757a;margin-bottom:10px;border-radius:4px;font-size:12px;line-height:20px}#user-show .user-tabs{background-color:#fff;position:relative;height:40px;padding-right:10px;width:100%;font-size:0}#user-show .user-tabs:after{content:\\\"\\\";position:absolute;left:0;right:0;bottom:0;height:1px;background-color:#f0f0f0;-webkit-transform:scaleY(.5);-ms-transform:scaleY(.5);transform:scaleY(.5);margin-left:-15px;margin-right:-15px}#user-show .user-tabs a{height:40px;line-height:40px;color:#000;font-size:14px;display:inline-block;text-align:center;padding-left:15px}#user-show .user-tabs a.router-link-active{position:relative}#user-show .user-tabs a.router-link-active:before{content:\\\"\\\";position:absolute;left:15px;right:0;bottom:1px;height:2px;background:#333;border-radius:3px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 244:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 324:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: external \"@babel/runtime/regenerator\"\nvar regenerator_ = __webpack_require__(0);\nvar regenerator__default = /*#__PURE__*/__webpack_require__.n(regenerator_);\n\n// EXTERNAL MODULE: external \"regenerator-runtime/runtime\"\nvar runtime_ = __webpack_require__(1);\nvar runtime__default = /*#__PURE__*/__webpack_require__.n(runtime_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/asyncToGenerator\"\nvar asyncToGenerator_ = __webpack_require__(2);\nvar asyncToGenerator__default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator_);\n\n// EXTERNAL MODULE: ./node_modules/element-ui/lib/theme-chalk/progress.css\nvar progress = __webpack_require__(244);\nvar progress_default = /*#__PURE__*/__webpack_require__.n(progress);\n\n// EXTERNAL MODULE: ./node_modules/element-ui/lib/theme-chalk/base.css\nvar base = __webpack_require__(11);\nvar base_default = /*#__PURE__*/__webpack_require__.n(base);\n\n// EXTERNAL MODULE: external \"element-ui/lib/progress\"\nvar progress_ = __webpack_require__(93);\nvar progress__default = /*#__PURE__*/__webpack_require__.n(progress_);\n\n// EXTERNAL MODULE: ./src/components/user/UserSex.vue + 2 modules\nvar UserSex = __webpack_require__(26);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/user/show/layout.vue\n\n\n\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var layout = ({\n  name: \"UserShow\",\n  components: {\n    UserSex: UserSex[\"a\" /* default */],\n    \"el-progress\": progress__default.a\n  },\n\n  asyncData(_ref) {\n    return asyncToGenerator__default()(\n    /*#__PURE__*/\n    regenerator__default.a.mark(function _callee() {\n      var route, store, ctx;\n      return regenerator__default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              route = _ref.route, store = _ref.store, ctx = _ref.ctx;\n              _context.next = 3;\n              return store.dispatch(\"users/getUser\", {\n                ctx,\n                zone: route.params.zone\n              });\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }))();\n  },\n\n  head() {\n    var user = this.user;\n\n    if (!user) {\n      return;\n    }\n\n    return {\n      title: `${user.nickname} - 用户`,\n      meta: [{\n        hid: \"description\",\n        name: \"description\",\n        content: user.signature\n      }, {\n        hid: \"keywords\",\n        name: \"keywords\",\n        content: `calibur,用户,天下漫友是一家,${user.zone},${user.nickname}`\n      }]\n    };\n  },\n\n  data() {\n    return {\n      signDayLoading: false,\n      doSign: false,\n      showExpTips: false\n    };\n  },\n\n  computed: {\n    zone() {\n      return this.$route.params.zone;\n    },\n\n    isMe() {\n      return this.$store.state.login ? this.zone === this.self.zone : false;\n    },\n\n    self() {\n      return this.$store.state.user;\n    },\n\n    user() {\n      return this.isMe ? this.self : this.$store.state.users.show;\n    },\n\n    bangumis() {\n      return this.$store.state.users.bangumis;\n    },\n\n    daySigned() {\n      return this.self ? this.self.daySign : false;\n    },\n\n    coinCount() {\n      return this.self ? this.self.coin : 0;\n    },\n\n    withdrawCoinCount() {\n      var result = this.user.coin - this.user.coin_from_sign;\n\n      if (this.doSign) {\n        result -= 1;\n      }\n\n      return result < 0 ? 0 : result;\n    },\n\n    expPercent() {\n      if (!this.isMe) {\n        return 0;\n      }\n\n      return parseInt(this.user.exp.have_exp / this.user.exp.next_level_exp * 100, 10);\n    }\n\n  },\n  methods: {\n    handleDaySign() {\n      var _this = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee2() {\n        var result;\n        return regenerator__default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!(_this.daySigned || _this.signDayLoading)) {\n                  _context2.next = 3;\n                  break;\n                }\n\n                _this.$toast.info(\"今天已签过到\");\n\n                return _context2.abrupt(\"return\");\n\n              case 3:\n                _this.signDayLoading = true;\n                _context2.prev = 4;\n                _context2.next = 7;\n                return _this.$store.dispatch(\"users/daySign\", {\n                  ctx: _this\n                });\n\n              case 7:\n                result = _context2.sent;\n\n                _this.$store.commit(\"SET_USER_INFO\", {\n                  daySign: true,\n                  coin: _this.coinCount + 1\n                });\n\n                _this.doSign = true;\n\n                _this.$toast.success(result.message);\n\n                _this.$store.commit(\"UPDATE_USER_EXP\", result.exp);\n\n                _context2.next = 17;\n                break;\n\n              case 14:\n                _context2.prev = 14;\n                _context2.t0 = _context2[\"catch\"](4);\n\n                _this.$toast.error(_context2.t0);\n\n              case 17:\n                _context2.prev = 17;\n                _this.signDayLoading = false;\n                return _context2.finish(17);\n\n              case 20:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[4, 14, 17, 20]]);\n      }))();\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-e7fe1252\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/user/show/layout.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.user)?_c('div',{attrs:{\"id\":\"user-show\"}},[_vm._ssrNode(\"<div class=\\\"user-banner\\\"><div class=\\\"img bg\\\"\"+(_vm._ssrStyle(null,{ backgroundImage: (\"url(\" + (_vm.$resize(_vm.user.banner, { height: 240, mode: 2 })) + \")\") }, null))+\"></div></div>\"),_vm._ssrNode(\"<div class=\\\"user-panel container\\\">\",\"</div>\",[_c('v-img',{staticClass:\"avatar\",attrs:{\"src\":_vm.user.avatar,\"avatar\":true,\"size\":\"80\"}}),_vm._ssrNode(\"<div class=\\\"info\\\">\",\"</div>\",[_vm._ssrNode(((_vm.isMe)?(\"<button>\"+_vm._ssrEscape(_vm._s(_vm.daySigned ? '已签到' : '签到')+_vm._s(_vm.coinCount ? (\" (\" + _vm.coinCount + \")\") : ''))+\"</button>\"):\"<!---->\")),_vm._ssrNode(\"<div class=\\\"nickname oneline\\\">\",\"</div>\",[_vm._ssrNode(_vm._ssrEscape(\"\\n        \"+_vm._s(_vm.user.nickname)+\"\\n        \")),(_vm.isMe)?_c('user-sex',{attrs:{\"sex\":_vm.user.sex,\"secret\":_vm.user.sexSecret}}):[_c('user-sex',{attrs:{\"sex\":_vm.user.sex,\"secret\":_vm.user.sexSecret}}),_c('span',{staticClass:\"level\"},[_vm._v(\"Lv\"+_vm._s(_vm.user.level))])]],2)],2),_vm._ssrNode(\"<div class=\\\"signature\\\">\",\"</div>\",[(_vm.isMe)?[_vm._ssrNode(\"<p><strong>金币可提现额度（排除签到所得的金币）:</strong>\"+_vm._ssrEscape(\"\\n          \"+_vm._s(_vm.withdrawCoinCount)+\"\\n        \")+\"</p>\"),_vm._ssrNode(\"<div class=\\\"exp-container\\\">\",\"</div>\",[_vm._ssrNode(\"<strong class=\\\"title\\\">等级：</strong><span class=\\\"level\\\">\"+_vm._ssrEscape(\"Lv\"+_vm._s(_vm.user.exp.level))+\"</span><i\"+(_vm._ssrClass(null,_vm.showExpTips ? 'el-icon-arrow-down' : 'el-icon-arrow-right'))+\"></i><span class=\\\"detail\\\">\"+_vm._ssrEscape(_vm._s(_vm.user.exp.have_exp)+\" / \"+_vm._s(_vm.user.exp.next_level_exp))+\"</span>\"),_c('el-progress',{attrs:{\"show-text\":false,\"stroke-width\":14,\"percentage\":_vm.expPercent,\"color\":\"#f25d8e\"}})],2),_vm._ssrNode(((_vm.showExpTips)?(\"<div class=\\\"exp-detail\\\"><ul><li>每日签到：+2</li><li>发帖子：+4</li><li>写漫评：+5</li><li>写回答：+4</li><li>传图片（限图片区）：+3</li><li>提问题（限问答区）：+3</li><li>写评论（包括跟帖）：+2</li><li>回复评论：+1</li><li>获得喜欢：+2</li><li>获得收藏：+2</li><li>获得金币：+3</li></ul><p><strong>评论/回复自己的内容不会获得经验</strong></p><p><strong>少于15字的内容，是没有经验的</strong></p><p><strong>如果内容被删除，会掉经验和等级</strong></p></div>\"):\"<!---->\"))]:_vm._e(),_vm._ssrNode(\"<p><strong>签名：</strong>\"+_vm._ssrEscape(\"\\n        \"+_vm._s(_vm.user.signature || '这个人还很神秘...')+\"\\n      \")+\"</p>\")],2),_vm._ssrNode(((_vm.user.faker)?(\"<div class=\\\"faker-tips\\\"><span>重要提醒</span><p>这是一个运营号，并非本人，该账号下所有信息都是搬运而来</p><p>如果你就是该账号本人，可以联系网站工作人员拿回该账号，该账号通过搬运资源获得的金币也将归你所有</p><p>当然，你也有权要求我们删除所有你的内容</p></div>\"):\"<!---->\"))],2),_vm._ssrNode(\"<div class=\\\"user-tabs\\\">\",\"</div>\",[_c('router-link',{attrs:{\"to\":_vm.$alias.user(_vm.zone, 'bangumi')}},[_vm._v(\"番剧\")]),_c('router-link',{attrs:{\"to\":_vm.$alias.user(_vm.zone, 'post')}},[_vm._v(\"帖子\")]),_c('router-link',{attrs:{\"to\":_vm.$alias.user(_vm.zone, 'pins')}},[_vm._v(\"相册\")]),_c('router-link',{attrs:{\"to\":_vm.$alias.user(_vm.zone, 'qaq')}},[_vm._v(\"问答\")]),_c('router-link',{attrs:{\"to\":_vm.$alias.user(_vm.zone, 'review')}},[_vm._v(\"漫评\")]),_c('router-link',{attrs:{\"to\":_vm.$alias.user(_vm.zone, 'role')}},[_vm._v(\"偶像\")]),(_vm.isMe)?_c('router-link',{attrs:{\"to\":_vm.$alias.user(_vm.zone, 'draft')}},[_vm._v(\"草稿\")]):_vm._e()],1),_c('router-view')],2):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var show_layout = (esExports);\n// CONCATENATED MODULE: ./src/views/user/show/layout.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(242),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"8d0dec3a\"\nvar Component = normalizeComponent(\n  layout,\n  show_layout,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var user_show_layout = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n};;",
    "31.server-bundle.js": "exports.ids = [31];\nexports.modules = {\n\n/***/ 232:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(233);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"0983d3b0\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 233:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#bangumi-cartoon-flow .cartoon .about .user-avatar{border-radius:50%;border:1px solid #e5e9ef}@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}#bangumi-cartoon-flow{background-color:#fff;padding-top:15px}#bangumi-cartoon-flow .sub-title{margin-left:15px;margin-right:15px}#bangumi-cartoon-flow .sub-title button{float:right;font-size:12px;color:#6d757a}#bangumi-cartoon-flow .cartoon-list{width:302px;margin:0 auto}#bangumi-cartoon-flow .cartoon{width:145px;height:316px;float:left;-webkit-box-shadow:0 1px 3px rgba(0,0,0,.2);box-shadow:0 1px 3px rgba(0,0,0,.2);margin:3px 3px 10px;overflow:hidden}#bangumi-cartoon-flow .cartoon .poster-wrap{position:relative;display:block}#bangumi-cartoon-flow .cartoon .poster-wrap:after{content:\\\"\\\";position:absolute;bottom:0;left:0;width:100%;height:50px;opacity:.3;background-color:transparent;background-image:-webkit-gradient(linear,left top,left bottom,from(transparent),color-stop(20%,rgba(0,0,0,.1)),color-stop(35%,rgba(0,0,0,.2)),color-stop(65%,rgba(0,0,0,.6)),to(rgba(0,0,0,.9)));background-image:-o-linear-gradient(transparent,rgba(0,0,0,.1) 20%,rgba(0,0,0,.2) 35%,rgba(0,0,0,.6) 65%,rgba(0,0,0,.9));background-image:linear-gradient(transparent,rgba(0,0,0,.1) 20%,rgba(0,0,0,.2) 35%,rgba(0,0,0,.6) 65%,rgba(0,0,0,.9))}#bangumi-cartoon-flow .cartoon .poster-wrap img{width:100%;height:210px;display:block}#bangumi-cartoon-flow .cartoon .poster-wrap .info{position:absolute;left:7px;bottom:4px;z-index:1;color:#fff;line-height:20px}#bangumi-cartoon-flow .cartoon .poster-wrap .info i{font-size:20px;vertical-align:middle}#bangumi-cartoon-flow .cartoon .poster-wrap .info .image-count{margin-left:5px;font-size:14px;vertical-align:middle}#bangumi-cartoon-flow .cartoon .intro{height:55px;padding:5px 15px;background-color:#fff}#bangumi-cartoon-flow .cartoon .intro .name,#bangumi-cartoon-flow .cartoon .intro .social{height:20px;font-size:12px;line-height:20px}#bangumi-cartoon-flow .cartoon .intro .name{margin-top:3px}#bangumi-cartoon-flow .cartoon .intro .social{color:#99a2aa;margin-top:2px}#bangumi-cartoon-flow .cartoon .intro .social span{margin-right:10px}#bangumi-cartoon-flow .cartoon .intro .social .done{color:#f25d8e}#bangumi-cartoon-flow .cartoon .about{height:51px;padding:10px 15px;border-top:1px solid #f2f2f2}#bangumi-cartoon-flow .cartoon .about .user-avatar{display:block;margin-right:10px;overflow:hidden;float:left}#bangumi-cartoon-flow .cartoon .about .main-name{line-height:30px;font-size:12px;word-wrap:break-word;color:#6d757a}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 315:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: external \"@babel/runtime/regenerator\"\nvar regenerator_ = __webpack_require__(0);\nvar regenerator__default = /*#__PURE__*/__webpack_require__.n(regenerator_);\n\n// EXTERNAL MODULE: external \"regenerator-runtime/runtime\"\nvar runtime_ = __webpack_require__(1);\nvar runtime__default = /*#__PURE__*/__webpack_require__.n(runtime_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/asyncToGenerator\"\nvar asyncToGenerator_ = __webpack_require__(2);\nvar asyncToGenerator__default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator_);\n\n// EXTERNAL MODULE: external \"core-js/modules/es6.array.sort\"\nvar es6_array_sort_ = __webpack_require__(13);\nvar es6_array_sort__default = /*#__PURE__*/__webpack_require__.n(es6_array_sort_);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/bangumi/flows/BangumiCartoonFlow.vue\n\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var BangumiCartoonFlow = ({\n  name: \"VBangumiCartoonFlow\",\n\n  data() {\n    return {\n      loading: false\n    };\n  },\n\n  computed: {\n    cartoons() {\n      return this.$store.state.bangumi.cartoon;\n    },\n\n    info() {\n      return this.$store.state.bangumi.info;\n    },\n\n    sort() {\n      return this.cartoons.sort;\n    },\n\n    sortActions() {\n      return [{\n        name: \"由大到序排序\",\n        method: () => {\n          this.$store.dispatch(\"bangumi/changeCartoonSort\", {\n            sort: \"desc\",\n            ctx: this,\n            bangumiId: this.info.id\n          });\n        }\n      }, {\n        name: \"由小到大排序\",\n        method: () => {\n          this.$store.dispatch(\"bangumi/changeCartoonSort\", {\n            sort: \"asc\",\n            ctx: this,\n            bangumiId: this.info.id\n          });\n        }\n      }];\n    }\n\n  },\n\n  created() {\n    if (!this.cartoons.list.length) {\n      this.getCartoons();\n    }\n  },\n\n  methods: {\n    getCartoons() {\n      var _this = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee() {\n        return regenerator__default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!_this.loading) {\n                  _context.next = 2;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 2:\n                _this.loading = true;\n                _context.prev = 3;\n                _context.next = 6;\n                return _this.$store.dispatch(\"bangumi/getCartoons\", {\n                  ctx: _this,\n                  bangumiId: _this.info.id\n                });\n\n              case 6:\n                _context.next = 11;\n                break;\n\n              case 8:\n                _context.prev = 8;\n                _context.t0 = _context[\"catch\"](3);\n\n                _this.$toast.error(_context.t0);\n\n              case 11:\n                _context.prev = 11;\n                _this.loading = false;\n                return _context.finish(11);\n\n              case 14:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[3, 8, 11, 14]]);\n      }))();\n    },\n\n    openFeedbackForCartoon() {\n      this.$channel.$emit(\"open-feedback\", {\n        type: 7,\n        desc: `我想看《${this.info.name}》的漫画第 {?} 话`,\n        placeholder: \"请填写你要看的集数\"\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-f7c920de\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/bangumi/flows/BangumiCartoonFlow.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"bangumi-cartoon-flow\"}},[(_vm.cartoons.list.length)?[_vm._ssrNode(\"<h3 class=\\\"sub-title\\\">\",\"</h3>\",[_vm._ssrNode(\"<span>\"+_vm._ssrEscape(\"共 \"+_vm._s(_vm.cartoons.total)+\" 集\")+\"</span>\"),_c('v-popover',{attrs:{\"actions\":_vm.sortActions}},[_c('button',[_c('i',{staticClass:\"el-icon-d-caret\"}),_vm._v(\"\\n          排序\\n        \")])])],2),_vm._ssrNode(\"<ul class=\\\"cartoon-list clearfix\\\">\",\"</ul>\",_vm._l((_vm.cartoons.list),function(item){return _vm._ssrNode(\"<li class=\\\"cartoon\\\">\",\"</li>\",[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.image(item.id)))+\"><div class=\\\"poster-wrap\\\"><img\"+(_vm._ssrAttr(\"src\",_vm.$resize(item.source.url, { width: 290, height: 420 })))+\"><div class=\\\"info\\\"><i class=\\\"el-icon-picture-outline\\\"></i><span class=\\\"image-count\\\">\"+_vm._ssrEscape(_vm._s(item.image_count))+\"</span></div></div><div class=\\\"intro\\\"><p class=\\\"name oneline\\\">\"+_vm._ssrEscape(\"【 \"+_vm._s(item.part)+\" 】\"+_vm._s(item.name))+\"</p><div class=\\\"social\\\">\"+((item.like_count)?(\"<span\"+(_vm._ssrClass(null,{ 'done': item.liked }))+\"><i class=\\\"iconfont icon-guanzhu\\\"></i>\"+_vm._ssrEscape(\"\\n                \"+_vm._s(item.like_count)+\"\\n              \")+\"</span>\"):\"<!---->\")+((item.comment_count)?(\"<span\"+(_vm._ssrClass(null,{ 'done': item.commented }))+\"><i class=\\\"iconfont icon-pinglun1\\\"></i>\"+_vm._ssrEscape(\"\\n                \"+_vm._s(item.comment_count)+\"\\n              \")+\"</span>\"):\"<!---->\")+((item.view_count)?(\"<span><i class=\\\"iconfont icon-ai-eye\\\"></i>\"+_vm._ssrEscape(\"\\n                \"+_vm._s(item.view_count)+\"\\n              \")+\"</span>\"):\"<!---->\")+\"</div></div></a>\"),_vm._ssrNode(\"<div class=\\\"about\\\">\",\"</div>\",[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(item.user.zone)))+\" target=\\\"_blank\\\" class=\\\"user-avatar\\\">\",\"</a>\",[_c('v-img',{attrs:{\"src\":item.user.avatar,\"size\":\"30\"}})],1),_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.user(item.user.zone)))+\" target=\\\"_blank\\\" class=\\\"main-name\\\">\"+_vm._ssrEscape(_vm._s(item.user.nickname))+\"</a>\")],2)],2)}))]:_vm._e(),_c('more-btn',{attrs:{\"no-more\":_vm.cartoons.noMore,\"length\":_vm.cartoons.list.length,\"loading\":_vm.loading,\"auto\":true},on:{\"fetch\":_vm.getCartoons}},[_c('button',{on:{\"click\":_vm.openFeedbackForCartoon}},[_vm._v(\"求漫画\")])])],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var flows_BangumiCartoonFlow = (esExports);\n// CONCATENATED MODULE: ./src/components/bangumi/flows/BangumiCartoonFlow.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(232),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"aa84a1bc\"\nvar Component = normalizeComponent(\n  BangumiCartoonFlow,\n  flows_BangumiCartoonFlow,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var bangumi_flows_BangumiCartoonFlow = (Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/bangumi/show/cartoon.vue\n\n\n\n//\n//\n//\n//\n\n/* harmony default export */ var cartoon = ({\n  name: \"BangumiCartoon\",\n\n  asyncData(_ref) {\n    return asyncToGenerator__default()(\n    /*#__PURE__*/\n    regenerator__default.a.mark(function _callee() {\n      var route, store, ctx;\n      return regenerator__default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              route = _ref.route, store = _ref.store, ctx = _ref.ctx;\n              _context.next = 3;\n              return store.dispatch(\"bangumi/getCartoons\", {\n                ctx,\n                bangumiId: route.params.id\n              });\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }))();\n  },\n\n  components: {\n    BangumiCartoonFlow: bangumi_flows_BangumiCartoonFlow\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1c0cc108\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/bangumi/show/cartoon.vue\nvar cartoon_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('bangumi-cartoon-flow')}\nvar cartoon_staticRenderFns = []\nvar cartoon_esExports = { render: cartoon_render, staticRenderFns: cartoon_staticRenderFns }\n/* harmony default export */ var show_cartoon = (cartoon_esExports);\n// CONCATENATED MODULE: ./src/views/bangumi/show/cartoon.vue\nvar cartoon_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar cartoon___vue_template_functional__ = false\n/* styles */\nvar cartoon___vue_styles__ = null\n/* scopeId */\nvar cartoon___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar cartoon___vue_module_identifier__ = \"5ce50a3d\"\nvar cartoon_Component = cartoon_normalizeComponent(\n  cartoon,\n  show_cartoon,\n  cartoon___vue_template_functional__,\n  cartoon___vue_styles__,\n  cartoon___vue_scopeId__,\n  cartoon___vue_module_identifier__\n)\n\n/* harmony default export */ var bangumi_show_cartoon = __webpack_exports__[\"default\"] = (cartoon_Component.exports);\n\n\n/***/ })\n\n};;",
    "32.server-bundle.js": "exports.ids = [32];\nexports.modules = {\n\n/***/ 238:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(239);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"9e9825ee\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 239:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}#bangumi-news .van-tab{width:12.5%}#bangumi-news ul{min-height:100vh}#bangumi-news li{margin-bottom:10px;height:60px}#bangumi-news li .face{width:60px;height:60px;-ms-flex-negative:0;flex-shrink:0;margin-right:10px;display:block;border-radius:5px;float:left}#bangumi-news li .content{overflow:hidden;height:60px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-item-align:center;align-self:center}#bangumi-news li .content .name{font-size:14px;font-weight:700;margin-bottom:8px;height:32px;line-height:16px;max-height:32px;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}#bangumi-news li .content .body{color:#99a2aa;font-size:13px;line-height:18px;text-align:right}#bangumi-news li .content .body .part{border-radius:9px;color:#fff;text-align:center;padding:0 10px;height:18px;min-width:60px;margin-left:5px;font-size:12px;display:inline-block}#bangumi-news li .content .body .part.new{background-color:#ff8eb3}#bangumi-news li .content .body .part.old{background-color:#b8c0cc}#bangumi-news .nomore{background-color:transparent}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 322:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: external \"@babel/runtime/regenerator\"\nvar regenerator_ = __webpack_require__(0);\nvar regenerator__default = /*#__PURE__*/__webpack_require__.n(regenerator_);\n\n// EXTERNAL MODULE: external \"regenerator-runtime/runtime\"\nvar runtime_ = __webpack_require__(1);\nvar runtime__default = /*#__PURE__*/__webpack_require__.n(runtime_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/asyncToGenerator\"\nvar asyncToGenerator_ = __webpack_require__(2);\nvar asyncToGenerator__default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator_);\n\n// EXTERNAL MODULE: external \"vant/lib/tab\"\nvar tab_ = __webpack_require__(86);\nvar tab__default = /*#__PURE__*/__webpack_require__.n(tab_);\n\n// EXTERNAL MODULE: external \"vant/lib/tabs\"\nvar tabs_ = __webpack_require__(87);\nvar tabs__default = /*#__PURE__*/__webpack_require__.n(tabs_);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/bangumi/news.vue\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var news = ({\n  name: \"BangumiNews\",\n\n  asyncData(_ref) {\n    return asyncToGenerator__default()(\n    /*#__PURE__*/\n    regenerator__default.a.mark(function _callee() {\n      var store, ctx;\n      return regenerator__default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              store = _ref.store, ctx = _ref.ctx;\n              _context.next = 3;\n              return store.dispatch(\"bangumi/getReleased\", ctx);\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }))();\n  },\n\n  components: {\n    vanTabs: tabs__default.a,\n    vanTab: tab__default.a\n  },\n\n  data() {\n    return {\n      showtime: [\"最新\", \"一\", \"二\", \"三\", \"四\", \"五\", \"六\", \"日\"],\n      active: new Date().getDay() || 7\n    };\n  },\n\n  computed: {\n    list() {\n      return this.$store.state.bangumi.released[this.active];\n    }\n\n  },\n  methods: {\n    openFeedbackForResource() {\n      this.$channel.$emit(\"open-feedback\", {\n        type: 5,\n        desc: \"我想看新番：{?}\",\n        placeholder: \"请填写番剧名称\"\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-d6312956\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/bangumi/news.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"bangumi-news\"}},[_vm._ssrNode(\"<div class=\\\"tabs\\\"><a\"+(_vm._ssrAttr(\"href\",_vm.$alias.bangumiNews))+\" class=\\\"active\\\">新番放送</a><a\"+(_vm._ssrAttr(\"href\",_vm.$alias.bangumiTimeline))+\">时间轴</a><a\"+(_vm._ssrAttr(\"href\",_vm.$alias.bangumiTag()))+\">分类索引</a></div>\"),_c('van-tabs',{attrs:{\"swipeable\":\"\"},model:{value:(_vm.active),callback:function ($$v) {_vm.active=$$v},expression:\"active\"}},_vm._l((_vm.showtime),function(item,index){return _c('van-tab',{key:index,attrs:{\"title\":item}},[_c('ul',{staticClass:\"container\"},[_vm._l((_vm.list),function(item){return _c('li',{key:item.id},[_c('a',{attrs:{\"href\":_vm.$alias.bangumi(item.id)}},[_c('img',{staticClass:\"face\",attrs:{\"title\":item.name,\"alt\":item.name,\"src\":_vm.$resize(item.avatar, { width: 120 })}})]),_c('div',{staticClass:\"content\"},[_c('a',{staticClass:\"name\",attrs:{\"href\":_vm.$alias.bangumi(item.id)},domProps:{\"textContent\":_vm._s(item.name)}}),_c('div',{staticClass:\"body\"},[(item.released_video_id)?_c('a',{attrs:{\"href\":_vm.$alias.video(item.released_video_id)}},[_vm._v(\"\\n                更新至\\n                \"),_c('span',{staticClass:\"part\",class:[item.update ? 'new' : 'old']},[_vm._v(\"\\n                  \"+_vm._s(item.end ? '已完结' : ((item.released_part) + \"话\"))+\"\\n                \")])]):_c('strong',[_vm._v(\"\\n                更新至\\n                \"),_c('span',{staticClass:\"part\",class:[item.update ? 'new' : 'old']},[_vm._v(\"\\n                  \"+_vm._s(item.end ? '已完结' : ((item.released_part) + \"话\"))+\"\\n                \")])])])])])}),(!_vm.list.length)?_c('more-btn',{attrs:{\"no-more\":true,\"loading\":false,\"length\":0}},[_c('button',{on:{\"click\":_vm.openFeedbackForResource}},[_vm._v(\"求资源\")])]):_vm._e()],2)])}))],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var bangumi_news = (esExports);\n// CONCATENATED MODULE: ./src/views/bangumi/news.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(238),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"a6759f98\"\nvar Component = normalizeComponent(\n  news,\n  bangumi_news,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_bangumi_news = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n};;",
    "33.server-bundle.js": "exports.ids = [33];\nexports.modules = {\n\n/***/ 251:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(252);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"7dfba192\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 252:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#user-draft .score-draft:after,#user-draft .score-draft:before{content:\\\"\\\";clear:both;display:table}@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}#user-draft .label{font-size:0}#user-draft .label button{display:inline-block;width:50%;height:40px;font-size:13px;background-color:#f6f9fa;color:#6d757a}#user-draft .label .active{background-color:#e5e9ef}#user-draft .score-draft{padding-bottom:15px;padding-top:20px}#user-draft .score-draft:not(:last-child){border-bottom:1px solid #f4f5f7}#user-draft .score-draft .bangumi{float:right}#user-draft .score-draft .bangumi img{width:50px;height:50px;border-radius:5px;margin-left:10px}#user-draft .score-draft .content{overflow:hidden;display:block}#user-draft .score-draft .content .title{line-height:18px;font-size:14px}#user-draft .score-draft .content .intro{display:block;font-size:12px;color:#6d757a;line-height:16px;max-height:32px;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}#user-draft .answer-draft{padding-bottom:15px;padding-top:20px}#user-draft .answer-draft:not(:last-child){border-bottom:1px solid #f4f5f7}#user-draft .answer-draft .title{font-size:18px;font-weight:600;line-height:1.6;color:#1a1a1a;margin-bottom:6px}#user-draft .answer-draft .title:hover{color:#0381aa}#user-draft .answer-draft .intro{line-height:25px;max-height:100px;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:4;-webkit-box-orient:vertical}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 331:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: external \"core-js/modules/es6.regexp.replace\"\nvar es6_regexp_replace_ = __webpack_require__(9);\nvar es6_regexp_replace__default = /*#__PURE__*/__webpack_require__.n(es6_regexp_replace_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/regenerator\"\nvar regenerator_ = __webpack_require__(0);\nvar regenerator__default = /*#__PURE__*/__webpack_require__.n(regenerator_);\n\n// EXTERNAL MODULE: external \"regenerator-runtime/runtime\"\nvar runtime_ = __webpack_require__(1);\nvar runtime__default = /*#__PURE__*/__webpack_require__.n(runtime_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/asyncToGenerator\"\nvar asyncToGenerator_ = __webpack_require__(2);\nvar asyncToGenerator__default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator_);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/user/show/draft.vue\n\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var draft = ({\n  name: \"UserDraft\",\n\n  asyncData(_ref) {\n    return asyncToGenerator__default()(\n    /*#__PURE__*/\n    regenerator__default.a.mark(function _callee() {\n      var store, ctx;\n      return regenerator__default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              store = _ref.store, ctx = _ref.ctx;\n              _context.next = 3;\n              return store.dispatch(\"users/getUserDrafts\", {\n                type: \"score\",\n                ctx\n              });\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }))();\n  },\n\n  data() {\n    return {\n      active: \"漫评\"\n    };\n  },\n\n  computed: {\n    zone() {\n      return this.$route.params.zone;\n    },\n\n    isMe() {\n      return this.$store.state.login ? this.zone === this.$store.state.user.zone : false;\n    },\n\n    scores() {\n      return this.$store.state.users.drafts.score;\n    },\n\n    answers() {\n      return this.$store.state.users.drafts.answer;\n    }\n\n  },\n\n  mounted() {\n    if (!this.isMe) {\n      this.$router.replace({\n        name: \"user-bangumi\"\n      });\n    }\n  },\n\n  methods: {\n    switchTab(value) {\n      this.active = value;\n\n      if (value === \"漫评\") {\n        this.getUserDrafts(\"score\");\n      } else if (value === \"回答\") {\n        this.getUserDrafts(\"answer\");\n      }\n    },\n\n    getUserDrafts(type) {\n      var _this = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee2() {\n        return regenerator__default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return _this.$store.dispatch(\"users/getUserDrafts\", {\n                  type,\n                  ctx: _this\n                });\n\n              case 2:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }))();\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-cd2874f2\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/user/show/draft.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"user-draft\"}},[_vm._ssrNode(\"<div class=\\\"label\\\"><button\"+(_vm._ssrClass(null,{ active: _vm.active === '漫评' }))+\">漫评</button><button\"+(_vm._ssrClass(null,{ active: _vm.active === '回答' }))+\">回答</button></div>\"),_vm._ssrNode(\"<div class=\\\"container\\\">\",\"</div>\",[(_vm.active === '漫评')?[_vm._ssrNode((_vm._ssrList((_vm.scores.list),function(item){return (\"<div class=\\\"score-draft\\\">\"+((item && item.bangumi)?(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.bangumi(item.bangumi.id)))+\" class=\\\"bangumi\\\"><img\"+(_vm._ssrAttr(\"src\",_vm.$resize(item.bangumi.avatar, { width: 100 })))+\"></a><a\"+(_vm._ssrAttr(\"href\",_vm.$alias.editScore(item.id)))+\" class=\\\"content\\\"><div class=\\\"title oneline\\\">\"+_vm._ssrEscape(\"\\n              写给《\"+_vm._s(item.bangumi.name)+\"》的漫评\\n            \")+\"</div><div class=\\\"intro\\\">\"+_vm._ssrEscape(_vm._s(item.intro))+\"</div></a>\"):\"<!---->\")+\"</div>\")}))),_c('more-btn',{attrs:{\"no-more\":true,\"loading\":_vm.scores.loading,\"length\":1}},[_c('a',{attrs:{\"href\":_vm.$alias.createScore}},[_c('button',[_vm._v(\"写漫评\")])])])]:(_vm.active === '回答')?[_vm._ssrNode((_vm._ssrList((_vm.answers.list),function(item){return (\"<div class=\\\"answer-draft\\\"><a\"+(_vm._ssrAttr(\"href\",_vm.$alias.question(item.question.id)))+\"><h5 class=\\\"title\\\">\"+_vm._ssrEscape(_vm._s(item.question.title))+\"</h5></a><a\"+(_vm._ssrAttr(\"href\",_vm.$alias.answer(item.id)))+\" class=\\\"intro\\\">\"+_vm._ssrEscape(_vm._s(item.intro))+\"</a></div>\")}))),_c('more-btn',{attrs:{\"no-more\":true,\"loading\":_vm.answers.loading,\"length\":1}})]:_vm._e()],2)],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var show_draft = (esExports);\n// CONCATENATED MODULE: ./src/views/user/show/draft.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(251),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"4d596b10\"\nvar Component = normalizeComponent(\n  draft,\n  show_draft,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var user_show_draft = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n};;",
    "34.server-bundle.js": "exports.ids = [34];\nexports.modules = {\n\n/***/ 230:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(231);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"75636d13\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 231:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#bangumi-video-flow .video a:after,#bangumi-video-flow .video a:before{content:\\\"\\\";clear:both;display:table}@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}#bangumi-video-flow .sub-title{margin-top:15px}#bangumi-video-flow .video{margin-bottom:15px}#bangumi-video-flow .video a{display:block;width:100%;height:80px}#bangumi-video-flow .video:first-child{margin-top:15px}#bangumi-video-flow .video .poster{margin-right:10px;border-radius:5px;float:left}#bangumi-video-flow .video .intro{overflow:hidden}#bangumi-video-flow .video .intro .part{font-size:16px;line-height:20px;margin-bottom:5px}#bangumi-video-flow .video .intro .name{line-height:18px;max-height:36px;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 314:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: external \"@babel/runtime/regenerator\"\nvar regenerator_ = __webpack_require__(0);\nvar regenerator__default = /*#__PURE__*/__webpack_require__.n(regenerator_);\n\n// EXTERNAL MODULE: external \"regenerator-runtime/runtime\"\nvar runtime_ = __webpack_require__(1);\nvar runtime__default = /*#__PURE__*/__webpack_require__.n(runtime_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/asyncToGenerator\"\nvar asyncToGenerator_ = __webpack_require__(2);\nvar asyncToGenerator__default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator_);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/bangumi/flows/BangumiVideoFlow.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var BangumiVideoFlow = ({\n  name: \"BangumiVideoFlow\",\n  computed: {\n    videos() {\n      return this.$store.state.bangumi.videos;\n    },\n\n    info() {\n      return this.$store.state.bangumi.info;\n    }\n\n  },\n  methods: {\n    openFeedbackForResource() {\n      this.$channel.$emit(\"open-feedback\", {\n        type: 5,\n        desc: `我想看《${this.info.name}》的视频第 {?} 集`,\n        placeholder: \"请填写你要看的集数\"\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-c4513a68\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/bangumi/flows/BangumiVideoFlow.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"bangumi-video-flow\"}},[(_vm.videos.total)?_vm._ssrNode(\"<section>\",\"</section>\",[(_vm.videos.has_season)?_vm._ssrNode(\"<div class=\\\"container\\\">\",\"</div>\",[_vm._l((_vm.videos.list),function(season){return [_vm._ssrNode(\"<h3 class=\\\"sub-title\\\">\"+_vm._ssrEscape(_vm._s(season.name))+\"</h3>\"),_vm._ssrNode(\"<ul>\",\"</ul>\",_vm._l((season.data),function(video){return _vm._ssrNode(\"<li class=\\\"video\\\">\",\"</li>\",[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.video(video.id)))+\">\",\"</a>\",[_c('v-img',{staticClass:\"poster\",attrs:{\"src\":video.poster,\"width\":\"128\",\"height\":\"80\"}}),_vm._ssrNode(\"<div class=\\\"intro\\\"><p class=\\\"part oneline\\\">\"+_vm._ssrEscape(\"第\"+_vm._s(video.part - season.base)+\"话\")+\"</p><span class=\\\"name\\\">\"+_vm._ssrEscape(_vm._s(video.name))+\"</span></div>\")],2)])}))]})],2):_vm._ssrNode(\"<ul class=\\\"container\\\">\",\"</ul>\",_vm._l((_vm.videos.list[0].data),function(video){return _vm._ssrNode(\"<li class=\\\"video\\\">\",\"</li>\",[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.video(video.id)))+\">\",\"</a>\",[_c('v-img',{staticClass:\"poster\",attrs:{\"src\":video.poster,\"width\":\"128\",\"height\":\"80\"}}),_vm._ssrNode(\"<div class=\\\"intro\\\"><p class=\\\"part oneline\\\">\"+_vm._ssrEscape(\"第\"+_vm._s(video.part)+\"话\")+\"</p><span class=\\\"name\\\">\"+_vm._ssrEscape(_vm._s(video.name))+\"</span></div>\")],2)])}))]):_c('more-btn',{attrs:{\"no-more\":true,\"auto\":true,\"loading\":false,\"length\":_vm.videos.total}},[_c('button',{on:{\"click\":_vm.openFeedbackForResource}},[_vm._v(\"求资源\")])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var flows_BangumiVideoFlow = (esExports);\n// CONCATENATED MODULE: ./src/components/bangumi/flows/BangumiVideoFlow.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(230),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"8b013aa2\"\nvar Component = normalizeComponent(\n  BangumiVideoFlow,\n  flows_BangumiVideoFlow,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var bangumi_flows_BangumiVideoFlow = (Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/bangumi/show/video.vue\n\n\n\n//\n//\n//\n//\n\n/* harmony default export */ var video = ({\n  name: \"BangumiVideo\",\n\n  asyncData(_ref) {\n    return asyncToGenerator__default()(\n    /*#__PURE__*/\n    regenerator__default.a.mark(function _callee() {\n      var route, store, ctx;\n      return regenerator__default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              route = _ref.route, store = _ref.store, ctx = _ref.ctx;\n              _context.next = 3;\n              return store.dispatch(\"bangumi/getVideos\", {\n                ctx,\n                id: route.params.id\n              });\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }))();\n  },\n\n  components: {\n    BangumiVideoFlow: bangumi_flows_BangumiVideoFlow\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-12f76c32\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/bangumi/show/video.vue\nvar video_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('bangumi-video-flow')}\nvar video_staticRenderFns = []\nvar video_esExports = { render: video_render, staticRenderFns: video_staticRenderFns }\n/* harmony default export */ var show_video = (video_esExports);\n// CONCATENATED MODULE: ./src/views/bangumi/show/video.vue\nvar video_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar video___vue_template_functional__ = false\n/* styles */\nvar video___vue_styles__ = null\n/* scopeId */\nvar video___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar video___vue_module_identifier__ = \"0d2a528a\"\nvar video_Component = video_normalizeComponent(\n  video,\n  show_video,\n  video___vue_template_functional__,\n  video___vue_styles__,\n  video___vue_scopeId__,\n  video___vue_module_identifier__\n)\n\n/* harmony default export */ var bangumi_show_video = __webpack_exports__[\"default\"] = (video_Component.exports);\n\n\n/***/ })\n\n};;",
    "35.server-bundle.js": "exports.ids = [35];\nexports.modules = {\n\n/***/ 212:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(213);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"38e4229d\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 213:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}#image-world .img{background-color:#ec414d}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 308:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: external \"@babel/runtime/regenerator\"\nvar regenerator_ = __webpack_require__(0);\nvar regenerator__default = /*#__PURE__*/__webpack_require__.n(regenerator_);\n\n// EXTERNAL MODULE: external \"core-js/modules/es6.promise\"\nvar es6_promise_ = __webpack_require__(21);\nvar es6_promise__default = /*#__PURE__*/__webpack_require__.n(es6_promise_);\n\n// EXTERNAL MODULE: external \"core-js/modules/web.dom.iterable\"\nvar web_dom_iterable_ = __webpack_require__(3);\nvar web_dom_iterable__default = /*#__PURE__*/__webpack_require__.n(web_dom_iterable_);\n\n// EXTERNAL MODULE: external \"regenerator-runtime/runtime\"\nvar runtime_ = __webpack_require__(1);\nvar runtime__default = /*#__PURE__*/__webpack_require__.n(runtime_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/asyncToGenerator\"\nvar asyncToGenerator_ = __webpack_require__(2);\nvar asyncToGenerator__default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator_);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/world/image.vue\n\n\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var world_image = ({\n  name: \"ImageFlowList\",\n\n  asyncData(_ref) {\n    return asyncToGenerator__default()(\n    /*#__PURE__*/\n    regenerator__default.a.mark(function _callee() {\n      var store, ctx;\n      return regenerator__default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              store = _ref.store, ctx = _ref.ctx;\n              _context.next = 3;\n              return Promise.all([store.dispatch(\"world/initData\", {\n                type: \"image\",\n                sort: \"active\",\n                ctx\n              }), store.dispatch(\"world/getMeta\", {\n                type: \"image\"\n              })]);\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }))();\n  },\n\n  data() {\n    return {\n      showTips: false\n    };\n  },\n\n  computed: {\n    meta() {\n      return this.$store.state.world.image.meta;\n    }\n\n  },\n  methods: {\n    openCreateImage() {\n      if (!this.$store.state.login) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      this.$channel.$emit(\"open-create-image-drawer\");\n    },\n\n    openFeedback() {\n      this.$channel.$emit(\"open-feedback\", {\n        type: 3,\n        desc: \"\",\n        placeholder: \"\"\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-a61565be\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/world/image.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"image-world\"}},[_vm._ssrNode(\"<div class=\\\"intro\\\"><div class=\\\"img\\\">图</div><div class=\\\"summary\\\"><h2 class=\\\"title\\\">相册</h2><div class=\\\"extra\\\">共 <strong>\"+_vm._ssrEscape(_vm._s(_vm.meta.collection))+\"</strong> 个画册 · 上传了 <strong>\"+_vm._ssrEscape(_vm._s(_vm.meta.total))+\"</strong> 张图片</div><button>\"+_vm._ssrEscape(\"\\n        \"+_vm._s(_vm.showTips ? '收起' : '查看')+\"板块介绍\\n        \")+\"<i\"+(_vm._ssrClass(null,_vm.showTips ? 'el-icon-arrow-down' : 'el-icon-arrow-right'))+\"></i></button></div></div>\"),(_vm.showTips)?_vm._ssrNode(\"<div class=\\\"detail\\\">\",\"</div>\",[_vm._ssrNode(\"<p>\\n      「calibur.tv」的相册功能支持你创建自己的相册、或上传精美的单张图片，但是我们只希望你上传与「二次元」相关的图片，非二次元相关话题是不允许的；\\n    </p><p>\\n      无论是上传单张图片还是创建相册，你都需要选择一个你要投稿的番剧，这么做虽然限制了你的自由，但是它可以保证社区内图片的质量；\\n    </p><p>\\n      如果你要上传的图片的番剧还没有被网站收录，你可以\\n      <a href=\\\"javascript:;\\\">「点击反馈」</a>\\n      来告诉我们，如果你上传的图片并不属于某部番剧，而只是一张精美的动漫图片，\\n      那么你暂时可以将它投稿到\\n      <a\"+(_vm._ssrAttr(\"href\",_vm.$alias.bangumi(834)))+\" target=\\\"_blank\\\">「次元壁」</a>这个番剧下面；\\n    </p><p>\\n      如果你想上传漫画，那么请联系我们然后申请成为吧主，只有吧主才有权限上传漫画；\\n    </p>\"),_vm._ssrNode(\"<p>\",\"</p>\",[_vm._ssrNode(\"\\n      如果你上传的图片是你自己创作的，那么请在上传图片或创建相册时勾选 “原创” 选项，它能够为你带来一些\\n      \"),_c('router-link',{attrs:{\"to\":\"/about/hello\"}},[_vm._v(\"「金币」\")])],2)],2):_vm._e(),_vm._ssrNode(\"<div class=\\\"control\\\"><button>\\n      上传图片\\n    </button></div>\")],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var views_world_image = (esExports);\n// CONCATENATED MODULE: ./src/views/world/image.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(212),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"8a61017a\"\nvar Component = normalizeComponent(\n  world_image,\n  views_world_image,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var src_views_world_image = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n};;",
    "36.server-bundle.js": "exports.ids = [36];\nexports.modules = {\n\n/***/ 240:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(241);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"33b74c25\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 241:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}#bangumi-tags .sub-title{margin-top:10px}#bangumi-tags .sub-title .tag-change{float:right;color:#99a2aa;font-size:13px;line-height:16px}#bangumi-tags .sub-title .tag-change i{display:inline-block;line-height:1;-webkit-transition:.5s ease;-o-transition:.5s ease;transition:.5s ease;margin-right:3px}#bangumi-tags #tags li{float:left;margin-right:8px;margin-bottom:6px}#bangumi-tags #tags a{display:inline-block;padding:0 5px;height:24px;line-height:22px;font-size:12px;color:#ff8eb3;border-radius:4px;border:1px solid #ff8eb3;font-weight:700}#bangumi-tags #tags .selected{background-color:#f25d8e;border-color:#f25d8e;color:#fff}#bangumi-tags #tags .btn{width:100%;height:30px;line-height:28px;font-size:13px;text-align:center;border:1px solid #666;border-radius:15px;margin:5px 0 10px}#bangumi-tags #bangumis li{margin-bottom:10px;height:60px}#bangumi-tags #bangumis li .face{-ms-flex-negative:0;flex-shrink:0;margin-right:10px;border-radius:5px;float:left}#bangumi-tags #bangumis li .content{overflow:hidden}#bangumi-tags #bangumis li .content .name{font-size:14px;font-weight:700;margin-bottom:4px;margin-top:1px}#bangumi-tags #bangumis li .content .body{color:#99a2aa;font-size:13px;line-height:18px;max-height:36px;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 323:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: external \"@babel/runtime/regenerator\"\nvar regenerator_ = __webpack_require__(0);\nvar regenerator__default = /*#__PURE__*/__webpack_require__.n(regenerator_);\n\n// EXTERNAL MODULE: external \"core-js/modules/es6.promise\"\nvar es6_promise_ = __webpack_require__(21);\nvar es6_promise__default = /*#__PURE__*/__webpack_require__.n(es6_promise_);\n\n// EXTERNAL MODULE: external \"core-js/modules/web.dom.iterable\"\nvar web_dom_iterable_ = __webpack_require__(3);\nvar web_dom_iterable__default = /*#__PURE__*/__webpack_require__.n(web_dom_iterable_);\n\n// EXTERNAL MODULE: external \"core-js/modules/es6.regexp.split\"\nvar es6_regexp_split_ = __webpack_require__(10);\nvar es6_regexp_split__default = /*#__PURE__*/__webpack_require__.n(es6_regexp_split_);\n\n// EXTERNAL MODULE: external \"regenerator-runtime/runtime\"\nvar runtime_ = __webpack_require__(1);\nvar runtime__default = /*#__PURE__*/__webpack_require__.n(runtime_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/asyncToGenerator\"\nvar asyncToGenerator_ = __webpack_require__(2);\nvar asyncToGenerator__default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator_);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/bangumi/tags.vue\n\n\n\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var tags = ({\n  name: \"BangumiTags\",\n\n  asyncData(_ref) {\n    return asyncToGenerator__default()(\n    /*#__PURE__*/\n    regenerator__default.a.mark(function _callee() {\n      var store, route, ctx, id, arr;\n      return regenerator__default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              store = _ref.store, route = _ref.route, ctx = _ref.ctx;\n              id = route.query.id;\n              arr = [store.dispatch(\"bangumi/getTags\", {\n                id,\n                ctx\n              })];\n\n              if (id && (/^\\d+$/.test(id) || id.indexOf(\"-\") !== -1 && id.split(\"-\").every(item => /^\\d+$/.test(item)))) {\n                arr.push(store.dispatch(\"bangumi/getCategory\", {\n                  id,\n                  ctx\n                }));\n              }\n\n              _context.next = 6;\n              return Promise.all(arr);\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }))();\n  },\n\n  data() {\n    return {\n      loading: false,\n      counter: 0\n    };\n  },\n\n  computed: {\n    id() {\n      return this.$route.query.id;\n    },\n\n    tags() {\n      var begin = this.counter * 8;\n      var end = begin + 8;\n      return this.$store.state.bangumi.tags.slice(begin, end);\n    },\n\n    resource() {\n      return this.$store.state.bangumi.category;\n    },\n\n    noMore() {\n      return this.resource.noMore;\n    },\n\n    bangumis() {\n      return this.resource.list;\n    },\n\n    total() {\n      return this.resource.total;\n    }\n\n  },\n  methods: {\n    choiceTags() {\n      if ((this.counter + 1) * 8 >= this.$store.state.bangumi.tags.length) {\n        this.counter = 0;\n      } else {\n        this.counter++;\n      }\n    },\n\n    refresh() {\n      var selected = [];\n      this.$store.state.bangumi.tags.forEach(tag => {\n        if (tag.selected) {\n          selected.push(tag.id);\n        }\n      });\n\n      if (selected.length) {\n        window.location = this.$alias.bangumiTag(selected.join(\"-\"));\n      }\n    },\n\n    loadMore() {\n      var _this = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee2() {\n        return regenerator__default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!_this.loading) {\n                  _context2.next = 2;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\");\n\n              case 2:\n                _this.loading = true;\n                _context2.prev = 3;\n                _context2.next = 6;\n                return _this.$store.dispatch(\"bangumi/getCategory\", {\n                  id: _this.$route.query.id,\n                  ctx: _this\n                });\n\n              case 6:\n                _context2.next = 11;\n                break;\n\n              case 8:\n                _context2.prev = 8;\n                _context2.t0 = _context2[\"catch\"](3);\n\n                _this.$toast.error(_context2.t0);\n\n              case 11:\n                _context2.prev = 11;\n                _this.loading = false;\n                return _context2.finish(11);\n\n              case 14:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[3, 8, 11, 14]]);\n      }))();\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6be258ff\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/bangumi/tags.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"bangumi-tags\"}},[_vm._ssrNode(\"<div class=\\\"tabs\\\"><a\"+(_vm._ssrAttr(\"href\",_vm.$alias.bangumiNews))+\">新番放送</a><a\"+(_vm._ssrAttr(\"href\",_vm.$alias.bangumiTimeline))+\">时间轴</a><a\"+(_vm._ssrAttr(\"href\",_vm.$alias.bangumiTag()))+\" class=\\\"active\\\">分类索引</a></div>\"),_vm._ssrNode(\"<div class=\\\"container\\\">\",\"</div>\",[_vm._ssrNode(\"<div id=\\\"tags\\\"><h3 class=\\\"sub-title\\\">\\n        标签列表\\n        <span class=\\\"tag-change\\\"><i class=\\\"el-icon-refresh\\\"\"+(_vm._ssrStyle(null,{ transform: (\"rotate(\" + (_vm.counter * 360) + \"deg)\") }, null))+\"></i>换一换\\n        </span></h3><ul>\"+(_vm._ssrList((_vm.tags),function(tag){return (\"<li><a\"+(_vm._ssrAttr(\"href\",_vm.$alias.bangumiTag(tag.id)))+(_vm._ssrClass(null,{ 'selected': tag.selected }))+\">\"+_vm._ssrEscape(_vm._s(tag.name))+\"</a></li>\")}))+\"<button class=\\\"btn\\\">点击搜索</button></ul></div>\"),(_vm.bangumis.length)?_vm._ssrNode(\"<div id=\\\"bangumis\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"hr\\\"></div><h3 class=\\\"sub-title\\\">\"+_vm._ssrEscape(\"番剧列表(\"+_vm._s(_vm.total)+\")\")+\"</h3>\"),_vm._ssrNode(\"<ul>\",\"</ul>\",_vm._l((_vm.bangumis),function(item){return _vm._ssrNode(\"<li>\",\"</li>\",[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.bangumi(item.id)))+\">\",\"</a>\",[_c('v-img',{staticClass:\"face\",attrs:{\"src\":item.avatar,\"size\":\"60\"}}),_vm._ssrNode(\"<div class=\\\"content\\\"><p class=\\\"name\\\">\"+_vm._ssrEscape(_vm._s(item.name))+\"</p><p class=\\\"body\\\">\"+_vm._ssrEscape(_vm._s(item.summary))+\"</p></div>\")],2)])}))],2):_vm._e()],2),(_vm.id)?_c('more-btn',{attrs:{\"no-more\":_vm.noMore,\"loading\":_vm.loading,\"length\":_vm.bangumis.length,\"auto\":true},on:{\"fetch\":_vm.loadMore}}):_vm._e()],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var bangumi_tags = (esExports);\n// CONCATENATED MODULE: ./src/views/bangumi/tags.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(240),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"2d25c67a\"\nvar Component = normalizeComponent(\n  tags,\n  bangumi_tags,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_bangumi_tags = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n};;",
    "37.server-bundle.js": "exports.ids = [37];\nexports.modules = {\n\n/***/ 276:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(277);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"5b6297f9\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 277:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}#app-download{height:calc(100vh - 48px);overflow:hidden;position:relative}#app-download .content{position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);width:200px}#app-download .content .info img{width:50px;height:50px;float:left;margin-right:10px}#app-download .content .info .text{height:50px;overflow:hidden;font-size:30px;line-height:30px}#app-download .content .info .text p{margin-top:4px;font-size:14px;line-height:14px}#app-download .content button{width:200px;border-radius:20px;background-color:#f25d8e;color:#fff;height:40px;line-height:40px;margin-top:20px;font-size:16px;text-align:center;margin-bottom:25vh}#app-download .content .not-work{background-color:#99a2aa}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 341:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: external \"@babel/runtime/regenerator\"\nvar regenerator_ = __webpack_require__(0);\nvar regenerator__default = /*#__PURE__*/__webpack_require__.n(regenerator_);\n\n// EXTERNAL MODULE: external \"core-js/modules/es6.regexp.match\"\nvar es6_regexp_match_ = __webpack_require__(89);\nvar es6_regexp_match__default = /*#__PURE__*/__webpack_require__.n(es6_regexp_match_);\n\n// EXTERNAL MODULE: external \"regenerator-runtime/runtime\"\nvar runtime_ = __webpack_require__(1);\nvar runtime__default = /*#__PURE__*/__webpack_require__.n(runtime_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/asyncToGenerator\"\nvar asyncToGenerator_ = __webpack_require__(2);\nvar asyncToGenerator__default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator_);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/particles/index.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* eslint-disable */\n/* harmony default export */ var particles = ({\n  name: \"vue-particles\",\n  data: function data() {\n    return {\n      id: \"particles-instance-\" + Math.floor(Math.random() * 5000)\n    };\n  },\n  props: {\n    color: {\n      type: String,\n      default: \"#dedede\"\n    },\n    particleOpacity: {\n      type: Number,\n      default: 0.7\n    },\n    particlesNumber: {\n      type: Number,\n      default: 80\n    },\n    shapeType: {\n      type: String,\n      default: \"circle\"\n    },\n    particleSize: {\n      type: Number,\n      default: 4\n    },\n    linesColor: {\n      type: String,\n      default: \"#dedede\"\n    },\n    linesWidth: {\n      type: Number,\n      default: 1\n    },\n    lineLinked: {\n      type: Boolean,\n      default: true\n    },\n    lineOpacity: {\n      type: Number,\n      default: 0.4\n    },\n    linesDistance: {\n      type: Number,\n      default: 150\n    },\n    moveSpeed: {\n      type: Number,\n      default: 3\n    },\n    hoverEffect: {\n      type: Boolean,\n      default: false\n    },\n    hoverMode: {\n      type: String,\n      default: \"grab\"\n    },\n    clickEffect: {\n      type: Boolean,\n      default: false\n    },\n    clickMode: {\n      type: String,\n      default: \"push\"\n    }\n  },\n\n  mounted() {\n    // import particle.js only on client-side\n    __webpack_require__(95);\n\n    this.$nextTick(() => {\n      this.initParticleJS(this.color, this.particleOpacity, this.particlesNumber, this.shapeType, this.particleSize, this.linesColor, this.linesWidth, this.lineLinked, this.lineOpacity, this.linesDistance, this.moveSpeed, this.hoverEffect, this.hoverMode, this.clickEffect, this.clickMode);\n    });\n  },\n\n  methods: {\n    initParticleJS(color, particleOpacity, particlesNumber, shapeType, particleSize, linesColor, linesWidth, lineLinked, lineOpacity, linesDistance, moveSpeed, hoverEffect, hoverMode, clickEffect, clickMode) {\n      particlesJS(this.id, {\n        particles: {\n          number: {\n            value: particlesNumber,\n            density: {\n              enable: true,\n              value_area: 800\n            }\n          },\n          color: {\n            value: color\n          },\n          shape: {\n            // circle, edge, triangle, polygon, star, image\n            type: shapeType,\n            stroke: {\n              width: 0,\n              color: \"#192231\"\n            },\n            polygon: {\n              nb_sides: 5\n            }\n          },\n          opacity: {\n            value: particleOpacity,\n            random: false,\n            anim: {\n              enable: false,\n              speed: 1,\n              opacity_min: 0.1,\n              sync: false\n            }\n          },\n          size: {\n            value: particleSize,\n            random: true,\n            anim: {\n              enable: false,\n              speed: 40,\n              size_min: 0.1,\n              sync: false\n            }\n          },\n          line_linked: {\n            enable: lineLinked,\n            distance: linesDistance,\n            color: linesColor,\n            opacity: lineOpacity,\n            width: linesWidth\n          },\n          move: {\n            enable: true,\n            speed: moveSpeed,\n            direction: \"none\",\n            random: false,\n            straight: false,\n            out_mode: \"out\",\n            bounce: false,\n            attract: {\n              enable: false,\n              rotateX: 600,\n              rotateY: 1200\n            }\n          }\n        },\n        interactivity: {\n          detect_on: \"canvas\",\n          events: {\n            onhover: {\n              enable: hoverEffect,\n              mode: hoverMode\n            },\n            onclick: {\n              enable: clickEffect,\n              mode: clickMode\n            },\n            onresize: {\n              enable: true,\n              density_auto: true,\n              density_area: 400\n            }\n          },\n          modes: {\n            grab: {\n              distance: 140,\n              line_linked: {\n                opacity: 1\n              }\n            },\n            bubble: {\n              distance: 400,\n              size: 40,\n              duration: 2,\n              opacity: 8,\n              speed: 3\n            },\n            repulse: {\n              distance: 200,\n              duration: 0.4\n            },\n            push: {\n              particles_nb: 4\n            },\n            remove: {\n              particles_nb: 2\n            }\n          }\n        },\n        retina_detect: true\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2544fefa\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/particles/index.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('no-ssr',[_c('div',{staticStyle:{\"height\":\"100%\"},attrs:{\"id\":_vm.id,\"color\":_vm.color,\"particleOpacity\":_vm.particleOpacity,\"linesColor\":_vm.linesColor,\"particlesNumber\":_vm.particlesNumber,\"shapeType\":_vm.shapeType,\"particleSize\":_vm.particleSize,\"linesWidth\":_vm.linesWidth,\"lineLinked\":_vm.lineLinked,\"lineOpacity\":_vm.lineOpacity,\"linesDistance\":_vm.linesDistance,\"moveSpeed\":_vm.moveSpeed,\"hoverEffect\":_vm.hoverEffect,\"hoverMode\":_vm.hoverMode,\"clickEffect\":_vm.clickEffect,\"clickMode\":_vm.clickMode}})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var components_particles = (esExports);\n// CONCATENATED MODULE: ./src/components/particles/index.vue\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"400d17be\"\nvar Component = normalizeComponent(\n  particles,\n  components_particles,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var src_components_particles = (Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/market/download.vue\n\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var download = ({\n  name: \"AppDownload\",\n\n  asyncData(_ref) {\n    return asyncToGenerator__default()(\n    /*#__PURE__*/\n    regenerator__default.a.mark(function _callee() {\n      var store, ctx, userAgent, iOS;\n      return regenerator__default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              store = _ref.store, ctx = _ref.ctx;\n              userAgent = typeof window === \"undefined\" ? ctx.header[\"user-agent\"].toLowerCase() : window.navigator.userAgent.toLowerCase();\n              iOS = userAgent.match(/iphone|ipad|ipod/) !== null;\n              _context.next = 5;\n              return store.dispatch(\"app/getDownloadUrl\", {\n                type: iOS ? 2 : 1\n              });\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }))();\n  },\n\n  components: {\n    VueParticles: src_components_particles\n  },\n\n  data() {\n    return {};\n  },\n\n  computed: {\n    info() {\n      return this.$store.state.app.download;\n    },\n\n    iOS() {\n      return this.$store.state.ua.ios;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-693fd25b\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/market/download.vue\nvar download_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app-download\"}},[_vm._ssrNode(\"<div class=\\\"content\\\"><div class=\\\"info\\\"><img src=\\\"https://image.calibur.tv/owner/logo-new/logo.png?imageMogr2/auto-orient/strip|imageView2/1/w/200/h/200/format/jpg\\\"><div class=\\\"text\\\">\\n        calibur.tv\\n        <p>天下漫友是一家</p></div></div>\"+((_vm.info.download_url)?(\"<a\"+(_vm._ssrAttr(\"href\",_vm.info.download_url))+\" target=\\\"_blank\\\"><button>立即下载</button></a>\"):(\"<button class=\\\"not-work\\\">开发中~TuT</button>\"))+\"</div>\"),_c('vue-particles')],2)}\nvar download_staticRenderFns = []\nvar download_esExports = { render: download_render, staticRenderFns: download_staticRenderFns }\n/* harmony default export */ var market_download = (download_esExports);\n// CONCATENATED MODULE: ./src/views/market/download.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(276),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar download_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar download___vue_template_functional__ = false\n/* styles */\nvar download___vue_styles__ = injectStyle\n/* scopeId */\nvar download___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar download___vue_module_identifier__ = \"31ce3ea0\"\nvar download_Component = download_normalizeComponent(\n  download,\n  market_download,\n  download___vue_template_functional__,\n  download___vue_styles__,\n  download___vue_scopeId__,\n  download___vue_module_identifier__\n)\n\n/* harmony default export */ var views_market_download = __webpack_exports__[\"default\"] = (download_Component.exports);\n\n\n/***/ })\n\n};;",
    "38.server-bundle.js": "exports.ids = [38];\nexports.modules = {\n\n/***/ 210:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(211);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"54fa3a30\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 211:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}#post-world .img{background-color:RGB(60,134,247)}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 307:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: external \"@babel/runtime/regenerator\"\nvar regenerator_ = __webpack_require__(0);\nvar regenerator__default = /*#__PURE__*/__webpack_require__.n(regenerator_);\n\n// EXTERNAL MODULE: external \"core-js/modules/es6.promise\"\nvar es6_promise_ = __webpack_require__(21);\nvar es6_promise__default = /*#__PURE__*/__webpack_require__.n(es6_promise_);\n\n// EXTERNAL MODULE: external \"core-js/modules/web.dom.iterable\"\nvar web_dom_iterable_ = __webpack_require__(3);\nvar web_dom_iterable__default = /*#__PURE__*/__webpack_require__.n(web_dom_iterable_);\n\n// EXTERNAL MODULE: external \"regenerator-runtime/runtime\"\nvar runtime_ = __webpack_require__(1);\nvar runtime__default = /*#__PURE__*/__webpack_require__.n(runtime_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/asyncToGenerator\"\nvar asyncToGenerator_ = __webpack_require__(2);\nvar asyncToGenerator__default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator_);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/world/post.vue\n\n\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var post = ({\n  name: \"PostFlowList\",\n\n  asyncData(_ref) {\n    return asyncToGenerator__default()(\n    /*#__PURE__*/\n    regenerator__default.a.mark(function _callee() {\n      var store, ctx;\n      return regenerator__default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              store = _ref.store, ctx = _ref.ctx;\n              _context.next = 3;\n              return Promise.all([store.dispatch(\"world/initData\", {\n                type: \"post\",\n                sort: \"active\",\n                ctx\n              }), store.dispatch(\"world/getMeta\", {\n                type: \"post\"\n              })]);\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }))();\n  },\n\n  data() {\n    return {\n      showTips: false\n    };\n  },\n\n  computed: {\n    meta() {\n      return this.$store.state.world.post.meta;\n    }\n\n  },\n  methods: {\n    openCreatePost() {\n      if (!this.$store.state.login) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      this.$channel.$emit(\"drawer-open-write-post\");\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-65e8b9a0\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/world/post.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"post-world\"}},[_vm._ssrNode(\"<div class=\\\"intro\\\"><div class=\\\"img\\\">帖</div><div class=\\\"summary\\\"><h2 class=\\\"title\\\">帖吧</h2><div class=\\\"extra\\\">共 <strong>\"+_vm._ssrEscape(_vm._s(_vm.meta.collection))+\"</strong> 个吧 · 发表了 <strong>\"+_vm._ssrEscape(_vm._s(_vm.meta.total))+\"</strong> 条帖子</div><button>\"+_vm._ssrEscape(\"\\n        \"+_vm._s(_vm.showTips ? '收起' : '查看')+\"板块介绍\\n        \")+\"<i\"+(_vm._ssrClass(null,_vm.showTips ? 'el-icon-arrow-down' : 'el-icon-arrow-right'))+\"></i></button></div></div>\"),(_vm.showTips)?_vm._ssrNode(\"<div class=\\\"detail\\\">\",\"</div>\",[_vm._ssrNode(\"<p>\\n      「calibur.tv」的贴吧功能与\\n      <a href=\\\"javascript:;\\\">「百度贴吧」</a>\\n      基本相同，不过本站目前只允许开设「二次元」领域的贴吧，非二次元相关话题是不允许的；\\n    </p><p>\\n      「贴吧」板块讨论的话题应该更加的轻松一些，大家天马星空的想法都可以在此发表，\\n      如果你想写一篇专业的漫评，可以到\\n      <a\"+(_vm._ssrAttr(\"href\",_vm.$alias.world('review')))+\">「漫评」</a>\\n      板块发文；\\n    </p>\"),_vm._ssrNode(\"<p>\",\"</p>\",[_vm._ssrNode(\"\\n      如果你想为你喜欢的动漫角色盖楼，那么非常荣幸的告诉你，我们为 “盖楼” 专门开发了一个\\n      \"),_c('router-link',{attrs:{\"to\":_vm.$alias.roleTrending}},[_vm._v(\"「应援」\")]),_vm._ssrNode(\"\\n      系统，每次应援都需要消耗\\n      \"),_c('router-link',{attrs:{\"to\":\"/about/hello\"}},[_vm._v(\"「金币」\")]),_vm._ssrNode(\"\\n      ，而不是谁的 “水军” 多谁就可以排名靠前；\\n    \")],2),_vm._ssrNode(\"<p>\\n      最后，如果有人喜欢了你的帖子，那么每个喜欢就可以让你收获一枚金币。\\n      当然了，如果你想要喜欢别人的帖子，那么你需要消耗一枚金币。\\n    </p>\")],2):_vm._e(),_vm._ssrNode(\"<div class=\\\"control\\\"><button>发帖</button></div>\")],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var world_post = (esExports);\n// CONCATENATED MODULE: ./src/views/world/post.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(210),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"24415868\"\nvar Component = normalizeComponent(\n  post,\n  world_post,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_world_post = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n};;",
    "39.server-bundle.js": "exports.ids = [39];\nexports.modules = {\n\n/***/ 245:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(246);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"29061d0b\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 246:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}#user-bangumi li{position:relative;height:62px;padding:8px 0}#user-bangumi li:after{content:\\\"\\\";position:absolute;left:0;right:0;bottom:0;height:1px;background-color:#f0f0f0;-webkit-transform:scaleY(.5);-ms-transform:scaleY(.5);transform:scaleY(.5);margin-left:-15px;margin-right:-15px}#user-bangumi li a{display:block}#user-bangumi li .avatar{margin-right:12px;float:left}#user-bangumi li p{color:#000;font-size:12px;margin-top:6px;margin-bottom:5px;line-height:14px;max-height:28px;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 325:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: external \"@babel/runtime/regenerator\"\nvar regenerator_ = __webpack_require__(0);\nvar regenerator__default = /*#__PURE__*/__webpack_require__.n(regenerator_);\n\n// EXTERNAL MODULE: external \"regenerator-runtime/runtime\"\nvar runtime_ = __webpack_require__(1);\nvar runtime__default = /*#__PURE__*/__webpack_require__.n(runtime_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/asyncToGenerator\"\nvar asyncToGenerator_ = __webpack_require__(2);\nvar asyncToGenerator__default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator_);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/user/show/bangumi.vue\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var bangumi = ({\n  name: \"UserBangumi\",\n\n  asyncData(_ref) {\n    return asyncToGenerator__default()(\n    /*#__PURE__*/\n    regenerator__default.a.mark(function _callee() {\n      var route, store, ctx;\n      return regenerator__default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              route = _ref.route, store = _ref.store, ctx = _ref.ctx;\n              _context.next = 3;\n              return store.dispatch(\"users/getFollowBangumis\", {\n                ctx,\n                zone: route.params.zone\n              });\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }))();\n  },\n\n  computed: {\n    bangumis() {\n      return this.$store.state.users.bangumis;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5d5e381f\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/user/show/bangumi.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"user-bangumi\"}},[(_vm.bangumis.length)?_vm._ssrNode(\"<ul id=\\\"bangumis\\\" class=\\\"container\\\">\",\"</ul>\",_vm._l((_vm.bangumis),function(item){return _vm._ssrNode(\"<li>\",\"</li>\",[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.bangumi(item.id)))+\" class=\\\"clearfix\\\">\",\"</a>\",[_c('v-img',{staticClass:\"avatar\",attrs:{\"src\":item.avatar,\"size\":\"40\"}}),_vm._ssrNode(\"<p class=\\\"name\\\">\"+_vm._ssrEscape(_vm._s(item.name))+\"</p>\")],2)])})):_vm._e(),_c('more-btn',{attrs:{\"no-more\":true,\"auto\":true,\"length\":_vm.bangumis.length,\"loading\":false}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var show_bangumi = (esExports);\n// CONCATENATED MODULE: ./src/views/user/show/bangumi.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(245),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"042856a0\"\nvar Component = normalizeComponent(\n  bangumi,\n  show_bangumi,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var user_show_bangumi = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n};;",
    "40.server-bundle.js": "exports.ids = [40];\nexports.modules = {\n\n/***/ 216:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(217);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"5e5e7598\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 217:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}#question-world .img{background-color:#0084ff}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 310:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: external \"@babel/runtime/regenerator\"\nvar regenerator_ = __webpack_require__(0);\nvar regenerator__default = /*#__PURE__*/__webpack_require__.n(regenerator_);\n\n// EXTERNAL MODULE: external \"core-js/modules/es6.promise\"\nvar es6_promise_ = __webpack_require__(21);\nvar es6_promise__default = /*#__PURE__*/__webpack_require__.n(es6_promise_);\n\n// EXTERNAL MODULE: external \"core-js/modules/web.dom.iterable\"\nvar web_dom_iterable_ = __webpack_require__(3);\nvar web_dom_iterable__default = /*#__PURE__*/__webpack_require__.n(web_dom_iterable_);\n\n// EXTERNAL MODULE: external \"regenerator-runtime/runtime\"\nvar runtime_ = __webpack_require__(1);\nvar runtime__default = /*#__PURE__*/__webpack_require__.n(runtime_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/asyncToGenerator\"\nvar asyncToGenerator_ = __webpack_require__(2);\nvar asyncToGenerator__default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator_);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/world/question.vue\n\n\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var question = ({\n  name: \"QuestionWorld\",\n\n  asyncData(_ref) {\n    return asyncToGenerator__default()(\n    /*#__PURE__*/\n    regenerator__default.a.mark(function _callee() {\n      var store, ctx;\n      return regenerator__default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              store = _ref.store, ctx = _ref.ctx;\n              _context.next = 3;\n              return Promise.all([store.dispatch(\"world/initData\", {\n                type: \"question\",\n                sort: \"active\",\n                ctx\n              }), store.dispatch(\"world/getMeta\", {\n                type: \"question\"\n              })]);\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }))();\n  },\n\n  data() {\n    return {\n      showTips: false\n    };\n  },\n\n  computed: {\n    meta() {\n      return this.$store.state.world.question.meta;\n    }\n\n  },\n  methods: {\n    openCreateQAQ() {\n      if (!this.$store.state.login) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      this.$channel.$emit(\"drawer-open-write-question\");\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-46bedf8e\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/world/question.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"question-world\"}},[_vm._ssrNode(\"<div class=\\\"intro\\\"><div class=\\\"img\\\">知</div><div class=\\\"summary\\\"><h2 class=\\\"title\\\">问答</h2>\"+((_vm.meta)?(\"<div class=\\\"extra\\\">共 <strong>\"+_vm._ssrEscape(_vm._s(_vm.meta.collection))+\"</strong> 个提问 · 收到了 <strong>\"+_vm._ssrEscape(_vm._s(_vm.meta.total))+\"</strong> 个回答</div>\"):\"<!---->\")+\"<button>\"+_vm._ssrEscape(\"\\n        \"+_vm._s(_vm.showTips ? '收起' : '查看')+\"板块介绍\\n        \")+\"<i\"+(_vm._ssrClass(null,_vm.showTips ? 'el-icon-arrow-down' : 'el-icon-arrow-right'))+\"></i></button></div></div>\"+((_vm.showTips)?(\"<div class=\\\"detail\\\"><p>\\n      就是动漫版知乎\\n    </p><p>\\n      话题内容仅限二次元，其余讨论的一切都会被删除\\n    </p></div>\"):\"<!---->\")+\"<div class=\\\"control\\\"><button>提问</button></div>\")])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var world_question = (esExports);\n// CONCATENATED MODULE: ./src/views/world/question.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(216),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"3c8dd0ae\"\nvar Component = normalizeComponent(\n  question,\n  world_question,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_world_question = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n};;",
    "41.server-bundle.js": "exports.ids = [41];\nexports.modules = {\n\n/***/ 236:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(237);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"389a6f10\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 237:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}#bangumi-timeline #collections{padding-top:10px;padding-bottom:5px}#bangumi-timeline #collections .collection{display:block}#bangumi-timeline #collections .collection .bangumi{margin-bottom:10px;height:60px}#bangumi-timeline #collections .collection .bangumi .face{-ms-flex-negative:0;flex-shrink:0;margin-right:10px;border-radius:5px;float:left}#bangumi-timeline #collections .collection .bangumi .content{overflow:hidden}#bangumi-timeline #collections .collection .bangumi .content .name{font-size:14px;font-weight:700;margin-bottom:4px;margin-top:1px}#bangumi-timeline #collections .collection .bangumi .content .body{color:#99a2aa;font-size:13px;line-height:18px;max-height:36px;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 321:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: external \"@babel/runtime/regenerator\"\nvar regenerator_ = __webpack_require__(0);\nvar regenerator__default = /*#__PURE__*/__webpack_require__.n(regenerator_);\n\n// EXTERNAL MODULE: external \"regenerator-runtime/runtime\"\nvar runtime_ = __webpack_require__(1);\nvar runtime__default = /*#__PURE__*/__webpack_require__.n(runtime_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/asyncToGenerator\"\nvar asyncToGenerator_ = __webpack_require__(2);\nvar asyncToGenerator__default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator_);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/bangumi/time.vue\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var time = ({\n  name: \"BangumiTime\",\n\n  asyncData(_ref) {\n    return asyncToGenerator__default()(\n    /*#__PURE__*/\n    regenerator__default.a.mark(function _callee() {\n      var store, ctx;\n      return regenerator__default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              store = _ref.store, ctx = _ref.ctx;\n              _context.next = 3;\n              return store.dispatch(\"bangumi/getTimeline\", ctx);\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }))();\n  },\n\n  data() {\n    return {\n      loading: false\n    };\n  },\n\n  computed: {\n    timeline() {\n      return this.$store.state.bangumi.timeline;\n    }\n\n  },\n  methods: {\n    loadMore() {\n      var _this = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee2() {\n        return regenerator__default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!_this.loading) {\n                  _context2.next = 2;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\");\n\n              case 2:\n                _this.loading = true;\n                _context2.prev = 3;\n                _context2.next = 6;\n                return _this.$store.dispatch(\"bangumi/getTimeline\");\n\n              case 6:\n                _context2.next = 11;\n                break;\n\n              case 8:\n                _context2.prev = 8;\n                _context2.t0 = _context2[\"catch\"](3);\n\n                _this.$toast.error(_context2.t0);\n\n              case 11:\n                _context2.prev = 11;\n                _this.loading = false;\n                return _context2.finish(11);\n\n              case 14:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[3, 8, 11, 14]]);\n      }))();\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-28108bce\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/bangumi/time.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"bangumi-timeline\"}},[_vm._ssrNode(\"<div class=\\\"tabs\\\"><a\"+(_vm._ssrAttr(\"href\",_vm.$alias.bangumiNews))+\">新番放送</a><a\"+(_vm._ssrAttr(\"href\",_vm.$alias.bangumiTimeline))+\" class=\\\"active\\\">时间轴</a><a\"+(_vm._ssrAttr(\"href\",_vm.$alias.bangumiTag()))+\">分类索引</a></div>\"),_vm._ssrNode(\"<ul id=\\\"collections\\\" class=\\\"container\\\">\",\"</ul>\",_vm._l((_vm.timeline.list),function(col){return _vm._ssrNode(\"<ul class=\\\"collection\\\">\",\"</ul>\",[_vm._ssrNode(\"<h3 class=\\\"sub-title\\\">\"+_vm._ssrEscape(_vm._s(col.date))+\"</h3>\"),_vm._l((col.list),function(item){return _vm._ssrNode(\"<li class=\\\"bangumi\\\">\",\"</li>\",[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.bangumi(item.id)))+\">\",\"</a>\",[_c('v-img',{staticClass:\"face\",attrs:{\"src\":item.avatar,\"size\":\"60\"}}),_vm._ssrNode(\"<div class=\\\"content\\\"><p class=\\\"name oneline\\\">\"+_vm._ssrEscape(_vm._s(item.name))+\"</p><p class=\\\"body\\\">\"+_vm._ssrEscape(_vm._s(item.summary))+\"</p></div>\")],2)])})],2)})),_c('more-btn',{attrs:{\"no-more\":_vm.timeline.noMore,\"loading\":_vm.loading,\"auto\":true},on:{\"fetch\":_vm.loadMore}})],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var bangumi_time = (esExports);\n// CONCATENATED MODULE: ./src/views/bangumi/time.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(236),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"446129a4\"\nvar Component = normalizeComponent(\n  time,\n  bangumi_time,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_bangumi_time = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n};;",
    "42.server-bundle.js": "exports.ids = [42];\nexports.modules = {\n\n/***/ 272:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(273);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"97f55d62\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 273:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}#invite-user .container{padding-bottom:15px}#invite-user .sub-title{margin-top:20px;margin-bottom:15px}#invite-user .tips{background-color:#f4f4f5;color:#909399;padding:12px 16px 8px;border-radius:4px;margin-bottom:20px}#invite-user .tips p{color:#6d757a;margin-bottom:5px;font-size:13px;line-height:18px}#invite-user .tips a{color:#00a1d6;font-size:13px}#invite-user .sign-wrap{margin-top:20px}#invite-user .signed{height:112px;text-align:center;font-size:14px;margin-top:110px;line-height:30px;background-color:hsla(0,0%,100%,.9);padding:10px 20px 20px;border-radius:10px;color:#6d757a}#invite-user .signed a{color:#00a1d6}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 338:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/components/forms/SignUpForm.vue + 2 modules\nvar SignUpForm = __webpack_require__(25);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/about/invite.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var invite = ({\n  name: \"InviteUser\",\n  components: {\n    SignUpForm: SignUpForm[\"a\" /* default */]\n  },\n  computed: {\n    inviteUserId() {\n      return this.$route.params.id;\n    },\n\n    isGuest() {\n      return !this.$store.state.login;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1e0fde3f\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/about/invite.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"invite-user\"}},[_vm._ssrNode(\"<div class=\\\"container\\\">\",\"</div>\",[(_vm.isGuest)?_vm._ssrNode(\"<div class=\\\"sign-wrap\\\">\",\"</div>\",[_vm._ssrNode(\"<h3 class=\\\"sub-title\\\">欢迎来到 calibur.tv，是谁邀请你的呢？</h3><div class=\\\"tips\\\"><p>注册之后，邀请者会收到短信提示，并且获得 1 枚金币；</p><p>由于站内视频流量过大，为了降低宽带费用，先需要注册后才能看番，影响到了大家的体验，非常抱歉</p></div>\"),_c('sign-up-form',{attrs:{\"invite-code\":_vm.inviteUserId}})],2):_vm._ssrNode((\"<p class=\\\"signed\\\">\\n      你已经是注册用户了 (￣3￣)\\n      <br>\\n      把这个网址链接发给小伙伴，或者告诉TA你的邀请码就行啦\\n      <br>\\n      快来邀请小伙伴一起注册 calibur 吧\\n      <br>\\n      点击查看<a href=\\\"/me/invite\\\">我的邀请码</a></p>\"))])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var about_invite = (esExports);\n// CONCATENATED MODULE: ./src/views/about/invite.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(272),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"f6d07914\"\nvar Component = normalizeComponent(\n  invite,\n  about_invite,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_about_invite = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n};;",
    "43.server-bundle.js": "exports.ids = [43];\nexports.modules = {\n\n/***/ 268:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(269);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"4f13e6a5\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 269:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}#notification-list{background-color:#fff}#notification-list .clear-btn{width:100%;padding:10px 0;margin:10px 0;font-size:12px;color:#6d757a}#notification-list li{font-size:13px;width:100%;min-height:50px;line-height:20px;padding:15px 20px;background-color:#f6f9fa;border-top:1px solid #eee}#notification-list li.checked{background-color:transparent}#notification-list a{color:#00a1d6;font-size:13px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 336:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: external \"@babel/runtime/regenerator\"\nvar regenerator_ = __webpack_require__(0);\nvar regenerator__default = /*#__PURE__*/__webpack_require__.n(regenerator_);\n\n// EXTERNAL MODULE: external \"regenerator-runtime/runtime\"\nvar runtime_ = __webpack_require__(1);\nvar runtime__default = /*#__PURE__*/__webpack_require__.n(runtime_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/asyncToGenerator\"\nvar asyncToGenerator_ = __webpack_require__(2);\nvar asyncToGenerator__default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator_);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/notification/list.vue\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var list = ({\n  name: \"PageNotificationList\",\n\n  asyncData(_ref) {\n    return asyncToGenerator__default()(\n    /*#__PURE__*/\n    regenerator__default.a.mark(function _callee() {\n      var store, ctx;\n      return regenerator__default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              store = _ref.store, ctx = _ref.ctx;\n              _context.next = 3;\n              return store.dispatch(\"users/getNotifications\", {\n                ctx,\n                reset: true\n              });\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }))();\n  },\n\n  data() {\n    return {\n      loading: false\n    };\n  },\n\n  computed: {\n    list() {\n      return this.$store.state.users.notifications.list;\n    },\n\n    noMore() {\n      return this.$store.state.users.notifications.noMore;\n    },\n\n    notificationsCount() {\n      var result = this.$store.state.user.notification - this.$store.state.users.notifications.checked;\n      return result < 0 ? 0 : result;\n    }\n\n  },\n  methods: {\n    readMsg(id) {\n      this.$store.dispatch(\"users/readMessage\", {\n        id,\n        ctx: this\n      });\n    },\n\n    loadMore() {\n      var _this = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee2() {\n        return regenerator__default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!_this.loading) {\n                  _context2.next = 2;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\");\n\n              case 2:\n                _this.loading = true;\n                _context2.prev = 3;\n                _context2.next = 6;\n                return _this.$store.dispatch(\"users/getNotifications\", {\n                  ctx: _this,\n                  reset: false\n                });\n\n              case 6:\n                _context2.next = 11;\n                break;\n\n              case 8:\n                _context2.prev = 8;\n                _context2.t0 = _context2[\"catch\"](3);\n\n                _this.$toast.error(_context2.t0);\n\n              case 11:\n                _context2.prev = 11;\n                _this.loading = false;\n                return _context2.finish(11);\n\n              case 14:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[3, 8, 11, 14]]);\n      }))();\n    },\n\n    readAll() {\n      if (!this.notificationsCount) {\n        this.$toast.success(\"消息已清空\");\n        return;\n      }\n\n      try {\n        this.$store.dispatch(\"users/readAllMessage\", this);\n        this.$toast.success(\"消息已清空\");\n      } catch (e) {\n        this.$toast.error(e);\n      }\n    },\n\n    handleMessageClick(evt, msg) {\n      if (/user/.test(evt.target.classList)) {\n        window.location = this.$alias.user(msg.user.zone);\n        return;\n      }\n\n      window.location = msg.link;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-162197fd\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/notification/list.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"notification-list\"}},[_vm._ssrNode(\"<button class=\\\"clear-btn\\\">全部设为已读</button><ul>\"+(_vm._ssrList((_vm.list),function(item){return (\"<li\"+(_vm._ssrClass(null,{ 'checked': item.checked }))+\"><div>\"+(_vm._s(item.message))+\"</div></li>\")}))+\"</ul>\"),_c('more-btn',{attrs:{\"no-more\":_vm.noMore,\"loading\":_vm.loading},on:{\"fetch\":_vm.loadMore}})],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var notification_list = (esExports);\n// CONCATENATED MODULE: ./src/views/notification/list.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(268),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"cdc6e3b2\"\nvar Component = normalizeComponent(\n  list,\n  notification_list,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_notification_list = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n};;",
    "45.server-bundle.js": "exports.ids = [45];\nexports.modules = {\n\n/***/ 214:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(215);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"496fff60\", content, true, context)\n};\n\n/***/ }),\n\n/***/ 215:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}#score-world .img{background-color:#30a080}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 309:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: external \"@babel/runtime/regenerator\"\nvar regenerator_ = __webpack_require__(0);\nvar regenerator__default = /*#__PURE__*/__webpack_require__.n(regenerator_);\n\n// EXTERNAL MODULE: external \"core-js/modules/es6.promise\"\nvar es6_promise_ = __webpack_require__(21);\nvar es6_promise__default = /*#__PURE__*/__webpack_require__.n(es6_promise_);\n\n// EXTERNAL MODULE: external \"core-js/modules/web.dom.iterable\"\nvar web_dom_iterable_ = __webpack_require__(3);\nvar web_dom_iterable__default = /*#__PURE__*/__webpack_require__.n(web_dom_iterable_);\n\n// EXTERNAL MODULE: external \"regenerator-runtime/runtime\"\nvar runtime_ = __webpack_require__(1);\nvar runtime__default = /*#__PURE__*/__webpack_require__.n(runtime_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/asyncToGenerator\"\nvar asyncToGenerator_ = __webpack_require__(2);\nvar asyncToGenerator__default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator_);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/views/world/score.vue\n\n\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var score = ({\n  name: \"ScoreFlowList\",\n\n  asyncData(_ref) {\n    return asyncToGenerator__default()(\n    /*#__PURE__*/\n    regenerator__default.a.mark(function _callee() {\n      var store, ctx;\n      return regenerator__default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              store = _ref.store, ctx = _ref.ctx;\n              _context.next = 3;\n              return Promise.all([store.dispatch(\"world/initData\", {\n                type: \"score\",\n                sort: \"active\",\n                ctx\n              }), store.dispatch(\"world/getMeta\", {\n                type: \"score\"\n              })]);\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }))();\n  },\n\n  data() {\n    return {\n      showTips: false\n    };\n  },\n\n  computed: {\n    meta() {\n      return this.$store.state.world.score.meta;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-00ad87b6\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/world/score.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"score-world\"}},[_vm._ssrNode(\"<div class=\\\"intro\\\"><div class=\\\"img\\\">评</div><div class=\\\"summary\\\"><h2 class=\\\"title\\\">漫评</h2><div class=\\\"extra\\\">共 <strong>\"+_vm._ssrEscape(_vm._s(_vm.meta.collection))+\"</strong> 个番剧 · 收获了 <strong>\"+_vm._ssrEscape(_vm._s(_vm.meta.total))+\"</strong> 条漫评</div><button>\"+_vm._ssrEscape(\"\\n        \"+_vm._s(_vm.showTips ? '收起' : '查看')+\"板块介绍\\n        \")+\"<i\"+(_vm._ssrClass(null,_vm.showTips ? 'el-icon-arrow-down' : 'el-icon-arrow-right'))+\"></i></button></div></div>\"+((_vm.showTips)?(\"<div class=\\\"detail\\\"><p>\\n      很自豪的讲，「calibur.tv」现在的漫评功能应该是业界领先的，虽然我们还是个小站，o(￣┰￣*)ゞ；\\n    </p><p>\\n      要发表一篇优秀的漫评是比较困难的，它需要你具备一定的 “文采” 和 “看番量”，但不用怕，我们是支持创作的过程中将你的作品\\n      存成草稿的，并且发布后也是可以编辑的，你完全可以精心构思你要表达的每一句话；\\n    </p><p>\\n      我们的评分需要从多个维度来进行，它虽然能够辅助你找到分析动漫的起点，但是却会限制你的思维，因此不要太在意你的 “总分”，\\n      将注意力放在<strong>文字的表达</strong>与<strong>图片的选取</strong>上；\\n    </p><p>\\n      不要担心会剧透，尽情的表达你的观点就好！但是也请你保持 “友善” 与 “理智”，不要去恶意贬低自己比喜欢的作品，不要去没有依据的吹捧你喜欢的作品，\\n      尽可能的客观吧；\\n    </p><p>\\n      说了这么多，快点来试试看吧，ο(=•ω＜=)ρ⌒☆\\n    </p></div>\"):\"<!---->\")+\"<div class=\\\"control\\\"><a\"+(_vm._ssrAttr(\"href\",_vm.$alias.createScore))+\"><button>写漫评</button></a></div>\")])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var world_score = (esExports);\n// CONCATENATED MODULE: ./src/views/world/score.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(214),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"6e0ca0fa\"\nvar Component = normalizeComponent(\n  score,\n  world_score,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var views_world_score = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n};;",
    "46.server-bundle.js": "exports.ids = [46];\nexports.modules = {\n\n/***/ 349:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1708ecb1\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/layouts/empty.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('router-view')}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var empty = (esExports);\n// CONCATENATED MODULE: ./src/layouts/empty.vue\nvar normalizeComponent = __webpack_require__(4)\n/* script */\nvar __vue_script__ = null\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"caeab5e6\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  empty,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var layouts_empty = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n};;",
    "47.server-bundle.js": "exports.ids = [47];\nexports.modules = {\n\n/***/ 304:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: \"empty\",\n  props: [\"placeholder\"],\n\n  render(h) {\n    return h(\"div\", {\n      class: [\"empty-component-placeholder\"]\n    });\n  }\n\n});\n\n/***/ })\n\n};;",
    "48.server-bundle.js": "exports.ids = [48];\nexports.modules = {\n\n/***/ 334:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_core_js_modules_es6_regexp_replace__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_core_js_modules_es6_regexp_replace___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_core_js_modules_es6_regexp_replace__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_core_js_modules_es6_regexp_to_string__ = __webpack_require__(8);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_core_js_modules_es6_regexp_to_string___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_core_js_modules_es6_regexp_to_string__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_core_js_modules_es6_regexp_match__ = __webpack_require__(89);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_core_js_modules_es6_regexp_match___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_core_js_modules_es6_regexp_match__);\n\n\n\n\n/* eslint-disable */\n\n/**\n * @fileoverview\n * - Using the 'QRCode for Javascript library'\n * - Fixed dataset of 'QRCode for Javascript library' for support full-spec.\n * - this library has no dependencies.\n *\n * @author davidshimjs\n * @see <a href=\"http://www.d-project.com/\" target=\"_blank\">http://www.d-project.com/</a>\n * @see <a href=\"http://jeromeetienne.github.com/jquery-qrcode/\" target=\"_blank\">http://jeromeetienne.github.com/jquery-qrcode/</a>\n */\n//---------------------------------------------------------------------\n// QRCode for JavaScript\n//\n// Copyright (c) 2009 Kazuhiko Arase\n//\n// URL: http://www.d-project.com/\n//\n// Licensed under the MIT license:\n//   http://www.opensource.org/licenses/mit-license.php\n//\n// The word \"QR Code\" is registered trademark of\n// DENSO WAVE INCORPORATED\n//   http://www.denso-wave.com/qrcode/faqpatent-e.html\n//\n//---------------------------------------------------------------------\nvar QRCode;\n\nfunction QR8bitByte(data) {\n  this.mode = QRMode.MODE_8BIT_BYTE;\n  this.data = data;\n  this.parsedData = []; // Added to support UTF-8 Characters\n\n  for (var i = 0, l = this.data.length; i < l; i++) {\n    var byteArray = [];\n    var code = this.data.charCodeAt(i);\n\n    if (code > 0x10000) {\n      byteArray[0] = 0xf0 | (code & 0x1c0000) >>> 18;\n      byteArray[1] = 0x80 | (code & 0x3f000) >>> 12;\n      byteArray[2] = 0x80 | (code & 0xfc0) >>> 6;\n      byteArray[3] = 0x80 | code & 0x3f;\n    } else if (code > 0x800) {\n      byteArray[0] = 0xe0 | (code & 0xf000) >>> 12;\n      byteArray[1] = 0x80 | (code & 0xfc0) >>> 6;\n      byteArray[2] = 0x80 | code & 0x3f;\n    } else if (code > 0x80) {\n      byteArray[0] = 0xc0 | (code & 0x7c0) >>> 6;\n      byteArray[1] = 0x80 | code & 0x3f;\n    } else {\n      byteArray[0] = code;\n    }\n\n    this.parsedData.push(byteArray);\n  }\n\n  this.parsedData = Array.prototype.concat.apply([], this.parsedData);\n\n  if (this.parsedData.length != this.data.length) {\n    this.parsedData.unshift(191);\n    this.parsedData.unshift(187);\n    this.parsedData.unshift(239);\n  }\n}\n\nQR8bitByte.prototype = {\n  getLength: function getLength(buffer) {\n    return this.parsedData.length;\n  },\n  write: function write(buffer) {\n    for (var i = 0, l = this.parsedData.length; i < l; i++) {\n      buffer.put(this.parsedData[i], 8);\n    }\n  }\n};\n\nfunction QRCodeModel(typeNumber, errorCorrectLevel) {\n  this.typeNumber = typeNumber;\n  this.errorCorrectLevel = errorCorrectLevel;\n  this.modules = null;\n  this.moduleCount = 0;\n  this.dataCache = null;\n  this.dataList = [];\n}\n\nQRCodeModel.prototype = {\n  addData: function addData(data) {\n    var newData = new QR8bitByte(data);\n    this.dataList.push(newData);\n    this.dataCache = null;\n  },\n  isDark: function isDark(row, col) {\n    if (row < 0 || this.moduleCount <= row || col < 0 || this.moduleCount <= col) {\n      throw new Error(row + \",\" + col);\n    }\n\n    return this.modules[row][col];\n  },\n  getModuleCount: function getModuleCount() {\n    return this.moduleCount;\n  },\n  make: function make() {\n    this.makeImpl(false, this.getBestMaskPattern());\n  },\n  makeImpl: function makeImpl(test, maskPattern) {\n    this.moduleCount = this.typeNumber * 4 + 17;\n    this.modules = new Array(this.moduleCount);\n\n    for (var row = 0; row < this.moduleCount; row++) {\n      this.modules[row] = new Array(this.moduleCount);\n\n      for (var col = 0; col < this.moduleCount; col++) {\n        this.modules[row][col] = null;\n      }\n    }\n\n    this.setupPositionProbePattern(0, 0);\n    this.setupPositionProbePattern(this.moduleCount - 7, 0);\n    this.setupPositionProbePattern(0, this.moduleCount - 7);\n    this.setupPositionAdjustPattern();\n    this.setupTimingPattern();\n    this.setupTypeInfo(test, maskPattern);\n\n    if (this.typeNumber >= 7) {\n      this.setupTypeNumber(test);\n    }\n\n    if (this.dataCache == null) {\n      this.dataCache = QRCodeModel.createData(this.typeNumber, this.errorCorrectLevel, this.dataList);\n    }\n\n    this.mapData(this.dataCache, maskPattern);\n  },\n  setupPositionProbePattern: function setupPositionProbePattern(row, col) {\n    for (var r = -1; r <= 7; r++) {\n      if (row + r <= -1 || this.moduleCount <= row + r) continue;\n\n      for (var c = -1; c <= 7; c++) {\n        if (col + c <= -1 || this.moduleCount <= col + c) continue;\n\n        if (0 <= r && r <= 6 && (c == 0 || c == 6) || 0 <= c && c <= 6 && (r == 0 || r == 6) || 2 <= r && r <= 4 && 2 <= c && c <= 4) {\n          this.modules[row + r][col + c] = true;\n        } else {\n          this.modules[row + r][col + c] = false;\n        }\n      }\n    }\n  },\n  getBestMaskPattern: function getBestMaskPattern() {\n    var minLostPoint = 0;\n    var pattern = 0;\n\n    for (var i = 0; i < 8; i++) {\n      this.makeImpl(true, i);\n      var lostPoint = QRUtil.getLostPoint(this);\n\n      if (i == 0 || minLostPoint > lostPoint) {\n        minLostPoint = lostPoint;\n        pattern = i;\n      }\n    }\n\n    return pattern;\n  },\n  createMovieClip: function createMovieClip(target_mc, instance_name, depth) {\n    var qr_mc = target_mc.createEmptyMovieClip(instance_name, depth);\n    var cs = 1;\n    this.make();\n\n    for (var row = 0; row < this.modules.length; row++) {\n      var y = row * cs;\n\n      for (var col = 0; col < this.modules[row].length; col++) {\n        var x = col * cs;\n        var dark = this.modules[row][col];\n\n        if (dark) {\n          qr_mc.beginFill(0, 100);\n          qr_mc.moveTo(x, y);\n          qr_mc.lineTo(x + cs, y);\n          qr_mc.lineTo(x + cs, y + cs);\n          qr_mc.lineTo(x, y + cs);\n          qr_mc.endFill();\n        }\n      }\n    }\n\n    return qr_mc;\n  },\n  setupTimingPattern: function setupTimingPattern() {\n    for (var r = 8; r < this.moduleCount - 8; r++) {\n      if (this.modules[r][6] != null) {\n        continue;\n      }\n\n      this.modules[r][6] = r % 2 == 0;\n    }\n\n    for (var c = 8; c < this.moduleCount - 8; c++) {\n      if (this.modules[6][c] != null) {\n        continue;\n      }\n\n      this.modules[6][c] = c % 2 == 0;\n    }\n  },\n  setupPositionAdjustPattern: function setupPositionAdjustPattern() {\n    var pos = QRUtil.getPatternPosition(this.typeNumber);\n\n    for (var i = 0; i < pos.length; i++) {\n      for (var j = 0; j < pos.length; j++) {\n        var row = pos[i];\n        var col = pos[j];\n\n        if (this.modules[row][col] != null) {\n          continue;\n        }\n\n        for (var r = -2; r <= 2; r++) {\n          for (var c = -2; c <= 2; c++) {\n            if (r == -2 || r == 2 || c == -2 || c == 2 || r == 0 && c == 0) {\n              this.modules[row + r][col + c] = true;\n            } else {\n              this.modules[row + r][col + c] = false;\n            }\n          }\n        }\n      }\n    }\n  },\n  setupTypeNumber: function setupTypeNumber(test) {\n    var bits = QRUtil.getBCHTypeNumber(this.typeNumber);\n\n    for (var i = 0; i < 18; i++) {\n      var mod = !test && (bits >> i & 1) == 1;\n      this.modules[Math.floor(i / 3)][i % 3 + this.moduleCount - 8 - 3] = mod;\n    }\n\n    for (var i = 0; i < 18; i++) {\n      var mod = !test && (bits >> i & 1) == 1;\n      this.modules[i % 3 + this.moduleCount - 8 - 3][Math.floor(i / 3)] = mod;\n    }\n  },\n  setupTypeInfo: function setupTypeInfo(test, maskPattern) {\n    var data = this.errorCorrectLevel << 3 | maskPattern;\n    var bits = QRUtil.getBCHTypeInfo(data);\n\n    for (var i = 0; i < 15; i++) {\n      var mod = !test && (bits >> i & 1) == 1;\n\n      if (i < 6) {\n        this.modules[i][8] = mod;\n      } else if (i < 8) {\n        this.modules[i + 1][8] = mod;\n      } else {\n        this.modules[this.moduleCount - 15 + i][8] = mod;\n      }\n    }\n\n    for (var i = 0; i < 15; i++) {\n      var mod = !test && (bits >> i & 1) == 1;\n\n      if (i < 8) {\n        this.modules[8][this.moduleCount - i - 1] = mod;\n      } else if (i < 9) {\n        this.modules[8][15 - i - 1 + 1] = mod;\n      } else {\n        this.modules[8][15 - i - 1] = mod;\n      }\n    }\n\n    this.modules[this.moduleCount - 8][8] = !test;\n  },\n  mapData: function mapData(data, maskPattern) {\n    var inc = -1;\n    var row = this.moduleCount - 1;\n    var bitIndex = 7;\n    var byteIndex = 0;\n\n    for (var col = this.moduleCount - 1; col > 0; col -= 2) {\n      if (col == 6) col--;\n\n      while (true) {\n        for (var c = 0; c < 2; c++) {\n          if (this.modules[row][col - c] == null) {\n            var dark = false;\n\n            if (byteIndex < data.length) {\n              dark = (data[byteIndex] >>> bitIndex & 1) == 1;\n            }\n\n            var mask = QRUtil.getMask(maskPattern, row, col - c);\n\n            if (mask) {\n              dark = !dark;\n            }\n\n            this.modules[row][col - c] = dark;\n            bitIndex--;\n\n            if (bitIndex == -1) {\n              byteIndex++;\n              bitIndex = 7;\n            }\n          }\n        }\n\n        row += inc;\n\n        if (row < 0 || this.moduleCount <= row) {\n          row -= inc;\n          inc = -inc;\n          break;\n        }\n      }\n    }\n  }\n};\nQRCodeModel.PAD0 = 0xec;\nQRCodeModel.PAD1 = 0x11;\n\nQRCodeModel.createData = function (typeNumber, errorCorrectLevel, dataList) {\n  var rsBlocks = QRRSBlock.getRSBlocks(typeNumber, errorCorrectLevel);\n  var buffer = new QRBitBuffer();\n\n  for (var i = 0; i < dataList.length; i++) {\n    var data = dataList[i];\n    buffer.put(data.mode, 4);\n    buffer.put(data.getLength(), QRUtil.getLengthInBits(data.mode, typeNumber));\n    data.write(buffer);\n  }\n\n  var totalDataCount = 0;\n\n  for (var i = 0; i < rsBlocks.length; i++) {\n    totalDataCount += rsBlocks[i].dataCount;\n  }\n\n  if (buffer.getLengthInBits() > totalDataCount * 8) {\n    throw new Error(\"code length overflow. (\" + buffer.getLengthInBits() + \">\" + totalDataCount * 8 + \")\");\n  }\n\n  if (buffer.getLengthInBits() + 4 <= totalDataCount * 8) {\n    buffer.put(0, 4);\n  }\n\n  while (buffer.getLengthInBits() % 8 != 0) {\n    buffer.putBit(false);\n  }\n\n  while (true) {\n    if (buffer.getLengthInBits() >= totalDataCount * 8) {\n      break;\n    }\n\n    buffer.put(QRCodeModel.PAD0, 8);\n\n    if (buffer.getLengthInBits() >= totalDataCount * 8) {\n      break;\n    }\n\n    buffer.put(QRCodeModel.PAD1, 8);\n  }\n\n  return QRCodeModel.createBytes(buffer, rsBlocks);\n};\n\nQRCodeModel.createBytes = function (buffer, rsBlocks) {\n  var offset = 0;\n  var maxDcCount = 0;\n  var maxEcCount = 0;\n  var dcdata = new Array(rsBlocks.length);\n  var ecdata = new Array(rsBlocks.length);\n\n  for (var r = 0; r < rsBlocks.length; r++) {\n    var dcCount = rsBlocks[r].dataCount;\n    var ecCount = rsBlocks[r].totalCount - dcCount;\n    maxDcCount = Math.max(maxDcCount, dcCount);\n    maxEcCount = Math.max(maxEcCount, ecCount);\n    dcdata[r] = new Array(dcCount);\n\n    for (var i = 0; i < dcdata[r].length; i++) {\n      dcdata[r][i] = 0xff & buffer.buffer[i + offset];\n    }\n\n    offset += dcCount;\n    var rsPoly = QRUtil.getErrorCorrectPolynomial(ecCount);\n    var rawPoly = new QRPolynomial(dcdata[r], rsPoly.getLength() - 1);\n    var modPoly = rawPoly.mod(rsPoly);\n    ecdata[r] = new Array(rsPoly.getLength() - 1);\n\n    for (var i = 0; i < ecdata[r].length; i++) {\n      var modIndex = i + modPoly.getLength() - ecdata[r].length;\n      ecdata[r][i] = modIndex >= 0 ? modPoly.get(modIndex) : 0;\n    }\n  }\n\n  var totalCodeCount = 0;\n\n  for (var i = 0; i < rsBlocks.length; i++) {\n    totalCodeCount += rsBlocks[i].totalCount;\n  }\n\n  var data = new Array(totalCodeCount);\n  var index = 0;\n\n  for (var i = 0; i < maxDcCount; i++) {\n    for (var r = 0; r < rsBlocks.length; r++) {\n      if (i < dcdata[r].length) {\n        data[index++] = dcdata[r][i];\n      }\n    }\n  }\n\n  for (var i = 0; i < maxEcCount; i++) {\n    for (var r = 0; r < rsBlocks.length; r++) {\n      if (i < ecdata[r].length) {\n        data[index++] = ecdata[r][i];\n      }\n    }\n  }\n\n  return data;\n};\n\nvar QRMode = {\n  MODE_NUMBER: 1 << 0,\n  MODE_ALPHA_NUM: 1 << 1,\n  MODE_8BIT_BYTE: 1 << 2,\n  MODE_KANJI: 1 << 3\n};\nvar QRErrorCorrectLevel = {\n  L: 1,\n  M: 0,\n  Q: 3,\n  H: 2\n};\nvar QRMaskPattern = {\n  PATTERN000: 0,\n  PATTERN001: 1,\n  PATTERN010: 2,\n  PATTERN011: 3,\n  PATTERN100: 4,\n  PATTERN101: 5,\n  PATTERN110: 6,\n  PATTERN111: 7\n};\nvar QRUtil = {\n  PATTERN_POSITION_TABLE: [[], [6, 18], [6, 22], [6, 26], [6, 30], [6, 34], [6, 22, 38], [6, 24, 42], [6, 26, 46], [6, 28, 50], [6, 30, 54], [6, 32, 58], [6, 34, 62], [6, 26, 46, 66], [6, 26, 48, 70], [6, 26, 50, 74], [6, 30, 54, 78], [6, 30, 56, 82], [6, 30, 58, 86], [6, 34, 62, 90], [6, 28, 50, 72, 94], [6, 26, 50, 74, 98], [6, 30, 54, 78, 102], [6, 28, 54, 80, 106], [6, 32, 58, 84, 110], [6, 30, 58, 86, 114], [6, 34, 62, 90, 118], [6, 26, 50, 74, 98, 122], [6, 30, 54, 78, 102, 126], [6, 26, 52, 78, 104, 130], [6, 30, 56, 82, 108, 134], [6, 34, 60, 86, 112, 138], [6, 30, 58, 86, 114, 142], [6, 34, 62, 90, 118, 146], [6, 30, 54, 78, 102, 126, 150], [6, 24, 50, 76, 102, 128, 154], [6, 28, 54, 80, 106, 132, 158], [6, 32, 58, 84, 110, 136, 162], [6, 26, 54, 82, 110, 138, 166], [6, 30, 58, 86, 114, 142, 170]],\n  G15: 1 << 10 | 1 << 8 | 1 << 5 | 1 << 4 | 1 << 2 | 1 << 1 | 1 << 0,\n  G18: 1 << 12 | 1 << 11 | 1 << 10 | 1 << 9 | 1 << 8 | 1 << 5 | 1 << 2 | 1 << 0,\n  G15_MASK: 1 << 14 | 1 << 12 | 1 << 10 | 1 << 4 | 1 << 1,\n  getBCHTypeInfo: function getBCHTypeInfo(data) {\n    var d = data << 10;\n\n    while (QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G15) >= 0) {\n      d ^= QRUtil.G15 << QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G15);\n    }\n\n    return (data << 10 | d) ^ QRUtil.G15_MASK;\n  },\n  getBCHTypeNumber: function getBCHTypeNumber(data) {\n    var d = data << 12;\n\n    while (QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G18) >= 0) {\n      d ^= QRUtil.G18 << QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G18);\n    }\n\n    return data << 12 | d;\n  },\n  getBCHDigit: function getBCHDigit(data) {\n    var digit = 0;\n\n    while (data != 0) {\n      digit++;\n      data >>>= 1;\n    }\n\n    return digit;\n  },\n  getPatternPosition: function getPatternPosition(typeNumber) {\n    return QRUtil.PATTERN_POSITION_TABLE[typeNumber - 1];\n  },\n  getMask: function getMask(maskPattern, i, j) {\n    switch (maskPattern) {\n      case QRMaskPattern.PATTERN000:\n        return (i + j) % 2 == 0;\n\n      case QRMaskPattern.PATTERN001:\n        return i % 2 == 0;\n\n      case QRMaskPattern.PATTERN010:\n        return j % 3 == 0;\n\n      case QRMaskPattern.PATTERN011:\n        return (i + j) % 3 == 0;\n\n      case QRMaskPattern.PATTERN100:\n        return (Math.floor(i / 2) + Math.floor(j / 3)) % 2 == 0;\n\n      case QRMaskPattern.PATTERN101:\n        return i * j % 2 + i * j % 3 == 0;\n\n      case QRMaskPattern.PATTERN110:\n        return (i * j % 2 + i * j % 3) % 2 == 0;\n\n      case QRMaskPattern.PATTERN111:\n        return (i * j % 3 + (i + j) % 2) % 2 == 0;\n\n      default:\n        throw new Error(\"bad maskPattern:\" + maskPattern);\n    }\n  },\n  getErrorCorrectPolynomial: function getErrorCorrectPolynomial(errorCorrectLength) {\n    var a = new QRPolynomial([1], 0);\n\n    for (var i = 0; i < errorCorrectLength; i++) {\n      a = a.multiply(new QRPolynomial([1, QRMath.gexp(i)], 0));\n    }\n\n    return a;\n  },\n  getLengthInBits: function getLengthInBits(mode, type) {\n    if (1 <= type && type < 10) {\n      switch (mode) {\n        case QRMode.MODE_NUMBER:\n          return 10;\n\n        case QRMode.MODE_ALPHA_NUM:\n          return 9;\n\n        case QRMode.MODE_8BIT_BYTE:\n          return 8;\n\n        case QRMode.MODE_KANJI:\n          return 8;\n\n        default:\n          throw new Error(\"mode:\" + mode);\n      }\n    } else if (type < 27) {\n      switch (mode) {\n        case QRMode.MODE_NUMBER:\n          return 12;\n\n        case QRMode.MODE_ALPHA_NUM:\n          return 11;\n\n        case QRMode.MODE_8BIT_BYTE:\n          return 16;\n\n        case QRMode.MODE_KANJI:\n          return 10;\n\n        default:\n          throw new Error(\"mode:\" + mode);\n      }\n    } else if (type < 41) {\n      switch (mode) {\n        case QRMode.MODE_NUMBER:\n          return 14;\n\n        case QRMode.MODE_ALPHA_NUM:\n          return 13;\n\n        case QRMode.MODE_8BIT_BYTE:\n          return 16;\n\n        case QRMode.MODE_KANJI:\n          return 12;\n\n        default:\n          throw new Error(\"mode:\" + mode);\n      }\n    } else {\n      throw new Error(\"type:\" + type);\n    }\n  },\n  getLostPoint: function getLostPoint(qrCode) {\n    var moduleCount = qrCode.getModuleCount();\n    var lostPoint = 0;\n\n    for (var row = 0; row < moduleCount; row++) {\n      for (var col = 0; col < moduleCount; col++) {\n        var sameCount = 0;\n        var dark = qrCode.isDark(row, col);\n\n        for (var r = -1; r <= 1; r++) {\n          if (row + r < 0 || moduleCount <= row + r) {\n            continue;\n          }\n\n          for (var c = -1; c <= 1; c++) {\n            if (col + c < 0 || moduleCount <= col + c) {\n              continue;\n            }\n\n            if (r == 0 && c == 0) {\n              continue;\n            }\n\n            if (dark == qrCode.isDark(row + r, col + c)) {\n              sameCount++;\n            }\n          }\n        }\n\n        if (sameCount > 5) {\n          lostPoint += 3 + sameCount - 5;\n        }\n      }\n    }\n\n    for (var row = 0; row < moduleCount - 1; row++) {\n      for (var col = 0; col < moduleCount - 1; col++) {\n        var count = 0;\n        if (qrCode.isDark(row, col)) count++;\n        if (qrCode.isDark(row + 1, col)) count++;\n        if (qrCode.isDark(row, col + 1)) count++;\n        if (qrCode.isDark(row + 1, col + 1)) count++;\n\n        if (count == 0 || count == 4) {\n          lostPoint += 3;\n        }\n      }\n    }\n\n    for (var row = 0; row < moduleCount; row++) {\n      for (var col = 0; col < moduleCount - 6; col++) {\n        if (qrCode.isDark(row, col) && !qrCode.isDark(row, col + 1) && qrCode.isDark(row, col + 2) && qrCode.isDark(row, col + 3) && qrCode.isDark(row, col + 4) && !qrCode.isDark(row, col + 5) && qrCode.isDark(row, col + 6)) {\n          lostPoint += 40;\n        }\n      }\n    }\n\n    for (var col = 0; col < moduleCount; col++) {\n      for (var row = 0; row < moduleCount - 6; row++) {\n        if (qrCode.isDark(row, col) && !qrCode.isDark(row + 1, col) && qrCode.isDark(row + 2, col) && qrCode.isDark(row + 3, col) && qrCode.isDark(row + 4, col) && !qrCode.isDark(row + 5, col) && qrCode.isDark(row + 6, col)) {\n          lostPoint += 40;\n        }\n      }\n    }\n\n    var darkCount = 0;\n\n    for (var col = 0; col < moduleCount; col++) {\n      for (var row = 0; row < moduleCount; row++) {\n        if (qrCode.isDark(row, col)) {\n          darkCount++;\n        }\n      }\n    }\n\n    var ratio = Math.abs(100 * darkCount / moduleCount / moduleCount - 50) / 5;\n    lostPoint += ratio * 10;\n    return lostPoint;\n  }\n};\nvar QRMath = {\n  glog: function glog(n) {\n    if (n < 1) {\n      throw new Error(\"glog(\" + n + \")\");\n    }\n\n    return QRMath.LOG_TABLE[n];\n  },\n  gexp: function gexp(n) {\n    while (n < 0) {\n      n += 255;\n    }\n\n    while (n >= 256) {\n      n -= 255;\n    }\n\n    return QRMath.EXP_TABLE[n];\n  },\n  EXP_TABLE: new Array(256),\n  LOG_TABLE: new Array(256)\n};\n\nfor (var i = 0; i < 8; i++) {\n  QRMath.EXP_TABLE[i] = 1 << i;\n}\n\nfor (var i = 8; i < 256; i++) {\n  QRMath.EXP_TABLE[i] = QRMath.EXP_TABLE[i - 4] ^ QRMath.EXP_TABLE[i - 5] ^ QRMath.EXP_TABLE[i - 6] ^ QRMath.EXP_TABLE[i - 8];\n}\n\nfor (var i = 0; i < 255; i++) {\n  QRMath.LOG_TABLE[QRMath.EXP_TABLE[i]] = i;\n}\n\nfunction QRPolynomial(num, shift) {\n  if (num.length == undefined) {\n    throw new Error(num.length + \"/\" + shift);\n  }\n\n  var offset = 0;\n\n  while (offset < num.length && num[offset] == 0) {\n    offset++;\n  }\n\n  this.num = new Array(num.length - offset + shift);\n\n  for (var i = 0; i < num.length - offset; i++) {\n    this.num[i] = num[i + offset];\n  }\n}\n\nQRPolynomial.prototype = {\n  get: function get(index) {\n    return this.num[index];\n  },\n  getLength: function getLength() {\n    return this.num.length;\n  },\n  multiply: function multiply(e) {\n    var num = new Array(this.getLength() + e.getLength() - 1);\n\n    for (var i = 0; i < this.getLength(); i++) {\n      for (var j = 0; j < e.getLength(); j++) {\n        num[i + j] ^= QRMath.gexp(QRMath.glog(this.get(i)) + QRMath.glog(e.get(j)));\n      }\n    }\n\n    return new QRPolynomial(num, 0);\n  },\n  mod: function mod(e) {\n    if (this.getLength() - e.getLength() < 0) {\n      return this;\n    }\n\n    var ratio = QRMath.glog(this.get(0)) - QRMath.glog(e.get(0));\n    var num = new Array(this.getLength());\n\n    for (var i = 0; i < this.getLength(); i++) {\n      num[i] = this.get(i);\n    }\n\n    for (var i = 0; i < e.getLength(); i++) {\n      num[i] ^= QRMath.gexp(QRMath.glog(e.get(i)) + ratio);\n    }\n\n    return new QRPolynomial(num, 0).mod(e);\n  }\n};\n\nfunction QRRSBlock(totalCount, dataCount) {\n  this.totalCount = totalCount;\n  this.dataCount = dataCount;\n}\n\nQRRSBlock.RS_BLOCK_TABLE = [[1, 26, 19], [1, 26, 16], [1, 26, 13], [1, 26, 9], [1, 44, 34], [1, 44, 28], [1, 44, 22], [1, 44, 16], [1, 70, 55], [1, 70, 44], [2, 35, 17], [2, 35, 13], [1, 100, 80], [2, 50, 32], [2, 50, 24], [4, 25, 9], [1, 134, 108], [2, 67, 43], [2, 33, 15, 2, 34, 16], [2, 33, 11, 2, 34, 12], [2, 86, 68], [4, 43, 27], [4, 43, 19], [4, 43, 15], [2, 98, 78], [4, 49, 31], [2, 32, 14, 4, 33, 15], [4, 39, 13, 1, 40, 14], [2, 121, 97], [2, 60, 38, 2, 61, 39], [4, 40, 18, 2, 41, 19], [4, 40, 14, 2, 41, 15], [2, 146, 116], [3, 58, 36, 2, 59, 37], [4, 36, 16, 4, 37, 17], [4, 36, 12, 4, 37, 13], [2, 86, 68, 2, 87, 69], [4, 69, 43, 1, 70, 44], [6, 43, 19, 2, 44, 20], [6, 43, 15, 2, 44, 16], [4, 101, 81], [1, 80, 50, 4, 81, 51], [4, 50, 22, 4, 51, 23], [3, 36, 12, 8, 37, 13], [2, 116, 92, 2, 117, 93], [6, 58, 36, 2, 59, 37], [4, 46, 20, 6, 47, 21], [7, 42, 14, 4, 43, 15], [4, 133, 107], [8, 59, 37, 1, 60, 38], [8, 44, 20, 4, 45, 21], [12, 33, 11, 4, 34, 12], [3, 145, 115, 1, 146, 116], [4, 64, 40, 5, 65, 41], [11, 36, 16, 5, 37, 17], [11, 36, 12, 5, 37, 13], [5, 109, 87, 1, 110, 88], [5, 65, 41, 5, 66, 42], [5, 54, 24, 7, 55, 25], [11, 36, 12], [5, 122, 98, 1, 123, 99], [7, 73, 45, 3, 74, 46], [15, 43, 19, 2, 44, 20], [3, 45, 15, 13, 46, 16], [1, 135, 107, 5, 136, 108], [10, 74, 46, 1, 75, 47], [1, 50, 22, 15, 51, 23], [2, 42, 14, 17, 43, 15], [5, 150, 120, 1, 151, 121], [9, 69, 43, 4, 70, 44], [17, 50, 22, 1, 51, 23], [2, 42, 14, 19, 43, 15], [3, 141, 113, 4, 142, 114], [3, 70, 44, 11, 71, 45], [17, 47, 21, 4, 48, 22], [9, 39, 13, 16, 40, 14], [3, 135, 107, 5, 136, 108], [3, 67, 41, 13, 68, 42], [15, 54, 24, 5, 55, 25], [15, 43, 15, 10, 44, 16], [4, 144, 116, 4, 145, 117], [17, 68, 42], [17, 50, 22, 6, 51, 23], [19, 46, 16, 6, 47, 17], [2, 139, 111, 7, 140, 112], [17, 74, 46], [7, 54, 24, 16, 55, 25], [34, 37, 13], [4, 151, 121, 5, 152, 122], [4, 75, 47, 14, 76, 48], [11, 54, 24, 14, 55, 25], [16, 45, 15, 14, 46, 16], [6, 147, 117, 4, 148, 118], [6, 73, 45, 14, 74, 46], [11, 54, 24, 16, 55, 25], [30, 46, 16, 2, 47, 17], [8, 132, 106, 4, 133, 107], [8, 75, 47, 13, 76, 48], [7, 54, 24, 22, 55, 25], [22, 45, 15, 13, 46, 16], [10, 142, 114, 2, 143, 115], [19, 74, 46, 4, 75, 47], [28, 50, 22, 6, 51, 23], [33, 46, 16, 4, 47, 17], [8, 152, 122, 4, 153, 123], [22, 73, 45, 3, 74, 46], [8, 53, 23, 26, 54, 24], [12, 45, 15, 28, 46, 16], [3, 147, 117, 10, 148, 118], [3, 73, 45, 23, 74, 46], [4, 54, 24, 31, 55, 25], [11, 45, 15, 31, 46, 16], [7, 146, 116, 7, 147, 117], [21, 73, 45, 7, 74, 46], [1, 53, 23, 37, 54, 24], [19, 45, 15, 26, 46, 16], [5, 145, 115, 10, 146, 116], [19, 75, 47, 10, 76, 48], [15, 54, 24, 25, 55, 25], [23, 45, 15, 25, 46, 16], [13, 145, 115, 3, 146, 116], [2, 74, 46, 29, 75, 47], [42, 54, 24, 1, 55, 25], [23, 45, 15, 28, 46, 16], [17, 145, 115], [10, 74, 46, 23, 75, 47], [10, 54, 24, 35, 55, 25], [19, 45, 15, 35, 46, 16], [17, 145, 115, 1, 146, 116], [14, 74, 46, 21, 75, 47], [29, 54, 24, 19, 55, 25], [11, 45, 15, 46, 46, 16], [13, 145, 115, 6, 146, 116], [14, 74, 46, 23, 75, 47], [44, 54, 24, 7, 55, 25], [59, 46, 16, 1, 47, 17], [12, 151, 121, 7, 152, 122], [12, 75, 47, 26, 76, 48], [39, 54, 24, 14, 55, 25], [22, 45, 15, 41, 46, 16], [6, 151, 121, 14, 152, 122], [6, 75, 47, 34, 76, 48], [46, 54, 24, 10, 55, 25], [2, 45, 15, 64, 46, 16], [17, 152, 122, 4, 153, 123], [29, 74, 46, 14, 75, 47], [49, 54, 24, 10, 55, 25], [24, 45, 15, 46, 46, 16], [4, 152, 122, 18, 153, 123], [13, 74, 46, 32, 75, 47], [48, 54, 24, 14, 55, 25], [42, 45, 15, 32, 46, 16], [20, 147, 117, 4, 148, 118], [40, 75, 47, 7, 76, 48], [43, 54, 24, 22, 55, 25], [10, 45, 15, 67, 46, 16], [19, 148, 118, 6, 149, 119], [18, 75, 47, 31, 76, 48], [34, 54, 24, 34, 55, 25], [20, 45, 15, 61, 46, 16]];\n\nQRRSBlock.getRSBlocks = function (typeNumber, errorCorrectLevel) {\n  var rsBlock = QRRSBlock.getRsBlockTable(typeNumber, errorCorrectLevel);\n\n  if (rsBlock == undefined) {\n    throw new Error(\"bad rs block @ typeNumber:\" + typeNumber + \"/errorCorrectLevel:\" + errorCorrectLevel);\n  }\n\n  var length = rsBlock.length / 3;\n  var list = [];\n\n  for (var i = 0; i < length; i++) {\n    var count = rsBlock[i * 3 + 0];\n    var totalCount = rsBlock[i * 3 + 1];\n    var dataCount = rsBlock[i * 3 + 2];\n\n    for (var j = 0; j < count; j++) {\n      list.push(new QRRSBlock(totalCount, dataCount));\n    }\n  }\n\n  return list;\n};\n\nQRRSBlock.getRsBlockTable = function (typeNumber, errorCorrectLevel) {\n  switch (errorCorrectLevel) {\n    case QRErrorCorrectLevel.L:\n      return QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 0];\n\n    case QRErrorCorrectLevel.M:\n      return QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 1];\n\n    case QRErrorCorrectLevel.Q:\n      return QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 2];\n\n    case QRErrorCorrectLevel.H:\n      return QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 3];\n\n    default:\n      return undefined;\n  }\n};\n\nfunction QRBitBuffer() {\n  this.buffer = [];\n  this.length = 0;\n}\n\nQRBitBuffer.prototype = {\n  get: function get(index) {\n    var bufIndex = Math.floor(index / 8);\n    return (this.buffer[bufIndex] >>> 7 - index % 8 & 1) == 1;\n  },\n  put: function put(num, length) {\n    for (var i = 0; i < length; i++) {\n      this.putBit((num >>> length - i - 1 & 1) == 1);\n    }\n  },\n  getLengthInBits: function getLengthInBits() {\n    return this.length;\n  },\n  putBit: function putBit(bit) {\n    var bufIndex = Math.floor(this.length / 8);\n\n    if (this.buffer.length <= bufIndex) {\n      this.buffer.push(0);\n    }\n\n    if (bit) {\n      this.buffer[bufIndex] |= 0x80 >>> this.length % 8;\n    }\n\n    this.length++;\n  }\n};\nvar QRCodeLimitLength = [[17, 14, 11, 7], [32, 26, 20, 14], [53, 42, 32, 24], [78, 62, 46, 34], [106, 84, 60, 44], [134, 106, 74, 58], [154, 122, 86, 64], [192, 152, 108, 84], [230, 180, 130, 98], [271, 213, 151, 119], [321, 251, 177, 137], [367, 287, 203, 155], [425, 331, 241, 177], [458, 362, 258, 194], [520, 412, 292, 220], [586, 450, 322, 250], [644, 504, 364, 280], [718, 560, 394, 310], [792, 624, 442, 338], [858, 666, 482, 382], [929, 711, 509, 403], [1003, 779, 565, 439], [1091, 857, 611, 461], [1171, 911, 661, 511], [1273, 997, 715, 535], [1367, 1059, 751, 593], [1465, 1125, 805, 625], [1528, 1190, 868, 658], [1628, 1264, 908, 698], [1732, 1370, 982, 742], [1840, 1452, 1030, 790], [1952, 1538, 1112, 842], [2068, 1628, 1168, 898], [2188, 1722, 1228, 958], [2303, 1809, 1283, 983], [2431, 1911, 1351, 1051], [2563, 1989, 1423, 1093], [2699, 2099, 1499, 1139], [2809, 2213, 1579, 1219], [2953, 2331, 1663, 1273]];\n\nfunction _isSupportCanvas() {\n  return typeof CanvasRenderingContext2D != \"undefined\";\n} // android 2.x doesn't support Data-URI spec\n\n\nfunction _getAndroid() {\n  var android = false;\n  var sAgent = navigator.userAgent;\n\n  if (/android/i.test(sAgent)) {\n    // android\n    android = true;\n    var aMat = sAgent.toString().match(/android ([0-9]\\.[0-9])/i);\n\n    if (aMat && aMat[1]) {\n      android = parseFloat(aMat[1]);\n    }\n  }\n\n  return android;\n}\n\nvar svgDrawer = function () {\n  var Drawing = function Drawing(el, htOption) {\n    this._el = el;\n    this._htOption = htOption;\n  };\n\n  Drawing.prototype.draw = function (oQRCode) {\n    var _htOption = this._htOption;\n    var _el = this._el;\n    var nCount = oQRCode.getModuleCount();\n    var nWidth = Math.floor(_htOption.width / nCount);\n    var nHeight = Math.floor(_htOption.height / nCount);\n    this.clear();\n\n    function makeSVG(tag, attrs) {\n      var el = document.createElementNS(\"http://www.w3.org/2000/svg\", tag);\n\n      for (var k in attrs) {\n        if (attrs.hasOwnProperty(k)) el.setAttribute(k, attrs[k]);\n      }\n\n      return el;\n    }\n\n    var svg = makeSVG(\"svg\", {\n      viewBox: \"0 0 \" + String(nCount) + \" \" + String(nCount),\n      width: \"100%\",\n      height: \"100%\",\n      fill: _htOption.colorLight\n    });\n    svg.setAttributeNS(\"http://www.w3.org/2000/xmlns/\", \"xmlns:xlink\", \"http://www.w3.org/1999/xlink\");\n\n    _el.appendChild(svg);\n\n    svg.appendChild(makeSVG(\"rect\", {\n      fill: _htOption.colorLight,\n      width: \"100%\",\n      height: \"100%\"\n    }));\n    svg.appendChild(makeSVG(\"rect\", {\n      fill: _htOption.colorDark,\n      width: \"1\",\n      height: \"1\",\n      id: \"template\"\n    }));\n\n    for (var row = 0; row < nCount; row++) {\n      for (var col = 0; col < nCount; col++) {\n        if (oQRCode.isDark(row, col)) {\n          var child = makeSVG(\"use\", {\n            x: String(col),\n            y: String(row)\n          });\n          child.setAttributeNS(\"http://www.w3.org/1999/xlink\", \"href\", \"#template\");\n          svg.appendChild(child);\n        }\n      }\n    }\n  };\n\n  Drawing.prototype.clear = function () {\n    while (this._el.hasChildNodes()) {\n      this._el.removeChild(this._el.lastChild);\n    }\n  };\n\n  return Drawing;\n}();\n\nvar useSVG = document.documentElement.tagName.toLowerCase() === \"svg\"; // Drawing in DOM by using Table tag\n\nvar Drawing = useSVG ? svgDrawer : !_isSupportCanvas() ? function () {\n  var Drawing = function Drawing(el, htOption) {\n    this._el = el;\n    this._htOption = htOption;\n  };\n  /**\n   * Draw the QRCode\n   *\n   * @param {QRCode} oQRCode\n   */\n\n\n  Drawing.prototype.draw = function (oQRCode) {\n    var _htOption = this._htOption;\n    var _el = this._el;\n    var nCount = oQRCode.getModuleCount();\n    var nWidth = Math.floor(_htOption.width / nCount);\n    var nHeight = Math.floor(_htOption.height / nCount);\n    var aHTML = ['<table style=\"border:0;border-collapse:collapse;\">'];\n\n    for (var row = 0; row < nCount; row++) {\n      aHTML.push(\"<tr>\");\n\n      for (var col = 0; col < nCount; col++) {\n        aHTML.push('<td style=\"border:0;border-collapse:collapse;padding:0;margin:0;width:' + nWidth + \"px;height:\" + nHeight + \"px;background-color:\" + (oQRCode.isDark(row, col) ? _htOption.colorDark : _htOption.colorLight) + ';\"></td>');\n      }\n\n      aHTML.push(\"</tr>\");\n    }\n\n    aHTML.push(\"</table>\");\n    _el.innerHTML = aHTML.join(\"\"); // Fix the margin values as real size.\n\n    var elTable = _el.childNodes[0];\n    var nLeftMarginTable = (_htOption.width - elTable.offsetWidth) / 2;\n    var nTopMarginTable = (_htOption.height - elTable.offsetHeight) / 2;\n\n    if (nLeftMarginTable > 0 && nTopMarginTable > 0) {\n      elTable.style.margin = nTopMarginTable + \"px \" + nLeftMarginTable + \"px\";\n    }\n  };\n  /**\n   * Clear the QRCode\n   */\n\n\n  Drawing.prototype.clear = function () {\n    this._el.innerHTML = \"\";\n  };\n\n  return Drawing;\n}() : function () {\n  // Drawing in Canvas\n  function _onMakeImage() {\n    this._elImage.src = this._elCanvas.toDataURL(\"image/png\");\n    this._elImage.style.display = \"block\";\n    this._elCanvas.style.display = \"none\";\n  } // Android 2.1 bug workaround\n  // http://code.google.com/p/android/issues/detail?id=5141\n\n\n  if (this && this._android && this._android <= 2.1) {\n    var factor = 1 / window.devicePixelRatio;\n    var drawImage = CanvasRenderingContext2D.prototype.drawImage;\n\n    CanvasRenderingContext2D.prototype.drawImage = function (image, sx, sy, sw, sh, dx, dy, dw, dh) {\n      if (\"nodeName\" in image && /img/i.test(image.nodeName)) {\n        for (var i = arguments.length - 1; i >= 1; i--) {\n          arguments[i] = arguments[i] * factor;\n        }\n      } else if (typeof dw == \"undefined\") {\n        arguments[1] *= factor;\n        arguments[2] *= factor;\n        arguments[3] *= factor;\n        arguments[4] *= factor;\n      }\n\n      drawImage.apply(this, arguments);\n    };\n  }\n  /**\n   * Check whether the user's browser supports Data URI or not\n   *\n   * @private\n   * @param {Function} fSuccess Occurs if it supports Data URI\n   * @param {Function} fFail Occurs if it doesn't support Data URI\n   */\n\n\n  function _safeSetDataURI(fSuccess, fFail) {\n    var self = this;\n    self._fFail = fFail;\n    self._fSuccess = fSuccess; // Check it just once\n\n    if (self._bSupportDataURI === null) {\n      var el = document.createElement(\"img\");\n\n      var fOnError = function fOnError() {\n        self._bSupportDataURI = false;\n\n        if (self._fFail) {\n          self._fFail.call(self);\n        }\n      };\n\n      var fOnSuccess = function fOnSuccess() {\n        self._bSupportDataURI = true;\n\n        if (self._fSuccess) {\n          self._fSuccess.call(self);\n        }\n      };\n\n      el.onabort = fOnError;\n      el.onerror = fOnError;\n      el.onload = fOnSuccess;\n      el.src = \"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==\"; // the Image contains 1px data.\n\n      return;\n    } else if (self._bSupportDataURI === true && self._fSuccess) {\n      self._fSuccess.call(self);\n    } else if (self._bSupportDataURI === false && self._fFail) {\n      self._fFail.call(self);\n    }\n  }\n  /**\n   * Drawing QRCode by using canvas\n   *\n   * @constructor\n   * @param {HTMLElement} el\n   * @param {Object} htOption QRCode Options\n   */\n\n\n  var Drawing = function Drawing(el, htOption) {\n    this._bIsPainted = false;\n    this._android = _getAndroid();\n    this._htOption = htOption;\n    this._elCanvas = document.createElement(\"canvas\");\n    this._elCanvas.width = htOption.width;\n    this._elCanvas.height = htOption.height;\n    el.appendChild(this._elCanvas);\n    this._el = el;\n    this._oContext = this._elCanvas.getContext(\"2d\");\n    this._bIsPainted = false;\n    this._elImage = document.createElement(\"img\");\n    this._elImage.alt = \"Scan me!\";\n    this._elImage.style.display = \"none\";\n\n    this._el.appendChild(this._elImage);\n\n    this._bSupportDataURI = null;\n  };\n  /**\n   * Draw the QRCode\n   *\n   * @param {QRCode} oQRCode\n   */\n\n\n  Drawing.prototype.draw = function (oQRCode) {\n    var _elImage = this._elImage;\n    var _oContext = this._oContext;\n    var _htOption = this._htOption;\n    var nCount = oQRCode.getModuleCount();\n    var nWidth = _htOption.width / nCount;\n    var nHeight = _htOption.height / nCount;\n    var nRoundedWidth = Math.round(nWidth);\n    var nRoundedHeight = Math.round(nHeight);\n    _elImage.style.display = \"none\";\n    this.clear();\n\n    for (var row = 0; row < nCount; row++) {\n      for (var col = 0; col < nCount; col++) {\n        var bIsDark = oQRCode.isDark(row, col);\n        var nLeft = col * nWidth;\n        var nTop = row * nHeight;\n        _oContext.strokeStyle = bIsDark ? _htOption.colorDark : _htOption.colorLight;\n        _oContext.lineWidth = 1;\n        _oContext.fillStyle = bIsDark ? _htOption.colorDark : _htOption.colorLight;\n\n        _oContext.fillRect(nLeft, nTop, nWidth, nHeight); // 안티 앨리어싱 방지 처리\n\n\n        _oContext.strokeRect(Math.floor(nLeft) + 0.5, Math.floor(nTop) + 0.5, nRoundedWidth, nRoundedHeight);\n\n        _oContext.strokeRect(Math.ceil(nLeft) - 0.5, Math.ceil(nTop) - 0.5, nRoundedWidth, nRoundedHeight);\n      }\n    }\n\n    this._bIsPainted = true;\n  };\n  /**\n   * Make the image from Canvas if the browser supports Data URI.\n   */\n\n\n  Drawing.prototype.makeImage = function () {\n    if (this._bIsPainted) {\n      _safeSetDataURI.call(this, _onMakeImage);\n    }\n  };\n  /**\n   * Return whether the QRCode is painted or not\n   *\n   * @return {Boolean}\n   */\n\n\n  Drawing.prototype.isPainted = function () {\n    return this._bIsPainted;\n  };\n  /**\n   * Clear the QRCode\n   */\n\n\n  Drawing.prototype.clear = function () {\n    this._oContext.clearRect(0, 0, this._elCanvas.width, this._elCanvas.height);\n\n    this._bIsPainted = false;\n  };\n  /**\n   * @private\n   * @param {Number} nNumber\n   */\n\n\n  Drawing.prototype.round = function (nNumber) {\n    if (!nNumber) {\n      return nNumber;\n    }\n\n    return Math.floor(nNumber * 1000) / 1000;\n  };\n\n  return Drawing;\n}();\n/**\n * Get the type by string length\n *\n * @private\n * @param {String} sText\n * @param {Number} nCorrectLevel\n * @return {Number} type\n */\n\nfunction _getTypeNumber(sText, nCorrectLevel) {\n  var nType = 1;\n\n  var length = _getUTF8Length(sText);\n\n  for (var i = 0, len = QRCodeLimitLength.length; i <= len; i++) {\n    var nLimit = 0;\n\n    switch (nCorrectLevel) {\n      case QRErrorCorrectLevel.L:\n        nLimit = QRCodeLimitLength[i][0];\n        break;\n\n      case QRErrorCorrectLevel.M:\n        nLimit = QRCodeLimitLength[i][1];\n        break;\n\n      case QRErrorCorrectLevel.Q:\n        nLimit = QRCodeLimitLength[i][2];\n        break;\n\n      case QRErrorCorrectLevel.H:\n        nLimit = QRCodeLimitLength[i][3];\n        break;\n    }\n\n    if (length <= nLimit) {\n      break;\n    } else {\n      nType++;\n    }\n  }\n\n  if (nType > QRCodeLimitLength.length) {\n    throw new Error(\"Too long data\");\n  }\n\n  return nType;\n}\n\nfunction _getUTF8Length(sText) {\n  var replacedText = encodeURI(sText).toString().replace(/\\%[0-9a-fA-F]{2}/g, \"a\");\n  return replacedText.length + (replacedText.length != sText ? 3 : 0);\n}\n/**\n * @class QRCode\n * @constructor\n * @example\n * new QRCode(document.getElementById(\"test\"), \"http://jindo.dev.naver.com/collie\");\n *\n * @example\n * var oQRCode = new QRCode(\"test\", {\n *    text : \"http://naver.com\",\n *    width : 128,\n *    height : 128\n * });\n *\n * oQRCode.clear(); // Clear the QRCode.\n * oQRCode.makeCode(\"http://map.naver.com\"); // Re-create the QRCode.\n *\n * @param {HTMLElement|String} el target element or 'id' attribute of element.\n * @param {Object|String} vOption\n * @param {String} vOption.text QRCode link data\n * @param {Number} [vOption.width=256]\n * @param {Number} [vOption.height=256]\n * @param {String} [vOption.colorDark=\"#000000\"]\n * @param {String} [vOption.colorLight=\"#ffffff\"]\n * @param {QRCode.CorrectLevel} [vOption.correctLevel=QRCode.CorrectLevel.H] [L|M|Q|H]\n */\n\n\nQRCode = function QRCode(el, vOption) {\n  this._htOption = {\n    width: 256,\n    height: 256,\n    typeNumber: 4,\n    colorDark: \"#000000\",\n    colorLight: \"#ffffff\",\n    correctLevel: QRErrorCorrectLevel.H\n  };\n\n  if (typeof vOption === \"string\") {\n    vOption = {\n      text: vOption\n    };\n  } // Overwrites options\n\n\n  if (vOption) {\n    for (var i in vOption) {\n      this._htOption[i] = vOption[i];\n    }\n  }\n\n  if (typeof el == \"string\") {\n    el = document.getElementById(el);\n  }\n\n  if (this._htOption.useSVG) {\n    Drawing = svgDrawer;\n  }\n\n  this._android = _getAndroid();\n  this._el = el;\n  this._oQRCode = null;\n  this._oDrawing = new Drawing(this._el, this._htOption);\n\n  if (this._htOption.text) {\n    this.makeCode(this._htOption.text);\n  }\n};\n/**\n * Make the QRCode\n *\n * @param {String} sText link data\n */\n\n\nQRCode.prototype.makeCode = function (sText) {\n  this._oQRCode = new QRCodeModel(_getTypeNumber(sText, this._htOption.correctLevel), this._htOption.correctLevel);\n\n  this._oQRCode.addData(sText);\n\n  this._oQRCode.make();\n\n  this._el.title = sText;\n\n  this._oDrawing.draw(this._oQRCode);\n\n  this.makeImage();\n};\n/**\n * Make the Image from Canvas element\n * - It occurs automatically\n * - Android below 3 doesn't support Data-URI spec.\n *\n * @private\n */\n\n\nQRCode.prototype.makeImage = function () {\n  if (typeof this._oDrawing.makeImage == \"function\" && (!this._android || this._android >= 3)) {\n    this._oDrawing.makeImage();\n  }\n};\n/**\n * Clear the QRCode\n */\n\n\nQRCode.prototype.clear = function () {\n  this._oDrawing.clear();\n};\n/**\n * @name QRCode.CorrectLevel\n */\n\n\nQRCode.CorrectLevel = QRErrorCorrectLevel;\n/* harmony default export */ __webpack_exports__[\"default\"] = (QRCode);\n\n/***/ })\n\n};;",
    "server-bundle.js": "module.exports =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// object to store loaded chunks\n/******/ \t// \"0\" means \"already loaded\"\n/******/ \tvar installedChunks = {\n/******/ \t\t49: 0\n/******/ \t};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/ \t// This file contains only the entry chunk.\n/******/ \t// The chunk loading function for additional chunks\n/******/ \t__webpack_require__.e = function requireEnsure(chunkId) {\n/******/ \t\t// \"0\" is the signal for \"already loaded\"\n/******/ \t\tif(installedChunks[chunkId] !== 0) {\n/******/ \t\t\tvar chunk = require(\"./\" + chunkId + \".server-bundle.js\");\n/******/ \t\t\tvar moreModules = chunk.modules, chunkIds = chunk.ids;\n/******/ \t\t\tfor(var moduleId in moreModules) {\n/******/ \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n/******/ \t\t\t}\n/******/ \t\t\tfor(var i = 0; i < chunkIds.length; i++)\n/******/ \t\t\t\tinstalledChunks[chunkIds[i]] = 0;\n/******/ \t\t}\n/******/ \t\treturn Promise.resolve();\n/******/ \t};\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"https://static.calibur.tv/m/\";\n/******/\n/******/ \t// uncatched error handler for webpack runtime\n/******/ \t__webpack_require__.oe = function(err) {\n/******/ \t\tprocess.nextTick(function() {\n/******/ \t\t\tthrow err; // catch this error by using System.import().catch()\n/******/ \t\t});\n/******/ \t};\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 28);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"@babel/runtime/regenerator\");\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"regenerator-runtime/runtime\");\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"@babel/runtime/helpers/asyncToGenerator\");\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"core-js/modules/web.dom.iterable\");\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports) {\n\n/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file.\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nmodule.exports = function normalizeComponent (\n  rawScriptExports,\n  compiledTemplate,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier /* server only */\n) {\n  var esModule\n  var scriptExports = rawScriptExports = rawScriptExports || {}\n\n  // ES6 modules interop\n  var type = typeof rawScriptExports.default\n  if (type === 'object' || type === 'function') {\n    esModule = rawScriptExports\n    scriptExports = rawScriptExports.default\n  }\n\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (compiledTemplate) {\n    options.render = compiledTemplate.render\n    options.staticRenderFns = compiledTemplate.staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) { // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = injectStyles\n  }\n\n  if (hook) {\n    var functional = options.functional\n    var existing = functional\n      ? options.render\n      : options.beforeCreate\n\n    if (!functional) {\n      // inject component registration as beforeCreate hook\n      options.beforeCreate = existing\n        ? [].concat(existing, hook)\n        : [hook]\n    } else {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functioal component in vue file\n      options.render = function renderWithStyleInjection (h, context) {\n        hook.call(context)\n        return existing(h, context)\n      }\n    }\n  }\n\n  return {\n    esModule: esModule,\n    exports: scriptExports,\n    options: options\n  }\n}\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\n/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar listToStyles = __webpack_require__(31)\n\nmodule.exports = function (parentId, list, isProduction, context) {\n  if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n    context = __VUE_SSR_CONTEXT__\n  }\n  if (context) {\n    if (!context.hasOwnProperty('styles')) {\n      Object.defineProperty(context, 'styles', {\n        enumerable: true,\n        get: function() {\n          return renderStyles(context._styles)\n        }\n      })\n      // expose renderStyles for vue-server-renderer (vuejs/#6353)\n      context._renderStyles = renderStyles\n    }\n\n    var styles = context._styles || (context._styles = {})\n    list = listToStyles(parentId, list)\n    if (isProduction) {\n      addStyleProd(styles, list)\n    } else {\n      addStyleDev(styles, list)\n    }\n  }\n}\n\n// In production, render as few style tags as possible.\n// (mostly because IE9 has a limit on number of style tags)\nfunction addStyleProd (styles, list) {\n  for (var i = 0; i < list.length; i++) {\n    var parts = list[i].parts\n    for (var j = 0; j < parts.length; j++) {\n      var part = parts[j]\n      // group style tags by media types.\n      var id = part.media || 'default'\n      var style = styles[id]\n      if (style) {\n        if (style.ids.indexOf(part.id) < 0) {\n          style.ids.push(part.id)\n          style.css += '\\n' + part.css\n        }\n      } else {\n        styles[id] = {\n          ids: [part.id],\n          css: part.css,\n          media: part.media\n        }\n      }\n    }\n  }\n}\n\n// In dev we use individual style tag for each module for hot-reload\n// and source maps.\nfunction addStyleDev (styles, list) {\n  for (var i = 0; i < list.length; i++) {\n    var parts = list[i].parts\n    for (var j = 0; j < parts.length; j++) {\n      var part = parts[j]\n      styles[part.id] = {\n        ids: [part.id],\n        css: part.css,\n        media: part.media\n      }\n    }\n  }\n}\n\nfunction renderStyles (styles) {\n  var css = ''\n  for (var key in styles) {\n    var style = styles[key]\n    css += '<style data-vue-ssr-id=\"' + style.ids.join(' ') + '\"' +\n        (style.media ? ( ' media=\"' + style.media + '\"' ) : '') + '>' +\n        style.css + '</style>'\n  }\n  return css\n}\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: external \"core-js/modules/es6.regexp.split\"\nvar es6_regexp_split_ = __webpack_require__(10);\nvar es6_regexp_split__default = /*#__PURE__*/__webpack_require__.n(es6_regexp_split_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/regenerator\"\nvar regenerator_ = __webpack_require__(0);\nvar regenerator__default = /*#__PURE__*/__webpack_require__.n(regenerator_);\n\n// EXTERNAL MODULE: external \"regenerator-runtime/runtime\"\nvar runtime_ = __webpack_require__(1);\nvar runtime__default = /*#__PURE__*/__webpack_require__.n(runtime_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/asyncToGenerator\"\nvar asyncToGenerator_ = __webpack_require__(2);\nvar asyncToGenerator__default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator_);\n\n// EXTERNAL MODULE: external \"axios\"\nvar external__axios_ = __webpack_require__(34);\nvar external__axios__default = /*#__PURE__*/__webpack_require__.n(external__axios_);\n\n// EXTERNAL MODULE: ./src/assets/js/parseToken.js\nvar parseToken = __webpack_require__(20);\n\n// CONCATENATED MODULE: ./src/api/_create-api-server.js\n\n\n\n\n\n\n\nclass _create_api_server_Http {\n  constructor(ctx) {\n    this.instance = external__axios__default.a.create({\n      baseURL: \"http://localhost/\",\n      headers: {\n        Accept: \"application/x.api.latest+json\",\n        Authorization: `Bearer ${Object(parseToken[\"a\" /* default */])(ctx)}`\n      },\n      timeout: 10000\n    });\n  }\n\n  get(url, data) {\n    var _this = this;\n\n    return asyncToGenerator__default()(\n    /*#__PURE__*/\n    regenerator__default.a.mark(function _callee() {\n      var res, code;\n      return regenerator__default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return _this.instance.get(url, {\n                params: data && data.params ? data.params : {}\n              });\n\n            case 3:\n              res = _context.sent;\n              return _context.abrupt(\"return\", res.data.data);\n\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](0);\n              code = _context.t0.response ? _context.t0.response.status : 500;\n\n              if (!(code === 401)) {\n                _context.next = 12;\n                break;\n              }\n\n              return _context.abrupt(\"return\", null);\n\n            case 12:\n              _context.t0.code = code;\n              throw _context.t0;\n\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this, [[0, 7]]);\n    }))();\n  }\n\n  post(url, data) {\n    var _this2 = this;\n\n    return asyncToGenerator__default()(\n    /*#__PURE__*/\n    regenerator__default.a.mark(function _callee2() {\n      var res, newToken, code;\n      return regenerator__default.a.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return _this2.instance.post(url, data);\n\n            case 3:\n              res = _context2.sent;\n              newToken = res.headers.authorization;\n\n              if (!newToken) {\n                _context2.next = 7;\n                break;\n              }\n\n              return _context2.abrupt(\"return\", Object.assign(res.data.data, {\n                token: newToken.split(\"Bearer \").pop()\n              }));\n\n            case 7:\n              return _context2.abrupt(\"return\", res.data.data);\n\n            case 10:\n              _context2.prev = 10;\n              _context2.t0 = _context2[\"catch\"](0);\n              code = _context2.t0.response ? _context2.t0.response.status : 500;\n\n              if (!(code === 401)) {\n                _context2.next = 15;\n                break;\n              }\n\n              return _context2.abrupt(\"return\", null);\n\n            case 15:\n              _context2.t0.code = code;\n              throw _context2.t0;\n\n            case 17:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this, [[0, 10]]);\n    }))();\n  }\n\n}\n\n/* harmony default export */ var _create_api_server = (ctx => {\n  return new _create_api_server_Http(ctx);\n});\n// CONCATENATED MODULE: ./src/api/_baseApi.js\n\n/* harmony default export */ var _baseApi = __webpack_exports__[\"a\"] = (class {\n  constructor() {\n    var ctx = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    this.http = _create_api_server(ctx);\n  }\n\n});\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"core-js/modules/es6.regexp.to-string\");\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"core-js/modules/es6.regexp.replace\");\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"core-js/modules/es6.regexp.split\");\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 12 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__baseApi__ = __webpack_require__(7);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (class extends __WEBPACK_IMPORTED_MODULE_0__baseApi__[\"a\" /* default */] {\n  getLoginUser() {\n    return this.http.post(\"door/refresh\");\n  }\n\n  sendMessage(_ref) {\n    var phone_number = _ref.phone_number,\n        type = _ref.type,\n        geetest = _ref.geetest;\n    return this.http.post(\"door/message\", {\n      phone_number,\n      type,\n      geetest\n    });\n  }\n\n  login(_ref2) {\n    var access = _ref2.access,\n        secret = _ref2.secret,\n        remember = _ref2.remember,\n        geetest = _ref2.geetest;\n    return this.http.post(\"door/login\", {\n      access,\n      secret,\n      remember,\n      geetest\n    });\n  }\n\n  register(_ref3) {\n    var access = _ref3.access,\n        secret = _ref3.secret,\n        nickname = _ref3.nickname,\n        authCode = _ref3.authCode,\n        inviteCode = _ref3.inviteCode;\n    return this.http.post(\"door/register\", {\n      access,\n      secret,\n      nickname,\n      authCode,\n      inviteCode\n    });\n  }\n\n  logout() {\n    return this.http.post(\"door/logout\");\n  }\n\n  getUserInfo(_ref4) {\n    var zone = _ref4.zone;\n    return this.http.get(`user/${zone}/show`);\n  }\n\n  settingProfile(params) {\n    return this.http.post(\"user/setting/profile\", params);\n  }\n\n  followBangumis(zone) {\n    return this.http.get(`user/${zone}/followed/bangumi`);\n  }\n\n  replyPosts(_ref5) {\n    var zone = _ref5.zone,\n        take = _ref5.take,\n        page = _ref5.page;\n    return this.http.get(`user/${zone}/posts/reply`, {\n      params: {\n        take,\n        page\n      }\n    });\n  }\n\n  settingImage(_ref6) {\n    var type = _ref6.type,\n        url = _ref6.url;\n    return this.http.post(\"user/setting/image\", {\n      type,\n      url\n    });\n  }\n\n  feedback(_ref7) {\n    var type = _ref7.type,\n        desc = _ref7.desc,\n        ua = _ref7.ua;\n    return this.http.post(\"user/feedback\", {\n      type,\n      desc,\n      ua\n    });\n  }\n\n  daySign() {\n    return this.http.post(\"user/daySign\");\n  }\n\n  getNotificationCount() {\n    return this.http.get(\"user/notification/count\");\n  }\n\n  getNotifications(_ref8) {\n    var minId = _ref8.minId;\n    return this.http.get(\"user/notification/list\", {\n      params: {\n        minId\n      }\n    });\n  }\n\n  readMessage(id) {\n    return this.http.post(\"user/notification/read\", {\n      id\n    });\n  }\n\n  readAllMessage() {\n    return this.http.post(\"user/notification/clear\");\n  }\n\n  resetPassword(_ref9) {\n    var method = _ref9.method,\n        access = _ref9.access,\n        authCode = _ref9.authCode,\n        secret = _ref9.secret;\n    return this.http.post(\"door/reset\", {\n      method,\n      access,\n      authCode,\n      secret\n    });\n  }\n\n  images(_ref10) {\n    var zone = _ref10.zone,\n        take = _ref10.take,\n        seenIds = _ref10.seenIds,\n        size = _ref10.size,\n        tags = _ref10.tags,\n        bangumiId = _ref10.bangumiId,\n        creator = _ref10.creator;\n    return this.http.get(`user/${zone}/images/list`, {\n      params: {\n        take,\n        seenIds,\n        size,\n        tags,\n        bangumiId,\n        creator\n      }\n    });\n  }\n\n  getUserAlbums() {\n    return this.http.get(\"user/images/albums\");\n  }\n\n  followRoles(_ref11) {\n    var zone = _ref11.zone,\n        page = _ref11.page;\n    return this.http.get(`user/${zone}/followed/role`, {\n      params: {\n        page\n      }\n    });\n  }\n\n  report(_ref12) {\n    var id = _ref12.id,\n        type = _ref12.type,\n        model = _ref12.model,\n        message = _ref12.message;\n    return this.http.post(\"report/send\", {\n      id,\n      type,\n      model,\n      message\n    });\n  }\n\n});\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"core-js/modules/es6.array.sort\");\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"vue\");\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar env = \"production\";\nvar cdn = {\n  image: \"https://image.calibur.tv/\",\n  video: \"https://video.calibur.tv/\",\n  static: \"https://static.calibur.tv/\"\n};\nvar script = {\n  baiduStat: `var _hmt=_hmt||[];(function(){var hm=document.createElement(\"script\");hm.src=\"https://hm.baidu.com/hm.js?c10304a2f70ee2ddf8d2818551d37a4b\";var s=document.getElementsByTagName(\"script\")[0];s.parentNode.insertBefore(hm,s)})();`,\n  baiduPush: `(function(){var bp=document.createElement('script');var curProtocol=window.location.protocol.split(':')[0];if(curProtocol==='https'){bp.src='https://zz.bdstatic.com/linksubmit/push.js'}else{bp.src='http://push.zhanzhang.baidu.com/push.js'}var s=document.getElementsByTagName(\"script\")[0];s.parentNode.insertBefore(bp,s)})();`\n};\nvar sentry = {\n  token: \"5b02ddc4b7894347952d08e1f5563b9c2a845347bb234acf9fedd73210cbbd8b\",\n  url: \"https://63fb1028c6e24cb5be33e8ed64d798e8@sentry.io/1278322\"\n};\nvar iPhoneXViewport = `(function(){var iOS=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;var ratio=window.devicePixelRatio||1;var screen={width:window.screen.width*ratio,height:window.screen.height*ratio};if(iOS&&screen.width===1125&&screen.height===2436){document.querySelector('meta[name=viewport]').content=document.querySelector('meta[name=viewport]').content+',viewport-fit=cover'}}());`;\nmodule.exports = {\n  env,\n  script,\n  cdn,\n  sentry,\n  iPhoneXViewport\n};\n\n/***/ }),\n/* 16 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__baseApi__ = __webpack_require__(7);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (class extends __WEBPACK_IMPORTED_MODULE_0__baseApi__[\"a\" /* default */] {\n  getBanners() {\n    return this.http.get(\"image/banner\");\n  }\n\n  getCaptcha() {\n    return this.http.get(\"image/captcha\");\n  }\n\n  getUpToken() {\n    return this.http.get(\"image/uptoken\");\n  }\n\n  uploadToQiniu(formData) {\n    return this.http.post(\"https://up.qbox.me\", formData, {\n      \"Content-Type\": \"multipart/form-data\"\n    });\n  }\n\n  trialReport(_ref) {\n    var id = _ref.id;\n    return this.http.post(\"image/report\", {\n      id\n    });\n  }\n\n  editImage(_ref2) {\n    var id = _ref2.id,\n        bangumiId = _ref2.bangumiId,\n        roleId = _ref2.roleId,\n        size = _ref2.size,\n        tags = _ref2.tags;\n    return this.http.post(\"image/edit\", {\n      id,\n      bangumiId,\n      roleId,\n      tags,\n      size\n    });\n  }\n\n  toggleLike(_ref3) {\n    var id = _ref3.id;\n    return this.http.post(\"image/toggleLike\", {\n      id\n    });\n  }\n\n  show(_ref4) {\n    var id = _ref4.id;\n    return this.http.get(`image/${id}/show`);\n  }\n\n  users(_ref5) {\n    var zone = _ref5.zone,\n        page = _ref5.page;\n    return this.http.get(\"image/users\", {\n      params: {\n        zone,\n        page\n      }\n    });\n  }\n\n  createAlbum(_ref6) {\n    var bangumi_id = _ref6.bangumi_id,\n        name = _ref6.name,\n        url = _ref6.url,\n        width = _ref6.width,\n        height = _ref6.height,\n        size = _ref6.size,\n        type = _ref6.type,\n        is_creator = _ref6.is_creator,\n        is_cartoon = _ref6.is_cartoon,\n        part = _ref6.part;\n    return this.http.post(\"image/album/create\", {\n      bangumi_id,\n      name,\n      url,\n      width,\n      height,\n      size,\n      type,\n      is_creator,\n      is_cartoon,\n      part\n    });\n  }\n\n  editAlbum(_ref7) {\n    var id = _ref7.id,\n        name = _ref7.name,\n        url = _ref7.url,\n        width = _ref7.width,\n        height = _ref7.height,\n        size = _ref7.size,\n        type = _ref7.type,\n        part = _ref7.part;\n    return this.http.post(\"image/album/edit\", {\n      id,\n      name,\n      url,\n      width,\n      height,\n      size,\n      type,\n      part\n    });\n  }\n\n  uploadSingleImage(_ref8) {\n    var bangumi_id = _ref8.bangumi_id,\n        name = _ref8.name,\n        url = _ref8.url,\n        width = _ref8.width,\n        height = _ref8.height,\n        size = _ref8.size,\n        type = _ref8.type,\n        is_creator = _ref8.is_creator,\n        geetest = _ref8.geetest;\n    return this.http.post(\"image/single/upload\", {\n      bangumi_id,\n      name,\n      url,\n      width,\n      height,\n      size,\n      type,\n      is_creator,\n      geetest\n    });\n  }\n\n  uploadManyImage(_ref9) {\n    var album_id = _ref9.album_id,\n        images = _ref9.images;\n    return this.http.post(\"image/album/upload\", {\n      album_id,\n      images\n    });\n  }\n\n  deleteAlbum(_ref10) {\n    var id = _ref10.id;\n    return this.http.post(\"image/album/delete\", {\n      id\n    });\n  }\n\n  editSingleImage(_ref11) {\n    var id = _ref11.id,\n        name = _ref11.name,\n        bangumi_id = _ref11.bangumi_id;\n    return this.http.post(\"image/single/edit\", {\n      id,\n      name,\n      bangumi_id\n    });\n  }\n\n  getUserAlbums() {\n    return this.http.get(\"image/album/users\");\n  }\n\n  sortAlbum(_ref12) {\n    var id = _ref12.id,\n        result = _ref12.result;\n    return this.http.post(`image/album/${id}/sort`, {\n      result\n    });\n  }\n\n  deleteAlbumImage(_ref13) {\n    var id = _ref13.id,\n        result = _ref13.result,\n        imageId = _ref13.imageId;\n    return this.http.post(`image/album/${id}/deleteImage`, {\n      result,\n      imageId\n    });\n  }\n\n});\n\n/***/ }),\n/* 17 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__baseApi__ = __webpack_require__(7);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (class extends __WEBPACK_IMPORTED_MODULE_0__baseApi__[\"a\" /* default */] {\n  show(_ref) {\n    var id = _ref.id;\n    return this.http.get(`score/${id}/show`);\n  }\n\n  edit(_ref2) {\n    var id = _ref2.id;\n    return this.http.get(`score/${id}/edit`);\n  }\n\n  check(_ref3) {\n    var id = _ref3.id;\n    return this.http.get(\"score/check\", {\n      params: {\n        id\n      }\n    });\n  }\n\n  create(params) {\n    return this.http.post(\"score/create\", params);\n  }\n\n  drafts() {\n    return this.http.get(\"score/drafts\");\n  }\n\n  update(params) {\n    return this.http.post(\"score/update\", params);\n  }\n\n  delete(_ref4) {\n    var id = _ref4.id;\n    return this.http.post(\"score/delete\", {\n      id\n    });\n  }\n\n  bangumiScore(id) {\n    return this.http.get(\"score/bangumis\", {\n      params: {\n        id\n      }\n    });\n  }\n\n});\n\n/***/ }),\n/* 18 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__baseApi__ = __webpack_require__(7);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (class extends __WEBPACK_IMPORTED_MODULE_0__baseApi__[\"a\" /* default */] {\n  createQuestion(_ref) {\n    var title = _ref.title,\n        tags = _ref.tags,\n        content = _ref.content,\n        images = _ref.images,\n        intro = _ref.intro,\n        geetest = _ref.geetest;\n    return this.http.post(\"question/qaq/create\", {\n      title,\n      tags,\n      content,\n      images,\n      intro,\n      geetest\n    });\n  }\n\n  getQuestionShow(_ref2) {\n    var id = _ref2.id;\n    return this.http.get(`question/qaq/${id}/show`);\n  }\n\n  getAnswerShow(_ref3) {\n    var id = _ref3.id;\n    return this.http.get(`question/soga/${id}/show`);\n  }\n\n  createAnswer(_ref4) {\n    var question_id = _ref4.question_id,\n        do_publish = _ref4.do_publish,\n        geetest = _ref4.geetest,\n        source_url = _ref4.source_url,\n        content = _ref4.content,\n        intro = _ref4.intro;\n    return this.http.post(\"question/soga/create\", {\n      question_id,\n      do_publish,\n      geetest,\n      source_url,\n      content,\n      intro\n    });\n  }\n\n  edit(_ref5) {\n    var id = _ref5.id;\n    return this.http.get(`question/soga/${id}/resource`);\n  }\n\n  deleteAnswer(_ref6) {\n    var id = _ref6.id;\n    return this.http.post(`question/soga/${id}/delete`);\n  }\n\n  updateAnswer(_ref7) {\n    var question_id = _ref7.question_id,\n        do_publish = _ref7.do_publish,\n        geetest = _ref7.geetest,\n        source_url = _ref7.source_url,\n        content = _ref7.content,\n        intro = _ref7.intro,\n        id = _ref7.id;\n    return this.http.post(`question/soga/${id}/update`, {\n      question_id,\n      do_publish,\n      geetest,\n      source_url,\n      content,\n      intro\n    });\n  }\n\n  answerTrials() {\n    return this.http.get(\"admin/trial/answer/list\");\n  }\n\n  answerBan(_ref8) {\n    var id = _ref8.id;\n    return this.http.post(\"admin/trial/answer/ban\", {\n      id\n    });\n  }\n\n  answerPass(_ref9) {\n    var id = _ref9.id;\n    return this.http.post(\"admin/trial/answer/pass\", {\n      id\n    });\n  }\n\n  questionTrials() {\n    return this.http.get(\"admin/trial/question/list\");\n  }\n\n  questionBan(_ref10) {\n    var id = _ref10.id;\n    return this.http.post(\"admin/trial/question/ban\", {\n      id\n    });\n  }\n\n  questionPass(_ref11) {\n    var id = _ref11.id;\n    return this.http.post(\"admin/trial/question/pass\", {\n      id\n    });\n  }\n\n  drafts() {\n    return this.http.get(\"question/soga/drafts\");\n  }\n\n});\n\n/***/ }),\n/* 19 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_core_js_modules_es6_array_sort__ = __webpack_require__(13);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_core_js_modules_es6_array_sort___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_core_js_modules_es6_array_sort__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__baseApi__ = __webpack_require__(7);\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (class extends __WEBPACK_IMPORTED_MODULE_1__baseApi__[\"a\" /* default */] {\n  fetch(_ref) {\n    var sort = _ref.sort,\n        type = _ref.type,\n        take = _ref.take,\n        page = _ref.page,\n        minId = _ref.minId,\n        seenIds = _ref.seenIds,\n        bangumiId = _ref.bangumiId,\n        userZone = _ref.userZone;\n    return this.http.get(\"flow/list\", {\n      params: {\n        sort,\n        type,\n        take,\n        page,\n        minId,\n        seenIds,\n        bangumiId,\n        userZone\n      }\n    });\n  }\n\n  meta(_ref2) {\n    var type = _ref2.type;\n    return this.http.get(\"flow/meta\", {\n      params: {\n        type\n      }\n    });\n  }\n\n});\n\n/***/ }),\n/* 20 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_core_js_modules_es6_regexp_split__ = __webpack_require__(10);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_core_js_modules_es6_regexp_split___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_core_js_modules_es6_regexp_split__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_core_js_modules_web_dom_iterable__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_core_js_modules_web_dom_iterable___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_core_js_modules_web_dom_iterable__);\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (ctx => {\n  if (!ctx) {\n    return \"\";\n  }\n\n  var isClient = typeof window !== \"undefined\";\n\n  if (isClient && window.__JWT_TOKEN__) {\n    return window.__JWT_TOKEN__;\n  }\n\n  var token = \"\";\n\n  if (isClient) {\n    token = ctx.$store ? ctx.$store.state.login ? ctx.$store.state.user.token : \"\" : ctx;\n    window.__JWT_TOKEN__ = token;\n    return token;\n  }\n\n  var cookies = ctx.header.cookie;\n\n  if (!cookies) {\n    return \"\";\n  }\n\n  cookies.split(\"; \").forEach(item => {\n    var temp = item.split(\"=\");\n\n    if (temp[0] === \"JWT-TOKEN\") {\n      token = temp[1];\n    }\n  });\n\n  if (token) {\n    return token;\n  }\n\n  var authHeader = ctx.header[\"authorization\"];\n\n  if (!authHeader) {\n    return \"\";\n  }\n\n  return authHeader.split(\"Bearer \")[1];\n});\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"core-js/modules/es6.promise\");\n\n/***/ }),\n/* 22 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__baseApi__ = __webpack_require__(7);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (class extends __WEBPACK_IMPORTED_MODULE_0__baseApi__[\"a\" /* default */] {\n  users(_ref) {\n    var type = _ref.type,\n        id = _ref.id,\n        last_id = _ref.last_id,\n        take = _ref.take,\n        model = _ref.model;\n    return this.http.get(\"toggle/users\", {\n      params: {\n        id,\n        last_id,\n        take,\n        model,\n        type\n      }\n    });\n  }\n\n  like(_ref2) {\n    var type = _ref2.type,\n        id = _ref2.id;\n    return this.http.post(\"toggle/like\", {\n      type,\n      id\n    });\n  }\n\n  reward(_ref3) {\n    var type = _ref3.type,\n        id = _ref3.id;\n    return this.http.post(\"toggle/reward\", {\n      type,\n      id\n    });\n  }\n\n  follow(_ref4) {\n    var type = _ref4.type,\n        id = _ref4.id;\n    return this.http.post(\"toggle/follow\", {\n      type,\n      id\n    });\n  }\n\n  mark(_ref5) {\n    var type = _ref5.type,\n        id = _ref5.id;\n    return this.http.post(\"toggle/mark\", {\n      type,\n      id\n    });\n  }\n\n  vote(_ref6) {\n    var type = _ref6.type,\n        id = _ref6.id,\n        is_agree = _ref6.is_agree;\n    return this.http.post(\"toggle/vote\", {\n      type,\n      id,\n      is_agree\n    });\n  }\n\n});\n\n/***/ }),\n/* 23 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: external \"@babel/runtime/regenerator\"\nvar regenerator_ = __webpack_require__(0);\nvar regenerator__default = /*#__PURE__*/__webpack_require__.n(regenerator_);\n\n// EXTERNAL MODULE: external \"regenerator-runtime/runtime\"\nvar runtime_ = __webpack_require__(1);\nvar runtime__default = /*#__PURE__*/__webpack_require__.n(runtime_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/asyncToGenerator\"\nvar asyncToGenerator_ = __webpack_require__(2);\nvar asyncToGenerator__default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator_);\n\n// EXTERNAL MODULE: ./src/api/toggleApi.js\nvar toggleApi = __webpack_require__(22);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/common/FollowButton.vue\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var FollowButton = ({\n  props: {\n    type: {\n      required: true,\n      type: String,\n      validator: val => ~[\"bangumi\", \"user\", \"question\"].indexOf(val)\n    },\n    id: {\n      required: true,\n      type: Number\n    },\n    followed: {\n      required: true,\n      type: Boolean\n    },\n    classes: {\n      type: String,\n      default: \"\"\n    }\n  },\n\n  data() {\n    return {\n      loading: false\n    };\n  },\n\n  computed: {\n    currentUserId() {\n      return this.$store.state.login ? this.$store.state.user.id : 0;\n    }\n\n  },\n  methods: {\n    toggleFollow() {\n      var _this = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee() {\n        var api, result;\n        return regenerator__default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (_this.currentUserId) {\n                  _context.next = 3;\n                  break;\n                }\n\n                _this.$channel.$emit(\"sign-in\");\n\n                return _context.abrupt(\"return\");\n\n              case 3:\n                if (!(_this.type === \"user\" && _this.id === _this.currentUserId)) {\n                  _context.next = 6;\n                  break;\n                }\n\n                _this.$toast.error(\"不能关注你自己\");\n\n                return _context.abrupt(\"return\");\n\n              case 6:\n                if (!_this.loading) {\n                  _context.next = 8;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 8:\n                _this.loading = true;\n                api = new toggleApi[\"a\" /* default */](_this);\n                _context.prev = 10;\n                _context.next = 13;\n                return api.follow({\n                  type: _this.type,\n                  id: _this.id\n                });\n\n              case 13:\n                result = _context.sent;\n\n                _this.$emit(\"submit\", result);\n\n                _context.next = 20;\n                break;\n\n              case 17:\n                _context.prev = 17;\n                _context.t0 = _context[\"catch\"](10);\n\n                _this.$toast.error(_context.t0);\n\n              case 20:\n                _context.prev = 20;\n                return _context.finish(20);\n\n              case 22:\n                _this.loading = false;\n\n              case 23:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[10, 17, 20, 22]]);\n      }))();\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-c7fb8942\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/FollowButton.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"follow-button\",class:_vm.classes,on:{\"click\":_vm.toggleFollow}},[_vm._ssrNode(\"<i class=\\\"iconfont icon-guanzhu\\\"></i>\"+_vm._ssrEscape(\"\\n  \"+_vm._s(_vm.followed ? '已关注' : '关注')+\"\\n\"))])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var common_FollowButton = (esExports);\n// CONCATENATED MODULE: ./src/components/common/FollowButton.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(49),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"79575938\"\nvar Component = normalizeComponent(\n  FollowButton,\n  common_FollowButton,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_common_FollowButton = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n/* 24 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_core_js_modules_es6_regexp_split__ = __webpack_require__(10);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_core_js_modules_es6_regexp_split___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_core_js_modules_es6_regexp_split__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_core_js_modules_web_dom_iterable__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_core_js_modules_web_dom_iterable___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_core_js_modules_web_dom_iterable__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__babel_runtime_regenerator__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__babel_runtime_regenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__babel_runtime_regenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_regenerator_runtime_runtime__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_regenerator_runtime_runtime___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_regenerator_runtime_runtime__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__babel_runtime_helpers_asyncToGenerator__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__babel_runtime_helpers_asyncToGenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__babel_runtime_helpers_asyncToGenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_core_js_modules_es6_regexp_to_string__ = __webpack_require__(8);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_core_js_modules_es6_regexp_to_string___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_core_js_modules_es6_regexp_to_string__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_env__ = __webpack_require__(15);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_env___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_env__);\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  data() {\n    return {\n      uploadHeaders: {\n        token: \"\"\n      },\n      uploadConfig: {\n        max: 5,\n        pathPrefix: \"\"\n      },\n      imageUploadAccept: [\"image/jpeg\", \"image/png\", \"image/jpg\", \"image/gif\"].toString(),\n      imageUploadAction: \"https://upload.qiniup.com\",\n      imagePrefix: __WEBPACK_IMPORTED_MODULE_6_env__[\"cdn\"].image,\n      uploadPending: 0,\n      uploadImageTotal: 0,\n      uploadImageList: []\n    };\n  },\n\n  computed: {\n    currentUserId() {\n      return this.$store.state.login ? this.$store.state.user.id : 0;\n    },\n\n    currentPath() {\n      return this.$route.path;\n    }\n\n  },\n  methods: {\n    getUpToken() {\n      var _this = this;\n\n      return __WEBPACK_IMPORTED_MODULE_4__babel_runtime_helpers_asyncToGenerator___default()(\n      /*#__PURE__*/\n      __WEBPACK_IMPORTED_MODULE_2__babel_runtime_regenerator___default.a.mark(function _callee() {\n        return __WEBPACK_IMPORTED_MODULE_2__babel_runtime_regenerator___default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (_this.currentUserId) {\n                  _context.next = 2;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 2:\n                _context.prev = 2;\n                _context.next = 5;\n                return _this.$store.dispatch(\"getUpToken\", _this);\n\n              case 5:\n                _this.uploadHeaders.token = _this.$store.state.user.uptoken.upToken;\n                _context.next = 11;\n                break;\n\n              case 8:\n                _context.prev = 8;\n                _context.t0 = _context[\"catch\"](2);\n\n                _this.$toast.error(_context.t0);\n\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[2, 8]]);\n      }))();\n    },\n\n    handleImageUploadError(err, file) {\n      console.log(err);\n      this.uploadPending--;\n      this.uploadImageList.forEach((item, index) => {\n        if (item.uid === file.uid) {\n          this.uploadImageList.splice(index, 1);\n        }\n      });\n      this.$toast.error(`图片：${file.name} 上传失败`);\n    },\n\n    handleImageUploadRemove(file) {\n      this.uploadImageList.forEach((item, index) => {\n        if (item.uid === file.uid) {\n          this.uploadImageList.splice(index, 1);\n        }\n      });\n    },\n\n    handleImageUploadSuccess(res, file) {\n      this.uploadImageList.forEach((item, index) => {\n        if (item.uid === file.uid) {\n          this.uploadImageList[index] = Object.assign(item, {\n            data: res.data,\n            status: \"success\",\n            url: this.$resize(`${this.imagePrefix}${res.data.url}`, {\n              width: 100\n            })\n          });\n        }\n      });\n      this.uploadImageTotal++;\n      this.uploadPending--;\n    },\n\n    handleImageUploadBefore(file) {\n      var _this2 = this;\n\n      return __WEBPACK_IMPORTED_MODULE_4__babel_runtime_helpers_asyncToGenerator___default()(\n      /*#__PURE__*/\n      __WEBPACK_IMPORTED_MODULE_2__babel_runtime_regenerator___default.a.mark(function _callee2() {\n        var isFormat, isLtSize;\n        return __WEBPACK_IMPORTED_MODULE_2__babel_runtime_regenerator___default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (_this2.currentUserId) {\n                  _context2.next = 3;\n                  break;\n                }\n\n                _this2.$channel.$emit(\"sign-in\");\n\n                return _context2.abrupt(\"return\", false);\n\n              case 3:\n                _context2.next = 5;\n                return _this2.getUpToken();\n\n              case 5:\n                isFormat = _this2.imageUploadAccept.split(\",\").indexOf(file.type) !== -1;\n                isLtSize = file.size / 1024 / 1024 < _this2.uploadConfig.max;\n\n                if (isFormat) {\n                  _context2.next = 10;\n                  break;\n                }\n\n                _this2.$toast.error(\"仅支持jpg, jpeg, png, gif格式的图片\");\n\n                return _context2.abrupt(\"return\", false);\n\n              case 10:\n                if (isLtSize) {\n                  _context2.next = 13;\n                  break;\n                }\n\n                _this2.$toast.error(`图片大小不能超过 ${_this2.uploadConfig.max}MB!`);\n\n                return _context2.abrupt(\"return\", false);\n\n              case 13:\n                // this.uploadHeaders.key = `user/${this.currentUserId}${this.uploadConfig\n                //   .pathPrefix || this.currentPath}/${new Date().getTime()}-${Math.random()\n                //   .toString(36)\n                //   .substring(3, 6)}.${file.type.split(\"/\").pop()}`;\n                _this2.uploadImageList.push({\n                  name: file.name,\n                  percentage: 0,\n                  raw: file,\n                  size: file.size,\n                  status: \"uploading\",\n                  uid: file.uid\n                });\n\n                _this2.uploadPending++;\n                return _context2.abrupt(\"return\", true);\n\n              case 16:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }))();\n    }\n\n  }\n});\n\n/***/ }),\n/* 25 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXTERNAL MODULE: external \"@babel/runtime/regenerator\"\nvar regenerator_ = __webpack_require__(0);\nvar regenerator__default = /*#__PURE__*/__webpack_require__.n(regenerator_);\n\n// EXTERNAL MODULE: external \"regenerator-runtime/runtime\"\nvar runtime_ = __webpack_require__(1);\nvar runtime__default = /*#__PURE__*/__webpack_require__.n(runtime_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/asyncToGenerator\"\nvar asyncToGenerator_ = __webpack_require__(2);\nvar asyncToGenerator__default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator_);\n\n// EXTERNAL MODULE: external \"core-js/modules/es6.regexp.replace\"\nvar es6_regexp_replace_ = __webpack_require__(9);\nvar es6_regexp_replace__default = /*#__PURE__*/__webpack_require__.n(es6_regexp_replace_);\n\n// EXTERNAL MODULE: ./src/api/userApi.js\nvar userApi = __webpack_require__(12);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/forms/SignUpForm.vue\n\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var SignUpForm = ({\n  name: \"SignUpForm\",\n  props: {\n    inviteCode: {\n      type: String,\n      default: \"\"\n    }\n  },\n\n  data() {\n    var validateNickname = (rule, value, callback) => {\n      if (value === \"\") {\n        return callback(new Error(\"请先给自己起个名字\"));\n      }\n\n      var length = value.replace(/([\\u4e00-\\u9fa5])/g, \"aa\").trim().length;\n\n      if (length < 2) {\n        return callback(new Error(\"昵称至少是2个字符\"));\n      }\n\n      if (length > 14) {\n        return callback(new Error(\"昵称不能超过14个字符，1个汉字占2个字符\"));\n      }\n\n      if (!/^([\\u4e00-\\u9fa5]|[a-z0-9])+$/i.test(value)) {\n        return callback(new Error(\"昵称只能包含：中文、数字、字母\"));\n      }\n\n      callback();\n    };\n\n    var validateAccess = (rule, value, callback) => {\n      if (!value) {\n        return callback(new Error(\"请填写手机号\"));\n      }\n\n      if (value.length !== 11) {\n        return callback(new Error(\"请填写11位手机号\"));\n      }\n\n      if (!/^(0|86|17951)?(1)[0-9]{10}$/.test(value)) {\n        return callback(new Error(\"错误的手机号格式\"));\n      }\n\n      callback();\n    };\n\n    var validateSecret = (rule, value, callback) => {\n      if (value === \"\") {\n        return callback(new Error(\"请填写登录密码\"));\n      }\n\n      if (value.length < 6) {\n        return callback(new Error(\"密码不能小于6位\"));\n      }\n\n      if (value.length > 16) {\n        return callback(new Error(\"密码不能大于16位\"));\n      }\n\n      callback();\n    };\n\n    return {\n      watchPwd: false,\n      form: {\n        access: \"\",\n        secret: \"\",\n        nickname: \"\",\n        authCode: \"\",\n        inviteCode: this.inviteCode\n      },\n      rule: {\n        nickname: [{\n          validator: validateNickname,\n          trigger: \"blur\"\n        }],\n        access: [{\n          validator: validateAccess,\n          trigger: \"blur\"\n        }],\n        secret: [{\n          validator: validateSecret,\n          trigger: \"blur\"\n        }]\n      },\n\n      /**\n       * 0：初始化，表单待校验\n       * ---- 如果表单校验失败，就一直在 0\n       * 1：表单校验成功，获取手机短信中...\n       * ---- 需要 loading\n       * ---- 发送手机验证码需要 geetest 认证\n       * ---- 如果 geetest 认证通过就请求发短信的接口\n       * ---- 如果 geetest 认证不通过或者加载失败，就会返回到 step 0\n       * ---- 请求发短信的接口如果失败，就会返回到 step 0\n       * ---- 请求发短信的接口如果成功，就会到 step 2\n       * ---- 30s 后会返回到 step 0，可以重新发短信\n       * 2：获取手机验证码成功，用户填写短信验证码\n       * ---- 如果用户填写的正确，就进入注册流程\n       * ---- 如果用户填写的失败或关闭填写框，就提示错误，继续在 step 2\n       * ---- 30s 后就会返回 step 0，用户可以重新发短信\n       * 3：注册中...\n       * ---- 需要 loading 和 disabled\n       * ---- 注册成功，需要刷新页面\n       * ---- 注册失败，可能是在 step 2 停留太久，短信验证码过期\n       * ---- 注册失败，可能是服务器挂了\n       * ---- 注册失败，可能是 unique 的信息被他人使用了\n       * ---- 无论如何，注册失败都返回 step 0\n       */\n      step: 0,\n      timeout: 0\n    };\n  },\n\n  computed: {\n    submitBtnText() {\n      if (this.step === 0) {\n        return \"注册\";\n      } else if (this.step === 1) {\n        return \"提交中...\";\n      } else if (this.step === 2) {\n        return \"短信已发送\";\n      } else if (this.step === 3) {\n        return \"注册中...\";\n      }\n    },\n\n    submitBtnLoading() {\n      return this.step === 1 || this.step === 3;\n    },\n\n    submitBtnDisabled() {\n      return this.timeout !== 0 && this.step === 0 || this.step === 3;\n    }\n\n  },\n  methods: {\n    submitForm() {\n      this.$refs.form.validate(valid => {\n        if (valid) {\n          if (this.step === 0) {\n            this.getRegisterAuthCode();\n          }\n\n          if (this.step === 2) {\n            this.openConfirmModal();\n          }\n        } else {\n          return false;\n        }\n      });\n    },\n\n    getRegisterAuthCode() {\n      var _this = this;\n\n      this.step = 1;\n      this.$captcha({\n        success: function () {\n          var _success = asyncToGenerator__default()(\n          /*#__PURE__*/\n          regenerator__default.a.mark(function _callee(_ref) {\n            var data, api, timer;\n            return regenerator__default.a.wrap(function _callee$(_context) {\n              while (1) {\n                switch (_context.prev = _context.next) {\n                  case 0:\n                    data = _ref.data;\n                    api = new userApi[\"a\" /* default */]();\n                    _context.prev = 2;\n                    _context.next = 5;\n                    return api.sendMessage({\n                      type: \"sign_up\",\n                      phone_number: _this.form.access,\n                      geetest: data\n                    });\n\n                  case 5:\n                    _this.step = 2;\n\n                    _this.openConfirmModal();\n\n                    _context.next = 13;\n                    break;\n\n                  case 9:\n                    _context.prev = 9;\n                    _context.t0 = _context[\"catch\"](2);\n\n                    _this.$toast.error(_context.t0);\n\n                    _this.step = 0;\n\n                  case 13:\n                    _context.prev = 13;\n                    _this.timeout = 60;\n                    timer = setInterval(() => {\n                      if (! --_this.timeout) {\n                        _this.step = 0;\n                        clearInterval(timer);\n                      }\n                    }, 1000);\n                    return _context.finish(13);\n\n                  case 17:\n                  case \"end\":\n                    return _context.stop();\n                }\n              }\n            }, _callee, this, [[2, 9, 13, 17]]);\n          }));\n\n          return function success(_x) {\n            return _success.apply(this, arguments);\n          };\n        }(),\n        close: () => {\n          this.step = 0;\n        },\n        error: err => {\n          this.step = 0;\n          this.$toast.error(err);\n        }\n      });\n    },\n\n    openConfirmModal() {\n      this.$prompt(\"请输入收到的验证码\", \"短信已发送\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        inputPattern: /^\\d{6}$/,\n        inputErrorMessage: \"验证码格式不正确\"\n      }).then((_ref2) => {\n        var value = _ref2.value;\n        this.form.authCode = value;\n        this.step = 3;\n        this.signUp();\n      }).catch(() => {});\n    },\n\n    signUp() {\n      var api = new userApi[\"a\" /* default */]();\n      api.register({\n        access: this.form.access,\n        secret: this.form.secret,\n        nickname: this.form.nickname,\n        authCode: this.form.authCode,\n        inviteCode: this.form.inviteCode\n      }).then(res => {\n        this.$toast.success(\"注册成功！\");\n        this.$cookie.set(\"JWT-TOKEN\", res);\n        window.location.reload();\n      }).catch(err => {\n        this.step = 0;\n        this.$toast.error(err);\n      });\n    },\n\n    showOAuth() {\n      this.$toast.info(\"暂未开放第三方注册\");\n    },\n\n    showLogin() {\n      this.$emit(\"to-login\");\n      this.$refs.form.resetFields();\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3abcb5a0\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/forms/SignUpForm.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sign-up-form\"},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"rules\":_vm.rule,\"status-icon\":\"\"}},[_c('el-form-item',{attrs:{\"prop\":\"nickname\"}},[_c('el-input',{attrs:{\"type\":\"text\",\"placeholder\":\"昵称（2-14个字符组成，1个汉字占2个字符）\",\"auto-complete\":\"off\"},model:{value:(_vm.form.nickname),callback:function ($$v) {_vm.$set(_vm.form, \"nickname\", $$v)},expression:\"form.nickname\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"access\"}},[_c('el-input',{attrs:{\"type\":\"text\",\"placeholder\":\"手机（填写常用手机号，用于登录）\",\"auto-complete\":\"off\"},model:{value:(_vm.form.access),callback:function ($$v) {_vm.$set(_vm.form, \"access\", $$v)},expression:\"form.access\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"secret\"}},[_c('el-input',{attrs:{\"type\":_vm.watchPwd ? 'text' : 'password',\"placeholder\":\"密码（6-16个字符组成，区分大小写）\",\"auto-complete\":\"off\"},model:{value:(_vm.form.secret),callback:function ($$v) {_vm.$set(_vm.form, \"secret\", $$v)},expression:\"form.secret\"}}),(_vm.form.secret.length > 5)?_c('button',{staticClass:\"watch-pwd\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.watchPwd = !_vm.watchPwd}}},[_c('i',{staticClass:\"iconfont icon-yuedu\"})]):_vm._e()],1),(!_vm.inviteCode)?_c('el-form-item',[_c('el-input',{attrs:{\"type\":\"number\",\"placeholder\":\"邀请码（可为空）\",\"auto-complete\":\"off\"},model:{value:(_vm.form.inviteCode),callback:function ($$v) {_vm.$set(_vm.form, \"inviteCode\", $$v)},expression:\"form.inviteCode\"}})],1):_vm._e(),_c('el-form-item',[_c('el-button',{staticClass:\"submit-btn\",attrs:{\"loading\":_vm.submitBtnLoading,\"disabled\":_vm.submitBtnDisabled,\"type\":\"primary\"},on:{\"click\":_vm.submitForm}},[_vm._v(\"\\n        \"+_vm._s(_vm.submitBtnText)+\"\\n        \"),(_vm.timeout)?[_vm._v(\"\\n          （\"+_vm._s(_vm.timeout)+\"s 后可重新获取）\\n        \")]:_vm._e()],2)],1)],1),_vm._ssrNode(((!_vm.inviteCode)?(\"<div class=\\\"others\\\"><a class=\\\"fl\\\">社交账号注册</a><a class=\\\"fr\\\">已有账号»</a></div>\"):\"<!---->\")+\"<div class=\\\"tip\\\">\\n    提示：由于注册时要根据初始昵称为每个用户分配独立域名，因此注册时的昵称不支持日文和特殊符号和标点符号，可在注册完成后在个人设置页面修改昵称\\n  </div>\")],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var forms_SignUpForm = (esExports);\n// CONCATENATED MODULE: ./src/components/forms/SignUpForm.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(35),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"deee6d8a\"\nvar Component = normalizeComponent(\n  SignUpForm,\n  forms_SignUpForm,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_forms_SignUpForm = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n/* 26 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/user/UserSex.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var UserSex = ({\n  name: \"UserSex\",\n  props: {\n    sex: {\n      type: [String, Number],\n      required: true\n    },\n    secret: {\n      type: Boolean,\n      default: false\n    }\n  },\n  computed: {\n    convertSex() {\n      if (typeof this.sex === \"string\") {\n        return this.sex;\n      }\n\n      var $res = \"\";\n\n      switch (this.sex) {\n        case 0:\n          $res = \"未知\";\n          break;\n\n        case 1:\n          $res = \"男\";\n          break;\n\n        case 2:\n          $res = \"女\";\n          break;\n\n        case 3:\n          $res = \"伪娘\";\n          break;\n\n        case 4:\n          $res = \"药娘\";\n          break;\n\n        case 5:\n          $res = \"扶她\";\n          break;\n\n        default:\n          $res = \"未知\";\n      }\n\n      return $res;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-21b405e0\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/user/UserSex.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"user-sex\"},[_vm._ssrNode(((_vm.secret)?(\"<i class=\\\"iconfont icon-simi\\\" style=\\\"color: limegreen\\\"></i>\"):(_vm.convertSex === '未知')?(\"<i class=\\\"iconfont icon-wenhao\\\" style=\\\"color: gold\\\"></i>\"):(_vm.convertSex === '男')?(\"<i class=\\\"iconfont icon-nan\\\" style=\\\"color: deepskyblue\\\"></i>\"):(_vm.convertSex === '女')?(\"<i class=\\\"iconfont icon-nv\\\" style=\\\"color: hotpink\\\"></i>\"):(_vm.convertSex === '伪娘')?(\"<i class=\\\"iconfont icon-tijianxingbiefenxi\\\" style=\\\"color: mediumpurple\\\"></i>\"):(_vm.convertSex === '药娘')?(\"<i class=\\\"iconfont icon-xingbie\\\" style=\\\"color: #ff4d51;\\\"></i>\"):(_vm.convertSex === '扶她')?(\"<i class=\\\"iconfont icon-intersex\\\" style=\\\"color: silver\\\"></i>\"):\"<!---->\"))])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var user_UserSex = (esExports);\n// CONCATENATED MODULE: ./src/components/user/UserSex.vue\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"68319556\"\nvar Component = normalizeComponent(\n  UserSex,\n  user_UserSex,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_user_UserSex = __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n/* 27 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__baseApi__ = __webpack_require__(7);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (class extends __WEBPACK_IMPORTED_MODULE_0__baseApi__[\"a\" /* default */] {\n  getShow(id) {\n    return this.http.get(`video/${id}/show`);\n  }\n\n  playing(id) {\n    return this.http.post(\"video/playing\", {\n      id\n    });\n  }\n\n});\n\n/***/ }),\n/* 28 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: external \"@babel/runtime/regenerator\"\nvar regenerator_ = __webpack_require__(0);\nvar regenerator__default = /*#__PURE__*/__webpack_require__.n(regenerator_);\n\n// EXTERNAL MODULE: external \"core-js/modules/web.dom.iterable\"\nvar web_dom_iterable_ = __webpack_require__(3);\nvar web_dom_iterable__default = /*#__PURE__*/__webpack_require__.n(web_dom_iterable_);\n\n// EXTERNAL MODULE: external \"regenerator-runtime/runtime\"\nvar runtime_ = __webpack_require__(1);\nvar runtime__default = /*#__PURE__*/__webpack_require__.n(runtime_);\n\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/asyncToGenerator\"\nvar asyncToGenerator_ = __webpack_require__(2);\nvar asyncToGenerator__default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator_);\n\n// EXTERNAL MODULE: external \"core-js/modules/es6.promise\"\nvar es6_promise_ = __webpack_require__(21);\nvar es6_promise__default = /*#__PURE__*/__webpack_require__.n(es6_promise_);\n\n// EXTERNAL MODULE: external \"vue\"\nvar external__vue_ = __webpack_require__(14);\nvar external__vue__default = /*#__PURE__*/__webpack_require__.n(external__vue_);\n\n// EXTERNAL MODULE: ./.env.js\nvar _env = __webpack_require__(15);\nvar _env_default = /*#__PURE__*/__webpack_require__.n(_env);\n\n// EXTERNAL MODULE: ./src/api/userApi.js\nvar userApi = __webpack_require__(12);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/forms/SignInForm.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var SignInForm = ({\n  name: \"SignInForm\",\n\n  data() {\n    var validateAccess = (rule, value, callback) => {\n      if (!value) {\n        return callback(new Error(\"请填写手机号\"));\n      }\n\n      if (value.length !== 11) {\n        return callback(new Error(\"请填写11位手机号\"));\n      }\n\n      callback();\n    };\n\n    var validateSecret = (rule, value, callback) => {\n      if (value === \"\") {\n        return callback(new Error(\"请填写登录密码\"));\n      }\n\n      if (value.length < 6) {\n        return callback(new Error(\"密码不能小于6位\"));\n      }\n\n      if (value.length > 16) {\n        return callback(new Error(\"密码不能大于16位\"));\n      }\n\n      callback();\n    };\n\n    return {\n      form: {\n        access: \"\",\n        secret: \"\",\n        remember: true\n      },\n      rule: {\n        access: [{\n          validator: validateAccess,\n          trigger: \"blur\"\n        }],\n        secret: [{\n          validator: validateSecret,\n          trigger: \"blur\"\n        }]\n      },\n      loading: false,\n      watchPwd: false\n    };\n  },\n\n  methods: {\n    submitForm() {\n      this.$refs.form.validate(valid => {\n        if (valid) {\n          this.login();\n        } else {\n          return false;\n        }\n      });\n    },\n\n    login() {\n      if (this.loading) {\n        return;\n      }\n\n      this.loading = true;\n      this.$captcha({\n        success: (_ref) => {\n          var data = _ref.data;\n          var api = new userApi[\"a\" /* default */]();\n          api.login({\n            access: this.form.access,\n            secret: this.form.secret,\n            remember: this.form.remember,\n            geetest: data\n          }).then(token => {\n            this.$cookie.set(\"JWT-TOKEN\", token, {\n              expires: this.form.remember ? 365 : 1\n            });\n            window.location.reload();\n          }).catch(err => {\n            this.$toast.error(err);\n            this.loading = false;\n          });\n        },\n        close: () => {\n          this.loading = false;\n        },\n        error: err => {\n          this.loading = false;\n          this.$toast.error(err);\n        }\n      });\n    },\n\n    showReset() {\n      this.$emit(\"to-reset\");\n      this.$refs.form.resetFields();\n    },\n\n    showRegister() {\n      this.$emit(\"to-register\");\n      this.$refs.form.resetFields();\n    },\n\n    showOAuth() {\n      this.$toast.info(\"暂未开放第三方登录\");\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1e2f4592\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/forms/SignInForm.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sign-in-form\"},[_vm._ssrNode(\"<img\"+(_vm._ssrAttr(\"src\",_vm.$resize('https://image.calibur.tv/owner/logo/calibur-tv-pink.png', { width: 500, height: 200 })))+\" alt=\\\"sign-logo\\\" class=\\\"logo\\\">\"),_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"rules\":_vm.rule}},[_c('el-form-item',{attrs:{\"prop\":\"access\"}},[_c('el-input',{attrs:{\"type\":\"text\",\"placeholder\":\"手机（填写常用手机号，用于登录）\"},model:{value:(_vm.form.access),callback:function ($$v) {_vm.$set(_vm.form, \"access\", $$v)},expression:\"form.access\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"secret\"}},[_c('el-input',{attrs:{\"type\":_vm.watchPwd ? 'text' : 'password',\"placeholder\":\"密码（6-16个字符组成，区分大小写）\"},model:{value:(_vm.form.secret),callback:function ($$v) {_vm.$set(_vm.form, \"secret\", $$v)},expression:\"form.secret\"}}),(_vm.form.secret.length > 5)?_c('button',{staticClass:\"watch-pwd\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.watchPwd = !_vm.watchPwd}}},[_c('i',{staticClass:\"iconfont icon-yuedu\"})]):_vm._e()],1),_c('el-form-item',[_c('el-button',{staticClass:\"submit-btn\",attrs:{\"loading\":_vm.loading,\"type\":\"primary\"},on:{\"click\":_vm.submitForm}},[_vm._v(\"登录\")])],1)],1),_vm._ssrNode(\"<div class=\\\"others\\\"><a class=\\\"fl\\\">忘记密码?&gt;</a><a class=\\\"fr\\\">点击注册»</a></div>\")],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var forms_SignInForm = (esExports);\n// CONCATENATED MODULE: ./src/components/forms/SignInForm.vue\nfunction injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(32),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = \"16e2c476\"\nvar Component = normalizeComponent(\n  SignInForm,\n  forms_SignInForm,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var components_forms_SignInForm = (Component.exports);\n\n// EXTERNAL MODULE: ./src/components/forms/SignUpForm.vue + 2 modules\nvar SignUpForm = __webpack_require__(25);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/forms/ResetPasswordForm.vue\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var ResetPasswordForm = ({\n  name: \"ResetPasswordForm\",\n\n  data() {\n    var validateAccess = (rule, value, callback) => {\n      if (!value) {\n        return callback(new Error(\"请填写手机号\"));\n      }\n\n      if (value.length !== 11) {\n        return callback(new Error(\"请填写11位手机号\"));\n      }\n\n      callback();\n    };\n\n    var validateSecret = (rule, value, callback) => {\n      if (value === \"\") {\n        return callback(new Error(\"请填写登录密码\"));\n      }\n\n      if (value.length < 6) {\n        return callback(new Error(\"密码不能小于6位\"));\n      }\n\n      if (value.length > 16) {\n        return callback(new Error(\"密码不能大于16位\"));\n      }\n\n      callback();\n    };\n\n    return {\n      form: {\n        access: \"\",\n        secret: \"\",\n        authCode: \"\"\n      },\n      rule: {\n        access: [{\n          validator: validateAccess,\n          trigger: \"blur\"\n        }],\n        secret: [{\n          validator: validateSecret,\n          trigger: \"blur\"\n        }]\n      },\n      step: 0,\n      timeout: 0\n    };\n  },\n\n  computed: {\n    submitBtnText() {\n      if (this.step === 0) {\n        return \"立即重置\";\n      } else if (this.step === 1) {\n        return \"提交中...\";\n      } else if (this.step === 2) {\n        return \"短信已发送\";\n      } else if (this.step === 3) {\n        return \"已重置\";\n      }\n    },\n\n    submitBtnLoading() {\n      return this.step === 1 || this.step === 3;\n    },\n\n    submitBtnDisabled() {\n      return this.timeout !== 0 && this.step === 0 || this.step === 3;\n    }\n\n  },\n  methods: {\n    submitForm() {\n      this.$refs.form.validate(valid => {\n        if (valid) {\n          if (this.step === 0) {\n            this.getResetAuthCode();\n          }\n\n          if (this.step === 2) {\n            this.openConfirmModal();\n          }\n        } else {\n          return false;\n        }\n      });\n    },\n\n    getResetAuthCode() {\n      var _this = this;\n\n      this.step = 1;\n      this.$captcha({\n        success: function () {\n          var _success = asyncToGenerator__default()(\n          /*#__PURE__*/\n          regenerator__default.a.mark(function _callee(_ref) {\n            var data, api, timer;\n            return regenerator__default.a.wrap(function _callee$(_context) {\n              while (1) {\n                switch (_context.prev = _context.next) {\n                  case 0:\n                    data = _ref.data;\n                    api = new userApi[\"a\" /* default */]();\n                    _context.prev = 2;\n                    _context.next = 5;\n                    return api.sendMessage({\n                      type: \"forgot_password\",\n                      phone_number: _this.form.access,\n                      geetest: data\n                    });\n\n                  case 5:\n                    _this.step = 2;\n\n                    _this.openConfirmModal();\n\n                    _context.next = 13;\n                    break;\n\n                  case 9:\n                    _context.prev = 9;\n                    _context.t0 = _context[\"catch\"](2);\n\n                    _this.$toast.error(_context.t0);\n\n                    _this.step = 0;\n\n                  case 13:\n                    _context.prev = 13;\n                    _this.timeout = 60;\n                    timer = setInterval(() => {\n                      if (! --_this.timeout) {\n                        _this.step = 0;\n                        clearInterval(timer);\n                      }\n                    }, 1000);\n                    return _context.finish(13);\n\n                  case 17:\n                  case \"end\":\n                    return _context.stop();\n                }\n              }\n            }, _callee, this, [[2, 9, 13, 17]]);\n          }));\n\n          return function success(_x) {\n            return _success.apply(this, arguments);\n          };\n        }(),\n        close: () => {\n          this.step = 0;\n        },\n        error: err => {\n          this.step = 0;\n          this.$toast.error(err);\n        }\n      });\n    },\n\n    openConfirmModal() {\n      this.$prompt(\"请输入收到的验证码\", \"短信已发送\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        inputPattern: /^\\d{6}$/,\n        inputErrorMessage: \"验证码格式不正确\"\n      }).then((_ref2) => {\n        var value = _ref2.value;\n        this.form.authCode = value;\n        this.step = 3;\n        this.signReset();\n      }).catch(() => {});\n    },\n\n    signReset() {\n      var _this2 = this;\n\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee2() {\n        var api, res;\n        return regenerator__default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                api = new userApi[\"a\" /* default */]();\n                _context2.prev = 1;\n                _context2.next = 4;\n                return api.resetPassword({\n                  access: _this2.form.access,\n                  authCode: _this2.form.authCode,\n                  secret: _this2.form.secret\n                });\n\n              case 4:\n                res = _context2.sent;\n\n                _this2.$toast.success(res);\n\n                _this2.showLogin();\n\n                _context2.next = 12;\n                break;\n\n              case 9:\n                _context2.prev = 9;\n                _context2.t0 = _context2[\"catch\"](1);\n\n                _this2.$toast.error(_context2.t0);\n\n              case 12:\n                _context2.prev = 12;\n                _this2.step = 0;\n                return _context2.finish(12);\n\n              case 15:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[1, 9, 12, 15]]);\n      }))();\n    },\n\n    showLogin() {\n      this.$emit(\"to-login\");\n      this.$refs.form.resetFields();\n    },\n\n    showRegister() {\n      this.$emit(\"to-register\");\n      this.$refs.form.resetFields();\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7e98a143\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/forms/ResetPasswordForm.vue\nvar ResetPasswordForm_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"reset-password-form\"},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"rules\":_vm.rule}},[_c('el-form-item',{attrs:{\"prop\":\"access\"}},[_c('el-input',{attrs:{\"type\":\"text\",\"placeholder\":\"手机号\",\"auto-complete\":\"off\"},model:{value:(_vm.form.access),callback:function ($$v) {_vm.$set(_vm.form, \"access\", $$v)},expression:\"form.access\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"secret\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":\"新密码\",\"auto-complete\":\"off\"},model:{value:(_vm.form.secret),callback:function ($$v) {_vm.$set(_vm.form, \"secret\", $$v)},expression:\"form.secret\"}})],1),_c('el-form-item',[_c('el-button',{staticClass:\"submit-btn\",attrs:{\"loading\":_vm.submitBtnLoading,\"disabled\":_vm.submitBtnDisabled,\"type\":\"primary\"},on:{\"click\":_vm.submitForm}},[_vm._v(\"\\n        \"+_vm._s(_vm.submitBtnText)+\"\\n        \"),(_vm.timeout)?[_vm._v(\"\\n          （\"+_vm._s(_vm.timeout)+\"s 后可重新获取）\\n        \")]:_vm._e()],2)],1)],1),_vm._ssrNode(\"<div class=\\\"others\\\"><a class=\\\"fl\\\">返回登录&gt;</a><a class=\\\"fr\\\">点击注册»</a></div>\")],2)}\nvar ResetPasswordForm_staticRenderFns = []\nvar ResetPasswordForm_esExports = { render: ResetPasswordForm_render, staticRenderFns: ResetPasswordForm_staticRenderFns }\n/* harmony default export */ var forms_ResetPasswordForm = (ResetPasswordForm_esExports);\n// CONCATENATED MODULE: ./src/components/forms/ResetPasswordForm.vue\nfunction ResetPasswordForm_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(37),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar ResetPasswordForm_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar ResetPasswordForm___vue_template_functional__ = false\n/* styles */\nvar ResetPasswordForm___vue_styles__ = ResetPasswordForm_injectStyle\n/* scopeId */\nvar ResetPasswordForm___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar ResetPasswordForm___vue_module_identifier__ = \"2b476c1f\"\nvar ResetPasswordForm_Component = ResetPasswordForm_normalizeComponent(\n  ResetPasswordForm,\n  forms_ResetPasswordForm,\n  ResetPasswordForm___vue_template_functional__,\n  ResetPasswordForm___vue_styles__,\n  ResetPasswordForm___vue_scopeId__,\n  ResetPasswordForm___vue_module_identifier__\n)\n\n/* harmony default export */ var components_forms_ResetPasswordForm = (ResetPasswordForm_Component.exports);\n\n// EXTERNAL MODULE: external \"core-js/modules/es6.regexp.split\"\nvar es6_regexp_split_ = __webpack_require__(10);\nvar es6_regexp_split__default = /*#__PURE__*/__webpack_require__.n(es6_regexp_split_);\n\n// EXTERNAL MODULE: ./src/components/user/UserSex.vue + 2 modules\nvar UserSex = __webpack_require__(26);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/layouts/UserDrawer.vue\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var UserDrawer = ({\n  name: \"VUserDrawer\",\n  components: {\n    UserSex: UserSex[\"a\" /* default */]\n  },\n\n  data() {\n    return {\n      switchUserDrawer: false,\n      signDayLoading: false\n    };\n  },\n\n  computed: {\n    user() {\n      return this.$store.state.user;\n    },\n\n    computeUserDrawerBg() {\n      if (!this.user || this.user.banner.split(\"/default/user-banner\").length > 1) {\n        return {};\n      }\n\n      return {\n        backgroundImage: `url(${this.$resize(this.user.banner, {\n          height: 250,\n          mode: 2\n        })})`\n      };\n    },\n\n    notificationCount() {\n      var result = this.user.notification - this.$store.state.users.notifications.checked;\n      return result < 0 ? 0 : result;\n    },\n\n    daySigned() {\n      return this.user.daySign;\n    },\n\n    coinCount() {\n      return this.user.coin;\n    }\n\n  },\n\n  mounted() {\n    this.$channel.$on(\"open-user-drawer\", () => {\n      this.$store.dispatch(\"getNotification\", this);\n      this.switchUserDrawer = true;\n    });\n  },\n\n  methods: {\n    logout() {\n      this.$cookie.remove(\"JWT-TOKEN\");\n      var api = new userApi[\"a\" /* default */](this);\n      api.logout();\n      window.location.href = \"/\";\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-02b762d0\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/layouts/UserDrawer.vue\nvar UserDrawer_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.user)?_c('v-drawer',{staticClass:\"user-drawer\",attrs:{\"id\":\"user\",\"from\":\"right\",\"size\":\"70%\"},model:{value:(_vm.switchUserDrawer),callback:function ($$v) {_vm.switchUserDrawer=$$v},expression:\"switchUserDrawer\"}},[_c('div',{staticClass:\"user-section\"},[_c('div',{staticClass:\"bg\",style:(_vm.computeUserDrawerBg)}),_c('div',{staticClass:\"mask\"}),_c('div',{staticClass:\"user-info\"},[_c('a',{staticClass:\"avatar\",attrs:{\"href\":_vm.$alias.user(_vm.user.zone)}},[_c('v-img',{attrs:{\"src\":_vm.user.avatar,\"lazy\":false,\"avatar\":true,\"size\":\"50\"}})],1),_c('div',{staticClass:\"panel\"},[_c('div',{staticClass:\"nickname\"},[_c('a',{staticClass:\"oneline\",attrs:{\"href\":_vm.$alias.user(_vm.user.zone)},domProps:{\"textContent\":_vm._s(_vm.user.nickname)}})]),_c('div',[_c('user-sex',{attrs:{\"sex\":_vm.user.sex,\"secret\":_vm.user.sexSecret}}),_vm._v(\"\\n          ·\\n          \"),_c('span',{staticClass:\"level\"},[_vm._v(\"Lv\"+_vm._s(_vm.user.exp.level))])],1)])]),_c('span',{staticClass:\"badge\"},[_vm._v(\"金币：\"+_vm._s(_vm.coinCount)+\" 个\")]),_c('span',{staticClass:\"badge\"},[_vm._v(\"邀请码：\"+_vm._s(_vm.user.id))])]),_c('ul',{staticClass:\"routes container\",on:{\"click\":function($event){_vm.switchUserDrawer = false}}},[_c('li',[_c('a',{attrs:{\"href\":_vm.$alias.user(_vm.user.zone)}},[_c('i',{staticClass:\"iconfont icon-zhuye\"}),_vm._v(\"\\n        个人主页\\n      \")])]),_c('li',[_c('a',{attrs:{\"href\":(\"/user/\" + (_vm.user.zone) + \"/setting\")}},[_c('i',{staticClass:\"iconfont icon-shezhi\"}),_vm._v(\"\\n        用户设置\\n      \")])]),_c('li',[_c('a',{attrs:{\"href\":\"/notification/list\"}},[_c('i',{staticClass:\"iconfont icon-nitification\"}),_vm._v(\"\\n        消息通知\\n        \"),(_vm.notificationCount)?_c('span',{staticClass:\"badge-count\"},[_vm._v(_vm._s(_vm.notificationCount))]):_vm._e()])]),_c('li',[_c('a',{attrs:{\"href\":\"/about/hello\"}},[_c('i',{staticClass:\"iconfont icon-bangzhu\"}),_vm._v(\"\\n        功能简介\\n      \")])]),_c('li',[_c('a',{attrs:{\"href\":\"/me/invite\"}},[_c('i',{staticClass:\"iconfont icon-yaoqingma\"}),_vm._v(\"\\n        我的邀请码 \\n        \"),_c('mt-badge',{attrs:{\"size\":\"small\",\"type\":\"warning\"}},[_vm._v(\" ! \")])],1)]),_c('li',[_c('button',{on:{\"click\":_vm.logout}},[_c('i',{staticClass:\"iconfont icon-tuichu\"}),_vm._v(\"\\n        退出登录\\n      \")])])])]):_vm._e()}\nvar UserDrawer_staticRenderFns = []\nvar UserDrawer_esExports = { render: UserDrawer_render, staticRenderFns: UserDrawer_staticRenderFns }\n/* harmony default export */ var layouts_UserDrawer = (UserDrawer_esExports);\n// CONCATENATED MODULE: ./src/components/layouts/UserDrawer.vue\nfunction UserDrawer_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(39),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar UserDrawer_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar UserDrawer___vue_template_functional__ = false\n/* styles */\nvar UserDrawer___vue_styles__ = UserDrawer_injectStyle\n/* scopeId */\nvar UserDrawer___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar UserDrawer___vue_module_identifier__ = \"41d43f3e\"\nvar UserDrawer_Component = UserDrawer_normalizeComponent(\n  UserDrawer,\n  layouts_UserDrawer,\n  UserDrawer___vue_template_functional__,\n  UserDrawer___vue_styles__,\n  UserDrawer___vue_scopeId__,\n  UserDrawer___vue_module_identifier__\n)\n\n/* harmony default export */ var components_layouts_UserDrawer = (UserDrawer_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/drawers/FirstSignDrawer.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var FirstSignDrawer = ({\n  name: \"FirstSignDrawer\",\n\n  data() {\n    return {\n      show: false\n    };\n  },\n\n  mounted() {\n    if (!this.$cookie.get(\"display-first-sign-dialog\")) {\n      try {\n        if (!localStorage.getItem(\"display-first-sign-dialog\")) {\n          this.show = true;\n          var id = this.$backdrop.show({\n            click: () => {\n              this.show = false;\n              this.$backdrop.hide(id);\n            }\n          });\n          this.$cookie.set(\"display-first-sign-dialog\", 1, {\n            expires: 7\n          });\n          localStorage.setItem(\"display-first-sign-dialog\", 1);\n        }\n      } catch (e) {}\n    }\n  }\n\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6413ab2a\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/drawers/FirstSignDrawer.vue\nvar FirstSignDrawer_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.show)?_c('div',{staticClass:\"first-sign-drawer\"},[_vm._ssrNode(\"<h3 class=\\\"title\\\">\\n    欢迎来到<br>\\n    「calibur.tv」\\n  </h3><p class=\\\"content\\\">\\n    使用你的“邀请码”带朋友一起来玩吧！<br>\\n    每邀请一个朋友加入<br>\\n    你就可以获得一枚金币<br>\\n    1金币=1人民币<br>\\n    满100就可以提现噢！\\n  </p><div class=\\\"control\\\"><a href=\\\"/about/hello\\\"><button style=\\\"background-color: #00ce72\\\">\\n        查看金币规则\\n      </button></a><a href=\\\"/me/invite\\\"><button style=\\\"background-color: gold\\\">\\n        我的邀请码\\n      </button></a></div>\")]):_vm._e()}\nvar FirstSignDrawer_staticRenderFns = []\nvar FirstSignDrawer_esExports = { render: FirstSignDrawer_render, staticRenderFns: FirstSignDrawer_staticRenderFns }\n/* harmony default export */ var drawers_FirstSignDrawer = (FirstSignDrawer_esExports);\n// CONCATENATED MODULE: ./src/components/drawers/FirstSignDrawer.vue\nfunction FirstSignDrawer_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(41),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar FirstSignDrawer_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar FirstSignDrawer___vue_template_functional__ = false\n/* styles */\nvar FirstSignDrawer___vue_styles__ = FirstSignDrawer_injectStyle\n/* scopeId */\nvar FirstSignDrawer___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar FirstSignDrawer___vue_module_identifier__ = \"b63a7dfc\"\nvar FirstSignDrawer_Component = FirstSignDrawer_normalizeComponent(\n  FirstSignDrawer,\n  drawers_FirstSignDrawer,\n  FirstSignDrawer___vue_template_functional__,\n  FirstSignDrawer___vue_styles__,\n  FirstSignDrawer___vue_scopeId__,\n  FirstSignDrawer___vue_module_identifier__\n)\n\n/* harmony default export */ var components_drawers_FirstSignDrawer = (FirstSignDrawer_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/common/Sign.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n/* harmony default export */ var Sign = ({\n  name: \"SignDrawer\",\n  components: {\n    SignUpForm: SignUpForm[\"a\" /* default */],\n    SignInForm: components_forms_SignInForm,\n    ResetPasswordForm: components_forms_ResetPasswordForm,\n    UserDrawer: components_layouts_UserDrawer,\n    FirstSignDrawer: components_drawers_FirstSignDrawer\n  },\n\n  data() {\n    return {\n      openDrawer: false,\n      showSignIn: false,\n      showSignUp: false,\n      showReset: false\n    };\n  },\n\n  computed: {\n    isGuest() {\n      return !this.$store.state.login;\n    }\n\n  },\n\n  mounted() {\n    var _this = this;\n\n    this.$channel.$on(\"sign-up\", () => {\n      this.showRegister();\n    });\n    this.$channel.$on(\"sign-in\", function () {\n      var showToast = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n      showToast && _this.$toast.error(\"请先登录\");\n\n      _this.showLogin();\n    });\n  },\n\n  methods: {\n    showLogin() {\n      this.showReset = false;\n      this.showSignIn = true;\n      this.showSignUp = false;\n      this.openDrawer = true;\n    },\n\n    showRegister() {\n      this.showSignUp = true;\n      this.showSignIn = false;\n      this.openDrawer = true;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-fa6fd2e4\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/Sign.vue\nvar Sign_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.isGuest)?_c('v-drawer',{staticClass:\"sign-drawer\",attrs:{\"header-text\":_vm.showSignUp ? '注册' : _vm.showReset ? '找回密码' : '登录',\"from\":\"bottom\",\"size\":\"100%\"},model:{value:(_vm.openDrawer),callback:function ($$v) {_vm.openDrawer=$$v},expression:\"openDrawer\"}},[_c('div',{staticClass:\"container\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showSignIn),expression:\"showSignIn\"}]},[_c('reset-password-form',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showReset),expression:\"showReset\"}],on:{\"to-login\":function($event){_vm.showReset = false},\"to-register\":_vm.showRegister}}),_c('sign-in-form',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.showReset),expression:\"!showReset\"}],on:{\"to-reset\":function($event){_vm.showReset = true},\"to-register\":_vm.showRegister}})],1),_c('sign-up-form',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showSignUp),expression:\"showSignUp\"}],on:{\"to-login\":_vm.showLogin}})],1)]):[_c('user-drawer'),_c('first-sign-drawer')]],2)}\nvar Sign_staticRenderFns = []\nvar Sign_esExports = { render: Sign_render, staticRenderFns: Sign_staticRenderFns }\n/* harmony default export */ var common_Sign = (Sign_esExports);\n// CONCATENATED MODULE: ./src/components/common/Sign.vue\nfunction Sign_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(29),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar Sign_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar Sign___vue_template_functional__ = false\n/* styles */\nvar Sign___vue_styles__ = Sign_injectStyle\n/* scopeId */\nvar Sign___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar Sign___vue_module_identifier__ = \"a18fde9c\"\nvar Sign_Component = Sign_normalizeComponent(\n  Sign,\n  common_Sign,\n  Sign___vue_template_functional__,\n  Sign___vue_styles__,\n  Sign___vue_scopeId__,\n  Sign___vue_module_identifier__\n)\n\n/* harmony default export */ var components_common_Sign = (Sign_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/app.vue\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var selectortype_script_index_0_src_app = ({\n  name: \"Entry\",\n\n  head() {\n    var state = this.$store.state;\n    var ua = state.ua;\n    return {\n      title: \"天下漫友是一家\",\n      titleTemplate: titleChunk => {\n        return titleChunk ? `${titleChunk} - calibur` : \"天下漫友是一家\";\n      },\n      htmlAttrs: {\n        lang: \"zh-CN\"\n      },\n      bodyAttrs: {\n        id: \"calibur-tv\"\n      },\n      meta: [{\n        charset: \"utf-8\"\n      }, {\n        name: \"viewport\",\n        content: \"width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no\"\n      }, {\n        \"http-equiv\": \"X-UA-Compatible\",\n        content: \"IE=edge\"\n      }, {\n        name: \"renderer\",\n        content: \"webkit\"\n      }, {\n        hid: \"description\",\n        name: \"description\",\n        content: \"一个兴趣使然的二次元综合网站\"\n      }, {\n        hid: \"keywords\",\n        name: \"keywords\",\n        content: \"calibur，咖喱棒, 动漫，ACG，二次元，视频，番剧，动画，新番，神作, 排行榜, 贴吧, 盖楼, 应援, 帖子, 在线\"\n      }],\n      link: [{\n        rel: \"shortcut icon\",\n        type: \"image/x-icon\",\n        href: `${_env[\"cdn\"].static}/favicon.ico`\n      }],\n      script: [_env[\"env\"] !== \"development\" ? {\n        innerHTML: _env[\"script\"].baiduStat,\n        type: \"text/javascript\",\n        async: true\n      } : \"\", _env[\"env\"] !== \"development\" ? {\n        innerHTML: _env[\"script\"].baiduPush,\n        type: \"text/javascript\",\n        async: true\n      } : \"\", _env[\"env\"] !== \"production\" ? {\n        src: \"https://res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/vconsole/3.0.0/vconsole.min.js\",\n        type: \"text/javascript\"\n      } : \"\", ua.ios ? {\n        innerHTML: _env[\"iPhoneXViewport\"],\n        type: \"text/javascript\"\n      } : \"\", ua.qq ? {\n        src: \"//qzonestyle.gtimg.cn/qzone/qzact/common/share/share.js\",\n        type: \"text/javascript\"\n      } : \"\", ua.wechat ? {\n        src: \"//res.wx.qq.com/open/js/jweixin-1.0.0.js\",\n        type: \"text/javascript\"\n      } : \"\"].filter(_ => _),\n      __dangerouslyDisableSanitizers: \"script\"\n    };\n  },\n\n  components: {\n    SignDrawer: components_common_Sign\n  },\n\n  created() {\n    if (this.$isServer) {\n      return;\n    }\n\n    M.vueHub = this.$channel;\n  },\n\n  mounted() {\n    if (this.$store.state.login) {\n      this.$store.dispatch(\"getNotification\", this);\n      this.$cookie.set(\"JWT-TOKEN\", this.$store.state.user.token);\n    }\n\n    this.$store.dispatch(\"bangumi/getAllBangumi\");\n  }\n\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-9f6908c6\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/app.vue\nvar app_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view'),_c('sign-drawer')],1)}\nvar app_staticRenderFns = []\nvar app_esExports = { render: app_render, staticRenderFns: app_staticRenderFns }\n/* harmony default export */ var selectortype_template_index_0_src_app = (app_esExports);\n// CONCATENATED MODULE: ./src/app.vue\nvar app_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar app___vue_template_functional__ = false\n/* styles */\nvar app___vue_styles__ = null\n/* scopeId */\nvar app___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar app___vue_module_identifier__ = \"47344d32\"\nvar app_Component = app_normalizeComponent(\n  selectortype_script_index_0_src_app,\n  selectortype_template_index_0_src_app,\n  app___vue_template_functional__,\n  app___vue_styles__,\n  app___vue_scopeId__,\n  app___vue_module_identifier__\n)\n\n/* harmony default export */ var src_app = (app_Component.exports);\n\n// EXTERNAL MODULE: external \"vuex-router-sync\"\nvar external__vuex_router_sync_ = __webpack_require__(43);\nvar external__vuex_router_sync__default = /*#__PURE__*/__webpack_require__.n(external__vuex_router_sync_);\n\n// EXTERNAL MODULE: external \"vuex\"\nvar external__vuex_ = __webpack_require__(44);\nvar external__vuex__default = /*#__PURE__*/__webpack_require__.n(external__vuex_);\n\n// EXTERNAL MODULE: ./src/assets/js/parseToken.js\nvar parseToken = __webpack_require__(20);\n\n// EXTERNAL MODULE: ./src/api/imageApi.js\nvar imageApi = __webpack_require__(16);\n\n// EXTERNAL MODULE: external \"core-js/modules/es6.array.sort\"\nvar es6_array_sort_ = __webpack_require__(13);\nvar es6_array_sort__default = /*#__PURE__*/__webpack_require__.n(es6_array_sort_);\n\n// EXTERNAL MODULE: external \"core-js/modules/es6.regexp.to-string\"\nvar es6_regexp_to_string_ = __webpack_require__(8);\nvar es6_regexp_to_string__default = /*#__PURE__*/__webpack_require__.n(es6_regexp_to_string_);\n\n// EXTERNAL MODULE: ./src/api/_baseApi.js + 1 modules\nvar _baseApi = __webpack_require__(7);\n\n// CONCATENATED MODULE: ./src/api/bangumiApi.js\n\n/* harmony default export */ var bangumiApi = (class extends _baseApi[\"a\" /* default */] {\n  show(id) {\n    return this.http.get(`bangumi/${id}/show`);\n  }\n\n  follow(id) {\n    return this.http.post(`bangumi/${id}/toggleFollow`);\n  }\n\n  videos(id) {\n    return this.http.get(`bangumi/${id}/videos`);\n  }\n\n  roles(_ref) {\n    var bangumiId = _ref.bangumiId,\n        seenIds = _ref.seenIds;\n    return this.http.get(`bangumi/${bangumiId}/roles`, {\n      params: {\n        seenIds\n      }\n    });\n  }\n\n  posts(_ref2) {\n    var id = _ref2.id,\n        maxId = _ref2.maxId,\n        take = _ref2.take;\n    return this.http.get(`bangumi/${id}/posts/news`, {\n      params: {\n        maxId,\n        take\n      }\n    });\n  }\n\n  released() {\n    return this.http.get(\"bangumi/released\");\n  }\n\n  timeline(_ref3) {\n    var year = _ref3.year;\n    return this.http.get(\"bangumi/timeline\", {\n      params: {\n        year\n      }\n    });\n  }\n\n  tags() {\n    return this.http.get(\"bangumi/tags\");\n  }\n\n  category(_ref4) {\n    var id = _ref4.id,\n        page = _ref4.page,\n        take = _ref4.take;\n    return this.http.get(\"bangumi/category\", {\n      params: {\n        id,\n        page,\n        take\n      }\n    });\n  }\n\n  images(_ref5) {\n    var id = _ref5.id,\n        seenIds = _ref5.seenIds,\n        take = _ref5.take,\n        size = _ref5.size,\n        tags = _ref5.tags,\n        roleId = _ref5.roleId,\n        creator = _ref5.creator;\n    return this.http.get(`bangumi/${id}/images`, {\n      params: {\n        seenIds,\n        take,\n        size,\n        tags,\n        roleId,\n        creator\n      }\n    });\n  }\n\n  cartoon(_ref6) {\n    var bangumiId = _ref6.bangumiId,\n        page = _ref6.page;\n    return this.http.get(`bangumi/${bangumiId}/cartoon`, {\n      params: {\n        page\n      }\n    });\n  }\n\n  getTopPosts(_ref7) {\n    var id = _ref7.id;\n    return this.http.get(`bangumi/${id}/posts/top`);\n  }\n\n  all() {\n    return this.http.get(\"search/bangumis\");\n  }\n\n});\n// EXTERNAL MODULE: ./src/api/scoreApi.js\nvar scoreApi = __webpack_require__(17);\n\n// CONCATENATED MODULE: ./src/store/bangumi.js\n\n\n\n\n\n\n\n\n\n/* harmony default export */ var bangumi = ({\n  namespaced: true,\n  state: () => ({\n    follows: null,\n    released: [],\n    timeline: {\n      list: [],\n      year: new Date().getFullYear(),\n      noMore: false\n    },\n    category: {\n      list: [],\n      noMore: false,\n      page: 0,\n      take: 10,\n      total: 0\n    },\n    tags: [],\n    info: null,\n    videos: {\n      id: 0,\n      list: [],\n      total: 0,\n      has_season: false\n    },\n    cartoon: {\n      page: 0,\n      take: 12,\n      sort: \"desc\",\n      total: 0,\n      list: [],\n      noMore: false\n    },\n    topPosts: [],\n    topFetchedId: false,\n    score: null,\n    scoreFetchId: 0,\n    all: []\n  }),\n  mutations: {\n    SET_ALL_BANGUMI(state, data) {\n      state.all = data;\n    },\n\n    selectTag(state, id) {\n      state.tags.forEach((tag, index) => {\n        if (tag.id === id) {\n          state.tags[index].selected = !state.tags[index].selected;\n        }\n      });\n    },\n\n    SET_FOLLOW(state, _ref) {\n      var result = _ref.result;\n      state.info.followed = result;\n      result ? state.info.follow_users.total++ : state.info.follow_users.total--;\n    },\n\n    SET_RELEASED(state, data) {\n      state.released = data;\n    },\n\n    SET_TIMELINE(state, data) {\n      var temp = state.timeline;\n      state.timeline.list = temp.list.concat(data.list);\n      state.timeline.year = temp.year - 1;\n      state.timeline.noMore = data.noMore;\n    },\n\n    SET_TAGS(state, _ref2) {\n      var tags = _ref2.tags,\n          id = _ref2.id;\n      var ids = id ? id.split(\"-\") : undefined;\n      tags.forEach((tag, index) => {\n        tags[index].selected = ids ? ids.indexOf(tag.id.toString()) !== -1 : false;\n      });\n      state.tags = tags;\n    },\n\n    SET_CATEGORY(state, data) {\n      state.category.list = state.category.list.concat(data.list);\n      state.category.noMore = data.noMore;\n      state.category.total = data.total;\n      state.category.page++;\n    },\n\n    SET_TOP_POST(state, _ref3) {\n      var data = _ref3.data,\n          id = _ref3.id;\n      state.topFetchedId = id;\n      state.topPosts = data;\n    },\n\n    SET_BANGUMI_INFO(state, data) {\n      state.info = data;\n    },\n\n    SET_VIDEOS(state, _ref4) {\n      var data = _ref4.data,\n          id = _ref4.id;\n      state.videos.id = id;\n      state.videos.list = data.videos;\n      state.videos.total = data.total;\n      state.videos.has_season = data.has_season;\n    },\n\n    SET_BANGUMI_CARTOON(state, data) {\n      state.cartoon.list = state.cartoon.list.concat(data.list);\n      state.cartoon.noMore = data.noMore;\n      state.cartoon.total = data.total;\n      state.cartoon.page = state.cartoon.page + 1;\n    },\n\n    REVERSE_CARTOON(state, _ref5) {\n      var sort = _ref5.sort;\n      state.cartoon.list = state.cartoon.list.reverse();\n      state.cartoon.sort = sort;\n    },\n\n    RESET_CARTOON(state, _ref6) {\n      var sort = _ref6.sort;\n      state.cartoon = {\n        page: 0,\n        take: 12,\n        sort,\n        total: 0,\n        list: [],\n        noMore: false\n      };\n    },\n\n    SET_BANGUMI_SCORE(state, _ref7) {\n      var id = _ref7.id,\n          data = _ref7.data;\n      state.score = data;\n      state.scoreFetchId = id;\n    }\n\n  },\n  actions: {\n    getAllBangumi(_ref8) {\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee() {\n        var state, commit, needLoad, lastLoadAt, list, api, data;\n        return regenerator__default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                state = _ref8.state, commit = _ref8.commit;\n                needLoad = true;\n\n                try {\n                  lastLoadAt = sessionStorage.getItem(\"all-bangumi-load-at\");\n\n                  if (lastLoadAt && Date.now() - lastLoadAt < 3600000) {\n                    list = JSON.parse(sessionStorage.getItem(\"all-bangumi-list\"));\n                    list && commit(\"SET_ALL_BANGUMI\", list);\n                    needLoad = !(list && list.length);\n                  }\n                } catch (e) {}\n\n                if (!(state.all.length || !needLoad)) {\n                  _context.next = 5;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 5:\n                api = new bangumiApi();\n                _context.next = 8;\n                return api.all();\n\n              case 8:\n                data = _context.sent;\n                commit(\"SET_ALL_BANGUMI\", data);\n\n                try {\n                  sessionStorage.setItem(\"all-bangumi-load-at\", Date.now());\n                  sessionStorage.setItem(\"all-bangumi-list\", JSON.stringify(data));\n                } catch (e) {}\n\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }))();\n    },\n\n    getTags(_ref9, _ref10) {\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee2() {\n        var state, commit, id, ctx, api, tags;\n        return regenerator__default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                state = _ref9.state, commit = _ref9.commit;\n                id = _ref10.id, ctx = _ref10.ctx;\n\n                if (!state.tags.length) {\n                  _context2.next = 4;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\");\n\n              case 4:\n                api = new bangumiApi(ctx);\n                _context2.next = 7;\n                return api.tags();\n\n              case 7:\n                tags = _context2.sent;\n                tags && commit(\"SET_TAGS\", {\n                  tags,\n                  id\n                });\n\n              case 9:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }))();\n    },\n\n    getBangumi(_ref11, _ref12) {\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee3() {\n        var state, commit, ctx, id, api, data;\n        return regenerator__default.a.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                state = _ref11.state, commit = _ref11.commit;\n                ctx = _ref12.ctx, id = _ref12.id;\n\n                if (!(state.info && state.info.id === +id)) {\n                  _context3.next = 4;\n                  break;\n                }\n\n                return _context3.abrupt(\"return\");\n\n              case 4:\n                api = new bangumiApi(ctx);\n                _context3.next = 7;\n                return api.show(id);\n\n              case 7:\n                data = _context3.sent;\n                data && commit(\"SET_BANGUMI_INFO\", data);\n\n              case 9:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }))();\n    },\n\n    getVideos(_ref13, _ref14) {\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee4() {\n        var state, commit, id, ctx, api, data;\n        return regenerator__default.a.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                state = _ref13.state, commit = _ref13.commit;\n                id = _ref14.id, ctx = _ref14.ctx;\n\n                if (!(state.videos.id && state.videos.id === id)) {\n                  _context4.next = 4;\n                  break;\n                }\n\n                return _context4.abrupt(\"return\");\n\n              case 4:\n                api = new bangumiApi(ctx);\n                _context4.next = 7;\n                return api.videos(id);\n\n              case 7:\n                data = _context4.sent;\n                commit(\"SET_VIDEOS\", {\n                  data,\n                  id\n                });\n\n              case 9:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }))();\n    },\n\n    follow(_ref15, _ref16) {\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee5() {\n        var commit, rootState, ctx, id, api, followed;\n        return regenerator__default.a.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                commit = _ref15.commit, rootState = _ref15.rootState;\n                ctx = _ref16.ctx, id = _ref16.id;\n                api = new bangumiApi(ctx);\n                _context5.next = 5;\n                return api.follow(id);\n\n              case 5:\n                followed = _context5.sent;\n                commit(\"SET_FOLLOW\", {\n                  followed,\n                  self: {\n                    id: rootState.user.id,\n                    zone: rootState.user.zone,\n                    avatar: rootState.user.avatar,\n                    nickname: rootState.user.nickname\n                  }\n                });\n\n              case 7:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }))();\n    },\n\n    getReleased(_ref17, ctx) {\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee6() {\n        var state, commit, api, data;\n        return regenerator__default.a.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                state = _ref17.state, commit = _ref17.commit;\n\n                if (!state.released.length) {\n                  _context6.next = 3;\n                  break;\n                }\n\n                return _context6.abrupt(\"return\");\n\n              case 3:\n                api = new bangumiApi(ctx);\n                _context6.next = 6;\n                return api.released();\n\n              case 6:\n                data = _context6.sent;\n                data && commit(\"SET_RELEASED\", data);\n\n              case 8:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }))();\n    },\n\n    getTimeline(_ref18, ctx) {\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee7() {\n        var state, commit, api, data;\n        return regenerator__default.a.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                state = _ref18.state, commit = _ref18.commit;\n\n                if (!state.timeline.noMore) {\n                  _context7.next = 3;\n                  break;\n                }\n\n                return _context7.abrupt(\"return\");\n\n              case 3:\n                api = new bangumiApi(ctx);\n                _context7.next = 6;\n                return api.timeline({\n                  year: state.timeline.year\n                });\n\n              case 6:\n                data = _context7.sent;\n                data && commit(\"SET_TIMELINE\", data);\n\n              case 8:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this);\n      }))();\n    },\n\n    getCategory(_ref19, _ref20) {\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee8() {\n        var state, commit, id, ctx, api, data;\n        return regenerator__default.a.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                state = _ref19.state, commit = _ref19.commit;\n                id = _ref20.id, ctx = _ref20.ctx;\n                api = new bangumiApi(ctx);\n                _context8.next = 5;\n                return api.category({\n                  id,\n                  page: state.category.page,\n                  take: state.category.take\n                });\n\n              case 5:\n                data = _context8.sent;\n                data && commit(\"SET_CATEGORY\", data);\n\n              case 7:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, this);\n      }))();\n    },\n\n    getCartoons(_ref21, _ref22) {\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee9() {\n        var state, commit, ctx, bangumiId, api, data;\n        return regenerator__default.a.wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                state = _ref21.state, commit = _ref21.commit;\n                ctx = _ref22.ctx, bangumiId = _ref22.bangumiId;\n                api = new bangumiApi(ctx);\n                _context9.next = 5;\n                return api.cartoon({\n                  bangumiId,\n                  page: state.cartoon.page,\n                  take: state.cartoon.take,\n                  sort: state.cartoon.sort\n                });\n\n              case 5:\n                data = _context9.sent;\n                data && commit(\"SET_BANGUMI_CARTOON\", data);\n\n              case 7:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9, this);\n      }))();\n    },\n\n    changeCartoonSort(_ref23, _ref24) {\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee10() {\n        var state, commit, ctx, bangumiId, sort, api, data;\n        return regenerator__default.a.wrap(function _callee10$(_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                state = _ref23.state, commit = _ref23.commit;\n                ctx = _ref24.ctx, bangumiId = _ref24.bangumiId, sort = _ref24.sort;\n\n                if (!state.cartoon.noMore) {\n                  _context10.next = 5;\n                  break;\n                }\n\n                commit(\"REVERSE_CARTOON\", {\n                  sort\n                });\n                return _context10.abrupt(\"return\");\n\n              case 5:\n                commit(\"RESET_CARTOON\", {\n                  sort\n                });\n                api = new bangumiApi(ctx);\n                _context10.next = 9;\n                return api.cartoon({\n                  take: state.cartoon.take,\n                  page: 0,\n                  bangumiId,\n                  sort\n                });\n\n              case 9:\n                data = _context10.sent;\n                data && commit(\"SET_BANGUMI_CARTOON\", data);\n\n              case 11:\n              case \"end\":\n                return _context10.stop();\n            }\n          }\n        }, _callee10, this);\n      }))();\n    },\n\n    getTopPosts(_ref25, _ref26) {\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee11() {\n        var state, commit, ctx, id, api, data;\n        return regenerator__default.a.wrap(function _callee11$(_context11) {\n          while (1) {\n            switch (_context11.prev = _context11.next) {\n              case 0:\n                state = _ref25.state, commit = _ref25.commit;\n                ctx = _ref26.ctx, id = _ref26.id;\n\n                if (!(state.topFetchedId === id)) {\n                  _context11.next = 4;\n                  break;\n                }\n\n                return _context11.abrupt(\"return\");\n\n              case 4:\n                api = new bangumiApi(ctx);\n                _context11.next = 7;\n                return api.getTopPosts({\n                  id\n                });\n\n              case 7:\n                data = _context11.sent;\n                commit(\"SET_TOP_POST\", {\n                  data,\n                  id\n                });\n\n              case 9:\n              case \"end\":\n                return _context11.stop();\n            }\n          }\n        }, _callee11, this);\n      }))();\n    },\n\n    getBangumiScore(_ref27, _ref28) {\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee12() {\n        var state, commit, ctx, id, api, data;\n        return regenerator__default.a.wrap(function _callee12$(_context12) {\n          while (1) {\n            switch (_context12.prev = _context12.next) {\n              case 0:\n                state = _ref27.state, commit = _ref27.commit;\n                ctx = _ref28.ctx, id = _ref28.id;\n\n                if (!(state.score && state.scoreFetchId === id)) {\n                  _context12.next = 4;\n                  break;\n                }\n\n                return _context12.abrupt(\"return\");\n\n              case 4:\n                api = new scoreApi[\"a\" /* default */](ctx);\n                _context12.next = 7;\n                return api.bangumiScore(id);\n\n              case 7:\n                data = _context12.sent;\n                commit(\"SET_BANGUMI_SCORE\", {\n                  data,\n                  id\n                });\n\n              case 9:\n              case \"end\":\n                return _context12.stop();\n            }\n          }\n        }, _callee12, this);\n      }))();\n    }\n\n  },\n  getters: {}\n});\n// EXTERNAL MODULE: external \"@babel/runtime/helpers/objectDestructuringEmpty\"\nvar objectDestructuringEmpty_ = __webpack_require__(45);\nvar objectDestructuringEmpty__default = /*#__PURE__*/__webpack_require__.n(objectDestructuringEmpty_);\n\n// EXTERNAL MODULE: external \"core-js/modules/es6.regexp.replace\"\nvar es6_regexp_replace_ = __webpack_require__(9);\nvar es6_regexp_replace__default = /*#__PURE__*/__webpack_require__.n(es6_regexp_replace_);\n\n// CONCATENATED MODULE: ./src/api/postApi.js\n\n/* harmony default export */ var postApi = (class extends _baseApi[\"a\" /* default */] {\n  create(_ref) {\n    var title = _ref.title,\n        bangumiId = _ref.bangumiId,\n        content = _ref.content,\n        images = _ref.images,\n        desc = _ref.desc,\n        geetest = _ref.geetest,\n        is_creator = _ref.is_creator;\n    return this.http.post(\"post/create\", {\n      title,\n      bangumiId,\n      content,\n      images,\n      desc,\n      geetest,\n      is_creator\n    });\n  }\n\n  show(_ref2) {\n    var id = _ref2.id,\n        page = _ref2.page,\n        take = _ref2.take,\n        only = _ref2.only,\n        replyId = _ref2.replyId;\n    return this.http.get(`post/${id}/show`, {\n      params: {\n        page,\n        take,\n        only,\n        replyId\n      }\n    });\n  }\n\n  reply(_ref3) {\n    var postId = _ref3.postId,\n        images = _ref3.images,\n        content = _ref3.content,\n        geetest = _ref3.geetest;\n    return this.http.post(`post/${postId}/reply`, {\n      images,\n      content,\n      geetest\n    });\n  }\n\n  comment(_ref4) {\n    var postId = _ref4.postId,\n        content = _ref4.content,\n        targetUserId = _ref4.targetUserId;\n    return this.http.post(`post/${postId}/comment`, {\n      content,\n      targetUserId\n    });\n  }\n\n  comments(_ref5) {\n    var postId = _ref5.postId,\n        page = _ref5.page;\n    return this.http.get(`post/${postId}/comments`, {\n      params: {\n        page\n      }\n    });\n  }\n\n  deletePost(id) {\n    return this.http.post(`post/${id}/deletePost`);\n  }\n\n  deleteComment(_ref6) {\n    var postId = _ref6.postId,\n        commentId = _ref6.commentId;\n    return this.http.post(`post/${postId}/deleteComment`, {\n      commentId\n    });\n  }\n\n  toggleLike(id) {\n    return this.http.post(`post/${id}/toggleLike`);\n  }\n\n  toggleMark(id) {\n    return this.http.post(`post/${id}/toggleMark`);\n  }\n\n});\n// CONCATENATED MODULE: ./src/store/post.js\n\n\n\n\n\n\n\n\nvar post_state = () => ({\n  info: {\n    bangumi: null,\n    user: null,\n    post: null\n  }\n});\n\nvar mutations = {\n  SOCIAL_TOGGLE(state, _ref) {\n    var key = _ref.key,\n        value = _ref.value,\n        user = _ref.user;\n    state.info.post[`${key}ed`.replace(\"ee\", \"e\")] = value;\n\n    if (value) {\n      state.info.post[`${key}_users`].total++;\n      state.info.post[`${key}_users`].list.unshift(user);\n    } else {\n      state.info.post[`${key}_users`].total--;\n      state.info.post[`${key}_users`].list.forEach((item, index) => {\n        if (item.id === user.id) {\n          state.info.post[`${key}_users`].list.splice(index, 1);\n        }\n      });\n    }\n  },\n\n  SET_POST_INFO(state, data) {\n    state.info.bangumi = data.bangumi;\n    state.info.user = data.user;\n    state.info.post = data.post;\n  },\n\n  TOGGLE_LIKE_POST(state, _ref2) {\n    var result = _ref2.result;\n    state.info.post.liked = result;\n    result ? state.info.post.like_count++ : state.info.post.like_count--;\n  },\n\n  TOGGLE_MARK_POST(state, result) {\n    state.info.post.marked = result;\n    result ? state.info.post.mark_count++ : state.info.post.mark_count--;\n  },\n\n  FOLLOW_BANGUMI(state, _ref3) {\n    var result = _ref3.result;\n    state.info.bangumi.followed = result;\n  }\n\n};\nvar actions = {\n  getPost(_ref4, _ref5) {\n    return asyncToGenerator__default()(\n    /*#__PURE__*/\n    regenerator__default.a.mark(function _callee() {\n      var commit, id, ctx, only, api, data;\n      return regenerator__default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              commit = _ref4.commit;\n              id = _ref5.id, ctx = _ref5.ctx, only = _ref5.only;\n              api = new postApi(ctx);\n              _context.next = 5;\n              return api.show({\n                id,\n                only\n              });\n\n            case 5:\n              data = _context.sent;\n              commit(\"SET_POST_INFO\", data);\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }))();\n  },\n\n  create(_ref6, params) {\n    return asyncToGenerator__default()(\n    /*#__PURE__*/\n    regenerator__default.a.mark(function _callee2() {\n      var api;\n      return regenerator__default.a.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              objectDestructuringEmpty__default()(_ref6);\n\n              api = new postApi(params.ctx);\n              _context2.next = 4;\n              return api.create(params);\n\n            case 4:\n              return _context2.abrupt(\"return\", _context2.sent);\n\n            case 5:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }))();\n  },\n\n  deletePost(_ref7, _ref8) {\n    return asyncToGenerator__default()(\n    /*#__PURE__*/\n    regenerator__default.a.mark(function _callee3() {\n      var ctx, id, api;\n      return regenerator__default.a.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              objectDestructuringEmpty__default()(_ref7);\n\n              ctx = _ref8.ctx, id = _ref8.id;\n              api = new postApi(ctx);\n              _context3.next = 5;\n              return api.deletePost(id);\n\n            case 5:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this);\n    }))();\n  },\n\n  toggleLike(_ref9, _ref10) {\n    return asyncToGenerator__default()(\n    /*#__PURE__*/\n    regenerator__default.a.mark(function _callee4() {\n      var commit, ctx, id, api, result;\n      return regenerator__default.a.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              commit = _ref9.commit;\n              ctx = _ref10.ctx, id = _ref10.id;\n              api = new postApi(ctx);\n              _context4.next = 5;\n              return api.toggleLike(id);\n\n            case 5:\n              result = _context4.sent;\n              commit(\"TOGGLE_LIKE_POST\", {\n                result\n              });\n\n            case 7:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4, this);\n    }))();\n  },\n\n  toggleMark(_ref11, _ref12) {\n    return asyncToGenerator__default()(\n    /*#__PURE__*/\n    regenerator__default.a.mark(function _callee5() {\n      var commit, ctx, id, api, result;\n      return regenerator__default.a.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              commit = _ref11.commit;\n              ctx = _ref12.ctx, id = _ref12.id;\n              api = new postApi(ctx);\n              _context5.next = 5;\n              return api.toggleMark(id);\n\n            case 5:\n              result = _context5.sent;\n              commit(\"TOGGLE_MARK_POST\", result);\n\n            case 7:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5, this);\n    }))();\n  }\n\n};\nvar getters = {};\n/* harmony default export */ var post = ({\n  namespaced: true,\n  state: post_state,\n  actions,\n  mutations,\n  getters\n});\n// EXTERNAL MODULE: ./src/api/videoApi.js\nvar videoApi = __webpack_require__(27);\n\n// CONCATENATED MODULE: ./src/store/video.js\n\n\n\n\n\n\n/* harmony default export */ var video = ({\n  namespaced: true,\n  state: () => ({\n    bangumi: null,\n    info: null,\n    list: null,\n    season: null,\n    blocked: false,\n    mustReward: false,\n    needMinLevel: 0\n  }),\n  mutations: {\n    FETCH_SOCIAL_USERS(state, _ref) {\n      var type = _ref.type,\n          result = _ref.result;\n      var prefix = state.info[`${type}_users`];\n      state.info[`${type}_users`].list = prefix.list.concat(result.list);\n      state.info[`${type}_users`].total = result.total;\n      state.info[`${type}_users`].noMore = result.noMore;\n    },\n\n    SOCIAL_TOGGLE(state, _ref2) {\n      var key = _ref2.key,\n          value = _ref2.value,\n          user = _ref2.user;\n      state.info[`${key}ed`.replace(\"ee\", \"e\")] = value;\n\n      if (value) {\n        state.info[`${key}_users`].total++;\n        state.info[`${key}_users`].list.unshift(user);\n      } else {\n        state.info[`${key}_users`].total--;\n        state.info[`${key}_users`].list.forEach((item, index) => {\n          if (item.id === user.id) {\n            state.info[`${key}_users`].list.splice(index, 1);\n          }\n        });\n      }\n    },\n\n    SET_DATA(state, data) {\n      state.list = data.list;\n      state.info = data.info;\n      state.bangumi = data.bangumi;\n      state.season = data.season;\n      state.blocked = data.ip_blocked;\n      state.mustReward = data.must_reward;\n      state.needMinLevel = data.need_min_level;\n    },\n\n    followBangumi(state, _ref3) {\n      var result = _ref3.result;\n      state.bangumi.followed = result;\n    }\n\n  },\n  actions: {\n    getShow(_ref4, _ref5) {\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee() {\n        var commit, id, ctx, api, data;\n        return regenerator__default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                commit = _ref4.commit;\n                id = _ref5.id, ctx = _ref5.ctx;\n                api = new videoApi[\"a\" /* default */](ctx);\n                _context.next = 5;\n                return api.getShow(id);\n\n              case 5:\n                data = _context.sent;\n                commit(\"SET_DATA\", data);\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }))();\n    }\n\n  },\n  getters: {}\n});\n// EXTERNAL MODULE: ./src/api/questionApi.js\nvar questionApi = __webpack_require__(18);\n\n// CONCATENATED MODULE: ./src/store/users.js\n\n\n\n\n\n\n\n/* harmony default export */ var users = ({\n  namespaced: true,\n  state: () => ({\n    show: null,\n    bangumis: [],\n    fetchedBangumiZone: \"\",\n    notifications: {\n      checked: 0,\n      take: 10,\n      list: [],\n      total: 0,\n      noMore: false\n    },\n    drafts: {\n      score: {\n        list: [],\n        total: 0,\n        noMore: false,\n        loading: false\n      },\n      answer: {\n        list: [],\n        total: 0,\n        noMore: false,\n        loading: false\n      }\n    }\n  }),\n  mutations: {\n    SET_USER_INFO(state, data) {\n      state.show = data;\n    },\n\n    SET_USER_FOLLOW_BANGUMI(state, _ref) {\n      var data = _ref.data,\n          zone = _ref.zone;\n      state.bangumis = data;\n      state.fetchedBangumiZone = zone;\n    },\n\n    SET_NOTIFICATIONS(state, data) {\n      state.notifications.list = state.notifications.list.concat(data.list);\n      state.notifications.total = data.total;\n      state.notifications.noMore = data.noMore;\n      state.notifications.checked = 0;\n    },\n\n    READ_NOTIFICATION(state, id) {\n      state.notifications.list.forEach((message, index) => {\n        if (message.id === id && !message.checked) {\n          state.notifications.list[index].checked = true;\n          state.notifications.checked++;\n        }\n      });\n    },\n\n    READ_ALL_NOTIFICATION(state) {\n      state.notifications.list.forEach((message, index) => {\n        state.notifications.list[index].checked = true;\n      });\n      state.notifications.checked = 88888888;\n    },\n\n    CLEAR_NOTIFICATIONS(state) {\n      state.notifications = {\n        checked: 0,\n        take: 10,\n        noMore: false,\n        total: 0,\n        list: []\n      };\n    },\n\n    SET_DRAFT_LOADING(state, type) {\n      state.drafts[type].loading = true;\n    },\n\n    SET_USER_DRAFT(state, _ref2) {\n      var data = _ref2.data,\n          type = _ref2.type;\n      state.drafts[type].noMore = data.noMore;\n      state.drafts[type].loading = false;\n      state.drafts[type].total = data.total;\n      state.drafts[type].list = state.drafts[type].list.concat(data.list);\n    }\n\n  },\n  actions: {\n    getUser(_ref3, _ref4) {\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee() {\n        var state, commit, ctx, zone, api, data;\n        return regenerator__default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                state = _ref3.state, commit = _ref3.commit;\n                ctx = _ref4.ctx, zone = _ref4.zone;\n\n                if (!(state.show && state.show.zone === zone)) {\n                  _context.next = 4;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 4:\n                api = new userApi[\"a\" /* default */](ctx);\n                _context.next = 7;\n                return api.getUserInfo({\n                  zone\n                });\n\n              case 7:\n                data = _context.sent;\n                commit(\"SET_USER_INFO\", data);\n\n              case 9:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }))();\n    },\n\n    getFollowBangumis(_ref5, _ref6) {\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee2() {\n        var state, commit, ctx, zone, api, data;\n        return regenerator__default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                state = _ref5.state, commit = _ref5.commit;\n                ctx = _ref6.ctx, zone = _ref6.zone;\n\n                if (!(state.fetchedBangumiZone === zone)) {\n                  _context2.next = 4;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\", state.bangumis);\n\n              case 4:\n                api = new userApi[\"a\" /* default */](ctx);\n                _context2.next = 7;\n                return api.followBangumis(zone);\n\n              case 7:\n                data = _context2.sent;\n                commit(\"SET_USER_FOLLOW_BANGUMI\", {\n                  data,\n                  zone\n                });\n                return _context2.abrupt(\"return\", data);\n\n              case 10:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }))();\n    },\n\n    daySign(_ref7, _ref8) {\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee3() {\n        var rootState, ctx, api;\n        return regenerator__default.a.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                rootState = _ref7.rootState;\n                ctx = _ref8.ctx;\n\n                if (!rootState.user.signed) {\n                  _context3.next = 4;\n                  break;\n                }\n\n                return _context3.abrupt(\"return\");\n\n              case 4:\n                api = new userApi[\"a\" /* default */](ctx);\n                _context3.next = 7;\n                return api.daySign();\n\n              case 7:\n                return _context3.abrupt(\"return\", _context3.sent);\n\n              case 8:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }))();\n    },\n\n    getNotifications(_ref9, _ref10) {\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee4() {\n        var state, commit, ctx, reset, length, api, data;\n        return regenerator__default.a.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                state = _ref9.state, commit = _ref9.commit;\n                ctx = _ref10.ctx, reset = _ref10.reset;\n\n                if (reset) {\n                  commit(\"CLEAR_NOTIFICATIONS\");\n                }\n\n                length = state.notifications.list.length;\n\n                if (!state.notifications.noMore) {\n                  _context4.next = 6;\n                  break;\n                }\n\n                return _context4.abrupt(\"return\");\n\n              case 6:\n                api = new userApi[\"a\" /* default */](ctx);\n                _context4.next = 9;\n                return api.getNotifications({\n                  minId: length ? state.notifications.list[length - 1].id : null,\n                  take: state.notifications.take\n                });\n\n              case 9:\n                data = _context4.sent;\n                data && commit(\"SET_NOTIFICATIONS\", data);\n\n              case 11:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }))();\n    },\n\n    readMessage(_ref11, _ref12) {\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee5() {\n        var state, commit, ctx, id, msg, api;\n        return regenerator__default.a.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                state = _ref11.state, commit = _ref11.commit;\n                ctx = _ref12.ctx, id = _ref12.id;\n                msg = null;\n                state.notifications.list.forEach(message => {\n                  if (message.id === id && !message.checked) {\n                    msg = message;\n                  }\n                });\n\n                if (!msg) {\n                  _context5.next = 9;\n                  break;\n                }\n\n                api = new userApi[\"a\" /* default */](ctx);\n                _context5.next = 8;\n                return api.readMessage(id);\n\n              case 8:\n                commit(\"READ_NOTIFICATION\", id);\n\n              case 9:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }))();\n    },\n\n    readAllMessage(_ref13, ctx) {\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee6() {\n        var commit, api;\n        return regenerator__default.a.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                commit = _ref13.commit;\n                api = new userApi[\"a\" /* default */](ctx);\n                _context6.next = 4;\n                return api.readAllMessage();\n\n              case 4:\n                commit(\"READ_ALL_NOTIFICATION\");\n\n              case 5:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }))();\n    },\n\n    getUserDrafts(_ref14, _ref15) {\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee7() {\n        var state, commit, type, ctx, api, data;\n        return regenerator__default.a.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                state = _ref14.state, commit = _ref14.commit;\n                type = _ref15.type, ctx = _ref15.ctx;\n\n                if (state.drafts[type]) {\n                  _context7.next = 4;\n                  break;\n                }\n\n                return _context7.abrupt(\"return\");\n\n              case 4:\n                if (!(state.drafts[type].noMore || state.drafts[type].loading)) {\n                  _context7.next = 6;\n                  break;\n                }\n\n                return _context7.abrupt(\"return\");\n\n              case 6:\n                if (type === \"score\") {\n                  api = new scoreApi[\"a\" /* default */](ctx);\n                } else if (type === \"answer\") {\n                  api = new questionApi[\"a\" /* default */](ctx);\n                }\n\n                commit(\"SET_DRAFT_LOADING\", type);\n                _context7.next = 10;\n                return api.drafts();\n\n              case 10:\n                data = _context7.sent;\n                commit(\"SET_USER_DRAFT\", {\n                  data: {\n                    list: data,\n                    noMore: true,\n                    total: 0\n                  },\n                  type\n                });\n\n              case 12:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this);\n      }))();\n    }\n\n  },\n  getters: {}\n});\n// CONCATENATED MODULE: ./src/api/cartoonRoleApi.js\n\n\n/* harmony default export */ var cartoonRoleApi = (class extends _baseApi[\"a\" /* default */] {\n  trending(_ref) {\n    var seenIds = _ref.seenIds;\n    return this.http.get(\"/trending/cartoon_role\", {\n      params: {\n        seenIds\n      }\n    });\n  }\n\n  star(_ref2) {\n    var roleId = _ref2.roleId;\n    return this.http.post(`/cartoon_role/${roleId}/star`);\n  }\n\n  fans(_ref3) {\n    var roleId = _ref3.roleId,\n        seenIds = _ref3.seenIds,\n        minId = _ref3.minId,\n        sort = _ref3.sort;\n    return this.http.get(`/cartoon_role/${roleId}/fans`, {\n      params: {\n        seenIds,\n        minId,\n        sort\n      }\n    });\n  }\n\n  show(id) {\n    return this.http.get(`/cartoon_role/${id}/show`);\n  }\n\n  images(_ref4) {\n    var id = _ref4.id,\n        seenIds = _ref4.seenIds,\n        take = _ref4.take,\n        size = _ref4.size,\n        tags = _ref4.tags,\n        creator = _ref4.creator,\n        sort = _ref4.sort;\n    return this.http.get(`/cartoon_role/${id}/images`, {\n      params: {\n        seenIds,\n        take,\n        size,\n        tags,\n        creator,\n        sort\n      }\n    });\n  }\n\n});\n// CONCATENATED MODULE: ./src/store/cartoonRole.js\n\n\n\n\n\n\n/* harmony default export */ var cartoonRole = ({\n  namespaced: true,\n  state: () => ({\n    trending: {\n      data: [],\n      noMore: false\n    },\n    fans: {\n      new: {\n        list: [],\n        total: 0,\n        noMore: false\n      },\n      hot: {\n        list: [],\n        total: 0,\n        noMore: false\n      }\n    }\n  }),\n  mutations: {\n    ADD_ROLE_STATE(state, _ref) {\n      var hasStar = _ref.hasStar,\n          user = _ref.user;\n\n      if (hasStar) {\n        state.info.data.hasStar++;\n      } else {\n        state.info.data.hasStar = 1;\n        state.info.data.fans_count++;\n        state.fans.new.list.unshift(user);\n      }\n\n      state.info.data.star_count++;\n    },\n\n    FOLLOW_ROLE_BANGUMI(state, _ref2) {\n      var result = _ref2.result;\n      state.info.bangumi.followed = result;\n    },\n\n    SET_DATA(state, data) {\n      state.list = data.list;\n      state.info = data.info;\n      state.bangumi = data.bangumi;\n      state.season = data.season;\n    },\n\n    SET_TRENDING(state, data) {\n      state.trending.data = state.trending.data.concat(data);\n      state.trending.noMore = data.length < 15;\n    },\n\n    SET_ROLE_INFO(state, data) {\n      state.info = data;\n    },\n\n    SET_FANS_LIST(state, _ref3) {\n      var data = _ref3.data,\n          reset = _ref3.reset,\n          sort = _ref3.sort;\n\n      if (reset) {\n        state.fans = {\n          new: {\n            list: [],\n            noMore: false\n          },\n          hot: {\n            list: [],\n            noMore: false\n          }\n        };\n      }\n\n      state.fans[sort].list = state.fans[sort].list.concat(data[\"list\"]);\n      state.fans[sort].noMore = data[\"noMore\"];\n      state.fans[sort].total = data[\"total\"];\n    }\n\n  },\n  actions: {\n    getShow(_ref4, _ref5) {\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee() {\n        var commit, id, ctx, api, data;\n        return regenerator__default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                commit = _ref4.commit;\n                id = _ref5.id, ctx = _ref5.ctx;\n                api = new cartoonRoleApi(ctx);\n                _context.next = 5;\n                return api.getShow(id);\n\n              case 5:\n                data = _context.sent;\n                data && commit(\"SET_DATA\", data);\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }))();\n    },\n\n    getTrending(_ref6) {\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee2() {\n        var state, commit, api, data;\n        return regenerator__default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                state = _ref6.state, commit = _ref6.commit;\n\n                if (!state.trending.noMore) {\n                  _context2.next = 3;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\");\n\n              case 3:\n                api = new cartoonRoleApi();\n                _context2.next = 6;\n                return api.trending({\n                  seenIds: state.trending.data.length ? state.trending.data.map(item => item.id).toString() : null\n                });\n\n              case 6:\n                data = _context2.sent;\n                data && commit(\"SET_TRENDING\", data);\n\n              case 8:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }))();\n    },\n\n    getFansList(_ref7, _ref8) {\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee3() {\n        var state, commit, bangumiId, roleId, sort, reset, api, list, length, data;\n        return regenerator__default.a.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                state = _ref7.state, commit = _ref7.commit;\n                bangumiId = _ref8.bangumiId, roleId = _ref8.roleId, sort = _ref8.sort, reset = _ref8.reset;\n\n                if (!(state.fans[sort].noMore && !reset)) {\n                  _context3.next = 4;\n                  break;\n                }\n\n                return _context3.abrupt(\"return\");\n\n              case 4:\n                api = new cartoonRoleApi();\n                list = state.fans[sort].list;\n                length = list.length;\n                _context3.next = 9;\n                return api.fans(Object.assign({\n                  sort,\n                  bangumiId,\n                  roleId\n                }, sort === \"new\" ? {\n                  minId: reset ? 0 : length ? list[length - 1].id : 0\n                } : {\n                  seenIds: reset ? \"\" : length ? list.map(_ => _.id).toString() : \"\"\n                }));\n\n              case 9:\n                data = _context3.sent;\n                data && commit(\"SET_FANS_LIST\", {\n                  data,\n                  reset,\n                  sort\n                });\n\n              case 11:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }))();\n    },\n\n    getRoleInfo(_ref9, _ref10) {\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee4() {\n        var commit, ctx, id, api, data;\n        return regenerator__default.a.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                commit = _ref9.commit;\n                ctx = _ref10.ctx, id = _ref10.id;\n                api = new cartoonRoleApi(ctx);\n                _context4.next = 5;\n                return api.show(id);\n\n              case 5:\n                data = _context4.sent;\n                commit(\"SET_ROLE_INFO\", data);\n\n              case 7:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }))();\n    },\n\n    star(_ref11, _ref12) {\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee5() {\n        var rootState, commit, bangumiId, roleId, ctx, hasStar, api, self;\n        return regenerator__default.a.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                rootState = _ref11.rootState, commit = _ref11.commit;\n                bangumiId = _ref12.bangumiId, roleId = _ref12.roleId, ctx = _ref12.ctx, hasStar = _ref12.hasStar;\n                api = new cartoonRoleApi(ctx);\n                _context5.next = 5;\n                return api.star({\n                  bangumiId,\n                  roleId\n                });\n\n              case 5:\n                self = rootState.user;\n                commit(\"ADD_ROLE_STATE\", {\n                  hasStar,\n                  user: {\n                    id: self.id,\n                    zone: self.zone,\n                    avatar: self.avatar,\n                    nickname: self.nickname\n                  }\n                });\n\n              case 7:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }))();\n    }\n\n  },\n  getters: {}\n});\n// CONCATENATED MODULE: ./src/store/image.js\n\n\n\n\n\n\n\n/* harmony default export */ var store_image = ({\n  namespaced: true,\n  state: () => ({\n    show: null,\n    albums: []\n  }),\n  mutations: {\n    SOCIAL_TOGGLE(state, _ref) {\n      var key = _ref.key,\n          value = _ref.value,\n          user = _ref.user;\n      state.show[`${key}ed`.replace(\"ee\", \"e\")] = value;\n\n      if (value) {\n        state.show[`${key}_users`].total++;\n        state.show[`${key}_users`].list.unshift(user);\n      } else {\n        state.show[`${key}_users`].total--;\n        state.show[`${key}_users`].list.forEach((item, index) => {\n          if (item.id === user.id) {\n            state.show[`${key}_users`].list.splice(index, 1);\n          }\n        });\n      }\n    },\n\n    SET_IMAGE_INFO(state, data) {\n      state.show = data;\n    },\n\n    DELETE_ALBUM_IMAGE(state, _ref2) {\n      var index = _ref2.index;\n      state.show.images.splice(index, 1);\n      state.show.image_count--;\n    },\n\n    SORT_ALBUM_IMAGE(state, result) {\n      state.show.images = result;\n    },\n\n    SET_USER_IMAGE_ALBUMS(state, data) {\n      state.albums = data;\n    }\n\n  },\n  actions: {\n    show(_ref3, _ref4) {\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee() {\n        var commit, id, ctx, api, data;\n        return regenerator__default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                commit = _ref3.commit;\n                id = _ref4.id, ctx = _ref4.ctx;\n                api = new imageApi[\"a\" /* default */](ctx);\n                _context.next = 5;\n                return api.show({\n                  id\n                });\n\n              case 5:\n                data = _context.sent;\n                commit(\"SET_IMAGE_INFO\", data);\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }))();\n    },\n\n    userAlbum(_ref5, _ref6) {\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee2() {\n        var state, commit, ctx, api, data;\n        return regenerator__default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                state = _ref5.state, commit = _ref5.commit;\n                ctx = _ref6.ctx;\n\n                if (!state.albums.length) {\n                  _context2.next = 4;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\");\n\n              case 4:\n                api = new imageApi[\"a\" /* default */](ctx);\n                _context2.next = 7;\n                return api.getUserAlbums();\n\n              case 7:\n                data = _context2.sent;\n                commit(\"SET_USER_IMAGE_ALBUMS\", data);\n                return _context2.abrupt(\"return\", data);\n\n              case 10:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }))();\n    },\n\n    sortAlbumImage(_ref7, _ref8) {\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee3() {\n        var state, commit, prev, next, ctx, id, imageArr, result, api;\n        return regenerator__default.a.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                state = _ref7.state, commit = _ref7.commit;\n                prev = _ref8.prev, next = _ref8.next, ctx = _ref8.ctx, id = _ref8.id;\n                imageArr = state.show.images.map(_ => _);\n                imageArr.splice(prev, 1, ...imageArr.splice(next, 1, imageArr[prev]));\n                result = imageArr.map(_ => _.id).toString();\n                api = new imageApi[\"a\" /* default */](ctx);\n                _context3.next = 8;\n                return api.sortAlbum({\n                  id,\n                  result\n                });\n\n              case 8:\n                commit(\"SORT_ALBUM_IMAGE\", imageArr);\n\n              case 9:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }))();\n    },\n\n    deleteAlbumImage(_ref9, _ref10) {\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee4() {\n        var state, commit, index, ctx, id, idsArr, imageId, api;\n        return regenerator__default.a.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                state = _ref9.state, commit = _ref9.commit;\n                index = _ref10.index, ctx = _ref10.ctx, id = _ref10.id;\n                idsArr = state.show.images.map(_ => _.id);\n                imageId = idsArr.splice(index, 1)[0];\n                api = new imageApi[\"a\" /* default */](ctx);\n                _context4.next = 7;\n                return api.deleteAlbumImage({\n                  id,\n                  result: idsArr.toString(),\n                  imageId\n                });\n\n              case 7:\n                commit(\"DELETE_ALBUM_IMAGE\", {\n                  index\n                });\n\n              case 8:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }))();\n    }\n\n  },\n  getters: {}\n});\n// CONCATENATED MODULE: ./src/api/commentApi.js\n\n/* harmony default export */ var commentApi = (class extends _baseApi[\"a\" /* default */] {\n  getMainCommentList(_ref) {\n    var type = _ref.type,\n        id = _ref.id,\n        fetchId = _ref.fetchId,\n        onlySeeMaster = _ref.onlySeeMaster,\n        seeReplyId = _ref.seeReplyId;\n    return this.http.get(\"comment/main/list\", {\n      params: {\n        fetchId,\n        onlySeeMaster,\n        seeReplyId,\n        type,\n        id\n      }\n    });\n  }\n\n  getSubCommentList(_ref2) {\n    var type = _ref2.type,\n        id = _ref2.id,\n        maxId = _ref2.maxId;\n    return this.http.get(\"comment/sub/list\", {\n      params: {\n        maxId,\n        type,\n        id\n      }\n    });\n  }\n\n  createMainComment(_ref3) {\n    var type = _ref3.type,\n        id = _ref3.id,\n        content = _ref3.content,\n        images = _ref3.images;\n    return this.http.post(\"comment/main/create\", {\n      content,\n      images,\n      type,\n      id\n    });\n  }\n\n  createSubComment(_ref4) {\n    var type = _ref4.type,\n        id = _ref4.id,\n        content = _ref4.content,\n        targetUserId = _ref4.targetUserId;\n    return this.http.post(\"comment/main/reply\", {\n      targetUserId,\n      content,\n      type,\n      id\n    });\n  }\n\n  deleteSubComment(_ref5) {\n    var type = _ref5.type,\n        id = _ref5.id;\n    return this.http.post(\"comment/sub/delete\", {\n      type,\n      id\n    });\n  }\n\n  deleteMainComment(_ref6) {\n    var type = _ref6.type,\n        id = _ref6.id;\n    return this.http.post(\"comment/main/delete\", {\n      type,\n      id\n    });\n  }\n\n  toggleLikeMainComment(_ref7) {\n    var type = _ref7.type,\n        id = _ref7.id;\n    return this.http.post(\"comment/main/toggleLike\", {\n      type,\n      id\n    });\n  }\n\n  toggleLikeSubComment(_ref8) {\n    var type = _ref8.type,\n        id = _ref8.id;\n    return this.http.post(\"comment/sub/toggleLike\", {\n      type,\n      id\n    });\n  }\n\n});\n// CONCATENATED MODULE: ./src/store/comment.js\n\n\n\n\n\n\n\nvar comment_state = () => ({\n  type: \"\",\n  sort: \"desc\",\n  fetchId: 0,\n  list: [],\n  total: 0,\n  noMore: false,\n  submitting: false,\n  id: 0\n});\n\nvar comment_mutations = {\n  RESET_STATE(state, _ref) {\n    var type = _ref.type;\n    state.type = type;\n    state.sort = type === \"post\" ? \"asc\" : \"desc\";\n    state.fetchId = 0;\n    state.list = [];\n    state.total = 0;\n    state.noMore = false;\n    state.submitting = false;\n    state.id = 0;\n  },\n\n  INIT_FETCH_TYPE(state, _ref2) {\n    var type = _ref2.type;\n    state.type = type;\n\n    if (type === \"post\") {\n      state.sort = \"asc\";\n    }\n  },\n\n  SET_MAIN_COMMENTS(state, _ref3) {\n    var comments = _ref3.comments,\n        seeReplyId = _ref3.seeReplyId,\n        id = _ref3.id;\n    state.id = +id;\n\n    if (!comments.list.length) {\n      state.noMore = comments.noMore;\n      state.total = comments.total;\n      return;\n    }\n\n    var formatComments = comments.list.map(item => {\n      // 子评论的 key 是 comments，是个对象，有 list，noMore，total 三个 key\n      var childrenCommentList = item.comments.list;\n      var childrenCommentLength = childrenCommentList.length; // 在每个子评论对象里里维护一个 maxId，这里默认子评论是 id 增大排序的\n\n      var childrenCommentObj = Object.assign(item.comments, {\n        maxId: childrenCommentLength ? childrenCommentList[childrenCommentLength - 1].id : 0\n      });\n      return Object.assign(item, {\n        comments: childrenCommentObj\n      });\n    }); // 更新 fetchId，如果是第一页，并且有 seeReplyId，就比较麻烦\n\n    state.fetchId = formatComments[formatComments.length - 1].id;\n\n    if (!state.list.length && seeReplyId) {\n      state.fetchId = formatComments.map(_ => _.id).filter(_ => _ !== parseInt(seeReplyId, 10)).pop();\n    } // 操作主评论的 fetchId\n\n\n    var resIds = formatComments.map(_ => _.id);\n    var originList = state.list; // 对服务端进行一个校准\n\n    var hasNew = !!resIds.filter(_ => originList.map(_ => _.id).indexOf(_) === -1).length;\n    state.list = state.list.filter(_ => resIds.indexOf(_.id) === -1);\n    state.list = state.sort === \"asc\" ? state.list.concat(formatComments).sort((a, b) => a.id - b.id) : state.list.concat(formatComments).sort((a, b) => b.id - a.id);\n    state.noMore = hasNew ? comments.noMore : true;\n    state.total = hasNew ? comments.total : state.list.length;\n  },\n\n  SET_SUB_COMMENTS(state, _ref4) {\n    var comments = _ref4.comments,\n        id = _ref4.id;\n    var parentComment = null;\n    var parentIndex = 0;\n    state.list.forEach((item, index) => {\n      if (item.id === id) {\n        parentComment = item;\n        parentIndex = index;\n      }\n    });\n\n    if (!parentComment) {\n      return;\n    } // 更新 maxId\n\n\n    state.list[parentIndex].comments.maxId = comments.list[comments.list.length - 1].id; // 返回的 ids\n\n    var resIds = comments.list.map(_ => _.id);\n    var parentCommentList = parentComment.comments.list; // 对服务端进行一个校准\n\n    var hasNew = !!resIds.filter(_ => parentCommentList.map(_ => _.id).indexOf(_) === -1).length;\n    state.list[parentIndex].comments.list = parentCommentList.filter(_ => resIds.indexOf(_.id) === -1);\n    state.list[parentIndex].comments.list = state.list[parentIndex].comments.list.concat(comments.list);\n    state.list[parentIndex].comments.noMore = hasNew ? comments.noMore : true;\n    state.list[parentIndex].comments.total = hasNew ? comments.total : state.list[parentIndex].comments.list.length;\n  },\n\n  CREATE_MAIN_COMMENT(state, comment) {\n    state.sort === \"asc\" ? state.list.push(comment) : state.list.unshift(comment);\n    state.total = state.total + 1;\n  },\n\n  CREATE_SUB_COMMENT(state, _ref5) {\n    var id = _ref5.id,\n        comment = _ref5.comment;\n    state.list.forEach((item, index) => {\n      if (item.id === id) {\n        state.list[index].comments.list.push(comment);\n        state.list[index].comments.total = state.list[index].comments.total + 1;\n      }\n    });\n  },\n\n  SET_SUBMITTING(state, _ref6) {\n    var result = _ref6.result;\n    state.submitting = result;\n  },\n\n  DELETE_SUB_COMMENT(state, _ref7) {\n    var parentId = _ref7.parentId,\n        id = _ref7.id;\n    state.list.forEach((parent, index) => {\n      if (parent.id === parentId) {\n        parent.comments.list.forEach((item, subIndex) => {\n          if (item.id === id) {\n            state.list[index].comments.list.splice(subIndex, 1);\n            state.list[index].comments.total = state.list[index].comments.total - 1;\n          }\n        });\n      }\n    });\n  },\n\n  DELETE_MAIN_COMMENT(state, _ref8) {\n    var id = _ref8.id;\n    state.list.forEach((item, index) => {\n      if (item.id === id) {\n        state.list.splice(index, 1);\n        state.total = state.total - 1;\n      }\n    });\n  },\n\n  TOGGLE_LIKE_SUB_COMMENT(state, _ref9) {\n    var id = _ref9.id,\n        parentId = _ref9.parentId;\n    state.list.forEach((parent, index) => {\n      if (parent.id === parentId) {\n        parent.comments.list.forEach((item, subIndex) => {\n          if (item.id === id) {\n            var result = !state.list[index].comments[subIndex].liked;\n            state.list[index].comments[subIndex].liked = result;\n            state.list[index].comments[subIndex].like_count = state.list[index].comments[subIndex].like_count + (result ? 1 : -1);\n          }\n        });\n      }\n    });\n  },\n\n  TOGGLE_LIKE_MAIN_COMMENT(state, _ref10) {\n    var id = _ref10.id;\n    state.list.forEach((item, index) => {\n      if (item.id === id) {\n        var result = !state.list[index].liked;\n        state.list[index].liked = result;\n        state.list[index].like_count = state.list[index].like_count + (result ? 1 : -1);\n      }\n    });\n  }\n\n};\nvar comment_actions = {\n  getMainComments(_ref11, _ref12) {\n    return asyncToGenerator__default()(\n    /*#__PURE__*/\n    regenerator__default.a.mark(function _callee() {\n      var state, commit, ctx, type, id, onlySeeMaster, seeReplyId, firstRequest, api, comments;\n      return regenerator__default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              state = _ref11.state, commit = _ref11.commit;\n              ctx = _ref12.ctx, type = _ref12.type, id = _ref12.id, onlySeeMaster = _ref12.onlySeeMaster, seeReplyId = _ref12.seeReplyId, firstRequest = _ref12.firstRequest;\n\n              if (!state.type) {\n                _context.next = 18;\n                break;\n              }\n\n              if (!(state.type === type)) {\n                _context.next = 15;\n                break;\n              }\n\n              if (!(state.id !== +id)) {\n                _context.next = 8;\n                break;\n              }\n\n              // 如果两个 id 不相同，重置 store\n              commit(\"RESET_STATE\", {\n                type\n              });\n              _context.next = 13;\n              break;\n\n            case 8:\n              if (!state.noMore) {\n                _context.next = 10;\n                break;\n              }\n\n              return _context.abrupt(\"return\");\n\n            case 10:\n              if (!(state.list.length && firstRequest)) {\n                _context.next = 12;\n                break;\n              }\n\n              return _context.abrupt(\"return\");\n\n            case 12:\n              if (firstRequest) {\n                // 如果没有更多数据，并且请求第一页，重置 store（因为已经请求过了）\n                commit(\"RESET_STATE\", {\n                  type\n                });\n              }\n\n            case 13:\n              _context.next = 16;\n              break;\n\n            case 15:\n              // 如果两次请求的 type 不同，重置 store\n              commit(\"RESET_STATE\", {\n                type\n              });\n\n            case 16:\n              _context.next = 19;\n              break;\n\n            case 18:\n              // 如果没请求过数据，初始化 type\n              commit(\"INIT_FETCH_TYPE\", {\n                type\n              });\n\n            case 19:\n              api = new commentApi(ctx);\n              _context.next = 22;\n              return api.getMainCommentList({\n                type,\n                id,\n                onlySeeMaster,\n                seeReplyId,\n                fetchId: state.fetchId\n              });\n\n            case 22:\n              comments = _context.sent;\n              comments && commit(\"SET_MAIN_COMMENTS\", {\n                comments,\n                seeReplyId,\n                id\n              });\n\n            case 24:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }))();\n  },\n\n  getSubComments(_ref13, _ref14) {\n    return asyncToGenerator__default()(\n    /*#__PURE__*/\n    regenerator__default.a.mark(function _callee2() {\n      var state, commit, ctx, type, id, store, api, comments;\n      return regenerator__default.a.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              state = _ref13.state, commit = _ref13.commit;\n              ctx = _ref14.ctx, type = _ref14.type, id = _ref14.id;\n              store = state.list.filter(_ => _.id === id)[0].comments;\n\n              if (!store.noMore) {\n                _context2.next = 5;\n                break;\n              }\n\n              return _context2.abrupt(\"return\");\n\n            case 5:\n              api = new commentApi(ctx);\n              _context2.next = 8;\n              return api.getSubCommentList({\n                type,\n                id,\n                maxId: store.maxId\n              });\n\n            case 8:\n              comments = _context2.sent;\n              commit(\"SET_SUB_COMMENTS\", {\n                comments,\n                id\n              });\n\n            case 10:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }))();\n  },\n\n  createMainComment(_ref15, _ref16) {\n    return asyncToGenerator__default()(\n    /*#__PURE__*/\n    regenerator__default.a.mark(function _callee3() {\n      var commit, ctx, images, content, type, id, api, result;\n      return regenerator__default.a.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              commit = _ref15.commit;\n              ctx = _ref16.ctx, images = _ref16.images, content = _ref16.content, type = _ref16.type, id = _ref16.id;\n              api = new commentApi(ctx);\n              _context3.next = 5;\n              return api.createMainComment({\n                type,\n                id,\n                content,\n                images\n              });\n\n            case 5:\n              result = _context3.sent;\n              commit(\"CREATE_MAIN_COMMENT\", result.data);\n              return _context3.abrupt(\"return\", result);\n\n            case 8:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this);\n    }))();\n  },\n\n  createSubComment(_ref17, _ref18) {\n    return asyncToGenerator__default()(\n    /*#__PURE__*/\n    regenerator__default.a.mark(function _callee4() {\n      var commit, ctx, id, type, content, targetUserId, api, result;\n      return regenerator__default.a.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              commit = _ref17.commit;\n              ctx = _ref18.ctx, id = _ref18.id, type = _ref18.type, content = _ref18.content, targetUserId = _ref18.targetUserId;\n              api = new commentApi(ctx);\n              _context4.next = 5;\n              return api.createSubComment({\n                id,\n                type,\n                content,\n                targetUserId\n              });\n\n            case 5:\n              result = _context4.sent;\n              commit(\"CREATE_SUB_COMMENT\", {\n                id,\n                comment: result.data\n              });\n              return _context4.abrupt(\"return\", result);\n\n            case 8:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4, this);\n    }))();\n  },\n\n  deleteSubComment(_ref19, _ref20) {\n    return asyncToGenerator__default()(\n    /*#__PURE__*/\n    regenerator__default.a.mark(function _callee5() {\n      var commit, ctx, id, type, parentId, api;\n      return regenerator__default.a.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              commit = _ref19.commit;\n              ctx = _ref20.ctx, id = _ref20.id, type = _ref20.type, parentId = _ref20.parentId;\n              api = new commentApi(ctx);\n              _context5.next = 5;\n              return api.deleteSubComment({\n                id,\n                type\n              });\n\n            case 5:\n              commit(\"DELETE_SUB_COMMENT\", {\n                parentId,\n                id\n              });\n\n            case 6:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5, this);\n    }))();\n  },\n\n  deleteMainComment(_ref21, _ref22) {\n    return asyncToGenerator__default()(\n    /*#__PURE__*/\n    regenerator__default.a.mark(function _callee6() {\n      var commit, ctx, id, type, api;\n      return regenerator__default.a.wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              commit = _ref21.commit;\n              ctx = _ref22.ctx, id = _ref22.id, type = _ref22.type;\n              api = new commentApi(ctx);\n              _context6.next = 5;\n              return api.deleteMainComment({\n                id,\n                type\n              });\n\n            case 5:\n              commit(\"DELETE_MAIN_COMMENT\", {\n                id\n              });\n\n            case 6:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee6, this);\n    }))();\n  },\n\n  toggleLikeSubComment(_ref23, _ref24) {\n    return asyncToGenerator__default()(\n    /*#__PURE__*/\n    regenerator__default.a.mark(function _callee7() {\n      var commit, ctx, type, id, parentId, api;\n      return regenerator__default.a.wrap(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              commit = _ref23.commit;\n              ctx = _ref24.ctx, type = _ref24.type, id = _ref24.id, parentId = _ref24.parentId;\n              api = new commentApi(ctx);\n              commit(\"TOGGLE_LIKE_SUB_COMMENT\", {\n                id,\n                parentId\n              });\n              _context7.next = 6;\n              return api.toggleLikeSubComment({\n                type,\n                id\n              });\n\n            case 6:\n            case \"end\":\n              return _context7.stop();\n          }\n        }\n      }, _callee7, this);\n    }))();\n  },\n\n  toggleLikeMainComment(_ref25, _ref26) {\n    return asyncToGenerator__default()(\n    /*#__PURE__*/\n    regenerator__default.a.mark(function _callee8() {\n      var commit, ctx, type, id, api;\n      return regenerator__default.a.wrap(function _callee8$(_context8) {\n        while (1) {\n          switch (_context8.prev = _context8.next) {\n            case 0:\n              commit = _ref25.commit;\n              ctx = _ref26.ctx, type = _ref26.type, id = _ref26.id;\n              api = new commentApi(ctx);\n              commit(\"TOGGLE_LIKE_MAIN_COMMENT\", {\n                id\n              });\n              _context8.next = 6;\n              return api.toggleLikeMainComment({\n                type,\n                id\n              });\n\n            case 6:\n            case \"end\":\n              return _context8.stop();\n          }\n        }\n      }, _callee8, this);\n    }))();\n  }\n\n};\nvar comment_getters = {};\n/* harmony default export */ var comment = ({\n  namespaced: true,\n  state: comment_state,\n  actions: comment_actions,\n  mutations: comment_mutations,\n  getters: comment_getters\n});\n// CONCATENATED MODULE: ./src/store/homepage.js\n\n\n\n\n\nvar homepage_state = () => ({\n  banners: []\n});\n\nvar homepage_mutations = {\n  pushBanners(state, data) {\n    state.banners = data;\n  }\n\n};\nvar homepage_actions = {\n  getBanners(_ref, ctx) {\n    return asyncToGenerator__default()(\n    /*#__PURE__*/\n    regenerator__default.a.mark(function _callee() {\n      var state, commit, api, data;\n      return regenerator__default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              state = _ref.state, commit = _ref.commit;\n\n              if (!state.banners.length) {\n                _context.next = 3;\n                break;\n              }\n\n              return _context.abrupt(\"return\");\n\n            case 3:\n              api = new imageApi[\"a\" /* default */](ctx);\n              _context.next = 6;\n              return api.getBanners();\n\n            case 6:\n              data = _context.sent;\n              commit(\"pushBanners\", data);\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }))();\n  }\n\n};\nvar homepage_getters = {};\n/* harmony default export */ var homepage = ({\n  namespaced: true,\n  state: homepage_state,\n  actions: homepage_actions,\n  mutations: homepage_mutations,\n  getters: homepage_getters\n});\n// CONCATENATED MODULE: ./src/api/searchApi.js\n\n/* harmony default export */ var searchApi = (class extends _baseApi[\"a\" /* default */] {\n  index(q) {\n    return this.http.get(\"search/index\", {\n      params: q\n    });\n  }\n\n  v2(_ref) {\n    var q = _ref.q,\n        type = _ref.type,\n        page = _ref.page;\n    return this.http.get(\"search/new\", {\n      params: {\n        q,\n        type,\n        page\n      }\n    });\n  }\n\n});\n// CONCATENATED MODULE: ./src/store/search.js\n\n\n\n\n\nvar tabs = {\n  all: \"综合\",\n  bangumi: \"番剧\",\n  video: \"视频\",\n  post: \"帖子\",\n  score: \"漫评\",\n  role: \"偶像\",\n  user: \"用户\" // image: \"相册\",\n\n};\n\nvar search_state = () => ({\n  tabs,\n  lastSearchKeywords: \"\",\n  resource: Object.assign({}, ...Object.keys(tabs).map(_ => {\n    return {\n      [_]: {\n        list: [],\n        page: 0,\n        total: 0,\n        noMore: false,\n        loading: false\n      }\n    };\n  }))\n});\n\nvar search_mutations = {\n  RESET_DATA(state) {\n    state.lastSearchKeywords = \"\";\n    state.resource = Object.assign({}, ...Object.keys(tabs).map(_ => {\n      return {\n        [_]: {\n          list: [],\n          page: 0,\n          total: 0,\n          noMore: false,\n          loading: false\n        }\n      };\n    }));\n  },\n\n  SET_LOADING(state, _ref) {\n    var type = _ref.type,\n        value = _ref.value;\n    state.resource[type].loading = value;\n  },\n\n  SET_RESOURCE(state, _ref2) {\n    var type = _ref2.type,\n        q = _ref2.q,\n        data = _ref2.data;\n    state.lastSearchKeywords = q;\n    state.resource[type].list = state.resource[type].list.concat(data.list);\n    state.resource[type].page = state.resource[type].page + 1;\n    state.resource[type].noMore = data.noMore;\n    state.resource[type].total = data.total;\n    state.resource[type].loading = false;\n  }\n\n};\nvar search_actions = {\n  fetchData(_ref3, _ref4) {\n    return asyncToGenerator__default()(\n    /*#__PURE__*/\n    regenerator__default.a.mark(function _callee() {\n      var state, commit, q, type, ctx, resource, api, data;\n      return regenerator__default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              state = _ref3.state, commit = _ref3.commit;\n              q = _ref4.q, type = _ref4.type, ctx = _ref4.ctx;\n\n              if (q) {\n                _context.next = 4;\n                break;\n              }\n\n              return _context.abrupt(\"return\");\n\n            case 4:\n              if (state.lastSearchKeywords && state.lastSearchKeywords !== q) {\n                commit(\"RESET_DATA\");\n              }\n\n              resource = state.resource[type];\n\n              if (resource) {\n                _context.next = 8;\n                break;\n              }\n\n              return _context.abrupt(\"return\");\n\n            case 8:\n              if (!(resource.list.length || resource.noMore || resource.loading)) {\n                _context.next = 10;\n                break;\n              }\n\n              return _context.abrupt(\"return\");\n\n            case 10:\n              commit(\"SET_LOADING\", {\n                type,\n                value: true\n              });\n              api = new searchApi(ctx);\n              _context.next = 14;\n              return api.v2({\n                q,\n                type,\n                page: resource.page\n              });\n\n            case 14:\n              data = _context.sent;\n              commit(\"SET_RESOURCE\", {\n                q,\n                type,\n                data\n              });\n\n            case 16:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }))();\n  },\n\n  fetchMore(_ref5, _ref6) {\n    return asyncToGenerator__default()(\n    /*#__PURE__*/\n    regenerator__default.a.mark(function _callee2() {\n      var state, commit, type, ctx, q, resource, api, data;\n      return regenerator__default.a.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              state = _ref5.state, commit = _ref5.commit;\n              type = _ref6.type, ctx = _ref6.ctx;\n              q = state.lastSearchKeywords;\n\n              if (q) {\n                _context2.next = 5;\n                break;\n              }\n\n              return _context2.abrupt(\"return\");\n\n            case 5:\n              resource = state.resource[type];\n\n              if (!(resource.noMore || resource.loading)) {\n                _context2.next = 8;\n                break;\n              }\n\n              return _context2.abrupt(\"return\");\n\n            case 8:\n              commit(\"SET_LOADING\", {\n                type,\n                value: true\n              });\n              api = new searchApi(ctx);\n              _context2.next = 12;\n              return api.v2({\n                q,\n                type,\n                page: resource.page\n              });\n\n            case 12:\n              data = _context2.sent;\n              commit(\"SET_RESOURCE\", {\n                q,\n                type,\n                data\n              });\n\n            case 14:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }))();\n  }\n\n};\nvar search_getters = {};\n/* harmony default export */ var search = ({\n  namespaced: true,\n  state: search_state,\n  actions: search_actions,\n  mutations: search_mutations,\n  getters: search_getters\n});\n// CONCATENATED MODULE: ./src/store/editor.js\n\n\n\n\nvar templates = {\n  img: {\n    type: \"img\",\n    url: \"\",\n    width: 0,\n    height: 0,\n    mime: \"\",\n    text: \"\"\n  },\n  txt: {\n    type: \"txt\",\n    text: \"\"\n  }\n};\n\nvar editor_state = () => ({\n  resource: null,\n  selectedIndex: -1,\n  sections: [Object.assign({}, templates.txt, {\n    id: 0\n  }), Object.assign({}, templates.img, {\n    id: 1\n  })]\n});\n\nvar editor_mutations = {\n  SWITCH_SECTION(state, _ref) {\n    var index = _ref.index;\n    state.selectedIndex = index;\n  },\n\n  APPEND_SECTION(state, _ref2) {\n    var type = _ref2.type,\n        index = _ref2.index;\n    var temp = templates[type];\n    var template = {\n      id: `${state.sections.length}-${Date.now()}`\n    };\n    Object.keys(temp).forEach(key => {\n      template[key] = temp[key];\n    });\n    var targetIndex = index + 1;\n    state.sections.splice(targetIndex, 0, template);\n    state.selectedIndex = targetIndex;\n  },\n\n  UPDATE_SECTION_TEXT(state, _ref3) {\n    var value = _ref3.value;\n    state.sections[state.selectedIndex].text = value;\n  },\n\n  UPDATE_SECTION_IMAGE(state, _ref4) {\n    var url = _ref4.url,\n        width = _ref4.width,\n        height = _ref4.height,\n        size = _ref4.size,\n        mime = _ref4.mime;\n    state.sections[state.selectedIndex].url = url;\n    state.sections[state.selectedIndex].width = width;\n    state.sections[state.selectedIndex].height = height;\n    state.sections[state.selectedIndex].mime = mime;\n    state.sections[state.selectedIndex].size = size;\n  },\n\n  DELETE_SECTION(state, _ref5) {\n    var index = _ref5.index;\n    state.sections.splice(index, 1);\n    state.selectedIndex = -1;\n  },\n\n  SORT_SECTION(state, _ref6) {\n    var index = _ref6.index;\n    state.sections.splice(index - 1, 1, ...state.sections.splice(index, 1, state.sections[index - 1]));\n  },\n\n  INIT_SECTION(state, data) {\n    var sections = [];\n    data[\"content\"].forEach((section, index) => {\n      section.id = `${index}-${Date.now()}`;\n      sections.push(section);\n    });\n    state.sections = sections;\n    state.resource = data;\n  }\n\n};\nvar editor_actions = {\n  getData(_ref7, _ref8) {\n    return asyncToGenerator__default()(\n    /*#__PURE__*/\n    regenerator__default.a.mark(function _callee() {\n      var commit, api, id, data;\n      return regenerator__default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              commit = _ref7.commit;\n              api = _ref8.api, id = _ref8.id;\n              _context.next = 4;\n              return api.edit({\n                id\n              });\n\n            case 4:\n              data = _context.sent;\n              data && commit(\"INIT_SECTION\", data);\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }))();\n  }\n\n};\nvar editor_getters = {};\n/* harmony default export */ var editor = ({\n  namespaced: true,\n  state: editor_state,\n  actions: editor_actions,\n  mutations: editor_mutations,\n  getters: editor_getters\n});\n// CONCATENATED MODULE: ./src/store/score.js\n\n\n\n\n\n\n\nvar score_state = () => ({\n  show: null\n});\n\nvar score_mutations = {\n  SOCIAL_TOGGLE(state, _ref) {\n    var key = _ref.key,\n        value = _ref.value,\n        user = _ref.user;\n    state.show[`${key}ed`.replace(\"ee\", \"e\")] = value;\n\n    if (value) {\n      state.show[`${key}_users`].total++;\n      state.show[`${key}_users`].list.unshift(user);\n    } else {\n      state.show[`${key}_users`].total--;\n      state.show[`${key}_users`].list.forEach((item, index) => {\n        if (item.id === user.id) {\n          state.show[`${key}_users`].list.splice(index, 1);\n        }\n      });\n    }\n  },\n\n  SET_SHOW(state, data) {\n    state.show = data;\n  },\n\n  FOLLOW_BANGUMI(state, result) {\n    state.show.bangumi.followed = result;\n  },\n\n  LIKE_SCORE(state, result) {\n    state.show.liked = result;\n    state.show.like_count = result ? state.show.like_count + 1 : state.show.like_count - 1;\n  }\n\n};\nvar score_actions = {\n  getShow(_ref2, _ref3) {\n    return asyncToGenerator__default()(\n    /*#__PURE__*/\n    regenerator__default.a.mark(function _callee() {\n      var commit, ctx, id, api, data;\n      return regenerator__default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              commit = _ref2.commit;\n              ctx = _ref3.ctx, id = _ref3.id;\n              api = new scoreApi[\"a\" /* default */](ctx);\n              _context.next = 5;\n              return api.show({\n                id\n              });\n\n            case 5:\n              data = _context.sent;\n              commit(\"SET_SHOW\", data);\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }))();\n  }\n\n};\nvar score_getters = {};\n/* harmony default export */ var score = ({\n  namespaced: true,\n  state: score_state,\n  actions: score_actions,\n  mutations: score_mutations,\n  getters: score_getters\n});\n// EXTERNAL MODULE: external \"lodash/merge\"\nvar merge_ = __webpack_require__(46);\nvar merge__default = /*#__PURE__*/__webpack_require__.n(merge_);\n\n// EXTERNAL MODULE: ./src/api/flowApi.js\nvar flowApi = __webpack_require__(19);\n\n// CONCATENATED MODULE: ./src/store/flow.js\n\n\n\n\n\n\n\nvar trendingFlowStore = {\n  bangumiId: 0,\n  userZone: \"\",\n  news: {\n    list: [],\n    page: 0,\n    total: 0,\n    noMore: false,\n    nothing: false,\n    loading: false\n  },\n  active: {\n    list: [],\n    page: 0,\n    total: 0,\n    noMore: false,\n    nothing: false,\n    loading: false\n  },\n  hot: {\n    list: [],\n    page: 0,\n    total: 0,\n    noMore: false,\n    nothing: false,\n    loading: false\n  },\n  meta: null\n};\n\nvar flow_state = () => ({\n  post: merge__default()({}, trendingFlowStore),\n  image: merge__default()({}, trendingFlowStore),\n  score: merge__default()({}, trendingFlowStore),\n  role: merge__default()({}, trendingFlowStore),\n  question: merge__default()({}, trendingFlowStore)\n});\n\nvar flow_mutations = {\n  SET_META(state, _ref) {\n    var data = _ref.data,\n        type = _ref.type;\n    state[type].meta = data;\n  },\n\n  RESET_STATE(state, _ref2) {\n    var type = _ref2.type;\n    state[type] = merge__default()({}, trendingFlowStore);\n  },\n\n  PUSH_STATE(state, _ref3) {\n    var data = _ref3.data,\n        type = _ref3.type,\n        sort = _ref3.sort,\n        bangumiId = _ref3.bangumiId,\n        userZone = _ref3.userZone,\n        refresh = _ref3.refresh;\n    var list = refresh ? data.list : state[type][sort].list.concat(data.list);\n    state[type][sort].list = list;\n    state[type][sort].total = data.total;\n    state[type][sort].noMore = data.noMore;\n    state[type][sort].nothing = !list.length;\n    state[type][sort].page = state[type][sort].page + 1;\n    state[type][sort].loading = false;\n    state[type].bangumiId = +bangumiId;\n    state[type].userZone = userZone;\n  },\n\n  SET_LOADING(state, _ref4) {\n    var type = _ref4.type,\n        sort = _ref4.sort;\n    state[type][sort].loading = true;\n  }\n\n};\nvar flow_actions = {\n  getMeta(_ref5, _ref6) {\n    return asyncToGenerator__default()(\n    /*#__PURE__*/\n    regenerator__default.a.mark(function _callee() {\n      var commit, type, api, data;\n      return regenerator__default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              commit = _ref5.commit;\n              type = _ref6.type;\n              api = new flowApi[\"a\" /* default */]();\n              _context.next = 5;\n              return api.meta({\n                type\n              });\n\n            case 5:\n              data = _context.sent;\n              commit(\"SET_META\", {\n                data,\n                type\n              });\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }))();\n  },\n\n  initData(_ref7, _ref8) {\n    return asyncToGenerator__default()(\n    /*#__PURE__*/\n    regenerator__default.a.mark(function _callee2() {\n      var state, commit, ctx, sort, type, _ref8$take, take, _ref8$bangumiId, bangumiId, _ref8$userZone, userZone, _ref8$refresh, refresh, data, source, list, api;\n\n      return regenerator__default.a.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              state = _ref7.state, commit = _ref7.commit;\n              ctx = _ref8.ctx, sort = _ref8.sort, type = _ref8.type, _ref8$take = _ref8.take, take = _ref8$take === void 0 ? 10 : _ref8$take, _ref8$bangumiId = _ref8.bangumiId, bangumiId = _ref8$bangumiId === void 0 ? 0 : _ref8$bangumiId, _ref8$userZone = _ref8.userZone, userZone = _ref8$userZone === void 0 ? \"\" : _ref8$userZone, _ref8$refresh = _ref8.refresh, refresh = _ref8$refresh === void 0 ? false : _ref8$refresh;\n\n              if (+bangumiId !== state[type].bangumiId || userZone !== state[type].userZone || refresh) {\n                commit(\"RESET_STATE\", {\n                  type\n                });\n              }\n\n              if (!(state[type][sort].list.length || state[type][sort].loading || state[type][sort].nothing)) {\n                _context2.next = 5;\n                break;\n              }\n\n              return _context2.abrupt(\"return\");\n\n            case 5:\n              commit(\"SET_LOADING\", {\n                type,\n                sort\n              });\n              source = state[type][sort];\n              list = source.list;\n              api = new flowApi[\"a\" /* default */](ctx);\n\n              if (!(sort === \"news\")) {\n                _context2.next = 15;\n                break;\n              }\n\n              _context2.next = 12;\n              return api.fetch({\n                sort,\n                type,\n                take,\n                page: source.page,\n                seenIds: \"\",\n                minId: refresh ? 0 : list.length ? list[list.length - 1].id : 0,\n                bangumiId,\n                userZone\n              });\n\n            case 12:\n              data = _context2.sent;\n              _context2.next = 18;\n              break;\n\n            case 15:\n              _context2.next = 17;\n              return api.fetch({\n                sort,\n                type,\n                take,\n                page: source.page,\n                minId: 0,\n                seenIds: refresh ? \"\" : list.length ? list.map(_ => _.id).toString() : \"\",\n                bangumiId,\n                userZone\n              });\n\n            case 17:\n              data = _context2.sent;\n\n            case 18:\n              commit(\"PUSH_STATE\", {\n                data,\n                type,\n                sort,\n                bangumiId,\n                userZone,\n                refresh\n              });\n\n            case 19:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }))();\n  },\n\n  getData(_ref9, _ref10) {\n    return asyncToGenerator__default()(\n    /*#__PURE__*/\n    regenerator__default.a.mark(function _callee3() {\n      var state, commit, ctx, sort, type, _ref10$take, take, _ref10$bangumiId, bangumiId, _ref10$userZone, userZone, _ref10$refresh, refresh, data, source, list, api;\n\n      return regenerator__default.a.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              state = _ref9.state, commit = _ref9.commit;\n              ctx = _ref10.ctx, sort = _ref10.sort, type = _ref10.type, _ref10$take = _ref10.take, take = _ref10$take === void 0 ? 10 : _ref10$take, _ref10$bangumiId = _ref10.bangumiId, bangumiId = _ref10$bangumiId === void 0 ? 0 : _ref10$bangumiId, _ref10$userZone = _ref10.userZone, userZone = _ref10$userZone === void 0 ? \"\" : _ref10$userZone, _ref10$refresh = _ref10.refresh, refresh = _ref10$refresh === void 0 ? false : _ref10$refresh;\n\n              if (+bangumiId !== state[type].bangumiId || userZone !== state[type].userZone) {\n                commit(\"RESET_STATE\", {\n                  type\n                });\n              }\n\n              if (!(state[type][sort].noMore && !refresh || state[type][sort].loading)) {\n                _context3.next = 5;\n                break;\n              }\n\n              return _context3.abrupt(\"return\");\n\n            case 5:\n              commit(\"SET_LOADING\", {\n                type,\n                sort\n              });\n              source = state[type][sort];\n              list = source.list;\n              api = new flowApi[\"a\" /* default */](ctx);\n\n              if (!(sort === \"news\")) {\n                _context3.next = 15;\n                break;\n              }\n\n              _context3.next = 12;\n              return api.fetch({\n                sort,\n                type,\n                take,\n                page: source.page,\n                seenIds: \"\",\n                minId: refresh ? 0 : list.length ? list[list.length - 1].id : 0,\n                bangumiId,\n                userZone\n              });\n\n            case 12:\n              data = _context3.sent;\n              _context3.next = 18;\n              break;\n\n            case 15:\n              _context3.next = 17;\n              return api.fetch({\n                sort,\n                type,\n                take,\n                page: source.page,\n                minId: 0,\n                seenIds: refresh ? \"\" : list.length ? list.map(_ => _.id).toString() : \"\",\n                bangumiId,\n                userZone\n              });\n\n            case 17:\n              data = _context3.sent;\n\n            case 18:\n              commit(\"PUSH_STATE\", {\n                data,\n                type,\n                sort,\n                bangumiId,\n                userZone,\n                refresh\n              });\n\n            case 19:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this);\n    }))();\n  }\n\n};\nvar flow_getters = {};\n/* harmony default export */ var flow = ({\n  namespaced: true,\n  state: flow_state,\n  actions: flow_actions,\n  mutations: flow_mutations,\n  getters: flow_getters\n});\n// CONCATENATED MODULE: ./src/store/question.js\n\n\n\n\n\n\n\n\n\nvar question_state = () => ({\n  qaq: null,\n  answers: {\n    questionId: 0,\n    userZone: \"\",\n    list: [],\n    page: 0,\n    total: 0,\n    noMore: false,\n    nothing: false\n  }\n});\n\nvar question_mutations = {\n  SET_QAQ(state, data) {\n    state.qaq = data;\n  },\n\n  EDIT_ANSWER(state, _ref) {\n    var id = _ref.id;\n    state.qaq.my_answer = {\n      id,\n      published_at: null\n    };\n  },\n\n  SET_ANSWER(state, data) {\n    state.qaq = data.question;\n    state.answers.list = [data.answer];\n  },\n\n  FETCH_QAQ_SOCIAL_USERS(state, _ref2) {\n    var type = _ref2.type,\n        result = _ref2.result;\n    var prefix = state.qaq[`${type}_users`];\n    state.qaq[`${type}_users`].list = prefix.list.concat(result.list);\n    state.qaq[`${type}_users`].total = result.total;\n    state.qaq[`${type}_users`].noMore = result.noMore;\n  },\n\n  FETCH_ANSWER_SOCIAL_USERS(state, _ref3) {\n    var id = _ref3.id,\n        type = _ref3.type,\n        result = _ref3.result;\n    var actionIndex = -1;\n    state.answers.list.forEach((item, index) => {\n      if (item.id === id) {\n        actionIndex = index;\n      }\n    });\n\n    if (actionIndex === -1) {\n      return;\n    }\n\n    var prefix = state.answers.list[actionIndex][`${type}_users`];\n    state.answers.list[actionIndex][`${type}_users`].list = prefix.list.concat(result.list);\n    state.answers.list[actionIndex][`${type}_users`].total = result.total;\n    state.answers.list[actionIndex][`${type}_users`].noMore = result.noMore;\n  },\n\n  QAQ_SOCIAL_TOGGLE(state, _ref4) {\n    var key = _ref4.key,\n        value = _ref4.value,\n        user = _ref4.user;\n    state.qaq[`${key}ed`.replace(\"ee\", \"e\")] = value;\n\n    if (value) {\n      state.qaq[`${key}_users`].total++;\n      state.qaq[`${key}_users`].list.unshift(user);\n    } else {\n      state.qaq[`${key}_users`].total--;\n      state.qaq[`${key}_users`].list.forEach((item, index) => {\n        if (item.id === user.id) {\n          state.qaq[`${key}_users`].list.splice(index, 1);\n        }\n      });\n    }\n  },\n\n  ANSWER_SOCIAL_TOGGLE(state, _ref5) {\n    var id = _ref5.id,\n        key = _ref5.key,\n        value = _ref5.value,\n        user = _ref5.user;\n    var actionIndex = -1;\n    state.answers.list.forEach((item, index) => {\n      if (item.id === id) {\n        actionIndex = index;\n      }\n    });\n\n    if (actionIndex === -1) {\n      return;\n    }\n\n    state.answers.list[actionIndex][`${key}ed`.replace(\"ee\", \"e\")] = value;\n\n    if (value) {\n      state.answers.list[actionIndex][`${key}_users`].total++;\n      state.answers.list[actionIndex][`${key}_users`].list.unshift(user);\n    } else {\n      state.answers.list[actionIndex][`${key}_users`].total--;\n      state.answers.list[actionIndex][`${key}_users`].list.forEach((item, index) => {\n        if (item.id === user.id) {\n          state.answers.list[actionIndex][`${key}_users`].list.splice(index, 1);\n        }\n      });\n    }\n  },\n\n  TOGGLE_ANSWER_VOTE(state, _ref6) {\n    var id = _ref6.id,\n        data = _ref6.data;\n    var actionIndex = -1;\n    state.answers.list.forEach((item, index) => {\n      if (item.id === id) {\n        actionIndex = index;\n      }\n    });\n\n    if (actionIndex === -1) {\n      return;\n    }\n\n    state.answers.list[actionIndex].vote_count = data.total;\n    state.answers.list[actionIndex].voted = data.result;\n  },\n\n  COMMENT_CHANGE_COUNT(state, _ref7) {\n    var id = _ref7.id,\n        key = _ref7.key,\n        value = _ref7.value;\n\n    if (key === \"qaq\") {\n      state.qaq.comment_count = state.qaq.comment_count + value;\n    } else {\n      var actionIndex = -1;\n      state.answers.list.forEach((item, index) => {\n        if (item.id === id) {\n          actionIndex = index;\n        }\n      });\n\n      if (actionIndex === -1) {\n        return;\n      }\n\n      state.answers.list[actionIndex].comment_count = state.answers.list[actionIndex].comment_count + value;\n    }\n  },\n\n  SET_ANSWERS(state, _ref8) {\n    var data = _ref8.data,\n        questionId = _ref8.questionId,\n        userZone = _ref8.userZone,\n        refresh = _ref8.refresh;\n    var list = refresh ? data.list : state.answers.list.concat(data.list);\n    state.answers.list = list;\n    state.answers.total = data.total;\n    state.answers.noMore = data.noMore;\n    state.answers.nothing = !list.length;\n    state.answers.page = state.answers.page + 1;\n    state.answers.questionId = +questionId;\n    state.answers.userZone = userZone;\n  }\n\n};\nvar question_actions = {\n  getQAQ(_ref9, _ref10) {\n    return asyncToGenerator__default()(\n    /*#__PURE__*/\n    regenerator__default.a.mark(function _callee() {\n      var commit, ctx, id, api, data;\n      return regenerator__default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              commit = _ref9.commit;\n              ctx = _ref10.ctx, id = _ref10.id;\n              api = new questionApi[\"a\" /* default */](ctx);\n              _context.next = 5;\n              return api.getQuestionShow({\n                id\n              });\n\n            case 5:\n              data = _context.sent;\n              commit(\"SET_QAQ\", data);\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }))();\n  },\n\n  getAnswer(_ref11, _ref12) {\n    return asyncToGenerator__default()(\n    /*#__PURE__*/\n    regenerator__default.a.mark(function _callee2() {\n      var commit, ctx, id, api, data;\n      return regenerator__default.a.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              commit = _ref11.commit;\n              ctx = _ref12.ctx, id = _ref12.id;\n              api = new questionApi[\"a\" /* default */](ctx);\n              _context2.next = 5;\n              return api.getAnswerShow({\n                id\n              });\n\n            case 5:\n              data = _context2.sent;\n              commit(\"SET_ANSWER\", data);\n\n            case 7:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }))();\n  },\n\n  getAnswers(_ref13, _ref14) {\n    return asyncToGenerator__default()(\n    /*#__PURE__*/\n    regenerator__default.a.mark(function _callee3() {\n      var state, commit, ctx, _ref14$take, take, _ref14$questionId, questionId, _ref14$userZone, userZone, _ref14$refresh, refresh, data, source, list, api;\n\n      return regenerator__default.a.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              state = _ref13.state, commit = _ref13.commit;\n              ctx = _ref14.ctx, _ref14$take = _ref14.take, take = _ref14$take === void 0 ? 10 : _ref14$take, _ref14$questionId = _ref14.questionId, questionId = _ref14$questionId === void 0 ? 0 : _ref14$questionId, _ref14$userZone = _ref14.userZone, userZone = _ref14$userZone === void 0 ? \"\" : _ref14$userZone, _ref14$refresh = _ref14.refresh, refresh = _ref14$refresh === void 0 ? false : _ref14$refresh;\n\n              if (!(state.answers.noMore && !refresh)) {\n                _context3.next = 4;\n                break;\n              }\n\n              return _context3.abrupt(\"return\");\n\n            case 4:\n              source = state.answers;\n              list = source.list;\n              api = new flowApi[\"a\" /* default */](ctx);\n              _context3.next = 9;\n              return api.fetch({\n                sort: \"active\",\n                type: \"answer\",\n                take,\n                page: source.page,\n                minId: 0,\n                seenIds: refresh ? \"\" : list.length ? list.map(_ => _.id).toString() : \"\",\n                bangumiId: questionId,\n                userZone\n              });\n\n            case 9:\n              data = _context3.sent;\n              commit(\"SET_ANSWERS\", {\n                data,\n                questionId,\n                userZone,\n                refresh\n              });\n\n            case 11:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this);\n    }))();\n  }\n\n};\nvar question_getters = {};\n/* harmony default export */ var question = ({\n  namespaced: true,\n  state: question_state,\n  actions: question_actions,\n  mutations: question_mutations,\n  getters: question_getters\n});\n// CONCATENATED MODULE: ./src/api/appApi.js\n\n/* harmony default export */ var appApi = (class extends _baseApi[\"a\" /* default */] {\n  downloadUrl(_ref) {\n    var type = _ref.type;\n    return this.http.get(\"app/version/check\", {\n      params: {\n        type,\n        version: \"0.0.0\"\n      }\n    });\n  }\n\n});\n// CONCATENATED MODULE: ./src/store/app.js\n\n\n\n\n/* harmony default export */ var store_app = ({\n  namespaced: true,\n  state: () => ({\n    download: null\n  }),\n  mutations: {\n    SET_DOWNLOAD_URL(state, data) {\n      state.download = data;\n    }\n\n  },\n  actions: {\n    getDownloadUrl(_ref, _ref2) {\n      return asyncToGenerator__default()(\n      /*#__PURE__*/\n      regenerator__default.a.mark(function _callee() {\n        var commit, type, api, data;\n        return regenerator__default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                commit = _ref.commit;\n                type = _ref2.type;\n                api = new appApi();\n                _context.next = 5;\n                return api.downloadUrl({\n                  type\n                });\n\n              case 5:\n                data = _context.sent;\n                commit(\"SET_DOWNLOAD_URL\", data);\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }))();\n    }\n\n  },\n  getters: {}\n});\n// CONCATENATED MODULE: ./src/store/index.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nexternal__vue__default.a.use(external__vuex__default.a);\nfunction createStore() {\n  return new external__vuex__default.a.Store({\n    strict: \"production\" !== \"production\",\n    state: () => ({\n      user: null,\n      login: false,\n      ua: {\n        ios: false,\n        android: false,\n        wechat: false,\n        qq: false,\n        alipay: false,\n        weibo: false,\n        pc: false\n      }\n    }),\n    mutations: {\n      SET_SSR_CTX(state, _ref) {\n        var ctx = _ref.ctx;\n        var userAgent = ctx.header[\"user-agent\"].toLowerCase();\n        state.ssrContext = ctx;\n        state.ua = {\n          ios: /iphone|ipad|ipod/.test(userAgent),\n          android: /android/.test(userAgent),\n          wechat: /micromessenger/.test(userAgent),\n          qq: /qq\\//.test(userAgent),\n          alipay: /alipayclient/.test(userAgent),\n          weibo: /weibo/i.test(userAgent),\n          pc: !/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(userAgent)\n        };\n      },\n\n      SET_USER(state, user) {\n        state.user = user;\n        state.login = true;\n      },\n\n      SET_USER_INFO(state, data) {\n        Object.keys(data).forEach(key => {\n          state.user[key] = data[key];\n        });\n      },\n\n      UPDATE_USER_INFO(state, _ref2) {\n        var key = _ref2.key,\n            value = _ref2.value;\n        state.user[key] = value;\n      },\n\n      USE_COIN(state) {\n        state.user.coin && state.user.coin--;\n      },\n\n      UPDATE_USER_EXP(state, score) {\n        if (!state.user) {\n          return;\n        }\n\n        if (score > 0) {\n          if (state.user.exp.have_exp + score >= state.user.next_level_exp) {\n            var newLevel = state.user.exp.level + 1;\n            state.user.exp.level = newLevel;\n            state.user.exp.have_exp = state.user.exp.have_exp + score - state.user.next_level_exp;\n            state.user.exp.next_level_exp = newLevel * newLevel + newLevel * 10;\n          } else {\n            state.user.exp.have_exp = state.user.exp.have_exp + score;\n          }\n        } else {\n          if (state.user.exp.have_exp + score < 0) {\n            var _newLevel = state.user.exp.level - 1;\n\n            var lastTotalExp = _newLevel * _newLevel + _newLevel * 10;\n            state.user.exp.have_exp = lastTotalExp + state.user.exp.have_exp + score;\n            state.user.exp.next_level_exp = lastTotalExp;\n          } else {\n            state.user.exp.have_exp = state.user.exp.have_exp + score;\n          }\n        }\n      }\n\n    },\n    actions: {\n      initAuth(_ref3, _ref4) {\n        return asyncToGenerator__default()(\n        /*#__PURE__*/\n        regenerator__default.a.mark(function _callee() {\n          var commit, ctx, must, admin, token, throwError, api, user;\n          return regenerator__default.a.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  commit = _ref3.commit;\n                  ctx = _ref4.ctx, must = _ref4.must, admin = _ref4.admin;\n                  token = Object(parseToken[\"a\" /* default */])(ctx);\n\n                  throwError = code => {\n                    var error = new Error();\n                    error.code = code || 401;\n                    throw error;\n                  };\n\n                  if ((must || admin) && !token) {\n                    throwError(401);\n                  }\n\n                  if (token) {\n                    _context.next = 8;\n                    break;\n                  }\n\n                  commit(\"SET_SSR_CTX\", ctx);\n                  return _context.abrupt(\"return\");\n\n                case 8:\n                  api = new userApi[\"a\" /* default */](ctx);\n                  _context.prev = 9;\n                  _context.next = 12;\n                  return api.getLoginUser();\n\n                case 12:\n                  user = _context.sent;\n\n                  if ((admin || must) && !user) {\n                    throwError(401);\n                  }\n\n                  if (admin && (!user || !user.is_admin)) {\n                    throwError(403);\n                  }\n\n                  commit(\"SET_SSR_CTX\", ctx);\n                  user && commit(\"SET_USER\", user);\n                  _context.next = 22;\n                  break;\n\n                case 19:\n                  _context.prev = 19;\n                  _context.t0 = _context[\"catch\"](9);\n                  return _context.abrupt(\"return\", throwError(_context.t0.code));\n\n                case 22:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee, this, [[9, 19]]);\n        }))();\n      },\n\n      getUpToken(_ref5) {\n        return asyncToGenerator__default()(\n        /*#__PURE__*/\n        regenerator__default.a.mark(function _callee2() {\n          var state, commit, api, data;\n          return regenerator__default.a.wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  state = _ref5.state, commit = _ref5.commit;\n\n                  if (!(state.user.uptoken.expiredAt <= parseInt(Date.now() / 1000, 10))) {\n                    _context2.next = 7;\n                    break;\n                  }\n\n                  api = new imageApi[\"a\" /* default */]();\n                  _context2.next = 5;\n                  return api.getUpToken();\n\n                case 5:\n                  data = _context2.sent;\n                  data && commit(\"SET_USER_INFO\", {\n                    uptoken: data\n                  });\n\n                case 7:\n                case \"end\":\n                  return _context2.stop();\n              }\n            }\n          }, _callee2, this);\n        }))();\n      },\n\n      getNotification(_ref6, ctx) {\n        return asyncToGenerator__default()(\n        /*#__PURE__*/\n        regenerator__default.a.mark(function _callee3() {\n          var commit, api, data;\n          return regenerator__default.a.wrap(function _callee3$(_context3) {\n            while (1) {\n              switch (_context3.prev = _context3.next) {\n                case 0:\n                  commit = _ref6.commit;\n                  api = new userApi[\"a\" /* default */](ctx);\n                  _context3.next = 4;\n                  return api.getNotificationCount();\n\n                case 4:\n                  data = _context3.sent;\n                  data && commit(\"SET_USER_INFO\", {\n                    notification: data\n                  });\n\n                case 6:\n                case \"end\":\n                  return _context3.stop();\n              }\n            }\n          }, _callee3, this);\n        }))();\n      }\n\n    },\n    getters: {},\n    modules: {\n      bangumi: bangumi,\n      post: post,\n      users: users,\n      video: video,\n      cartoonRole: cartoonRole,\n      image: store_image,\n      comment: comment,\n      homepage: homepage,\n      search: search,\n      editor: editor,\n      score: score,\n      flow: flow,\n      world: flow,\n      question: question,\n      app: store_app\n    }\n  });\n}\n// EXTERNAL MODULE: external \"vue-router\"\nvar external__vue_router_ = __webpack_require__(47);\nvar external__vue_router__default = /*#__PURE__*/__webpack_require__.n(external__vue_router_);\n\n// EXTERNAL MODULE: external \"vue-meta\"\nvar external__vue_meta_ = __webpack_require__(48);\nvar external__vue_meta__default = /*#__PURE__*/__webpack_require__.n(external__vue_meta_);\n\n// CONCATENATED MODULE: ./src/router/index.js\n\n\n\nexternal__vue__default.a.use(external__vue_router__default.a);\nexternal__vue__default.a.use(external__vue_meta__default.a, {\n  keyName: \"head\",\n  attribute: \"data-n-head\",\n  ssrAttribute: \"data-n-head-ssr\",\n  tagIDKeyName: \"hid\"\n});\nfunction createRouter() {\n  return new external__vue_router__default.a({\n    mode: \"history\",\n    base: \"/\",\n\n    scrollBehavior(to, from, savedPosition) {\n      // savedPosition 只有在 popstate 导航（如按浏览器的返回按钮）时可以获取。\n      if (savedPosition) {\n        return savedPosition;\n      }\n\n      return {\n        x: 0,\n        y: 0\n      };\n    },\n\n    routes: [{\n      path: \"/\",\n      component: () => __webpack_require__.e/* import() */(3).then(__webpack_require__.bind(null, 301)),\n      meta: {\n        useAuth: true\n      },\n      children: [{\n        path: \"\",\n        name: \"homepage\",\n        component: () => __webpack_require__.e/* import() */(16).then(__webpack_require__.bind(null, 302))\n      }, {\n        path: \"world\",\n        component: () => __webpack_require__.e/* import() */(6).then(__webpack_require__.bind(null, 303)),\n        children: [{\n          path: \"\",\n          redirect: \"post\"\n        }, {\n          path: \"post\",\n          name: \"world-post\",\n          component: () => __webpack_require__.e/* import() */(38).then(__webpack_require__.bind(null, 307))\n        }, {\n          path: \"pins\",\n          name: \"world-image\",\n          component: () => __webpack_require__.e/* import() */(35).then(__webpack_require__.bind(null, 308))\n        }, {\n          path: \"review\",\n          name: \"world-score\",\n          component: () => __webpack_require__.e/* import() */(45).then(__webpack_require__.bind(null, 309))\n        }, {\n          path: \"qaq\",\n          name: \"world-question\",\n          component: () => __webpack_require__.e/* import() */(40).then(__webpack_require__.bind(null, 310))\n        }]\n      }, {\n        path: \"search\",\n        name: \"search-index\",\n        component: () => __webpack_require__.e/* import() */(7).then(__webpack_require__.bind(null, 311))\n      }, {\n        path: \"bangumi/:id(\\\\d+)\",\n        component: () => __webpack_require__.e/* import() */(26).then(__webpack_require__.bind(null, 312)),\n        children: [{\n          path: \"\",\n          name: \"bangumi-show\",\n          redirect: \"post\"\n        }, {\n          path: \"post\",\n          name: \"bangumi-post\",\n          component: () => __webpack_require__.e/* import() */(25).then(__webpack_require__.bind(null, 313))\n        }, {\n          path: \"video\",\n          name: \"bangumi-video\",\n          component: () => __webpack_require__.e/* import() */(34).then(__webpack_require__.bind(null, 314))\n        }, {\n          path: \"cartoon\",\n          name: \"bangumi-cartoon\",\n          component: () => __webpack_require__.e/* import() */(31).then(__webpack_require__.bind(null, 315))\n        }, {\n          path: \"role\",\n          name: \"bangumi-role\",\n          component: () => __webpack_require__.e/* import() */(19).then(__webpack_require__.bind(null, 316))\n        }, {\n          path: \"pins\",\n          name: \"bangumi-image\",\n          component: () => __webpack_require__.e/* import() */(29).then(__webpack_require__.bind(null, 317))\n        }, {\n          path: \"review\",\n          name: \"bangumi-score\",\n          component: () => __webpack_require__.e/* import() */(13).then(__webpack_require__.bind(null, 318))\n        }, {\n          path: \"qaq\",\n          name: \"bangumi-question\",\n          component: () => __webpack_require__.e/* import() */(12).then(__webpack_require__.bind(null, 320))\n        }]\n      }, {\n        path: \"bangumi/timeline\",\n        name: \"bangumi-timeline\",\n        component: () => __webpack_require__.e/* import() */(41).then(__webpack_require__.bind(null, 321))\n      }, {\n        path: \"bangumi/news\",\n        name: \"bangumi-news\",\n        component: () => __webpack_require__.e/* import() */(32).then(__webpack_require__.bind(null, 322))\n      }, {\n        path: \"bangumi/tags/:id?\",\n        name: \"bangumi-tags\",\n        component: () => __webpack_require__.e/* import() */(36).then(__webpack_require__.bind(null, 323))\n      }, {\n        path: \"user/:zone\",\n        component: () => __webpack_require__.e/* import() */(30).then(__webpack_require__.bind(null, 324)),\n        children: [{\n          path: \"\",\n          name: \"user-show\",\n          redirect: \"bangumi\"\n        }, {\n          path: \"bangumi\",\n          name: \"user-bangumi\",\n          component: () => __webpack_require__.e/* import() */(39).then(__webpack_require__.bind(null, 325))\n        }, {\n          path: \"post\",\n          name: \"user-post\",\n          component: () => __webpack_require__.e/* import() */(20).then(__webpack_require__.bind(null, 326))\n        }, {\n          path: \"pins\",\n          name: \"user-image\",\n          component: () => __webpack_require__.e/* import() */(28).then(__webpack_require__.bind(null, 327))\n        }, {\n          path: \"review\",\n          name: \"user-score\",\n          component: () => __webpack_require__.e/* import() */(22).then(__webpack_require__.bind(null, 328))\n        }, {\n          path: \"qaq\",\n          name: \"user-question\",\n          component: () => __webpack_require__.e/* import() */(11).then(__webpack_require__.bind(null, 329))\n        }, {\n          path: \"role\",\n          name: \"user-role\",\n          component: () => __webpack_require__.e/* import() */(17).then(__webpack_require__.bind(null, 330))\n        }, {\n          path: \"draft\",\n          name: \"user-draft\",\n          component: () => __webpack_require__.e/* import() */(33).then(__webpack_require__.bind(null, 331))\n        }]\n      }, {\n        path: \"user/:zone/setting\",\n        name: \"user-setting\",\n        component: () => __webpack_require__.e/* import() */(15).then(__webpack_require__.bind(null, 332))\n      }, {\n        path: \"me/invite\",\n        name: \"user-invite\",\n        component: () => __webpack_require__.e/* import() */(23).then(__webpack_require__.bind(null, 333))\n      }, {\n        path: \"post/:id(\\\\d+)\",\n        name: \"post-show\",\n        component: () => __webpack_require__.e/* import() */(4).then(__webpack_require__.bind(null, 335))\n      }, {\n        path: \"notification/list\",\n        name: \"notification-list\",\n        component: () => __webpack_require__.e/* import() */(43).then(__webpack_require__.bind(null, 336))\n      }, {\n        path: \"about/hello\",\n        name: \"hello\",\n        component: () => __webpack_require__.e/* import() */(44).then(__webpack_require__.bind(null, 337))\n      }, {\n        path: \"about/invite/:id(\\\\d+)\",\n        name: \"invite-user\",\n        component: () => __webpack_require__.e/* import() */(42).then(__webpack_require__.bind(null, 338))\n      }, {\n        path: \"video/:id(\\\\d+)\",\n        component: () => __webpack_require__.e/* import() */(9).then(__webpack_require__.bind(null, 339))\n      }, {\n        path: \"role/trending\",\n        component: () => __webpack_require__.e/* import() */(18).then(__webpack_require__.bind(null, 340))\n      }, {\n        path: \"app/download\",\n        name: \"download-app\",\n        component: () => __webpack_require__.e/* import() */(37).then(__webpack_require__.bind(null, 341))\n      }, {\n        path: \"role/:id(\\\\d+)\",\n        name: \"role-show\",\n        component: () => __webpack_require__.e/* import() */(10).then(__webpack_require__.bind(null, 342))\n      }, {\n        path: \"pin/:id(\\\\d+)\",\n        name: \"image-show\",\n        component: () => __webpack_require__.e/* import() */(8).then(__webpack_require__.bind(null, 343))\n      }, {\n        path: \"qaq/:id(\\\\d+)\",\n        name: \"question-show\",\n        component: () => __webpack_require__.e/* import() */(1).then(__webpack_require__.bind(null, 344))\n      }, {\n        path: \"soga/:id(\\\\d+)\",\n        name: \"answer-show\",\n        component: () => __webpack_require__.e/* import() */(2).then(__webpack_require__.bind(null, 345))\n      }, {\n        path: \"review/:id(\\\\d+)\",\n        name: \"score-show\",\n        component: () => __webpack_require__.e/* import() */(5).then(__webpack_require__.bind(null, 346))\n      }]\n    }, {\n      path: \"/review\",\n      component: () => __webpack_require__.e/* import() */(14).then(__webpack_require__.bind(null, 347)),\n      meta: {\n        useAuth: true\n      },\n      children: [{\n        path: \"create\",\n        name: \"score-create\",\n        component: () => __webpack_require__.e/* import() */(0/* duplicate */).then(__webpack_require__.bind(null, 348))\n      }, {\n        path: \"edit/:id(\\\\d+)\",\n        name: \"score-edit\",\n        component: () => __webpack_require__.e/* import() */(0/* duplicate */).then(__webpack_require__.bind(null, 348))\n      }]\n    }, {\n      path: \"/app\",\n      component: () => __webpack_require__.e/* import() */(46).then(__webpack_require__.bind(null, 349)),\n      children: [{\n        path: \"handbook\",\n        name: \"app-handbook\",\n        component: () => __webpack_require__.e/* import() */(27).then(__webpack_require__.bind(null, 350))\n      }, {\n        path: \"invite\",\n        name: \"app-invite\",\n        meta: {\n          useAuth: true\n        },\n        component: () => __webpack_require__.e/* import() */(24).then(__webpack_require__.bind(null, 351))\n      }, {\n        path: \"report\",\n        name: \"app-report\",\n        component: () => __webpack_require__.e/* import() */(21).then(__webpack_require__.bind(null, 352))\n      }] // {\n      //   path: \"/campaign\",\n      //   component: () => import(\"~/layouts/empty\"),\n      //   meta: { useAuth: false },\n      //   children: [\n      //     {\n      //       path: \"canvas\",\n      //       component: () => import(\"~/views/campaign/canvas\")\n      //     }\n      //   ]\n      // }\n\n    }]\n  });\n}\n// EXTERNAL MODULE: ./src/assets/css/global.scss\nvar global = __webpack_require__(51);\nvar global_default = /*#__PURE__*/__webpack_require__.n(global);\n\n// EXTERNAL MODULE: ./node_modules/mint-ui/lib/badge/style.css\nvar style = __webpack_require__(52);\nvar style_default = /*#__PURE__*/__webpack_require__.n(style);\n\n// EXTERNAL MODULE: external \"mint-ui/lib/badge\"\nvar badge_ = __webpack_require__(53);\nvar badge__default = /*#__PURE__*/__webpack_require__.n(badge_);\n\n// EXTERNAL MODULE: ./node_modules/mint-ui/lib/switch/style.css\nvar switch_style = __webpack_require__(54);\nvar switch_style_default = /*#__PURE__*/__webpack_require__.n(switch_style);\n\n// EXTERNAL MODULE: external \"mint-ui/lib/switch\"\nvar switch_ = __webpack_require__(55);\nvar switch__default = /*#__PURE__*/__webpack_require__.n(switch_);\n\n// EXTERNAL MODULE: ./node_modules/mint-ui/lib/picker/style.css\nvar picker_style = __webpack_require__(56);\nvar picker_style_default = /*#__PURE__*/__webpack_require__.n(picker_style);\n\n// EXTERNAL MODULE: external \"mint-ui/lib/picker\"\nvar picker_ = __webpack_require__(57);\nvar picker__default = /*#__PURE__*/__webpack_require__.n(picker_);\n\n// EXTERNAL MODULE: ./node_modules/element-ui/lib/theme-chalk/button.css\nvar theme_chalk_button = __webpack_require__(58);\nvar button_default = /*#__PURE__*/__webpack_require__.n(theme_chalk_button);\n\n// EXTERNAL MODULE: ./node_modules/element-ui/lib/theme-chalk/base.css\nvar base = __webpack_require__(11);\nvar base_default = /*#__PURE__*/__webpack_require__.n(base);\n\n// EXTERNAL MODULE: external \"element-ui/lib/button\"\nvar button_ = __webpack_require__(59);\nvar button__default = /*#__PURE__*/__webpack_require__.n(button_);\n\n// EXTERNAL MODULE: ./node_modules/element-ui/lib/theme-chalk/input.css\nvar input = __webpack_require__(60);\nvar input_default = /*#__PURE__*/__webpack_require__.n(input);\n\n// EXTERNAL MODULE: external \"element-ui/lib/input\"\nvar input_ = __webpack_require__(61);\nvar input__default = /*#__PURE__*/__webpack_require__.n(input_);\n\n// EXTERNAL MODULE: ./node_modules/element-ui/lib/theme-chalk/form-item.css\nvar form_item = __webpack_require__(62);\nvar form_item_default = /*#__PURE__*/__webpack_require__.n(form_item);\n\n// EXTERNAL MODULE: external \"element-ui/lib/form-item\"\nvar form_item_ = __webpack_require__(63);\nvar form_item__default = /*#__PURE__*/__webpack_require__.n(form_item_);\n\n// EXTERNAL MODULE: ./node_modules/element-ui/lib/theme-chalk/form.css\nvar theme_chalk_form = __webpack_require__(64);\nvar form_default = /*#__PURE__*/__webpack_require__.n(theme_chalk_form);\n\n// EXTERNAL MODULE: external \"element-ui/lib/form\"\nvar form_ = __webpack_require__(65);\nvar form__default = /*#__PURE__*/__webpack_require__.n(form_);\n\n// EXTERNAL MODULE: ./node_modules/element-ui/lib/theme-chalk/upload.css\nvar upload = __webpack_require__(66);\nvar upload_default = /*#__PURE__*/__webpack_require__.n(upload);\n\n// EXTERNAL MODULE: external \"element-ui/lib/upload\"\nvar upload_ = __webpack_require__(67);\nvar upload__default = /*#__PURE__*/__webpack_require__.n(upload_);\n\n// CONCATENATED MODULE: ./src/assets/js/alias.js\n\n\n/* harmony default export */ var alias = ({\n  index: \"/\",\n\n  __query(str, obj) {\n    if (!obj) {\n      return str;\n    }\n\n    var query = \"?\";\n    Object.keys(obj).forEach(item => {\n      query += `${item}=${obj[item]}&`;\n    });\n    return `${str.split(\"?\").shift()}${query.substring(0, query.length - 1)}`;\n  },\n\n  url(url, query) {\n    return this.__query(url, query);\n  },\n\n  user(zone) {\n    var path = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"\";\n    return `/user/${zone}/${path}`;\n  },\n\n  bangumi(id) {\n    var page = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"\";\n    return `/bangumi/${id}/${page}`;\n  },\n\n  video(id) {\n    return `/video/${id}`;\n  },\n\n  image(id) {\n    return `/pin/${id}`;\n  },\n\n  score(id) {\n    return `/review/${id}`;\n  },\n\n  post(id, query) {\n    return this.__query(`/post/${id}`, query);\n  },\n\n  bangumiTag(id) {\n    return id ? `/bangumi/tags?id=${id}` : \"/bangumi/tags\";\n  },\n\n  bangumiNews: \"/bangumi/news\",\n  bangumiTimeline: \"/bangumi/timeline\",\n\n  postTrending(sort) {\n    return `/post/trending/${sort}`;\n  },\n\n  world(type) {\n    return `/world/${type}`;\n  },\n\n  editScore(id) {\n    return `/review/edit/${id}`;\n  },\n\n  question(id) {\n    return `/qaq/${id}`;\n  },\n\n  answer(id) {\n    return `/soga/${id}`;\n  },\n\n  roleTrending: \"/role/trending\",\n  createScore: \"/review/create\",\n\n  cartoonRole(id) {\n    return `/role/${id}`;\n  }\n\n});\n// CONCATENATED MODULE: ./src/assets/js/utils.js\n\n\n\n/* harmony default export */ var utils = ({\n  shortenNumber(num) {\n    return num > 1000 ? `${Math.floor(num / 1000 * 10) / 10}k` : num;\n  },\n\n  timeLong(time) {\n    var formatTime = /^\\d+$/.test(time) ? time.toString().length === 13 ? parseInt((time - 0) / 1000, 10) : time * 1000 : time.replace(/-/g, \"/\");\n    var date = new Date(formatTime);\n    return `${date.getFullYear()}-${`0${date.getMonth() + 1}`.substr(-2)}-${`0${date.getDate()}`.substr(-2)} ${`0${date.getHours()}`.substr(-2)}:${`0${date.getMinutes()}`.substr(-2)}:${`0${date.getSeconds()}`.substr(-2)}`;\n  },\n\n  throttle(func, wait, options) {\n    var context, args, result;\n    var timeout = null;\n    var previous = 0;\n    if (!options) options = {};\n\n    var later = function later() {\n      previous = options.leading === false ? 0 : Date.now();\n      timeout = null;\n      result = func.apply(context, args);\n      if (!timeout) context = args = null;\n    };\n\n    return function () {\n      var now = Date.now();\n      if (!previous && options.leading === false) previous = now;\n      var remaining = wait - (now - previous);\n      context = this;\n      args = arguments;\n\n      if (remaining <= 0 || remaining > wait) {\n        if (timeout) {\n          clearTimeout(timeout);\n          timeout = null;\n        }\n\n        previous = now;\n        result = func.apply(context, args);\n        if (!timeout) context = args = null;\n      } else if (!timeout && options.trailing !== false) {\n        timeout = setTimeout(later, remaining);\n      }\n\n      return result;\n    };\n  },\n\n  createFileName(_ref) {\n    var userId = _ref.userId,\n        type = _ref.type,\n        id = _ref.id,\n        file = _ref.file;\n    return `user/${userId}/${type}/${id}/${new Date().getTime()}-${Math.random().toString(36).substring(3, 6)}.${file.type.split(\"/\").pop()}`;\n  },\n\n  getOffsetTop(elem) {\n    var offsetTop = 0;\n\n    do {\n      if (!isNaN(elem.offsetTop)) {\n        offsetTop += elem.offsetTop;\n      }\n    } while (elem = elem.offsetParent); // eslint-disable-line no-cond-assign\n\n\n    return offsetTop;\n  },\n\n  shuffle(array) {\n    for (var i = array.length; i; i--) {\n      var j = Math.floor(Math.random() * i);\n      var _ref2 = [array[j], array[i - 1]];\n      array[i - 1] = _ref2[0];\n      array[j] = _ref2[1];\n    }\n\n    return array;\n  }\n\n});\n// CONCATENATED MODULE: ./src/assets/js/nossr.js\n/* harmony default export */ var nossr = ({\n  name: \"no-ssr\",\n  props: [\"placeholder\"],\n\n  data() {\n    return {\n      canRender: false\n    };\n  },\n\n  mounted() {\n    this.canRender = true;\n  },\n\n  render(h) {\n    if (this.canRender) {\n      if (false) {\n        throw new Error(\"<no-ssr> You cannot use multiple child components\");\n      }\n\n      return this.$slots.default && this.$slots.default[0];\n    }\n\n    return h(\"div\", {\n      class: [\"no-ssr-placeholder\"]\n    }, this.$slots.placeholder || this.placeholder);\n  }\n\n});\n// EXTERNAL MODULE: external \"timeago.js\"\nvar external__timeago_js_ = __webpack_require__(68);\nvar external__timeago_js__default = /*#__PURE__*/__webpack_require__.n(external__timeago_js_);\n\n// CONCATENATED MODULE: ./src/assets/js/timeago.js\n\n\nvar instance = external__timeago_js__default()();\n/* harmony default export */ var timeago = ({\n  name: \"v-time\",\n  props: {\n    value: {\n      default: parseInt(Date.now() / 1000, 10).toString()\n    }\n  },\n  render: function render(createElement) {\n    return createElement(\"time\", {\n      attrs: {\n        datetime: this.$utils.timeLong(this.value)\n      }\n    });\n  },\n\n  mounted() {\n    instance.render(this.$el, \"zh_CN\");\n  },\n\n  beforeDestroy() {\n    external__timeago_js__default.a.cancel(this.$el);\n  }\n\n});\n// CONCATENATED MODULE: ./src/components/common/ImageLazyLoad/utils.js\n\n\nclass Utils {\n  constructor() {\n    this.id = 0;\n    this.listeners = {};\n  }\n\n  checkInView(ele) {\n    var scale = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1.3;\n\n    if (typeof window === \"undefined\" || !(ele instanceof Element)) {\n      return false;\n    }\n\n    var rect = ele.getBoundingClientRect();\n    return rect.top < window.innerHeight * scale && rect.bottom > 0 && rect.left < window.innerWidth * scale && rect.right > 0;\n  }\n\n  on(element, evt, handler) {\n    var capture = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n    var events = typeof evt === \"string\" ? [evt] : evt;\n    var result = [];\n    events.forEach(event => {\n      var id = this.id++;\n      element.addEventListener(event, handler, capture);\n      this.listeners[id] = {\n        element,\n        event,\n        handler,\n        capture\n      };\n      result.push(id);\n    });\n    return result;\n  }\n\n  off(ids) {\n    ids.forEach(id => {\n      if (this.listeners[id]) {\n        var h = this.listeners[id];\n        h.element.removeEventListener(h.event, h.handler, h.capture);\n        delete this.listeners[id];\n      }\n    });\n  }\n\n}\n\n/* harmony default export */ var ImageLazyLoad_utils = (new Utils());\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/common/MoreBtn.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var MoreBtn = ({\n  name: \"MoreBtn\",\n  props: {\n    noMore: {\n      type: Boolean,\n      required: true\n    },\n    loading: {\n      type: Boolean,\n      required: true\n    },\n    auto: {\n      type: Boolean,\n      default: false\n    },\n    length: {\n      type: Number,\n      default: 1\n    }\n  },\n\n  mounted() {\n    if (this.auto && !this.noMore) {\n      var eventId = ImageLazyLoad_utils.on(document, \"scroll\", this.$utils.throttle(() => {\n        if (ImageLazyLoad_utils.checkInView(this.$el)) {\n          this.$emit(\"fetch\");\n        }\n\n        if (this.noMore) {\n          ImageLazyLoad_utils.off(eventId);\n        }\n      }, 200), false);\n    }\n  },\n\n  methods: {\n    handleFetch() {\n      if (this.loading || this.noMore) {\n        return;\n      }\n\n      this.$emit(\"fetch\");\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-61fbb246\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/MoreBtn.vue\nvar MoreBtn_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"nomore-wraper\"},[(_vm.noMore)?_vm._ssrNode(\"<div class=\\\"nomore\\\">\",\"</div>\",[(_vm.length)?[_vm._ssrNode(\"\\n      没有更多了，休息一下吧\\n    \")]:(!_vm.loading)?_vm._ssrNode(\"<div class=\\\"nothing\\\">\",\"</div>\",[_vm._ssrNode(\"<img\"+(_vm._ssrAttr(\"src\",_vm.$resize(((_vm.$cdn.image) + \"owner/no-content\"), { width: 300 })))+\" alt=\\\"no-content\\\"><p>还没有内容</p>\"),_vm._t(\"default\")],2):_vm._e()],2):_vm._ssrNode(((_vm.auto)?(((_vm.loading)?(\"<div class=\\\"loadmore\\\"><div class=\\\"rolling\\\"></div></div>\"):(\"<span style=\\\"line-height: 44px\\\">点击加载更多</span>\"))):(\"<button class=\\\"loadmore\\\">\"+((_vm.loading)?(\"<div class=\\\"rolling\\\"></div>\"):(\"<span>点击加载更多</span>\"))+\"</button>\")))],2)}\nvar MoreBtn_staticRenderFns = []\nvar MoreBtn_esExports = { render: MoreBtn_render, staticRenderFns: MoreBtn_staticRenderFns }\n/* harmony default export */ var common_MoreBtn = (MoreBtn_esExports);\n// CONCATENATED MODULE: ./src/components/common/MoreBtn.vue\nfunction MoreBtn_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(69),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar MoreBtn_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar MoreBtn___vue_template_functional__ = false\n/* styles */\nvar MoreBtn___vue_styles__ = MoreBtn_injectStyle\n/* scopeId */\nvar MoreBtn___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar MoreBtn___vue_module_identifier__ = \"7fda95e2\"\nvar MoreBtn_Component = MoreBtn_normalizeComponent(\n  MoreBtn,\n  common_MoreBtn,\n  MoreBtn___vue_template_functional__,\n  MoreBtn___vue_styles__,\n  MoreBtn___vue_scopeId__,\n  MoreBtn___vue_module_identifier__\n)\n\n/* harmony default export */ var components_common_MoreBtn = (MoreBtn_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/common/Drawer.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/**\n * 在 Safari 设备上对于 position:fixed 支持的不好\n * 当使用 position: fixed 和 -webkit-overflow-scrolling: touch 属性时，导致 drawer 内部的 position:fixed 元素在 window.scroll 的时候上下跳动\n * 因此这里在打开抽屉的时候将 body 设为 fixed，抽屉内部使用 position:absolute 来模拟 fixed\n * 当抽屉关闭的时候，还原 body 的属性\n */\n/* harmony default export */ var Drawer = ({\n  name: \"VDrawer\",\n  props: {\n    value: {\n      type: Boolean,\n      default: false\n    },\n    id: {\n      type: String,\n      default: \"\"\n    },\n    from: {\n      type: String,\n      default: \"right\",\n      validator: val => ~[\"left\", \"right\", \"top\", \"bottom\"].indexOf(val)\n    },\n    size: {\n      type: String,\n      default: \"70%\"\n    },\n    headerText: {\n      type: String,\n      default: \"\"\n    },\n    backdrop: {\n      type: Boolean,\n      default: true\n    },\n    submitText: {\n      type: String,\n      default: \"\"\n    }\n  },\n\n  data() {\n    return {\n      show: this.value,\n      pos: 0,\n      backdropId: 0\n    };\n  },\n\n  computed: {\n    position() {\n      var style = {};\n\n      if (this.from === \"left\" || this.from === \"right\") {\n        style.top = 0;\n        style.height = \"100%\";\n        style.width = this.size;\n      } else {\n        style.left = 0;\n        style.width = \"100%\";\n        style.height = this.size;\n      }\n\n      style[this.from] = 0;\n      return style;\n    }\n\n  },\n  watch: {\n    value(val) {\n      val ? this.open() : this.close();\n      this.show = val;\n    },\n\n    show(val) {\n      this.$emit(\"input\", val);\n    },\n\n    $route() {\n      this.close();\n    }\n\n  },\n\n  mounted() {\n    if (this.id) {\n      this.$channel.$on(`drawer-open-${this.id}`, this.open);\n      this.$channel.$on(`drawer-close-${this.id}`, this.close);\n    }\n  },\n\n  beforeDestroy() {\n    if (this.id) {\n      this.$channel.$off(`drawer-open-${this.id}`);\n      this.$channel.$off(`drawer-close-${this.id}`);\n    }\n  },\n\n  methods: {\n    open() {\n      if (this.show) {\n        return;\n      }\n\n      this.pos = window.scrollY;\n      document.body.style.overflow = \"hidden\";\n      document.body.style.position = \"fixed\";\n      document.body.style.top = 0;\n      document.body.style.bottom = 0;\n      document.body.style.right = 0;\n      document.body.style.left = 0;\n      document.body.style.height = `${window.innerHeight}px`;\n      this.show = true;\n      window.__closeImageLazy__ = true;\n\n      if (this.id) {\n        this.$channel.$emit(`drawer-open-event-${this.id}`);\n      }\n\n      if (this.backdrop) {\n        this.backdropId = this.$backdrop.show({\n          ele: this.$el,\n          click: this.close\n        });\n      }\n    },\n\n    close() {\n      document.body.style.overflow = \"\";\n      document.body.style.position = \"\";\n      document.body.style.top = \"\";\n      document.body.style.bottom = \"\";\n      document.body.style.right = \"\";\n      document.body.style.left = \"\";\n      document.body.style.height = \"\";\n\n      if (!this.show) {\n        return;\n      }\n\n      window.scrollTo(0, this.pos);\n      this.show = false;\n      window.__closeImageLazy__ = false;\n\n      if (this.backdrop) {\n        this.$backdrop.hide(this.backdropId);\n      }\n\n      if (this.id) {\n        this.$channel.$emit(`drawer-close-event-${this.id}`);\n      }\n\n      this.$emit(\"cancel\");\n    },\n\n    submit() {\n      this.close();\n      this.$nextTick(() => {\n        this.$emit(\"submit\");\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5f6e21da\",\"hasScoped\":true,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/Drawer.vue\nvar Drawer_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('no-ssr',[_c('transition',{attrs:{\"name\":(\"fade-\" + _vm.from)}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show),expression:\"show\"}],staticClass:\"drawer\",style:(_vm.position)},[(_vm.headerText)?_c('header',{staticClass:\"drawer-header\"},[_c('button',{staticClass:\"close-btn\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();_vm.close($event)}}},[_vm._v(\"关闭\")]),_c('h3',{staticClass:\"oneline\",domProps:{\"textContent\":_vm._s(_vm.headerText)}}),(_vm.submitText)?_c('button',{staticClass:\"submit-btn\",domProps:{\"textContent\":_vm._s(_vm.submitText)},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();_vm.submit($event)}}}):_vm._e()]):_vm._e(),_vm._t(\"default\")],2)])],1)}\nvar Drawer_staticRenderFns = []\nvar Drawer_esExports = { render: Drawer_render, staticRenderFns: Drawer_staticRenderFns }\n/* harmony default export */ var common_Drawer = (Drawer_esExports);\n// CONCATENATED MODULE: ./src/components/common/Drawer.vue\nfunction Drawer_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(71),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar Drawer_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar Drawer___vue_template_functional__ = false\n/* styles */\nvar Drawer___vue_styles__ = Drawer_injectStyle\n/* scopeId */\nvar Drawer___vue_scopeId__ = \"data-v-5f6e21da\"\n/* moduleIdentifier (server only) */\nvar Drawer___vue_module_identifier__ = \"71e42ea6\"\nvar Drawer_Component = Drawer_normalizeComponent(\n  Drawer,\n  common_Drawer,\n  Drawer___vue_template_functional__,\n  Drawer___vue_styles__,\n  Drawer___vue_scopeId__,\n  Drawer___vue_module_identifier__\n)\n\n/* harmony default export */ var components_common_Drawer = (Drawer_Component.exports);\n\n// EXTERNAL MODULE: ./src/components/common/FollowButton.vue + 2 modules\nvar FollowButton = __webpack_require__(23);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/panel/BangumiPanel.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var BangumiPanel = ({\n  name: \"VBangumiPanel\",\n  components: {\n    FollowButton: FollowButton[\"a\" /* default */]\n  },\n  props: {\n    id: {\n      required: true,\n      type: Number\n    },\n    avatar: {\n      required: true,\n      type: String\n    },\n    name: {\n      required: true,\n      type: String\n    },\n    followed: {\n      required: true,\n      type: Boolean\n    }\n  },\n\n  data() {\n    return {\n      loadingFollow: false\n    };\n  },\n\n  methods: {\n    handleCreate() {\n      if (!this.$store.state.login) {\n        this.$channel.$emit(\"sign-in\");\n        return;\n      }\n\n      this.$channel.$emit(\"drawer-open-write-post\");\n    },\n\n    actionFollow(result) {\n      this.$emit(\"follow\", result);\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-510033fe\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/panel/BangumiPanel.vue\nvar BangumiPanel_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:_vm.$style.bangumiPanel},[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.bangumi(_vm.id)))+(_vm._ssrClass(null,_vm.$style.avatar))+\">\",\"</a>\",[_c('v-img',{attrs:{\"src\":_vm.avatar,\"width\":\"80\",\"height\":\"92\"}})],1),_vm._ssrNode(\"<div\"+(_vm._ssrClass(null,_vm.$style.content))+\">\",\"</div>\",[_vm._ssrNode(\"<a\"+(_vm._ssrAttr(\"href\",_vm.$alias.bangumi(_vm.id)))+\"><h5\"+(_vm._ssrClass(null,_vm.$style.name))+\">\"+_vm._ssrEscape(_vm._s(_vm.name))+\"</h5></a>\"),_vm._ssrNode(\"<div\"+(_vm._ssrClass(null,_vm.$style.summary))+\">\",\"</div>\",[_vm._t(\"default\")],2),_vm._ssrNode(\"<div\"+(_vm._ssrClass(null,_vm.$style.controls))+\">\",\"</div>\",[_vm._ssrNode(\"<button\"+(_vm._ssrClass(null,_vm.$style.create))+\">发帖</button>\"),_c('follow-button',{attrs:{\"id\":_vm.id,\"followed\":_vm.followed,\"type\":\"bangumi\"},on:{\"submit\":_vm.actionFollow}})],2)],2)])}\nvar BangumiPanel_staticRenderFns = []\nvar BangumiPanel_esExports = { render: BangumiPanel_render, staticRenderFns: BangumiPanel_staticRenderFns }\n/* harmony default export */ var panel_BangumiPanel = (BangumiPanel_esExports);\n// CONCATENATED MODULE: ./src/components/panel/BangumiPanel.vue\nfunction BangumiPanel_injectStyle (ssrContext) {\nvar i\n;(i=this[\"$style\"] = __webpack_require__(73),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar BangumiPanel_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar BangumiPanel___vue_template_functional__ = false\n/* styles */\nvar BangumiPanel___vue_styles__ = BangumiPanel_injectStyle\n/* scopeId */\nvar BangumiPanel___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar BangumiPanel___vue_module_identifier__ = \"2c5112d6\"\nvar BangumiPanel_Component = BangumiPanel_normalizeComponent(\n  BangumiPanel,\n  panel_BangumiPanel,\n  BangumiPanel___vue_template_functional__,\n  BangumiPanel___vue_styles__,\n  BangumiPanel___vue_scopeId__,\n  BangumiPanel___vue_module_identifier__\n)\n\n/* harmony default export */ var components_panel_BangumiPanel = (BangumiPanel_Component.exports);\n\n// EXTERNAL MODULE: external \"element-ui/lib/transitions/collapse-transition\"\nvar collapse_transition_ = __webpack_require__(75);\nvar collapse_transition__default = /*#__PURE__*/__webpack_require__.n(collapse_transition_);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/common/ImageLazyLoad/ImageLazyLoad.vue\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n // TODO large height image cropper & click show all\n// TODO large GIF click load\n// TODO test render when use v-show\n// TODO watch src change\n\n/* harmony default export */ var ImageLazyLoad = ({\n  name: \"VImg\",\n  props: {\n    src: {\n      required: true,\n      type: String,\n      default: \"\"\n    },\n    width: {\n      type: [Number, String],\n      default: 0\n    },\n    height: {\n      type: [Number, String],\n      default: 0\n    },\n    size: {\n      type: [Number, String],\n      default: 0\n    },\n    full: {\n      type: Boolean,\n      default: false\n    },\n    mime: {\n      type: String,\n      default: \"\"\n    },\n    lazy: {\n      type: Boolean,\n      default: true\n    },\n    avatar: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  data() {\n    return {\n      loaded: false,\n      error: false,\n      containerWidth: 0,\n      message: \"\",\n      placeholderImage: \"\",\n      errorPlaceholder: \"\",\n      errorMessage: \"\",\n      retryMessage: \"\",\n      heightLimit: 0,\n      loadLimit: 0,\n      retryLimit: 0\n    };\n  },\n\n  computed: {\n    lazyFullStyle() {\n      return {\n        width: `${this.width}px`,\n        height: this.computeContainerHeight ? `${this.computeContainerHeight}px` : \"auto\"\n      };\n    },\n\n    computeContainerHeight() {\n      if (this.$isServer) {\n        return 0;\n      }\n\n      if (this.width >= this.containerWidth) {\n        return parseInt(this.height / this.width * this.containerWidth, 10);\n      }\n\n      return this.height;\n    },\n\n    fullImagePaddingShim() {\n      if (this.width >= this.containerWidth) {\n        return {\n          paddingTop: `${this.height / this.width * 100}%`\n        };\n      }\n\n      return {\n        paddingTop: `${this.height / this.containerWidth * 100}%`\n      };\n    },\n\n    computeShimWidth() {\n      return this.width >= this.containerWidth ? \"100%\" : `${this.width}px`;\n    },\n\n    convertImageReallyWidth() {\n      var numberWidth = +this.width.toString().replace(\"px\", \"\").replace(\"%\", \"\");\n      return parseInt(/%$/.test(this.width) ? this.containerWidth / 50 * numberWidth : numberWidth * 2, 10);\n    },\n\n    normalImageStyle() {\n      return this.size ? {\n        width: this.convertSize(this.size),\n        height: this.convertSize(this.size)\n      } : {\n        width: this.convertSize(this.width),\n        height: this.convertSize(this.height)\n      };\n    },\n\n    shouldClickToLoad() {\n      return !!(this.size && this.mime && this.loadLimit && /gif/i.test(this.mime) && this.size - this.loadLimit > 0);\n    },\n\n    fullImageSrc() {\n      return this.width > this.containerWidth ? this.$resize(this.src, {\n        width: this.containerWidth * 2,\n        height: this.computeContainerHeight * 2\n      }) : this.$resize(this.src, {\n        width: this.width,\n        height: this.height\n      });\n    },\n\n    flowImageSrc() {\n      if (this.full) {\n        return this.width > this.containerWidth ? this.$resize(this.src, {\n          width: this.containerWidth * 2,\n          height: this.computeContainerHeight * 2\n        }) : this.$resize(this.src, {\n          width: this.width,\n          height: this.height\n        });\n      }\n\n      return this.$resize(this.src, this.size ? {\n        width: +this.size * 2\n      } : this.width === \"auto\" ? {\n        height: +this.height * 2,\n        mode: 2\n      } : {\n        width: this.convertImageReallyWidth,\n        height: +this.height * 2\n      });\n    }\n\n  },\n\n  mounted() {\n    this.containerWidth = this.$el.parentNode.offsetWidth;\n\n    if (!this.lazy || window.__closeImageLazy__ || ImageLazyLoad_utils.checkInView(this.$el)) {\n      this.loadImageResource();\n    } else {\n      this.bindLazyEvent();\n    }\n  },\n\n  methods: {\n    bindLazyEvent() {\n      var eventId = ImageLazyLoad_utils.on(document, \"scroll\", this.$utils.throttle(() => {\n        if (ImageLazyLoad_utils.checkInView(this.$el)) {\n          this.loadImageResource(false);\n          ImageLazyLoad_utils.off(eventId);\n        }\n      }, 200), false);\n    },\n\n    bindRetryEvent() {\n      var eventId = ImageLazyLoad_utils.on(this.$el, \"click\", e => {\n        this.retryLimit--;\n        this.message = this.retryMessage;\n        this.loadImageResource(true);\n        ImageLazyLoad_utils.off(eventId);\n        e.stopPropagation();\n      }, false);\n    },\n\n    loadImageResource(force) {\n      if (!this.shouldClickToLoad || force) {\n        this.loaded = true;\n      }\n    },\n\n    convertSize(size) {\n      if (/px$/.test(size)) {\n        return size;\n      }\n\n      if (/%$/.test(size)) {\n        return size;\n      }\n\n      return `${size}px`;\n    },\n\n    handleImageLoadSuccess() {\n      this.error = false;\n    },\n\n    handleImageLoadError() {\n      this.error = true;\n\n      if (this.full && this.retryLimit >= 0) {\n        this.message = this.errorMessage;\n        this.bindRetryEvent();\n      }\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-c85c05f8\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/ImageLazyLoad/ImageLazyLoad.vue\nvar ImageLazyLoad_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.full)?_c('div',{class:[\n    _vm.$style.block,\n    ( _obj = {}, _obj[_vm.$style.unload] = !_vm.loaded, _obj[_vm.$style.retry] = _vm.error, _obj[_vm.$style.avatar] = _vm.avatar, _obj )\n  ],style:(_vm.lazyFullStyle)},[_vm._ssrNode(\"<div\"+(_vm._ssrClass(null,_vm.$style.padding))+(_vm._ssrStyle(null,_vm.fullImagePaddingShim, null))+\"></div><div\"+(_vm._ssrClass(null,_vm.$style.shim))+\"><img\"+(_vm._ssrAttr(\"src\",_vm.$isServer ? '' : _vm.loaded ? _vm.fullImageSrc : _vm.placeholderImage))+(_vm._ssrStyle(null,{ width: _vm.computeShimWidth }, null))+\"></div>\"+((_vm.error)?(\"<div\"+(_vm._ssrClass(null,_vm.$style.error))+\"><span\"+(_vm._ssrClass(null,_vm.$style.message))+\">\"+_vm._ssrEscape(_vm._s(_vm.message))+\"</span></div>\"):\"<!---->\"))],2):_c('span',{class:[\n    _vm.$style.inline,\n    ( _obj$1 = {}, _obj$1[_vm.$style.unload] = !_vm.loaded, _obj$1[_vm.$style.avatar] = _vm.avatar, _obj$1 )\n  ],style:(_vm.normalImageStyle)},[_vm._ssrNode(\"<img\"+(_vm._ssrAttr(\"src\",_vm.error ? _vm.errorPlaceholder : _vm.$isServer ? '' : _vm.loaded ? _vm.flowImageSrc : _vm.placeholderImage))+\">\")])\nvar _obj;\nvar _obj$1;}\nvar ImageLazyLoad_staticRenderFns = []\nvar ImageLazyLoad_esExports = { render: ImageLazyLoad_render, staticRenderFns: ImageLazyLoad_staticRenderFns }\n/* harmony default export */ var ImageLazyLoad_ImageLazyLoad = (ImageLazyLoad_esExports);\n// CONCATENATED MODULE: ./src/components/common/ImageLazyLoad/ImageLazyLoad.vue\nfunction ImageLazyLoad_injectStyle (ssrContext) {\nvar i\n;(i=this[\"$style\"] = __webpack_require__(76),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar ImageLazyLoad_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar ImageLazyLoad___vue_template_functional__ = false\n/* styles */\nvar ImageLazyLoad___vue_styles__ = ImageLazyLoad_injectStyle\n/* scopeId */\nvar ImageLazyLoad___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar ImageLazyLoad___vue_module_identifier__ = \"62325ad6\"\nvar ImageLazyLoad_Component = ImageLazyLoad_normalizeComponent(\n  ImageLazyLoad,\n  ImageLazyLoad_ImageLazyLoad,\n  ImageLazyLoad___vue_template_functional__,\n  ImageLazyLoad___vue_styles__,\n  ImageLazyLoad___vue_scopeId__,\n  ImageLazyLoad___vue_module_identifier__\n)\n\n/* harmony default export */ var common_ImageLazyLoad_ImageLazyLoad = (ImageLazyLoad_Component.exports);\n\n// CONCATENATED MODULE: ./src/components/common/ImageLazyLoad/index.js\n\n\ncommon_ImageLazyLoad_ImageLazyLoad.install = function (Vue) {\n  var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  Vue.component(common_ImageLazyLoad_ImageLazyLoad.name, {\n    extends: common_ImageLazyLoad_ImageLazyLoad,\n\n    data() {\n      return {\n        heightLimit: opts.heightLimit || 0,\n        loadLimit: opts.loadLimit || 0,\n        retryLimit: opts.retryLimit || 3,\n        placeholderImage: opts.placeholderImage || \"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\",\n        errorPlaceholder: opts.errorPlaceholder || \"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\",\n        errorMessage: opts.errorMessage || \"图片加载失败，请点击重试\",\n        retryMessage: opts.retryMessage || \"加载中...\"\n      };\n    }\n\n  });\n};\n\n/* harmony default export */ var common_ImageLazyLoad = (common_ImageLazyLoad_ImageLazyLoad);\n// EXTERNAL MODULE: ./src/mixins/upload.js\nvar mixins_upload = __webpack_require__(24);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/common/ImageUploader.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var ImageUploader = ({\n  name: \"ImageUploader\",\n  mixins: [mixins_upload[\"a\" /* default */]],\n  props: {\n    listType: {\n      type: String,\n      default: \"picture-card\"\n    },\n    limit: {\n      type: Number,\n      default: 1\n    },\n    loading: {\n      type: Boolean,\n      default: false\n    },\n    required: {\n      type: Boolean,\n      default: true\n    }\n  },\n\n  mounted() {\n    this.$channel.$on(\"image-upload-done\", () => {\n      this.uploadImageList = [];\n      this.uploadImageTotal = 0;\n      this.$refs.upload && this.$refs.upload.clearFiles();\n    });\n  },\n\n  methods: {\n    handleImageUploadExceed() {\n      this.$toast.error(`最多可上传 ${this.limit} 张图片!`);\n    },\n\n    handleImageUploadEmit() {\n      if (this.uploadPending) {\n        this.$toast.error(\"等待图片上传完成\");\n        return;\n      }\n\n      if (this.required && !this.uploadImageTotal) {\n        this.$toast.error(\"请先选择图片\");\n        return;\n      }\n\n      var result = this.uploadImageList.filter(_ => _).map(_ => _.data);\n      this.$emit(\"submit\", this.limit === 1 ? result[0] : result);\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-8f1aefa4\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/ImageUploader.vue\nvar ImageUploader_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-upload',{ref:\"upload\",attrs:{\"action\":_vm.imageUploadAction,\"accept\":_vm.imageUploadAccept,\"data\":_vm.uploadHeaders,\"disabled\":true,\"multiple\":_vm.limit > 1,\"before-upload\":_vm.handleImageUploadBefore,\"on-success\":_vm.handleImageUploadSuccess,\"on-error\":_vm.handleImageUploadError,\"on-remove\":_vm.handleImageUploadRemove,\"on-exceed\":_vm.handleImageUploadExceed,\"file-list\":_vm.uploadImageList,\"list-type\":_vm.listType}},[_vm._v(\"+\")]),_c('el-button',{staticClass:\"upload-btn\",attrs:{\"loading\":!!_vm.uploadPending || _vm.loading,\"type\":\"primary\"},on:{\"click\":_vm.handleImageUploadEmit}},[_vm._v(_vm._s(_vm.uploadPending ? '图片上传中...' : '确认提交'))])],1)}\nvar ImageUploader_staticRenderFns = []\nvar ImageUploader_esExports = { render: ImageUploader_render, staticRenderFns: ImageUploader_staticRenderFns }\n/* harmony default export */ var common_ImageUploader = (ImageUploader_esExports);\n// CONCATENATED MODULE: ./src/components/common/ImageUploader.vue\nfunction ImageUploader_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(78),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar ImageUploader_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar ImageUploader___vue_template_functional__ = false\n/* styles */\nvar ImageUploader___vue_styles__ = ImageUploader_injectStyle\n/* scopeId */\nvar ImageUploader___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar ImageUploader___vue_module_identifier__ = \"fc6e0e78\"\nvar ImageUploader_Component = ImageUploader_normalizeComponent(\n  ImageUploader,\n  common_ImageUploader,\n  ImageUploader___vue_template_functional__,\n  ImageUploader___vue_styles__,\n  ImageUploader___vue_scopeId__,\n  ImageUploader___vue_module_identifier__\n)\n\n/* harmony default export */ var components_common_ImageUploader = (ImageUploader_Component.exports);\n\n// CONCATENATED MODULE: ./src/assets/js/resizeImage.js\n/* harmony default export */ var resizeImage = (function (url) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (!url) {\n    return \"\";\n  }\n\n  if (!/image.calibur.tv/.test(url)) {\n    return url;\n  }\n\n  if (/imageMogr2/.test(url)) {\n    return url;\n  }\n\n  var link = /^http/.test(url) ? url : `${env.cdn.image}${url}`;\n\n  var canUseWebP = () => {\n    if (typeof window === \"undefined\") {\n      return false;\n    }\n\n    if (window.supportWebP !== undefined) {\n      return window.supportWebP;\n    }\n\n    var elem = document.createElement(\"canvas\");\n\n    if (elem.getContext && elem.getContext(\"2d\")) {\n      var support = elem.toDataURL(\"image/webp\").indexOf(\"data:image/webp\") === 0;\n      window.supportWebP = support;\n      return support;\n    }\n\n    return false;\n  };\n\n  var format = options.share ? \"\" : canUseWebP() ? \"/format/webp\" : \"\";\n  var mode = options.mode === undefined ? 1 : options.mode;\n\n  if (mode === 1 && !options.width || !options.width && !options.height) {\n    return `${link}?imageMogr2/auto-orient/strip${format}`;\n  }\n\n  var width;\n  var height;\n\n  if (mode === 1) {\n    width = `/w/${options.width}`;\n    height = options.height ? `/h/${options.height}` : `/h/${options.width}`;\n  } else {\n    width = options.width ? `/w/${options.width}` : \"\";\n    height = options.height ? `/h/${options.height}` : \"\";\n  }\n\n  return `${link}?imageMogr2/auto-orient/strip|imageView2/${mode}${width}${height}${format}`;\n});\n// EXTERNAL MODULE: ./node_modules/element-ui/lib/theme-chalk/popover.css\nvar popover = __webpack_require__(82);\nvar popover_default = /*#__PURE__*/__webpack_require__.n(popover);\n\n// EXTERNAL MODULE: external \"element-ui/lib/popover\"\nvar popover_ = __webpack_require__(83);\nvar popover__default = /*#__PURE__*/__webpack_require__.n(popover_);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/common/Popover.vue\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var Popover = ({\n  name: \"VPopover\",\n  components: {\n    \"el-popover\": popover__default.a\n  },\n  props: {\n    width: {\n      type: Number,\n      default: 240\n    },\n    actions: {\n      type: Array,\n      default: () => []\n    },\n    reportType: {\n      type: String,\n      default: \"\"\n    },\n    reportId: {\n      type: Number,\n      default: 0\n    },\n    reportText: {\n      type: String,\n      default: \"举报\"\n    },\n    isCreator: {\n      type: Boolean,\n      default: false\n    },\n    className: {\n      type: String,\n      default: \"\"\n    }\n  },\n\n  data() {\n    return {\n      show: false\n    };\n  },\n\n  computed: {\n    actionList() {\n      var result = this.actions;\n\n      if (this.reportId) {\n        result.push({\n          name: this.reportText,\n          method: () => this.$channel.$emit(\"open-report-drawer\", {\n            id: this.reportId,\n            model: this.reportType,\n            title: this.reportText,\n            isCreator: this.isCreator\n          })\n        });\n      }\n\n      return result;\n    }\n\n  },\n  methods: {\n    handleShow() {\n      this.$backdrop.show();\n    },\n\n    handleHide() {\n      this.$backdrop.hide();\n    },\n\n    handleClick() {\n      this.show = false;\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-621e8744\",\"hasScoped\":false,\"preserveWhitespace\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/Popover.vue\nvar Popover_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{class:_vm.className},[_c('el-popover',{attrs:{\"width\":_vm.width,\"trigger\":\"click\",\"popper-class\":\"v-popover\"},on:{\"show\":_vm.handleShow,\"hide\":_vm.handleHide},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('ul',{on:{\"click\":_vm.handleClick}},_vm._l((_vm.actionList),function(item,index){return _c('li',{key:index,on:{\"click\":item.method}},[_c('i',{staticClass:\"el-icon-arrow-right\"}),_c('span',{staticClass:\"oneline\",domProps:{\"textContent\":_vm._s(item.name)}})])})),_vm._t(\"default\",null,{slot:\"reference\"})],2)],1)}\nvar Popover_staticRenderFns = []\nvar Popover_esExports = { render: Popover_render, staticRenderFns: Popover_staticRenderFns }\n/* harmony default export */ var common_Popover = (Popover_esExports);\n// CONCATENATED MODULE: ./src/components/common/Popover.vue\nfunction Popover_injectStyle (ssrContext) {\nvar i\n;(i=__webpack_require__(80),i.__inject__&&i.__inject__(ssrContext),i)\n}\nvar Popover_normalizeComponent = __webpack_require__(4)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar Popover___vue_template_functional__ = false\n/* styles */\nvar Popover___vue_styles__ = Popover_injectStyle\n/* scopeId */\nvar Popover___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar Popover___vue_module_identifier__ = \"6ba17280\"\nvar Popover_Component = Popover_normalizeComponent(\n  Popover,\n  common_Popover,\n  Popover___vue_template_functional__,\n  Popover___vue_styles__,\n  Popover___vue_scopeId__,\n  Popover___vue_module_identifier__\n)\n\n/* harmony default export */ var components_common_Popover = (Popover_Component.exports);\n\n// CONCATENATED MODULE: ./src/utils/index.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nexternal__vue__default.a.use(upload__default.a);\nexternal__vue__default.a.use(form__default.a);\nexternal__vue__default.a.use(form_item__default.a);\nexternal__vue__default.a.use(input__default.a);\nexternal__vue__default.a.use(button__default.a);\nexternal__vue__default.a.use(common_ImageLazyLoad, {});\nexternal__vue__default.a.component(components_common_Popover.name, components_common_Popover);\nexternal__vue__default.a.component(components_common_ImageUploader.name, components_common_ImageUploader);\nexternal__vue__default.a.component(collapse_transition__default.a.name, collapse_transition__default.a);\nexternal__vue__default.a.component(picker__default.a.name, picker__default.a);\nexternal__vue__default.a.component(nossr.name, nossr);\nexternal__vue__default.a.component(timeago.name, timeago);\nexternal__vue__default.a.component(components_common_MoreBtn.name, components_common_MoreBtn);\nexternal__vue__default.a.component(components_common_Drawer.name, components_common_Drawer);\nexternal__vue__default.a.component(components_panel_BangumiPanel.name, components_panel_BangumiPanel);\nexternal__vue__default.a.component(switch__default.a.name, switch__default.a);\nexternal__vue__default.a.component(badge__default.a.name, badge__default.a);\nexternal__vue__default.a.use({\n  install(Vue, options) {\n    Vue.prototype.$cdn = _env_default.a.cdn;\n    Vue.prototype.$channel = new Vue();\n    Vue.prototype.$alias = alias;\n    Vue.prototype.$utils = utils;\n    Vue.prototype.$siteQR = `${_env_default.a.cdn.image}owner/site-qr.png`;\n    Vue.prototype.$resize = resizeImage;\n  }\n\n});\nexternal__vue__default.a.mixin({\n  methods: {\n    $computeImageAspect(image) {\n      var width = image.width;\n      var height = image.height;\n\n      if (!width || !height) {\n        return 0;\n      }\n\n      return height / width;\n    }\n\n  }\n});\n// EXTERNAL MODULE: ./node_modules/normalize.css/normalize.css\nvar normalize = __webpack_require__(84);\nvar normalize_default = /*#__PURE__*/__webpack_require__.n(normalize);\n\n// CONCATENATED MODULE: ./src/app.js\n\n\n\n\n\n\n\n\nfunction createApp() {\n  var router = createRouter();\n  var store = createStore();\n  Object(external__vuex_router_sync_[\"sync\"])(store, router);\n  var app = new external__vue__default.a({\n    router,\n    store,\n    render: h => h(src_app)\n  });\n  return {\n    app,\n    router,\n    store\n  };\n}\n// CONCATENATED MODULE: ./src/entry/entry-server.js\n\n\n\n\n\n\n/* harmony default export */ var entry_server = __webpack_exports__[\"default\"] = (ssrContext => {\n  var _createApp = createApp(),\n      app = _createApp.app,\n      router = _createApp.router,\n      store = _createApp.store;\n\n  var meta = app.$meta();\n  return new Promise((resolve, reject) => {\n    router.push(ssrContext.url);\n    router.onReady(\n    /*#__PURE__*/\n    asyncToGenerator__default()(\n    /*#__PURE__*/\n    regenerator__default.a.mark(function _callee() {\n      var matchedComponents, ctx, routerMatched, useAuth, mustAuth, mustAdmin, matched;\n      return regenerator__default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              matchedComponents = router.getMatchedComponents();\n\n              if (!matchedComponents.length) {\n                // eslint-disable-next-line prefer-promise-reject-errors\n                reject({\n                  code: 404\n                });\n              }\n\n              ctx = ssrContext.ctx;\n              routerMatched = router.currentRoute.matched;\n              useAuth = routerMatched.some(record => record.meta.useAuth);\n              mustAuth = routerMatched.some(record => record.meta.mustAuth);\n              mustAdmin = routerMatched.some(record => record.meta.mustAdmin);\n              _context.prev = 7;\n\n              if (!(mustAuth || mustAdmin)) {\n                _context.next = 11;\n                break;\n              }\n\n              _context.next = 11;\n              return store.dispatch(\"initAuth\", {\n                ctx,\n                must: true,\n                admin: mustAdmin\n              });\n\n            case 11:\n              matched = matchedComponents.map((_ref2) => {\n                var asyncData = _ref2.asyncData;\n                return asyncData && asyncData({\n                  ctx,\n                  store,\n                  route: router.currentRoute\n                });\n              });\n\n              if (useAuth) {\n                matched.unshift(store.dispatch(\"initAuth\", {\n                  ctx,\n                  must: false,\n                  admin: false\n                }));\n              }\n\n              _context.next = 15;\n              return Promise.all(matched);\n\n            case 15:\n              _context.next = 20;\n              break;\n\n            case 17:\n              _context.prev = 17;\n              _context.t0 = _context[\"catch\"](7);\n              reject(_context.t0);\n\n            case 20:\n              ssrContext.state = store.state;\n              ssrContext.meta = meta;\n              resolve(app);\n\n            case 23:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this, [[7, 17]]);\n    })), reject);\n  });\n});\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(30);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"dd00ec26\", content, true, context)\n};\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.sign-drawer{text-align:center}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports) {\n\n/**\n * Translates the list format produced by css-loader into something\n * easier to manipulate.\n */\nmodule.exports = function listToStyles (parentId, list) {\n  var styles = []\n  var newStyles = {}\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i]\n    var id = item[0]\n    var css = item[1]\n    var media = item[2]\n    var sourceMap = item[3]\n    var part = {\n      id: parentId + ':' + i,\n      css: css,\n      media: media,\n      sourceMap: sourceMap\n    }\n    if (!newStyles[id]) {\n      styles.push(newStyles[id] = { id: id, parts: [part] })\n    } else {\n      newStyles[id].parts.push(part)\n    }\n  }\n  return styles\n}\n\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(33);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"19ccc366\", content, true, context)\n};\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".sign-in-form .others:after,.sign-in-form .others:before{content:\\\"\\\";clear:both;display:table}@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.sign-in-form input{border:0;border-bottom:1px solid #e5e9ef}.sign-in-form .submit-btn{width:100%}.sign-in-form .others{margin-top:15px}.sign-in-form .others .fl{float:left}.sign-in-form .others .fr{float:right}.sign-in-form .watch-pwd{position:absolute;right:11px;top:11px;font-size:18px;color:#ccd0d7}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"axios\");\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(36);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"d8c64930\", content, true, context)\n};\n\n/***/ }),\n/* 36 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".sign-up-form .others:after,.sign-up-form .others:before{content:\\\"\\\";clear:both;display:table}@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.sign-up-form input{border:0;border-bottom:1px solid #e5e9ef}.sign-up-form .submit-btn{width:100%}.sign-up-form .others{margin-top:15px;margin-bottom:5px}.sign-up-form .others .fl{float:left}.sign-up-form .others .fr{float:right}.sign-up-form .tip{text-align:left;line-height:25px;font-size:13px;color:#6d757a}.sign-up-form .watch-pwd{position:absolute;right:36px;top:11px;font-size:18px;color:#ccd0d7}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 37 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(38);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"4f7392f3\", content, true, context)\n};\n\n/***/ }),\n/* 38 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".reset-password-form .others:after,.reset-password-form .others:before{content:\\\"\\\";clear:both;display:table}@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.reset-password-form input{border:0;border-bottom:1px solid #e5e9ef}.reset-password-form .submit-btn{width:100%}.reset-password-form .others{margin-top:15px}.reset-password-form .others .fl{float:left}.reset-password-form .others .fr{float:right}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 39 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(40);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"efd2ee48\", content, true, context)\n};\n\n/***/ }),\n/* 40 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.user-drawer{text-align:left}.user-drawer .user-section{height:110px;width:100%;overflow:hidden;position:relative;padding:15px;text-shadow:0 1px 10px gray;color:#fff;line-height:40px}.user-drawer .user-section .bg{width:120%;height:120%;position:absolute;left:-10%;top:-10%;z-index:-1;background-color:#999;-webkit-filter:blur(2px);filter:blur(2px);filter:progid:DXImageTransform.Microsoft.Blur(PixelRadius=$size,MakeShadow=false)}.user-drawer .user-section .mask{position:absolute;left:0;top:0;width:100%;height:100%;background-color:rgba(0,0,0,.3);z-index:-1}.user-drawer .user-section .user-info{margin-bottom:3px;overflow:hidden;height:50px}.user-drawer .user-section .user-info .avatar{position:relative;display:block;float:left;margin-right:10px}.user-drawer .user-section .user-info .panel{overflow:hidden;line-height:25px;height:50px}.user-drawer .user-section .user-info .panel .nickname{margin-top:2px}.user-drawer .user-section .user-info .panel .level{font-size:14px}.user-drawer .user-section .badge{margin-right:30px;font-size:14px}.user-drawer .routes{margin-top:10px}.user-drawer .routes li{height:40px;position:relative;padding:5px 0;margin-left:3px}.user-drawer .routes li:after{content:\\\"\\\";position:absolute;left:0;right:0;bottom:0;height:1px;background-color:#f0f0f0;-webkit-transform:scaleY(.5);-ms-transform:scaleY(.5);transform:scaleY(.5);margin-left:-15px;margin-right:-15px}.user-drawer .routes i{font-size:13px}.user-drawer .routes a,.user-drawer .routes button{display:block;width:100%;height:100%;line-height:30px;text-align:left;font-size:13px;color:#333}.user-drawer .routes .mint-badge{line-height:1.2}.user-drawer .routes .badge-count{border-radius:12px;font-size:15px;padding:2px 8px;background-color:red;color:#fff;height:20px;line-height:16px;margin-left:5px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 41 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(42);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"dc0de28c\", content, true, context)\n};\n\n/***/ }),\n/* 42 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.first-sign-drawer{position:fixed;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);width:260px;height:335px;background-color:#fff;z-index:100;background-image:url(\\\"https://image.calibur.tv/owner/first-sign-drawer-bg.jpeg?imageMogr2/auto-orient/strip\\\");background-repeat:no-repeat;background-position:50%;background-size:cover;padding:20px;text-align:center;font-family:Roboto,Helvetica Neue,Helvetica,Tahoma,Arial,FZLanTingHeiS-L-G,PingFang SC,Microsoft YaHei;border-radius:8px}.first-sign-drawer .title{text-align:center;font-size:20px;letter-spacing:3px;line-height:24px;color:#000;margin-bottom:15px}.first-sign-drawer .content{color:#000;font-size:13px;text-shadow:#c8c8c8 1px 1px 2px;text-align:center;line-height:22px}.first-sign-drawer .control{margin-top:15px;text-align:center}.first-sign-drawer .control button{display:block;height:50px;width:100%;font-size:16px;line-height:50px;border-radius:25px;text-align:center;color:#fff;margin-top:10px;font-weight:700}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 43 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"vuex-router-sync\");\n\n/***/ }),\n/* 44 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"vuex\");\n\n/***/ }),\n/* 45 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"@babel/runtime/helpers/objectDestructuringEmpty\");\n\n/***/ }),\n/* 46 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"lodash/merge\");\n\n/***/ }),\n/* 47 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"vue-router\");\n\n/***/ }),\n/* 48 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"vue-meta\");\n\n/***/ }),\n/* 49 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(50);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"455700c6\", content, true, context)\n};\n\n/***/ }),\n/* 50 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.follow-button{position:relative;padding:4px 10px;font-size:14px;color:#f25d8e;background-color:transparent;border-radius:8px;white-space:nowrap}.follow-button:after{content:\\\"\\\";position:absolute;top:0;left:0;border:1px solid #f25d8e;width:200%;height:200%;-webkit-transform:scale(.5);-ms-transform:scale(.5);transform:scale(.5);-webkit-transform-origin:left top;-ms-transform-origin:left top;transform-origin:left top;border-radius:8px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 51 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 52 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 53 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"mint-ui/lib/badge\");\n\n/***/ }),\n/* 54 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 55 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"mint-ui/lib/switch\");\n\n/***/ }),\n/* 56 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 57 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"mint-ui/lib/picker\");\n\n/***/ }),\n/* 58 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 59 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"element-ui/lib/button\");\n\n/***/ }),\n/* 60 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 61 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"element-ui/lib/input\");\n\n/***/ }),\n/* 62 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 63 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"element-ui/lib/form-item\");\n\n/***/ }),\n/* 64 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 65 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"element-ui/lib/form\");\n\n/***/ }),\n/* 66 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 67 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"element-ui/lib/upload\");\n\n/***/ }),\n/* 68 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"timeago.js\");\n\n/***/ }),\n/* 69 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(70);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"b8889ccc\", content, true, context)\n};\n\n/***/ }),\n/* 70 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.nomore-wraper{min-height:44px;overflow:hidden;text-align:center;font-size:12px;color:#999}.nomore-wraper .nomore{padding:15px 0}.nomore-wraper .nothing{height:245px}.nomore-wraper .nothing img{width:160px;height:auto;display:block;margin:20px auto}.nomore-wraper .nothing button{margin-top:15px;position:relative;padding:4px 10px;font-size:14px;color:#333;background-color:transparent;border-radius:8px;white-space:nowrap}.nomore-wraper .nothing button:after{content:\\\"\\\";position:absolute;top:0;left:0;border:1px solid #333;width:200%;height:200%;-webkit-transform:scale(.5);-ms-transform:scale(.5);transform:scale(.5);-webkit-transform-origin:left top;-ms-transform-origin:left top;transform-origin:left top;border-radius:8px}.nomore-wraper .loadmore{width:100%;height:44px;line-height:24px;padding:10px 0;text-align:center}.nomore-wraper .rolling{display:inline-block;margin-right:8px;width:20px;height:20px;border-radius:20px;border:2px solid #ccd0d7;border-bottom-color:transparent;vertical-align:middle;-webkit-animation:rolling .8s infinite linear;animation:rolling .8s infinite linear}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 71 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(72);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"135e6a70\", content, true, context)\n};\n\n/***/ }),\n/* 72 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling-data-v-5f6e21da{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling-data-v-5f6e21da{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.drawer[data-v-5f6e21da]{z-index:100;position:fixed;overflow-x:hidden;overflow-y:auto;background-color:#fff;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-overflow-scrolling:touch}.drawer.fade-bottom-enter-active[data-v-5f6e21da],.drawer.fade-bottom-leave-active[data-v-5f6e21da],.drawer.fade-left-enter-active[data-v-5f6e21da],.drawer.fade-left-leave-active[data-v-5f6e21da],.drawer.fade-right-enter-active[data-v-5f6e21da],.drawer.fade-right-leave-active[data-v-5f6e21da],.drawer.fade-top-enter-active[data-v-5f6e21da],.drawer.fade-top-leave-active[data-v-5f6e21da]{-webkit-transition:all .4s cubic-bezier(.1,.7,.1,1);-o-transition:all cubic-bezier(.1,.7,.1,1) .4s;transition:all .4s cubic-bezier(.1,.7,.1,1)}.drawer.fade-left-enter[data-v-5f6e21da],.drawer.fade-left-leave-to[data-v-5f6e21da]{-webkit-transform:translateX(-100%);-ms-transform:translateX(-100%);transform:translateX(-100%);opacity:0}.drawer.fade-right-enter[data-v-5f6e21da],.drawer.fade-right-leave-to[data-v-5f6e21da]{-webkit-transform:translateX(100%);-ms-transform:translateX(100%);transform:translateX(100%);opacity:0}.drawer.fade-top-enter[data-v-5f6e21da],.drawer.fade-top-leave-to[data-v-5f6e21da]{-webkit-transform:translateY(-100%);-ms-transform:translateY(-100%);transform:translateY(-100%);opacity:0}.drawer.fade-bottom-enter[data-v-5f6e21da],.drawer.fade-bottom-leave-to[data-v-5f6e21da]{-webkit-transform:translateY(100%);-ms-transform:translateY(100%);transform:translateY(100%);opacity:0}.drawer .drawer-header[data-v-5f6e21da]{position:relative;height:46px;line-height:46px;z-index:1;border-bottom:1px solid #f0f0f0;margin-bottom:10px;background-color:#fff}.drawer .drawer-header button[data-v-5f6e21da]{position:absolute;font-size:16px;top:14px}.drawer .drawer-header h3[data-v-5f6e21da]{margin:0;font-size:16px;color:#333;text-align:center;padding:0 60px}.drawer .drawer-header .close-btn[data-v-5f6e21da]{left:20px}.drawer .drawer-header .submit-btn[data-v-5f6e21da]{right:20px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 73 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(74);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"15b5f9a4\", content, true, context)\n};\n\n/***/ }),\n/* 74 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling-1zinj_0{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling-1zinj_0{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.bangumi-panel-315Og_0 .avatar-qWuP1_0{display:block;float:left;width:80px;height:92px;border-radius:5px;margin-right:10px;overflow:hidden}.bangumi-panel-315Og_0 .content-2xs2H_0{overflow:hidden;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;height:92px}.bangumi-panel-315Og_0 .content-2xs2H_0 .name-15bXN_0{font-size:16px;font-weight:700;display:block}.bangumi-panel-315Og_0 .content-2xs2H_0 .controls-aLRpM_0{text-align:right}.bangumi-panel-315Og_0 .content-2xs2H_0 .controls-aLRpM_0 .create-33g-t_0{position:relative;padding:4px 10px;font-size:14px;color:#333;background-color:transparent;border-radius:8px;white-space:nowrap;margin-right:10px}.bangumi-panel-315Og_0 .content-2xs2H_0 .controls-aLRpM_0 .create-33g-t_0:after{content:\\\"\\\";position:absolute;top:0;left:0;border:1px solid #333;width:200%;height:200%;-webkit-transform:scale(.5);-ms-transform:scale(.5);transform:scale(.5);-webkit-transform-origin:left top;-ms-transform-origin:left top;transform-origin:left top;border-radius:8px}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"bangumi-panel\": \"bangumi-panel-315Og_0\",\n\t\"bangumiPanel\": \"bangumi-panel-315Og_0\",\n\t\"avatar\": \"avatar-qWuP1_0\",\n\t\"content\": \"content-2xs2H_0\",\n\t\"name\": \"name-15bXN_0\",\n\t\"controls\": \"controls-aLRpM_0\",\n\t\"create\": \"create-33g-t_0\",\n\t\"rolling\": \"rolling-1zinj_0\"\n};\n\n/***/ }),\n/* 75 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"element-ui/lib/transitions/collapse-transition\");\n\n/***/ }),\n/* 76 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(77);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"4b71c2b6\", content, true, context)\n};\n\n/***/ }),\n/* 77 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling-3BlaA_0{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling-3BlaA_0{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.inline-3MDdF_0{position:relative;background-color:transparent;-webkit-transition:.4s linear;-o-transition:.4s linear;transition:.4s linear;overflow:hidden;display:inline-block;font-size:0}.inline-3MDdF_0 img{width:100%;height:100%;display:block}.block-2ur_k_0{max-width:100%;margin:0 auto;position:relative;background-color:transparent;-webkit-transition:.4s linear;-o-transition:.4s linear;transition:.4s linear;overflow:hidden;display:block}.block-2ur_k_0 img{width:100%;height:100%;display:block}.avatar-2cFQP_0{border-radius:50%}.retry-xV4vs_0{background-color:#ddd;opacity:.3;position:relative;cursor:pointer}.retry-xV4vs_0 img{display:none}.message-3Dzr2_0{color:#000;position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.padding-3j4c6_0{width:100%;height:0}.shim-2JTZT_0{position:absolute;left:0;top:0;width:100%;height:100%;background-color:transparent}.shim-2JTZT_0 img{margin:0 auto}.unload-16iz1_0{background-color:#ddd;opacity:.3}.unload-16iz1_0 img{display:none}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"inline\": \"inline-3MDdF_0\",\n\t\"block\": \"block-2ur_k_0\",\n\t\"avatar\": \"avatar-2cFQP_0\",\n\t\"retry\": \"retry-xV4vs_0\",\n\t\"message\": \"message-3Dzr2_0\",\n\t\"padding\": \"padding-3j4c6_0\",\n\t\"shim\": \"shim-2JTZT_0\",\n\t\"unload\": \"unload-16iz1_0\",\n\t\"rolling\": \"rolling-3BlaA_0\"\n};\n\n/***/ }),\n/* 78 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(79);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"89e30996\", content, true, context)\n};\n\n/***/ }),\n/* 79 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.el-upload--picture-card,.el-upload-list__item{width:15vw!important;height:15vw!important}.el-upload--picture-card{line-height:15vw}.el-upload-list__item-delete{float:none!important}.upload-btn{width:100%;text-align:center;margin-top:15px}.upload-btn span{float:none!important}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 80 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(81);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = __webpack_require__(6)\nmodule.exports.__inject__ = function (context) {\n  add(\"598837e0\", content, true, context)\n};\n\n/***/ }),\n/* 81 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"@keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes rolling{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.v-popover{padding:0;border:none}.v-popover ul{border-radius:13px;overflow:hidden}.v-popover ul li{position:relative;display:block;height:40px;padding-left:15px;line-height:40px;font-size:14px}.v-popover ul li:not(:last-child):after{content:\\\"\\\";position:absolute;background-color:#c8c7cc;display:block;z-index:15;top:auto;right:auto;bottom:0;left:0;height:1px;width:100%;-webkit-transform-origin:50% 100%;-ms-transform-origin:50% 100%;transform-origin:50% 100%;-webkit-transform:scaleY(.5);-ms-transform:scaleY(.5);transform:scaleY(.5)}.v-popover ul li span{display:block}.v-popover ul li i{float:right;margin-top:13px;margin-right:10px;margin-left:10px}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 82 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 83 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"element-ui/lib/popover\");\n\n/***/ }),\n/* 84 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 85 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"element-ui/lib/rate\");\n\n/***/ }),\n/* 86 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"vant/lib/tab\");\n\n/***/ }),\n/* 87 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"vant/lib/tabs\");\n\n/***/ }),\n/* 88 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"html2canvas\");\n\n/***/ }),\n/* 89 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"core-js/modules/es6.regexp.match\");\n\n/***/ }),\n/* 90 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"mint-ui/lib/palette-button\");\n\n/***/ }),\n/* 91 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"clipboard\");\n\n/***/ }),\n/* 92 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"core-js/modules/es6.regexp.search\");\n\n/***/ }),\n/* 93 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"element-ui/lib/progress\");\n\n/***/ }),\n/* 94 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"vue-croppa\");\n\n/***/ }),\n/* 95 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"particles.js\");\n\n/***/ }),\n/* 96 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"vant/lib/rate\");\n\n/***/ }),\n/* 97 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"element-ui/lib/collapse-item\");\n\n/***/ }),\n/* 98 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"element-ui/lib/collapse\");\n\n/***/ }),\n/* 99 */,\n/* 100 */,\n/* 101 */,\n/* 102 */,\n/* 103 */,\n/* 104 */,\n/* 105 */,\n/* 106 */,\n/* 107 */,\n/* 108 */,\n/* 109 */,\n/* 110 */,\n/* 111 */,\n/* 112 */,\n/* 113 */,\n/* 114 */,\n/* 115 */,\n/* 116 */,\n/* 117 */,\n/* 118 */,\n/* 119 */,\n/* 120 */,\n/* 121 */,\n/* 122 */,\n/* 123 */,\n/* 124 */,\n/* 125 */,\n/* 126 */,\n/* 127 */,\n/* 128 */,\n/* 129 */,\n/* 130 */,\n/* 131 */,\n/* 132 */,\n/* 133 */,\n/* 134 */,\n/* 135 */,\n/* 136 */,\n/* 137 */,\n/* 138 */,\n/* 139 */,\n/* 140 */,\n/* 141 */,\n/* 142 */,\n/* 143 */,\n/* 144 */,\n/* 145 */,\n/* 146 */,\n/* 147 */,\n/* 148 */,\n/* 149 */,\n/* 150 */,\n/* 151 */,\n/* 152 */,\n/* 153 */,\n/* 154 */,\n/* 155 */,\n/* 156 */,\n/* 157 */,\n/* 158 */,\n/* 159 */,\n/* 160 */,\n/* 161 */,\n/* 162 */,\n/* 163 */,\n/* 164 */,\n/* 165 */,\n/* 166 */,\n/* 167 */,\n/* 168 */,\n/* 169 */,\n/* 170 */,\n/* 171 */,\n/* 172 */,\n/* 173 */,\n/* 174 */,\n/* 175 */,\n/* 176 */,\n/* 177 */,\n/* 178 */,\n/* 179 */,\n/* 180 */,\n/* 181 */,\n/* 182 */,\n/* 183 */,\n/* 184 */,\n/* 185 */,\n/* 186 */,\n/* 187 */,\n/* 188 */,\n/* 189 */,\n/* 190 */,\n/* 191 */,\n/* 192 */,\n/* 193 */,\n/* 194 */,\n/* 195 */,\n/* 196 */,\n/* 197 */,\n/* 198 */,\n/* 199 */,\n/* 200 */,\n/* 201 */,\n/* 202 */,\n/* 203 */,\n/* 204 */,\n/* 205 */,\n/* 206 */,\n/* 207 */,\n/* 208 */,\n/* 209 */,\n/* 210 */,\n/* 211 */,\n/* 212 */,\n/* 213 */,\n/* 214 */,\n/* 215 */,\n/* 216 */,\n/* 217 */,\n/* 218 */,\n/* 219 */,\n/* 220 */,\n/* 221 */,\n/* 222 */,\n/* 223 */,\n/* 224 */,\n/* 225 */,\n/* 226 */,\n/* 227 */,\n/* 228 */,\n/* 229 */,\n/* 230 */,\n/* 231 */,\n/* 232 */,\n/* 233 */,\n/* 234 */,\n/* 235 */,\n/* 236 */,\n/* 237 */,\n/* 238 */,\n/* 239 */,\n/* 240 */,\n/* 241 */,\n/* 242 */,\n/* 243 */,\n/* 244 */,\n/* 245 */,\n/* 246 */,\n/* 247 */,\n/* 248 */,\n/* 249 */,\n/* 250 */,\n/* 251 */,\n/* 252 */,\n/* 253 */,\n/* 254 */,\n/* 255 */,\n/* 256 */,\n/* 257 */,\n/* 258 */,\n/* 259 */,\n/* 260 */,\n/* 261 */,\n/* 262 */,\n/* 263 */,\n/* 264 */,\n/* 265 */,\n/* 266 */,\n/* 267 */,\n/* 268 */,\n/* 269 */,\n/* 270 */,\n/* 271 */,\n/* 272 */,\n/* 273 */,\n/* 274 */,\n/* 275 */,\n/* 276 */,\n/* 277 */,\n/* 278 */,\n/* 279 */,\n/* 280 */,\n/* 281 */,\n/* 282 */,\n/* 283 */,\n/* 284 */,\n/* 285 */,\n/* 286 */,\n/* 287 */,\n/* 288 */,\n/* 289 */,\n/* 290 */,\n/* 291 */,\n/* 292 */,\n/* 293 */,\n/* 294 */,\n/* 295 */,\n/* 296 */,\n/* 297 */,\n/* 298 */,\n/* 299 */,\n/* 300 */,\n/* 301 */,\n/* 302 */,\n/* 303 */,\n/* 304 */,\n/* 305 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"vue-waterfall/lib/waterfall\");\n\n/***/ }),\n/* 306 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"vue-waterfall/lib/waterfall-slot\");\n\n/***/ }),\n/* 307 */,\n/* 308 */,\n/* 309 */,\n/* 310 */,\n/* 311 */,\n/* 312 */,\n/* 313 */,\n/* 314 */,\n/* 315 */,\n/* 316 */,\n/* 317 */,\n/* 318 */,\n/* 319 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"v-charts/lib/radar.common\");\n\n/***/ })\n/******/ ]);"
  },
  "maps": {}
}